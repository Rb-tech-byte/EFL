import{u as b,j as e,H as N}from"./vendor-BLTBOi2W.js";import{A as y}from"./AuthenticatedLayout-DNdVW90a.js";import{I as l}from"./InputLabel-eLaPbUJo.js";import{T as i}from"./TextInput-C-k5QKru.js";import{P as x}from"./PrimaryButton-BTZcH_bs.js";import{S as w}from"./SecondaryButton-B17rFZm-.js";import"./ApplicationLogo-CUVqsJO0.js";function q({program:d,application:t,auth:o}){const c=["Personal Details","Academic History","Documents","Review"],{data:s,setData:m,post:p,processing:u,errors:F,transform:g}=b({_method:"PATCH",current_step:t.current_step||1,submit:!1,data:{first_name:t.data?.first_name||o.user.name.split(" ")[0]||"",last_name:t.data?.last_name||(o.user.name.split(" ").length>1?o.user.name.split(" ").slice(1).join(" "):""),email:t.data?.email||o.user.email||"",phone:t.data?.phone||"",dob:t.data?.dob||"",gender:t.data?.gender||"",nationality:t.data?.nationality||"",passport_no:t.data?.passport_no||"",address:t.data?.address||"",prev_institution:t.data?.prev_institution||"",prev_qualification:t.data?.prev_qualification||"",completion_year:t.data?.completion_year||"",gpa:t.data?.gpa||"",statement:t.data?.statement||"",passport_file:null,transcript_file:null,english_test_file:null,passport_path:t.data?.passport_path||"",transcript_path:t.data?.transcript_path||"",english_test_path:t.data?.english_test_path||""}}),r=(a,n)=>{m("data",{...s.data,[a]:n})},h=(a,n)=>{n.target.files&&n.target.files[0]&&r(a,n.target.files[0])},j=()=>{s.current_step<c.length&&p(route("application.update",t.id),{preserveScroll:!0,onSuccess:()=>{m("current_step",s.current_step+1)}})},v=()=>{s.current_step>1&&m("current_step",s.current_step-1)},f=()=>{g(a=>({...a,submit:!0})),p(route("application.update",t.id))},_=()=>{switch(s.current_step){case 1:return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"first_name",value:"First Name"}),e.jsx(i,{id:"first_name",value:s.data.first_name,onChange:a=>r("first_name",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"last_name",value:"Last Name"}),e.jsx(i,{id:"last_name",value:s.data.last_name,onChange:a=>r("last_name",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",value:"Email"}),e.jsx(i,{id:"email",value:s.data.email,readOnly:!0,className:"mt-1 block w-full bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"phone",value:"Phone Number"}),e.jsx(i,{id:"phone",value:s.data.phone,onChange:a=>r("phone",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"dob",value:"Date of Birth"}),e.jsx(i,{id:"dob",type:"date",value:s.data.dob,onChange:a=>r("dob",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"gender",value:"Gender"}),e.jsxs("select",{value:s.data.gender,onChange:a=>r("gender",a.target.value),className:"mt-1 block w-full border-gray-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"nationality",value:"Nationality"}),e.jsx(i,{id:"nationality",value:s.data.nationality,onChange:a=>r("nationality",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"passport_no",value:"Passport Number"}),e.jsx(i,{id:"passport_no",value:s.data.passport_no,onChange:a=>r("passport_no",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(l,{htmlFor:"address",value:"Full Address"}),e.jsx("textarea",{value:s.data.address,onChange:a=>r("address",a.target.value),className:"mt-1 block w-full border-gray-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm"})]})]});case 2:return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Previous Education"})}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"prev_institution",value:"Institution Name"}),e.jsx(i,{id:"prev_institution",value:s.data.prev_institution,onChange:a=>r("prev_institution",a.target.value),className:"mt-1 block w-full",placeholder:"e.g. High School Name"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"prev_qualification",value:"Qualification"}),e.jsx(i,{id:"prev_qualification",value:s.data.prev_qualification,onChange:a=>r("prev_qualification",a.target.value),className:"mt-1 block w-full",placeholder:"e.g. A Levels, IB, HSC"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"completion_year",value:"Completion Year"}),e.jsx(i,{id:"completion_year",value:s.data.completion_year,onChange:a=>r("completion_year",a.target.value),className:"mt-1 block w-full"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"gpa",value:"GPA / Percentage"}),e.jsx(i,{id:"gpa",value:s.data.gpa,onChange:a=>r("gpa",a.target.value),className:"mt-1 block w-full"})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"statement",value:"Statement of Purpose"}),e.jsx("textarea",{value:s.data.statement,onChange:a=>r("statement",a.target.value),className:"mt-1 block w-full border-gray-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm h-32",placeholder:"Why do you want to study this program?"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Documents Upload"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[e.jsx(l,{htmlFor:"passport_file",value:"Passport Copy"}),e.jsx("input",{type:"file",id:"passport_file",onChange:a=>h("passport_file",a),className:"mt-2"}),s.data.passport_path&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["✓ File uploaded: ",e.jsx("a",{href:s.data.passport_path,target:"_blank",className:"underline",children:"View"})]})]}),e.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[e.jsx(l,{htmlFor:"transcript_file",value:"Academic Transcripts"}),e.jsx("input",{type:"file",id:"transcript_file",onChange:a=>h("transcript_file",a),className:"mt-2"}),s.data.transcript_path&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["✓ File uploaded: ",e.jsx("a",{href:s.data.transcript_path,target:"_blank",className:"underline",children:"View"})]})]}),e.jsxs("div",{className:"border p-4 rounded bg-gray-50",children:[e.jsx(l,{htmlFor:"english_test_file",value:"English Test Result (IELTS/TOEFL)"}),e.jsx("input",{type:"file",id:"english_test_file",onChange:a=>h("english_test_file",a),className:"mt-2"}),s.data.english_test_path&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["✓ File uploaded: ",e.jsx("a",{href:s.data.english_test_path,target:"_blank",className:"underline",children:"View"})]})]})]})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Review Application"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Name:"})," ",s.data.first_name," ",s.data.last_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Email:"})," ",s.data.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Program:"})," ",d.title]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"University:"})," ",d.university.name]})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Statement:"}),e.jsx("p",{className:"text-sm mt-1",children:s.data.statement||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:"Documents:"}),e.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[e.jsxs("li",{children:["Passport: ",s.data.passport_path?"Uploaded":"Pending"]}),e.jsxs("li",{children:["Transcripts: ",s.data.transcript_path?"Uploaded":"Pending"]}),e.jsxs("li",{children:["English Test: ",s.data.english_test_path?"Uploaded":"Pending"]})]})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"By clicking Submit, you confirm that all information is accurate."})]});default:return null}};return e.jsxs(y,{header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Apply for ",d.title]}),children:[e.jsx(N,{title:`Apply - ${d.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-2",children:c.map((a,n)=>e.jsxs("div",{className:`text-sm font-medium ${n+1===s.current_step?"text-primary-600":"text-gray-500"}`,children:[n+1,". ",a]},n))}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${s.current_step/c.length*100}%`}})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[_(),e.jsxs("div",{className:"mt-8 flex justify-between",children:[e.jsx(w,{onClick:v,disabled:s.current_step===1||u,children:"Previous"}),s.current_step<c.length?e.jsx(x,{onClick:j,disabled:u,children:"Next Step"}):e.jsx(x,{onClick:f,disabled:u,className:"bg-primary-600 hover:bg-primary-700",children:"Submit Application"})]})]})]})})]})}export{q as default};

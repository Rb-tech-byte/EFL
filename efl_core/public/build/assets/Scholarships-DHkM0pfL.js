import{d as o,u as T,j as e,H as U,E as L,l as O,m as B}from"./vendor-BLTBOi2W.js";import{A as H}from"./AuthenticatedLayout-DNdVW90a.js";import{M as v}from"./Modal-BhZ5tikr.js";import{P as y}from"./PrimaryButton-BTZcH_bs.js";import{S as f}from"./SecondaryButton-B17rFZm-.js";import{T as N}from"./TextInput-C-k5QKru.js";import{I as a}from"./InputLabel-eLaPbUJo.js";import{I as n}from"./InputError-SIa_hYom.js";import{D as V}from"./DangerButton-96vNK6M1.js";import"./ApplicationLogo-CUVqsJO0.js";function Y({scholarships:b,universities:w}){const[S,c]=o.useState(!1),[_,u]=o.useState(!1),[d,x]=o.useState(null),[h,p]=o.useState(null),{data:l,setData:t,post:C,put:k,delete:D,processing:g,errors:i,reset:j}=T({title:"",university_id:"",study_level:"",funding_type:"",deadline:"",description:""}),F=()=>{x(null),j(),c(!0)},M=s=>{x(s),t({title:s.title,university_id:s.university_id,study_level:s.study_level||"",funding_type:s.funding_type||"",deadline:s.deadline||"",description:s.description||""}),c(!0)},E=s=>{p(s),u(!0)},r=()=>{c(!1),j()},m=()=>{u(!1),p(null)},A=s=>{s.preventDefault(),d?k(route("admin.scholarships.update",d.id),{onSuccess:()=>r()}):C(route("admin.scholarships.store"),{onSuccess:()=>r()})},P=()=>{h&&D(route("admin.scholarships.destroy",h.id),{onSuccess:()=>m()})},I=s=>{t("description",s)};return e.jsxs(H,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Manage Scholarships"}),children:[e.jsx(U,{title:"Manage Scholarships"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold",children:"All Scholarships"}),e.jsx(y,{onClick:F,children:"Add Scholarship"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"University"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deadline"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.university?.name||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.study_level}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.deadline}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>M(s),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>E(s),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},s.id))})]})})]})})})}),e.jsx(v,{show:S,onClose:r,children:e.jsxs("form",{onSubmit:A,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:d?"Edit Scholarship":"Add New Scholarship"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4 col-span-2",children:[e.jsx(a,{htmlFor:"title",value:"Scholarship Title"}),e.jsx(N,{id:"title",value:l.title,onChange:s=>t("title",s.target.value),className:"mt-1 block w-full",isFocused:!0}),e.jsx(n,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(a,{htmlFor:"university_id",value:"University"}),e.jsxs("select",{id:"university_id",value:l.university_id,onChange:s=>t("university_id",s.target.value),className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Select University"}),w.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(n,{message:i.university_id,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(a,{htmlFor:"study_level",value:"Study Level"}),e.jsxs("select",{id:"study_level",value:l.study_level,onChange:s=>t("study_level",s.target.value),className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"Undergraduate",children:"Undergraduate"}),e.jsx("option",{value:"Postgraduate",children:"Postgraduate"}),e.jsx("option",{value:"PhD",children:"PhD"}),e.jsx("option",{value:"Vocational",children:"Vocational"})]}),e.jsx(n,{message:i.study_level,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(a,{htmlFor:"funding_type",value:"Funding Type"}),e.jsxs("select",{id:"funding_type",value:l.funding_type,onChange:s=>t("funding_type",s.target.value),className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",children:[e.jsx("option",{value:"",children:"Select Funding"}),e.jsx("option",{value:"Full Funded",children:"Full Funded"}),e.jsx("option",{value:"Partial",children:"Partial Funding"}),e.jsx("option",{value:"Self Funded",children:"Self Funded"})]}),e.jsx(n,{message:i.funding_type,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(a,{htmlFor:"deadline",value:"Deadline"}),e.jsx(N,{id:"deadline",type:"date",value:l.deadline,onChange:s=>t("deadline",s.target.value),className:"mt-1 block w-full"}),e.jsx(n,{message:i.deadline,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4 col-span-2",children:[e.jsx(a,{htmlFor:"description",value:"Description (Cover What is Covered, Eligibility, etc.)"}),e.jsx("div",{className:"mt-1",children:e.jsx(L,{licenseKey:"gpl",value:l.description,init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                                             alignleft aligncenter alignright alignjustify |                                             bullist numlist outdent indent | removeformat | help",skin:!1,content_css:!1,content_style:`${O}
${B}`},onEditorChange:I})}),e.jsx(n,{message:i.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx(f,{onClick:r,children:"Cancel"}),e.jsx(y,{disabled:g,children:d?"Update":"Create"})]})]})}),e.jsx(v,{show:_,onClose:m,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Confirm Deletion"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Are you sure you want to delete this scholarship?"}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx(f,{onClick:m,children:"Cancel"}),e.jsx(V,{onClick:P,disabled:g,children:"Delete Scholarship"})]})]})})]})}export{Y as default};

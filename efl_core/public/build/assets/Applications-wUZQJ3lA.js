import{d as s,u as I,j as e,H as _,L as l}from"./vendor-BLTBOi2W.js";import{A as L}from"./AuthenticatedLayout-DNdVW90a.js";import{M as h}from"./Modal-BhZ5tikr.js";import{P as O}from"./PrimaryButton-BTZcH_bs.js";import{S as g}from"./SecondaryButton-B17rFZm-.js";import{I as j}from"./InputLabel-eLaPbUJo.js";import{I as f}from"./InputError-SIa_hYom.js";import{D as R}from"./DangerButton-96vNK6M1.js";import"./ApplicationLogo-CUVqsJO0.js";function q({applications:y}){const[N,n]=s.useState(!1),[v,d]=s.useState(!1),[o,w]=s.useState(null),[c,m]=s.useState(null),{data:x,setData:a,put:b,delete:A,processing:u,errors:p,reset:S}=I({status:"",notes:""}),k=t=>{w(t),a({status:t.status,notes:t.notes||""}),n(!0)},C=t=>{m(t),d(!0)},r=()=>{n(!1),S()},i=()=>{d(!1),m(null)},D=t=>{t.preventDefault(),o&&b(route("admin.applications.update",o.id),{onSuccess:()=>r()})},M=()=>{c&&A(route("admin.applications.destroy",c.id),{onSuccess:()=>i()})},E=t=>{switch(t){case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(L,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Manage Applications"}),children:[e.jsx(_,{title:"Manage Applications"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Student Applications"}),e.jsx(l,{href:route("admin.applications.create"),className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-bold hover:bg-primary-700 transition",children:"Add Application"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"University"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.user?.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.user?.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.program?.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.program?.university?.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E(t.status)}`,children:t.status.replace("_"," ").toUpperCase()})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(l,{href:route("admin.applications.show",t.id),className:"text-primary-600 hover:text-primary-900 mr-4",children:"View"}),e.jsx(l,{href:route("admin.applications.edit",t.id),className:"text-green-600 hover:text-green-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>k(t),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Quick Status"}),e.jsx("button",{onClick:()=>C(t),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},t.id))})]})})]})})})}),e.jsx(h,{show:N,onClose:r,children:e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Review Application"}),e.jsxs("div",{className:"mb-4",children:[e.jsx(j,{htmlFor:"status",value:"Application Status"}),e.jsxs("select",{id:"status",value:x.status,onChange:t=>a("status",t.target.value),className:"mt-1 block w-full border-gray-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx(f,{message:p.status,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(j,{htmlFor:"notes",value:"Admin Notes (Visible to Staff/Admin only)"}),e.jsx("textarea",{id:"notes",value:x.notes,onChange:t=>a("notes",t.target.value),className:"mt-1 block w-full border-gray-300 focus:border-primary-500 focus:ring-primary-500 rounded-md shadow-sm",rows:4}),e.jsx(f,{message:p.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(g,{onClick:r,children:"Cancel"}),e.jsx(O,{disabled:u,children:"Update Status"})]})]})}),e.jsx(h,{show:v,onClose:i,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Confirm Deletion"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Are you sure you want to delete this application?"}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx(g,{onClick:i,children:"Cancel"}),e.jsx(R,{onClick:M,disabled:u,children:"Delete Application"})]})]})})]})}export{q as default};

import{d as i,u as x,j as e,H as w}from"./vendor-BLTBOi2W.js";import{A as D}from"./AuthenticatedLayout-DNdVW90a.js";import{I as c}from"./InputLabel-eLaPbUJo.js";import{T as d}from"./TextInput-C-k5QKru.js";import{I as _}from"./InputError-SIa_hYom.js";import{P as h}from"./PrimaryButton-BTZcH_bs.js";import{D as I}from"./DangerButton-96vNK6M1.js";import{S as o}from"./SecondaryButton-B17rFZm-.js";import"./ApplicationLogo-CUVqsJO0.js";function $({menuItems:g}){const[S,j]=i.useState(null),[A,M]=i.useState(null),[L,F]=i.useState(null),[p,m]=i.useState(null),[v,u]=i.useState(null),t=x({name:"",order:0,is_active:!0}),l=x({menu_item_id:0,title:"",order:0}),n=x({menu_column_id:0,name:"",href:"",order:0}),f=s=>{s.preventDefault(),t.post(route("admin.menu.store"),{onSuccess:()=>{t.reset()}})},N=s=>{confirm("Are you sure you want to delete this menu item? All columns and links will be deleted.")&&t.delete(route("admin.menu.destroy",s))},b=s=>{s.preventDefault(),l.post(route("admin.menu.column.store"),{onSuccess:()=>{l.reset(),m(null)}})},y=s=>{confirm("Are you sure you want to delete this column? All links will be deleted.")&&l.delete(route("admin.menu.column.destroy",s))},k=s=>{s.preventDefault(),n.post(route("admin.menu.link.store"),{onSuccess:()=>{n.reset(),u(null)}})},C=s=>{confirm("Are you sure you want to delete this link?")&&n.delete(route("admin.menu.link.destroy",s))};return e.jsxs(D,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Header Menu Management"}),children:[e.jsx(w,{title:"Menu Management"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Add New Menu Item"}),e.jsxs("form",{onSubmit:f,className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"name",value:"Name"}),e.jsx(d,{id:"name",value:t.data.name,onChange:s=>t.setData("name",s.target.value),className:"mt-1 block w-full",required:!0}),e.jsx(_,{message:t.errors.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"order",value:"Order"}),e.jsx(d,{id:"order",type:"number",value:t.data.order.toString(),onChange:s=>t.setData("order",parseInt(s.target.value)),className:"mt-1 block w-full"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.data.is_active,onChange:s=>t.setData("is_active",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Active"})]})}),e.jsx("div",{className:"flex items-end",children:e.jsx(h,{disabled:t.processing,children:"Add Menu Item"})})]})]}),e.jsx("div",{className:"space-y-6",children:g.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:s.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Active":"Inactive"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Order: ",s.order]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{onClick:()=>{j(s),t.setData({name:s.name,order:s.order,is_active:s.is_active})},children:"Edit"}),e.jsx(I,{onClick:()=>N(s.id),children:"Delete"}),e.jsx(o,{onClick:()=>{m(s.id),l.setData("menu_item_id",s.id)},children:"+ Add Column"})]})]}),p===s.id&&e.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded",children:e.jsxs("form",{onSubmit:b,className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(c,{htmlFor:"column_title",value:"Column Title"}),e.jsx(d,{id:"column_title",value:l.data.title,onChange:a=>l.setData("title",a.target.value),className:"mt-1 block w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"column_order",value:"Order"}),e.jsx(d,{id:"column_order",type:"number",value:l.data.order.toString(),onChange:a=>l.setData("order",parseInt(a.target.value)),className:"mt-1 block w-full"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(h,{disabled:l.processing,children:"Add"}),e.jsx(o,{type:"button",onClick:()=>m(null),children:"Cancel"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.columns.map(a=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold",children:a.title}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>{u(a.id),n.setData("menu_column_id",a.id)},className:"text-xs text-blue-600 hover:text-blue-800",children:"+ Link"}),e.jsx("button",{onClick:()=>y(a.id),className:"text-xs text-red-600 hover:text-red-800",children:"Delete"})]})]}),v===a.id&&e.jsx("div",{className:"mb-2 p-2 bg-white rounded border",children:e.jsxs("form",{onSubmit:k,className:"space-y-2",children:[e.jsx(d,{placeholder:"Link Name",value:n.data.name,onChange:r=>n.setData("name",r.target.value),className:"block w-full text-sm",required:!0}),e.jsx(d,{placeholder:"URL (e.g., /universities)",value:n.data.href,onChange:r=>n.setData("href",r.target.value),className:"block w-full text-sm",required:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{className:"text-xs py-1",disabled:n.processing,children:"Add"}),e.jsx(o,{className:"text-xs py-1",type:"button",onClick:()=>u(null),children:"Cancel"})]})]})}),e.jsx("ul",{className:"space-y-1",children:a.links.map(r=>e.jsxs("li",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-700",children:r.name}),e.jsx("button",{onClick:()=>C(r.id),className:"text-xs text-red-600 hover:text-red-800",children:"Ã—"})]},r.id))})]},a.id))})]},s.id))})]})})})})]})}export{$ as default};

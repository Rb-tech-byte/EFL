import{u as x,j as e,H as m,L as o}from"./vendor-BLTBOi2W.js";import{A as p}from"./AuthenticatedLayout-DNdVW90a.js";import{R as g}from"./RichTextEditor-AJXUfUDP.js";import"./ApplicationLogo-CUVqsJO0.js";function y({book:s,categories:d}){const{data:l,setData:t,post:n,processing:i,errors:a}=x({_method:"PUT",title:s.title,description:s.description,category_id:s.category_id,type:s.type,format:s.format,price:s.price,is_free:s.is_free,isbn:s.isbn||"",pages:s.pages||"",language:s.language||"English",publisher:s.publisher||"",published_date:s.published_date||"",tags:s.tags||[],allow_reviews:s.allow_reviews,screenshot_protected:s.screenshot_protected,cover_image:null,file:null,preview_file:null}),c=r=>{r.preventDefault(),n(`/author/books/${s.id}`)};return e.jsxs(p,{header:`Edit: ${s.title}`,children:[e.jsx(m,{title:`Edit: ${s.title}`}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(o,{href:"/author/books",className:"text-primary-600 hover:text-primary-700 flex items-center gap-2 mb-2 text-sm font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to My Books"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Book"}),e.jsx("p",{className:"text-gray-600",children:"Update your book information and files."})]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Book Title *"}),e.jsx("input",{type:"text",value:l.title,onChange:r=>t("title",r.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all",required:!0}),a.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.title})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description *"}),e.jsx(g,{value:l.description,onChange:r=>t("description",r)}),a.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:l.category_id,onChange:r=>t("category_id",r.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),d.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),a.category_id&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Media Type *"}),e.jsxs("select",{value:l.type,onChange:r=>t("type",r.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all",required:!0,children:[e.jsx("option",{value:"ebook",children:"eBook"}),e.jsx("option",{value:"novel",children:"Novel"}),e.jsx("option",{value:"magazine",children:"Magazine"}),e.jsx("option",{value:"audiobook",children:"Audiobook"})]}),a.type&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.type})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-4",children:"Pricing & Files"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Format *"}),e.jsx("input",{type:"text",value:l.format,onChange:r=>t("format",r.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Price ($) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:l.price,onChange:r=>t("price",Number(r.target.value)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all",disabled:l.is_free})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_free",checked:l.is_free,onChange:r=>t("is_free",r.target.checked),className:"rounded text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"is_free",className:"text-sm text-gray-600 font-medium cursor-pointer",children:"This is a free book"})]})]}),e.jsxs("div",{className:"col-span-full border-t border-gray-50 pt-4",children:[e.jsxs("p",{className:"text-xs text-amber-600 bg-amber-50 p-3 rounded-lg flex gap-2 mb-4",children:[e.jsx("svg",{className:"w-4 h-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Leave file fields empty if you don't want to update the existing files."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Cover Image (Optional)"}),e.jsx("input",{type:"file",onChange:r=>t("cover_image",r.target.files?r.target.files[0]:null),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",accept:"image/*"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Book File (Optional)"}),e.jsx("input",{type:"file",onChange:r=>t("file",r.target.files?r.target.files[0]:null),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 border-b border-gray-100 pb-4",children:"Publishing Metadata"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ISBN"}),e.jsx("input",{type:"text",value:l.isbn,onChange:r=>t("isbn",r.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Page Count"}),e.jsx("input",{type:"number",value:l.pages,onChange:r=>t("pages",r.target.value?Number(r.target.value):""),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 transition-all"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 p-8",children:[e.jsx(o,{href:"/author/books",className:"px-6 py-2 text-sm font-semibold text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"bg-primary-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-primary-700 transition-all shadow-lg shadow-primary-500/30 disabled:opacity-50",children:i?"Saving...":"Save Changes"})]})]})]})]})}export{y as default};

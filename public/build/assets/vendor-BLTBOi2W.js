function _ce(l,m){for(var b=0;b<m.length;b++){const E=m[b];if(typeof E!="string"&&!Array.isArray(E)){for(const D in E)if(D!=="default"&&!(D in l)){const $=Object.getOwnPropertyDescriptor(E,D);$&&Object.defineProperty(l,D,$.get?$:{enumerable:!0,get:()=>E[D]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}var Xne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oce(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Dce(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var m=l.default;if(typeof m=="function"){var b=function E(){var D=!1;try{D=this instanceof E}catch{}return D?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};b.prototype=m.prototype}else b={};return Object.defineProperty(b,"__esModule",{value:!0}),Object.keys(l).forEach(function(E){var D=Object.getOwnPropertyDescriptor(l,E);Object.defineProperty(b,E,D.get?D:{enumerable:!0,get:function(){return l[E]}})}),b}var yJ={exports:{}},v5={},wJ={exports:{}},Sa={};var Qne;function Pce(){if(Qne)return Sa;Qne=1;var l=Symbol.for("react.element"),m=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),I=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),X=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),le=Symbol.iterator;function me(se){return se===null||typeof se!="object"?null:(se=le&&se[le]||se["@@iterator"],typeof se=="function"?se:null)}var Me={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},de=Object.assign,Se={};function re(se,$e,Mt){this.props=se,this.context=$e,this.refs=Se,this.updater=Mt||Me}re.prototype.isReactComponent={},re.prototype.setState=function(se,$e){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,$e,"setState")},re.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function ot(){}ot.prototype=re.prototype;function it(se,$e,Mt){this.props=se,this.context=$e,this.refs=Se,this.updater=Mt||Me}var J=it.prototype=new ot;J.constructor=it,de(J,re.prototype),J.isPureReactComponent=!0;var dt=Array.isArray,Wt=Object.prototype.hasOwnProperty,Ae={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function Ze(se,$e,Mt){var Qe,Ct={},He=null,ut=null;if($e!=null)for(Qe in $e.ref!==void 0&&(ut=$e.ref),$e.key!==void 0&&(He=""+$e.key),$e)Wt.call($e,Qe)&&!G.hasOwnProperty(Qe)&&(Ct[Qe]=$e[Qe]);var W=arguments.length-2;if(W===1)Ct.children=Mt;else if(1<W){for(var Wn=Array(W),Yt=0;Yt<W;Yt++)Wn[Yt]=arguments[Yt+2];Ct.children=Wn}if(se&&se.defaultProps)for(Qe in W=se.defaultProps,W)Ct[Qe]===void 0&&(Ct[Qe]=W[Qe]);return{$$typeof:l,type:se,key:He,ref:ut,props:Ct,_owner:Ae.current}}function Ft(se,$e){return{$$typeof:l,type:se.type,key:$e,ref:se.ref,props:se.props,_owner:se._owner}}function ct(se){return typeof se=="object"&&se!==null&&se.$$typeof===l}function Ce(se){var $e={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(Mt){return $e[Mt]})}var ce=/\/+/g;function Pt(se,$e){return typeof se=="object"&&se!==null&&se.key!=null?Ce(""+se.key):$e.toString(36)}function je(se,$e,Mt,Qe,Ct){var He=typeof se;(He==="undefined"||He==="boolean")&&(se=null);var ut=!1;if(se===null)ut=!0;else switch(He){case"string":case"number":ut=!0;break;case"object":switch(se.$$typeof){case l:case m:ut=!0}}if(ut)return ut=se,Ct=Ct(ut),se=Qe===""?"."+Pt(ut,0):Qe,dt(Ct)?(Mt="",se!=null&&(Mt=se.replace(ce,"$&/")+"/"),je(Ct,$e,Mt,"",function(Yt){return Yt})):Ct!=null&&(ct(Ct)&&(Ct=Ft(Ct,Mt+(!Ct.key||ut&&ut.key===Ct.key?"":(""+Ct.key).replace(ce,"$&/")+"/")+se)),$e.push(Ct)),1;if(ut=0,Qe=Qe===""?".":Qe+":",dt(se))for(var W=0;W<se.length;W++){He=se[W];var Wn=Qe+Pt(He,W);ut+=je(He,$e,Mt,Wn,Ct)}else if(Wn=me(se),typeof Wn=="function")for(se=Wn.call(se),W=0;!(He=se.next()).done;)He=He.value,Wn=Qe+Pt(He,W++),ut+=je(He,$e,Mt,Wn,Ct);else if(He==="object")throw $e=String(se),Error("Objects are not valid as a React child (found: "+($e==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":$e)+"). If you meant to render a collection of children, use an array instead.");return ut}function lt(se,$e,Mt){if(se==null)return se;var Qe=[],Ct=0;return je(se,Qe,"","",function(He){return $e.call(Mt,He,Ct++)}),Qe}function F(se){if(se._status===-1){var $e=se._result;$e=$e(),$e.then(function(Mt){(se._status===0||se._status===-1)&&(se._status=1,se._result=Mt)},function(Mt){(se._status===0||se._status===-1)&&(se._status=2,se._result=Mt)}),se._status===-1&&(se._status=0,se._result=$e)}if(se._status===1)return se._result.default;throw se._result}var dn={current:null},Te={transition:null},rn={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Te,ReactCurrentOwner:Ae};function yt(){throw Error("act(...) is not supported in production builds of React.")}return Sa.Children={map:lt,forEach:function(se,$e,Mt){lt(se,function(){$e.apply(this,arguments)},Mt)},count:function(se){var $e=0;return lt(se,function(){$e++}),$e},toArray:function(se){return lt(se,function($e){return $e})||[]},only:function(se){if(!ct(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Sa.Component=re,Sa.Fragment=b,Sa.Profiler=D,Sa.PureComponent=it,Sa.StrictMode=E,Sa.Suspense=K,Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rn,Sa.act=yt,Sa.cloneElement=function(se,$e,Mt){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var Qe=de({},se.props),Ct=se.key,He=se.ref,ut=se._owner;if($e!=null){if($e.ref!==void 0&&(He=$e.ref,ut=Ae.current),$e.key!==void 0&&(Ct=""+$e.key),se.type&&se.type.defaultProps)var W=se.type.defaultProps;for(Wn in $e)Wt.call($e,Wn)&&!G.hasOwnProperty(Wn)&&(Qe[Wn]=$e[Wn]===void 0&&W!==void 0?W[Wn]:$e[Wn])}var Wn=arguments.length-2;if(Wn===1)Qe.children=Mt;else if(1<Wn){W=Array(Wn);for(var Yt=0;Yt<Wn;Yt++)W[Yt]=arguments[Yt+2];Qe.children=W}return{$$typeof:l,type:se.type,key:Ct,ref:He,props:Qe,_owner:ut}},Sa.createContext=function(se){return se={$$typeof:I,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:$,_context:se},se.Consumer=se},Sa.createElement=Ze,Sa.createFactory=function(se){var $e=Ze.bind(null,se);return $e.type=se,$e},Sa.createRef=function(){return{current:null}},Sa.forwardRef=function(se){return{$$typeof:H,render:se}},Sa.isValidElement=ct,Sa.lazy=function(se){return{$$typeof:ae,_payload:{_status:-1,_result:se},_init:F}},Sa.memo=function(se,$e){return{$$typeof:X,type:se,compare:$e===void 0?null:$e}},Sa.startTransition=function(se){var $e=Te.transition;Te.transition={};try{se()}finally{Te.transition=$e}},Sa.unstable_act=yt,Sa.useCallback=function(se,$e){return dn.current.useCallback(se,$e)},Sa.useContext=function(se){return dn.current.useContext(se)},Sa.useDebugValue=function(){},Sa.useDeferredValue=function(se){return dn.current.useDeferredValue(se)},Sa.useEffect=function(se,$e){return dn.current.useEffect(se,$e)},Sa.useId=function(){return dn.current.useId()},Sa.useImperativeHandle=function(se,$e,Mt){return dn.current.useImperativeHandle(se,$e,Mt)},Sa.useInsertionEffect=function(se,$e){return dn.current.useInsertionEffect(se,$e)},Sa.useLayoutEffect=function(se,$e){return dn.current.useLayoutEffect(se,$e)},Sa.useMemo=function(se,$e){return dn.current.useMemo(se,$e)},Sa.useReducer=function(se,$e,Mt){return dn.current.useReducer(se,$e,Mt)},Sa.useRef=function(se){return dn.current.useRef(se)},Sa.useState=function(se){return dn.current.useState(se)},Sa.useSyncExternalStore=function(se,$e,Mt){return dn.current.useSyncExternalStore(se,$e,Mt)},Sa.useTransition=function(){return dn.current.useTransition()},Sa.version="18.3.1",Sa}var Jne;function MH(){return Jne||(Jne=1,wJ.exports=Pce()),wJ.exports}var eoe;function Rce(){if(eoe)return v5;eoe=1;var l=MH(),m=Symbol.for("react.element"),b=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,D=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$={key:!0,ref:!0,__self:!0,__source:!0};function I(H,K,X){var ae,le={},me=null,Me=null;X!==void 0&&(me=""+X),K.key!==void 0&&(me=""+K.key),K.ref!==void 0&&(Me=K.ref);for(ae in K)E.call(K,ae)&&!$.hasOwnProperty(ae)&&(le[ae]=K[ae]);if(H&&H.defaultProps)for(ae in K=H.defaultProps,K)le[ae]===void 0&&(le[ae]=K[ae]);return{$$typeof:m,type:H,key:me,ref:Me,props:le,_owner:D.current}}return v5.Fragment=b,v5.jsx=I,v5.jsxs=I,v5}var toe;function Fce(){return toe||(toe=1,yJ.exports=Rce()),yJ.exports}var Wye=Fce();function rie(l,m){return function(){return l.apply(m,arguments)}}const{toString:Mce}=Object.prototype,{getPrototypeOf:hte}=Object,{iterator:NH,toStringTag:aie}=Symbol,BH=(l=>m=>{const b=Mce.call(m);return l[b]||(l[b]=b.slice(8,-1).toLowerCase())})(Object.create(null)),N0=l=>(l=l.toLowerCase(),m=>BH(m)===l),IH=l=>m=>typeof m===l,{isArray:y4}=Array,h4=IH("undefined");function H5(l){return l!==null&&!h4(l)&&l.constructor!==null&&!h4(l.constructor)&&ng(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const iie=N0("ArrayBuffer");function Nce(l){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(l):m=l&&l.buffer&&iie(l.buffer),m}const Bce=IH("string"),ng=IH("function"),lie=IH("number"),z5=l=>l!==null&&typeof l=="object",Ice=l=>l===!0||l===!1,pH=l=>{if(BH(l)!=="object")return!1;const m=hte(l);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(aie in l)&&!(NH in l)},$ce=l=>{if(!z5(l)||H5(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Lce=N0("Date"),Hce=N0("File"),zce=N0("Blob"),Uce=N0("FileList"),Vce=l=>z5(l)&&ng(l.pipe),Wce=l=>{let m;return l&&(typeof FormData=="function"&&l instanceof FormData||ng(l.append)&&((m=BH(l))==="formdata"||m==="object"&&ng(l.toString)&&l.toString()==="[object FormData]"))},jce=N0("URLSearchParams"),[Zce,qce,Gce,Kce]=["ReadableStream","Request","Response","Headers"].map(N0),Yce=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function U5(l,m,{allOwnKeys:b=!1}={}){if(l===null||typeof l>"u")return;let E,D;if(typeof l!="object"&&(l=[l]),y4(l))for(E=0,D=l.length;E<D;E++)m.call(null,l[E],E,l);else{if(H5(l))return;const $=b?Object.getOwnPropertyNames(l):Object.keys(l),I=$.length;let H;for(E=0;E<I;E++)H=$[E],m.call(null,l[H],H,l)}}function cie(l,m){if(H5(l))return null;m=m.toLowerCase();const b=Object.keys(l);let E=b.length,D;for(;E-- >0;)if(D=b[E],m===D.toLowerCase())return D;return null}const FE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uie=l=>!h4(l)&&l!==FE;function Hee(){const{caseless:l,skipUndefined:m}=uie(this)&&this||{},b={},E=(D,$)=>{const I=l&&cie(b,$)||$;pH(b[I])&&pH(D)?b[I]=Hee(b[I],D):pH(D)?b[I]=Hee({},D):y4(D)?b[I]=D.slice():(!m||!h4(D))&&(b[I]=D)};for(let D=0,$=arguments.length;D<$;D++)arguments[D]&&U5(arguments[D],E);return b}const Xce=(l,m,b,{allOwnKeys:E}={})=>(U5(m,(D,$)=>{b&&ng(D)?l[$]=rie(D,b):l[$]=D},{allOwnKeys:E}),l),Qce=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Jce=(l,m,b,E)=>{l.prototype=Object.create(m.prototype,E),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:m.prototype}),b&&Object.assign(l.prototype,b)},eue=(l,m,b,E)=>{let D,$,I;const H={};if(m=m||{},l==null)return m;do{for(D=Object.getOwnPropertyNames(l),$=D.length;$-- >0;)I=D[$],(!E||E(I,l,m))&&!H[I]&&(m[I]=l[I],H[I]=!0);l=b!==!1&&hte(l)}while(l&&(!b||b(l,m))&&l!==Object.prototype);return m},tue=(l,m,b)=>{l=String(l),(b===void 0||b>l.length)&&(b=l.length),b-=m.length;const E=l.indexOf(m,b);return E!==-1&&E===b},nue=l=>{if(!l)return null;if(y4(l))return l;let m=l.length;if(!lie(m))return null;const b=new Array(m);for(;m-- >0;)b[m]=l[m];return b},oue=(l=>m=>l&&m instanceof l)(typeof Uint8Array<"u"&&hte(Uint8Array)),sue=(l,m)=>{const E=(l&&l[NH]).call(l);let D;for(;(D=E.next())&&!D.done;){const $=D.value;m.call(l,$[0],$[1])}},rue=(l,m)=>{let b;const E=[];for(;(b=l.exec(m))!==null;)E.push(b);return E},aue=N0("HTMLFormElement"),iue=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(b,E,D){return E.toUpperCase()+D}),noe=(({hasOwnProperty:l})=>(m,b)=>l.call(m,b))(Object.prototype),lue=N0("RegExp"),die=(l,m)=>{const b=Object.getOwnPropertyDescriptors(l),E={};U5(b,(D,$)=>{let I;(I=m(D,$,l))!==!1&&(E[$]=I||D)}),Object.defineProperties(l,E)},cue=l=>{die(l,(m,b)=>{if(ng(l)&&["arguments","caller","callee"].indexOf(b)!==-1)return!1;const E=l[b];if(ng(E)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+b+"'")})}})},uue=(l,m)=>{const b={},E=D=>{D.forEach($=>{b[$]=!0})};return y4(l)?E(l):E(String(l).split(m)),b},due=()=>{},fue=(l,m)=>l!=null&&Number.isFinite(l=+l)?l:m;function mue(l){return!!(l&&ng(l.append)&&l[aie]==="FormData"&&l[NH])}const pue=l=>{const m=new Array(10),b=(E,D)=>{if(z5(E)){if(m.indexOf(E)>=0)return;if(H5(E))return E;if(!("toJSON"in E)){m[D]=E;const $=y4(E)?[]:{};return U5(E,(I,H)=>{const K=b(I,D+1);!h4(K)&&($[H]=K)}),m[D]=void 0,$}}return E};return b(l,0)},gue=N0("AsyncFunction"),hue=l=>l&&(z5(l)||ng(l))&&ng(l.then)&&ng(l.catch),fie=((l,m)=>l?setImmediate:m?((b,E)=>(FE.addEventListener("message",({source:D,data:$})=>{D===FE&&$===b&&E.length&&E.shift()()},!1),D=>{E.push(D),FE.postMessage(b,"*")}))(`axios@${Math.random()}`,[]):b=>setTimeout(b))(typeof setImmediate=="function",ng(FE.postMessage)),vue=typeof queueMicrotask<"u"?queueMicrotask.bind(FE):typeof process<"u"&&process.nextTick||fie,bue=l=>l!=null&&ng(l[NH]),gn={isArray:y4,isArrayBuffer:iie,isBuffer:H5,isFormData:Wce,isArrayBufferView:Nce,isString:Bce,isNumber:lie,isBoolean:Ice,isObject:z5,isPlainObject:pH,isEmptyObject:$ce,isReadableStream:Zce,isRequest:qce,isResponse:Gce,isHeaders:Kce,isUndefined:h4,isDate:Lce,isFile:Hce,isBlob:zce,isRegExp:lue,isFunction:ng,isStream:Vce,isURLSearchParams:jce,isTypedArray:oue,isFileList:Uce,forEach:U5,merge:Hee,extend:Xce,trim:Yce,stripBOM:Qce,inherits:Jce,toFlatObject:eue,kindOf:BH,kindOfTest:N0,endsWith:tue,toArray:nue,forEachEntry:sue,matchAll:rue,isHTMLForm:aue,hasOwnProperty:noe,hasOwnProp:noe,reduceDescriptors:die,freezeMethods:cue,toObjectSet:uue,toCamelCase:iue,noop:due,toFiniteNumber:fue,findKey:cie,global:FE,isContextDefined:uie,isSpecCompliantForm:mue,toJSONObject:pue,isAsyncFn:gue,isThenable:hue,setImmediate:fie,asap:vue,isIterable:bue};function ea(l,m,b,E,D){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",m&&(this.code=m),b&&(this.config=b),E&&(this.request=E),D&&(this.response=D,this.status=D.status?D.status:null)}gn.inherits(ea,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gn.toJSONObject(this.config),code:this.code,status:this.status}}});const mie=ea.prototype,pie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{pie[l]={value:l}});Object.defineProperties(ea,pie);Object.defineProperty(mie,"isAxiosError",{value:!0});ea.from=(l,m,b,E,D,$)=>{const I=Object.create(mie);gn.toFlatObject(l,I,function(ae){return ae!==Error.prototype},X=>X!=="isAxiosError");const H=l&&l.message?l.message:"Error",K=m==null&&l?l.code:m;return ea.call(I,H,K,b,E,D),l&&I.cause==null&&Object.defineProperty(I,"cause",{value:l,configurable:!0}),I.name=l&&l.name||"Error",$&&Object.assign(I,$),I};const yue=null;function zee(l){return gn.isPlainObject(l)||gn.isArray(l)}function gie(l){return gn.endsWith(l,"[]")?l.slice(0,-2):l}function ooe(l,m,b){return l?l.concat(m).map(function(D,$){return D=gie(D),!b&&$?"["+D+"]":D}).join(b?".":""):m}function wue(l){return gn.isArray(l)&&!l.some(zee)}const Cue=gn.toFlatObject(gn,{},null,function(m){return/^is[A-Z]/.test(m)});function $H(l,m,b){if(!gn.isObject(l))throw new TypeError("target must be an object");m=m||new FormData,b=gn.toFlatObject(b,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Se,re){return!gn.isUndefined(re[Se])});const E=b.metaTokens,D=b.visitor||ae,$=b.dots,I=b.indexes,K=(b.Blob||typeof Blob<"u"&&Blob)&&gn.isSpecCompliantForm(m);if(!gn.isFunction(D))throw new TypeError("visitor must be a function");function X(de){if(de===null)return"";if(gn.isDate(de))return de.toISOString();if(gn.isBoolean(de))return de.toString();if(!K&&gn.isBlob(de))throw new ea("Blob is not supported. Use a Buffer instead.");return gn.isArrayBuffer(de)||gn.isTypedArray(de)?K&&typeof Blob=="function"?new Blob([de]):Buffer.from(de):de}function ae(de,Se,re){let ot=de;if(de&&!re&&typeof de=="object"){if(gn.endsWith(Se,"{}"))Se=E?Se:Se.slice(0,-2),de=JSON.stringify(de);else if(gn.isArray(de)&&wue(de)||(gn.isFileList(de)||gn.endsWith(Se,"[]"))&&(ot=gn.toArray(de)))return Se=gie(Se),ot.forEach(function(J,dt){!(gn.isUndefined(J)||J===null)&&m.append(I===!0?ooe([Se],dt,$):I===null?Se:Se+"[]",X(J))}),!1}return zee(de)?!0:(m.append(ooe(re,Se,$),X(de)),!1)}const le=[],me=Object.assign(Cue,{defaultVisitor:ae,convertValue:X,isVisitable:zee});function Me(de,Se){if(!gn.isUndefined(de)){if(le.indexOf(de)!==-1)throw Error("Circular reference detected in "+Se.join("."));le.push(de),gn.forEach(de,function(ot,it){(!(gn.isUndefined(ot)||ot===null)&&D.call(m,ot,gn.isString(it)?it.trim():it,Se,me))===!0&&Me(ot,Se?Se.concat(it):[it])}),le.pop()}}if(!gn.isObject(l))throw new TypeError("data must be an object");return Me(l),m}function soe(l){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(E){return m[E]})}function vte(l,m){this._pairs=[],l&&$H(l,this,m)}const hie=vte.prototype;hie.append=function(m,b){this._pairs.push([m,b])};hie.toString=function(m){const b=m?function(E){return m.call(this,E,soe)}:soe;return this._pairs.map(function(D){return b(D[0])+"="+b(D[1])},"").join("&")};function Sue(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vie(l,m,b){if(!m)return l;const E=b&&b.encode||Sue;gn.isFunction(b)&&(b={serialize:b});const D=b&&b.serialize;let $;if(D?$=D(m,b):$=gn.isURLSearchParams(m)?m.toString():new vte(m,b).toString(E),$){const I=l.indexOf("#");I!==-1&&(l=l.slice(0,I)),l+=(l.indexOf("?")===-1?"?":"&")+$}return l}class roe{constructor(){this.handlers=[]}use(m,b,E){return this.handlers.push({fulfilled:m,rejected:b,synchronous:E?E.synchronous:!1,runWhen:E?E.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){gn.forEach(this.handlers,function(E){E!==null&&m(E)})}}const bie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xue=typeof URLSearchParams<"u"?URLSearchParams:vte,Eue=typeof FormData<"u"?FormData:null,Aue=typeof Blob<"u"?Blob:null,Tue={isBrowser:!0,classes:{URLSearchParams:xue,FormData:Eue,Blob:Aue},protocols:["http","https","file","blob","url","data"]},bte=typeof window<"u"&&typeof document<"u",Uee=typeof navigator=="object"&&navigator||void 0,kue=bte&&(!Uee||["ReactNative","NativeScript","NS"].indexOf(Uee.product)<0),_ue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oue=bte&&window.location.href||"http://localhost",Due=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bte,hasStandardBrowserEnv:kue,hasStandardBrowserWebWorkerEnv:_ue,navigator:Uee,origin:Oue},Symbol.toStringTag,{value:"Module"})),pm={...Due,...Tue};function Pue(l,m){return $H(l,new pm.classes.URLSearchParams,{visitor:function(b,E,D,$){return pm.isNode&&gn.isBuffer(b)?(this.append(E,b.toString("base64")),!1):$.defaultVisitor.apply(this,arguments)},...m})}function Rue(l){return gn.matchAll(/\w+|\[(\w*)]/g,l).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Fue(l){const m={},b=Object.keys(l);let E;const D=b.length;let $;for(E=0;E<D;E++)$=b[E],m[$]=l[$];return m}function yie(l){function m(b,E,D,$){let I=b[$++];if(I==="__proto__")return!0;const H=Number.isFinite(+I),K=$>=b.length;return I=!I&&gn.isArray(D)?D.length:I,K?(gn.hasOwnProp(D,I)?D[I]=[D[I],E]:D[I]=E,!H):((!D[I]||!gn.isObject(D[I]))&&(D[I]=[]),m(b,E,D[I],$)&&gn.isArray(D[I])&&(D[I]=Fue(D[I])),!H)}if(gn.isFormData(l)&&gn.isFunction(l.entries)){const b={};return gn.forEachEntry(l,(E,D)=>{m(Rue(E),D,b,0)}),b}return null}function Mue(l,m,b){if(gn.isString(l))try{return(m||JSON.parse)(l),gn.trim(l)}catch(E){if(E.name!=="SyntaxError")throw E}return(b||JSON.stringify)(l)}const V5={transitional:bie,adapter:["xhr","http","fetch"],transformRequest:[function(m,b){const E=b.getContentType()||"",D=E.indexOf("application/json")>-1,$=gn.isObject(m);if($&&gn.isHTMLForm(m)&&(m=new FormData(m)),gn.isFormData(m))return D?JSON.stringify(yie(m)):m;if(gn.isArrayBuffer(m)||gn.isBuffer(m)||gn.isStream(m)||gn.isFile(m)||gn.isBlob(m)||gn.isReadableStream(m))return m;if(gn.isArrayBufferView(m))return m.buffer;if(gn.isURLSearchParams(m))return b.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let H;if($){if(E.indexOf("application/x-www-form-urlencoded")>-1)return Pue(m,this.formSerializer).toString();if((H=gn.isFileList(m))||E.indexOf("multipart/form-data")>-1){const K=this.env&&this.env.FormData;return $H(H?{"files[]":m}:m,K&&new K,this.formSerializer)}}return $||D?(b.setContentType("application/json",!1),Mue(m)):m}],transformResponse:[function(m){const b=this.transitional||V5.transitional,E=b&&b.forcedJSONParsing,D=this.responseType==="json";if(gn.isResponse(m)||gn.isReadableStream(m))return m;if(m&&gn.isString(m)&&(E&&!this.responseType||D)){const I=!(b&&b.silentJSONParsing)&&D;try{return JSON.parse(m,this.parseReviver)}catch(H){if(I)throw H.name==="SyntaxError"?ea.from(H,ea.ERR_BAD_RESPONSE,this,null,this.response):H}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pm.classes.FormData,Blob:pm.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gn.forEach(["delete","get","head","post","put","patch"],l=>{V5.headers[l]={}});const Nue=gn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bue=l=>{const m={};let b,E,D;return l&&l.split(`
`).forEach(function(I){D=I.indexOf(":"),b=I.substring(0,D).trim().toLowerCase(),E=I.substring(D+1).trim(),!(!b||m[b]&&Nue[b])&&(b==="set-cookie"?m[b]?m[b].push(E):m[b]=[E]:m[b]=m[b]?m[b]+", "+E:E)}),m},aoe=Symbol("internals");function b5(l){return l&&String(l).trim().toLowerCase()}function gH(l){return l===!1||l==null?l:gn.isArray(l)?l.map(gH):String(l)}function Iue(l){const m=Object.create(null),b=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let E;for(;E=b.exec(l);)m[E[1]]=E[2];return m}const $ue=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function CJ(l,m,b,E,D){if(gn.isFunction(E))return E.call(this,m,b);if(D&&(m=b),!!gn.isString(m)){if(gn.isString(E))return m.indexOf(E)!==-1;if(gn.isRegExp(E))return E.test(m)}}function Lue(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,b,E)=>b.toUpperCase()+E)}function Hue(l,m){const b=gn.toCamelCase(" "+m);["get","set","has"].forEach(E=>{Object.defineProperty(l,E+b,{value:function(D,$,I){return this[E].call(this,m,D,$,I)},configurable:!0})})}let og=class{constructor(m){m&&this.set(m)}set(m,b,E){const D=this;function $(H,K,X){const ae=b5(K);if(!ae)throw new Error("header name must be a non-empty string");const le=gn.findKey(D,ae);(!le||D[le]===void 0||X===!0||X===void 0&&D[le]!==!1)&&(D[le||K]=gH(H))}const I=(H,K)=>gn.forEach(H,(X,ae)=>$(X,ae,K));if(gn.isPlainObject(m)||m instanceof this.constructor)I(m,b);else if(gn.isString(m)&&(m=m.trim())&&!$ue(m))I(Bue(m),b);else if(gn.isObject(m)&&gn.isIterable(m)){let H={},K,X;for(const ae of m){if(!gn.isArray(ae))throw TypeError("Object iterator must return a key-value pair");H[X=ae[0]]=(K=H[X])?gn.isArray(K)?[...K,ae[1]]:[K,ae[1]]:ae[1]}I(H,b)}else m!=null&&$(b,m,E);return this}get(m,b){if(m=b5(m),m){const E=gn.findKey(this,m);if(E){const D=this[E];if(!b)return D;if(b===!0)return Iue(D);if(gn.isFunction(b))return b.call(this,D,E);if(gn.isRegExp(b))return b.exec(D);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,b){if(m=b5(m),m){const E=gn.findKey(this,m);return!!(E&&this[E]!==void 0&&(!b||CJ(this,this[E],E,b)))}return!1}delete(m,b){const E=this;let D=!1;function $(I){if(I=b5(I),I){const H=gn.findKey(E,I);H&&(!b||CJ(E,E[H],H,b))&&(delete E[H],D=!0)}}return gn.isArray(m)?m.forEach($):$(m),D}clear(m){const b=Object.keys(this);let E=b.length,D=!1;for(;E--;){const $=b[E];(!m||CJ(this,this[$],$,m,!0))&&(delete this[$],D=!0)}return D}normalize(m){const b=this,E={};return gn.forEach(this,(D,$)=>{const I=gn.findKey(E,$);if(I){b[I]=gH(D),delete b[$];return}const H=m?Lue($):String($).trim();H!==$&&delete b[$],b[H]=gH(D),E[H]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const b=Object.create(null);return gn.forEach(this,(E,D)=>{E!=null&&E!==!1&&(b[D]=m&&gn.isArray(E)?E.join(", "):E)}),b}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,b])=>m+": "+b).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...b){const E=new this(m);return b.forEach(D=>E.set(D)),E}static accessor(m){const E=(this[aoe]=this[aoe]={accessors:{}}).accessors,D=this.prototype;function $(I){const H=b5(I);E[H]||(Hue(D,I),E[H]=!0)}return gn.isArray(m)?m.forEach($):$(m),this}};og.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gn.reduceDescriptors(og.prototype,({value:l},m)=>{let b=m[0].toUpperCase()+m.slice(1);return{get:()=>l,set(E){this[b]=E}}});gn.freezeMethods(og);function SJ(l,m){const b=this||V5,E=m||b,D=og.from(E.headers);let $=E.data;return gn.forEach(l,function(H){$=H.call(b,$,D.normalize(),m?m.status:void 0)}),D.normalize(),$}function wie(l){return!!(l&&l.__CANCEL__)}function w4(l,m,b){ea.call(this,l??"canceled",ea.ERR_CANCELED,m,b),this.name="CanceledError"}gn.inherits(w4,ea,{__CANCEL__:!0});function Cie(l,m,b){const E=b.config.validateStatus;!b.status||!E||E(b.status)?l(b):m(new ea("Request failed with status code "+b.status,[ea.ERR_BAD_REQUEST,ea.ERR_BAD_RESPONSE][Math.floor(b.status/100)-4],b.config,b.request,b))}function zue(l){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return m&&m[1]||""}function Uue(l,m){l=l||10;const b=new Array(l),E=new Array(l);let D=0,$=0,I;return m=m!==void 0?m:1e3,function(K){const X=Date.now(),ae=E[$];I||(I=X),b[D]=K,E[D]=X;let le=$,me=0;for(;le!==D;)me+=b[le++],le=le%l;if(D=(D+1)%l,D===$&&($=($+1)%l),X-I<m)return;const Me=ae&&X-ae;return Me?Math.round(me*1e3/Me):void 0}}function Vue(l,m){let b=0,E=1e3/m,D,$;const I=(X,ae=Date.now())=>{b=ae,D=null,$&&(clearTimeout($),$=null),l(...X)};return[(...X)=>{const ae=Date.now(),le=ae-b;le>=E?I(X,ae):(D=X,$||($=setTimeout(()=>{$=null,I(D)},E-le)))},()=>D&&I(D)]}const xH=(l,m,b=3)=>{let E=0;const D=Uue(50,250);return Vue($=>{const I=$.loaded,H=$.lengthComputable?$.total:void 0,K=I-E,X=D(K),ae=I<=H;E=I;const le={loaded:I,total:H,progress:H?I/H:void 0,bytes:K,rate:X||void 0,estimated:X&&H&&ae?(H-I)/X:void 0,event:$,lengthComputable:H!=null,[m?"download":"upload"]:!0};l(le)},b)},ioe=(l,m)=>{const b=l!=null;return[E=>m[0]({lengthComputable:b,total:l,loaded:E}),m[1]]},loe=l=>(...m)=>gn.asap(()=>l(...m)),Wue=pm.hasStandardBrowserEnv?((l,m)=>b=>(b=new URL(b,pm.origin),l.protocol===b.protocol&&l.host===b.host&&(m||l.port===b.port)))(new URL(pm.origin),pm.navigator&&/(msie|trident)/i.test(pm.navigator.userAgent)):()=>!0,jue=pm.hasStandardBrowserEnv?{write(l,m,b,E,D,$,I){if(typeof document>"u")return;const H=[`${l}=${encodeURIComponent(m)}`];gn.isNumber(b)&&H.push(`expires=${new Date(b).toUTCString()}`),gn.isString(E)&&H.push(`path=${E}`),gn.isString(D)&&H.push(`domain=${D}`),$===!0&&H.push("secure"),gn.isString(I)&&H.push(`SameSite=${I}`),document.cookie=H.join("; ")},read(l){if(typeof document>"u")return null;const m=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return m?decodeURIComponent(m[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zue(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function que(l,m){return m?l.replace(/\/?\/$/,"")+"/"+m.replace(/^\/+/,""):l}function Sie(l,m,b){let E=!Zue(m);return l&&(E||b==!1)?que(l,m):m}const coe=l=>l instanceof og?{...l}:l;function BE(l,m){m=m||{};const b={};function E(X,ae,le,me){return gn.isPlainObject(X)&&gn.isPlainObject(ae)?gn.merge.call({caseless:me},X,ae):gn.isPlainObject(ae)?gn.merge({},ae):gn.isArray(ae)?ae.slice():ae}function D(X,ae,le,me){if(gn.isUndefined(ae)){if(!gn.isUndefined(X))return E(void 0,X,le,me)}else return E(X,ae,le,me)}function $(X,ae){if(!gn.isUndefined(ae))return E(void 0,ae)}function I(X,ae){if(gn.isUndefined(ae)){if(!gn.isUndefined(X))return E(void 0,X)}else return E(void 0,ae)}function H(X,ae,le){if(le in m)return E(X,ae);if(le in l)return E(void 0,X)}const K={url:$,method:$,data:$,baseURL:I,transformRequest:I,transformResponse:I,paramsSerializer:I,timeout:I,timeoutMessage:I,withCredentials:I,withXSRFToken:I,adapter:I,responseType:I,xsrfCookieName:I,xsrfHeaderName:I,onUploadProgress:I,onDownloadProgress:I,decompress:I,maxContentLength:I,maxBodyLength:I,beforeRedirect:I,transport:I,httpAgent:I,httpsAgent:I,cancelToken:I,socketPath:I,responseEncoding:I,validateStatus:H,headers:(X,ae,le)=>D(coe(X),coe(ae),le,!0)};return gn.forEach(Object.keys({...l,...m}),function(ae){const le=K[ae]||D,me=le(l[ae],m[ae],ae);gn.isUndefined(me)&&le!==H||(b[ae]=me)}),b}const xie=l=>{const m=BE({},l);let{data:b,withXSRFToken:E,xsrfHeaderName:D,xsrfCookieName:$,headers:I,auth:H}=m;if(m.headers=I=og.from(I),m.url=vie(Sie(m.baseURL,m.url,m.allowAbsoluteUrls),l.params,l.paramsSerializer),H&&I.set("Authorization","Basic "+btoa((H.username||"")+":"+(H.password?unescape(encodeURIComponent(H.password)):""))),gn.isFormData(b)){if(pm.hasStandardBrowserEnv||pm.hasStandardBrowserWebWorkerEnv)I.setContentType(void 0);else if(gn.isFunction(b.getHeaders)){const K=b.getHeaders(),X=["content-type","content-length"];Object.entries(K).forEach(([ae,le])=>{X.includes(ae.toLowerCase())&&I.set(ae,le)})}}if(pm.hasStandardBrowserEnv&&(E&&gn.isFunction(E)&&(E=E(m)),E||E!==!1&&Wue(m.url))){const K=D&&$&&jue.read($);K&&I.set(D,K)}return m},Gue=typeof XMLHttpRequest<"u",Kue=Gue&&function(l){return new Promise(function(b,E){const D=xie(l);let $=D.data;const I=og.from(D.headers).normalize();let{responseType:H,onUploadProgress:K,onDownloadProgress:X}=D,ae,le,me,Me,de;function Se(){Me&&Me(),de&&de(),D.cancelToken&&D.cancelToken.unsubscribe(ae),D.signal&&D.signal.removeEventListener("abort",ae)}let re=new XMLHttpRequest;re.open(D.method.toUpperCase(),D.url,!0),re.timeout=D.timeout;function ot(){if(!re)return;const J=og.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),Wt={data:!H||H==="text"||H==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:J,config:l,request:re};Cie(function(G){b(G),Se()},function(G){E(G),Se()},Wt),re=null}"onloadend"in re?re.onloadend=ot:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(ot)},re.onabort=function(){re&&(E(new ea("Request aborted",ea.ECONNABORTED,l,re)),re=null)},re.onerror=function(dt){const Wt=dt&&dt.message?dt.message:"Network Error",Ae=new ea(Wt,ea.ERR_NETWORK,l,re);Ae.event=dt||null,E(Ae),re=null},re.ontimeout=function(){let dt=D.timeout?"timeout of "+D.timeout+"ms exceeded":"timeout exceeded";const Wt=D.transitional||bie;D.timeoutErrorMessage&&(dt=D.timeoutErrorMessage),E(new ea(dt,Wt.clarifyTimeoutError?ea.ETIMEDOUT:ea.ECONNABORTED,l,re)),re=null},$===void 0&&I.setContentType(null),"setRequestHeader"in re&&gn.forEach(I.toJSON(),function(dt,Wt){re.setRequestHeader(Wt,dt)}),gn.isUndefined(D.withCredentials)||(re.withCredentials=!!D.withCredentials),H&&H!=="json"&&(re.responseType=D.responseType),X&&([me,de]=xH(X,!0),re.addEventListener("progress",me)),K&&re.upload&&([le,Me]=xH(K),re.upload.addEventListener("progress",le),re.upload.addEventListener("loadend",Me)),(D.cancelToken||D.signal)&&(ae=J=>{re&&(E(!J||J.type?new w4(null,l,re):J),re.abort(),re=null)},D.cancelToken&&D.cancelToken.subscribe(ae),D.signal&&(D.signal.aborted?ae():D.signal.addEventListener("abort",ae)));const it=zue(D.url);if(it&&pm.protocols.indexOf(it)===-1){E(new ea("Unsupported protocol "+it+":",ea.ERR_BAD_REQUEST,l));return}re.send($||null)})},Yue=(l,m)=>{const{length:b}=l=l?l.filter(Boolean):[];if(m||b){let E=new AbortController,D;const $=function(X){if(!D){D=!0,H();const ae=X instanceof Error?X:this.reason;E.abort(ae instanceof ea?ae:new w4(ae instanceof Error?ae.message:ae))}};let I=m&&setTimeout(()=>{I=null,$(new ea(`timeout ${m} of ms exceeded`,ea.ETIMEDOUT))},m);const H=()=>{l&&(I&&clearTimeout(I),I=null,l.forEach(X=>{X.unsubscribe?X.unsubscribe($):X.removeEventListener("abort",$)}),l=null)};l.forEach(X=>X.addEventListener("abort",$));const{signal:K}=E;return K.unsubscribe=()=>gn.asap(H),K}},Xue=function*(l,m){let b=l.byteLength;if(b<m){yield l;return}let E=0,D;for(;E<b;)D=E+m,yield l.slice(E,D),E=D},Que=async function*(l,m){for await(const b of Jue(l))yield*Xue(b,m)},Jue=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const m=l.getReader();try{for(;;){const{done:b,value:E}=await m.read();if(b)break;yield E}}finally{await m.cancel()}},uoe=(l,m,b,E)=>{const D=Que(l,m);let $=0,I,H=K=>{I||(I=!0,E&&E(K))};return new ReadableStream({async pull(K){try{const{done:X,value:ae}=await D.next();if(X){H(),K.close();return}let le=ae.byteLength;if(b){let me=$+=le;b(me)}K.enqueue(new Uint8Array(ae))}catch(X){throw H(X),X}},cancel(K){return H(K),D.return()}},{highWaterMark:2})},doe=64*1024,{isFunction:aH}=gn,ede=(({Request:l,Response:m})=>({Request:l,Response:m}))(gn.global),{ReadableStream:foe,TextEncoder:moe}=gn.global,poe=(l,...m)=>{try{return!!l(...m)}catch{return!1}},tde=l=>{l=gn.merge.call({skipUndefined:!0},ede,l);const{fetch:m,Request:b,Response:E}=l,D=m?aH(m):typeof fetch=="function",$=aH(b),I=aH(E);if(!D)return!1;const H=D&&aH(foe),K=D&&(typeof moe=="function"?(de=>Se=>de.encode(Se))(new moe):async de=>new Uint8Array(await new b(de).arrayBuffer())),X=$&&H&&poe(()=>{let de=!1;const Se=new b(pm.origin,{body:new foe,method:"POST",get duplex(){return de=!0,"half"}}).headers.has("Content-Type");return de&&!Se}),ae=I&&H&&poe(()=>gn.isReadableStream(new E("").body)),le={stream:ae&&(de=>de.body)};D&&["text","arrayBuffer","blob","formData","stream"].forEach(de=>{!le[de]&&(le[de]=(Se,re)=>{let ot=Se&&Se[de];if(ot)return ot.call(Se);throw new ea(`Response type '${de}' is not supported`,ea.ERR_NOT_SUPPORT,re)})});const me=async de=>{if(de==null)return 0;if(gn.isBlob(de))return de.size;if(gn.isSpecCompliantForm(de))return(await new b(pm.origin,{method:"POST",body:de}).arrayBuffer()).byteLength;if(gn.isArrayBufferView(de)||gn.isArrayBuffer(de))return de.byteLength;if(gn.isURLSearchParams(de)&&(de=de+""),gn.isString(de))return(await K(de)).byteLength},Me=async(de,Se)=>{const re=gn.toFiniteNumber(de.getContentLength());return re??me(Se)};return async de=>{let{url:Se,method:re,data:ot,signal:it,cancelToken:J,timeout:dt,onDownloadProgress:Wt,onUploadProgress:Ae,responseType:G,headers:Ze,withCredentials:Ft="same-origin",fetchOptions:ct}=xie(de),Ce=m||fetch;G=G?(G+"").toLowerCase():"text";let ce=Yue([it,J&&J.toAbortSignal()],dt),Pt=null;const je=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let lt;try{if(Ae&&X&&re!=="get"&&re!=="head"&&(lt=await Me(Ze,ot))!==0){let se=new b(Se,{method:"POST",body:ot,duplex:"half"}),$e;if(gn.isFormData(ot)&&($e=se.headers.get("content-type"))&&Ze.setContentType($e),se.body){const[Mt,Qe]=ioe(lt,xH(loe(Ae)));ot=uoe(se.body,doe,Mt,Qe)}}gn.isString(Ft)||(Ft=Ft?"include":"omit");const F=$&&"credentials"in b.prototype,dn={...ct,signal:ce,method:re.toUpperCase(),headers:Ze.normalize().toJSON(),body:ot,duplex:"half",credentials:F?Ft:void 0};Pt=$&&new b(Se,dn);let Te=await($?Ce(Pt,ct):Ce(Se,dn));const rn=ae&&(G==="stream"||G==="response");if(ae&&(Wt||rn&&je)){const se={};["status","statusText","headers"].forEach(Ct=>{se[Ct]=Te[Ct]});const $e=gn.toFiniteNumber(Te.headers.get("content-length")),[Mt,Qe]=Wt&&ioe($e,xH(loe(Wt),!0))||[];Te=new E(uoe(Te.body,doe,Mt,()=>{Qe&&Qe(),je&&je()}),se)}G=G||"text";let yt=await le[gn.findKey(le,G)||"text"](Te,de);return!rn&&je&&je(),await new Promise((se,$e)=>{Cie(se,$e,{data:yt,headers:og.from(Te.headers),status:Te.status,statusText:Te.statusText,config:de,request:Pt})})}catch(F){throw je&&je(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new ea("Network Error",ea.ERR_NETWORK,de,Pt),{cause:F.cause||F}):ea.from(F,F&&F.code,de,Pt)}}},nde=new Map,Eie=l=>{let m=l&&l.env||{};const{fetch:b,Request:E,Response:D}=m,$=[E,D,b];let I=$.length,H=I,K,X,ae=nde;for(;H--;)K=$[H],X=ae.get(K),X===void 0&&ae.set(K,X=H?new Map:tde(m)),ae=X;return X};Eie();const yte={http:yue,xhr:Kue,fetch:{get:Eie}};gn.forEach(yte,(l,m)=>{if(l){try{Object.defineProperty(l,"name",{value:m})}catch{}Object.defineProperty(l,"adapterName",{value:m})}});const goe=l=>`- ${l}`,ode=l=>gn.isFunction(l)||l===null||l===!1;function sde(l,m){l=gn.isArray(l)?l:[l];const{length:b}=l;let E,D;const $={};for(let I=0;I<b;I++){E=l[I];let H;if(D=E,!ode(E)&&(D=yte[(H=String(E)).toLowerCase()],D===void 0))throw new ea(`Unknown adapter '${H}'`);if(D&&(gn.isFunction(D)||(D=D.get(m))))break;$[H||"#"+I]=D}if(!D){const I=Object.entries($).map(([K,X])=>`adapter ${K} `+(X===!1?"is not supported by the environment":"is not available in the build"));let H=b?I.length>1?`since :
`+I.map(goe).join(`
`):" "+goe(I[0]):"as no adapter specified";throw new ea("There is no suitable adapter to dispatch the request "+H,"ERR_NOT_SUPPORT")}return D}const Aie={getAdapter:sde,adapters:yte};function xJ(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new w4(null,l)}function hoe(l){return xJ(l),l.headers=og.from(l.headers),l.data=SJ.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Aie.getAdapter(l.adapter||V5.adapter,l)(l).then(function(E){return xJ(l),E.data=SJ.call(l,l.transformResponse,E),E.headers=og.from(E.headers),E},function(E){return wie(E)||(xJ(l),E&&E.response&&(E.response.data=SJ.call(l,l.transformResponse,E.response),E.response.headers=og.from(E.response.headers))),Promise.reject(E)})}const Tie="1.13.2",LH={};["object","boolean","number","function","string","symbol"].forEach((l,m)=>{LH[l]=function(E){return typeof E===l||"a"+(m<1?"n ":" ")+l}});const voe={};LH.transitional=function(m,b,E){function D($,I){return"[Axios v"+Tie+"] Transitional option '"+$+"'"+I+(E?". "+E:"")}return($,I,H)=>{if(m===!1)throw new ea(D(I," has been removed"+(b?" in "+b:"")),ea.ERR_DEPRECATED);return b&&!voe[I]&&(voe[I]=!0,console.warn(D(I," has been deprecated since v"+b+" and will be removed in the near future"))),m?m($,I,H):!0}};LH.spelling=function(m){return(b,E)=>(console.warn(`${E} is likely a misspelling of ${m}`),!0)};function rde(l,m,b){if(typeof l!="object")throw new ea("options must be an object",ea.ERR_BAD_OPTION_VALUE);const E=Object.keys(l);let D=E.length;for(;D-- >0;){const $=E[D],I=m[$];if(I){const H=l[$],K=H===void 0||I(H,$,l);if(K!==!0)throw new ea("option "+$+" must be "+K,ea.ERR_BAD_OPTION_VALUE);continue}if(b!==!0)throw new ea("Unknown option "+$,ea.ERR_BAD_OPTION)}}const hH={assertOptions:rde,validators:LH},eb=hH.validators;let NE=class{constructor(m){this.defaults=m||{},this.interceptors={request:new roe,response:new roe}}async request(m,b){try{return await this._request(m,b)}catch(E){if(E instanceof Error){let D={};Error.captureStackTrace?Error.captureStackTrace(D):D=new Error;const $=D.stack?D.stack.replace(/^.+\n/,""):"";try{E.stack?$&&!String(E.stack).endsWith($.replace(/^.+\n.+\n/,""))&&(E.stack+=`
`+$):E.stack=$}catch{}}throw E}}_request(m,b){typeof m=="string"?(b=b||{},b.url=m):b=m||{},b=BE(this.defaults,b);const{transitional:E,paramsSerializer:D,headers:$}=b;E!==void 0&&hH.assertOptions(E,{silentJSONParsing:eb.transitional(eb.boolean),forcedJSONParsing:eb.transitional(eb.boolean),clarifyTimeoutError:eb.transitional(eb.boolean)},!1),D!=null&&(gn.isFunction(D)?b.paramsSerializer={serialize:D}:hH.assertOptions(D,{encode:eb.function,serialize:eb.function},!0)),b.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?b.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:b.allowAbsoluteUrls=!0),hH.assertOptions(b,{baseUrl:eb.spelling("baseURL"),withXsrfToken:eb.spelling("withXSRFToken")},!0),b.method=(b.method||this.defaults.method||"get").toLowerCase();let I=$&&gn.merge($.common,$[b.method]);$&&gn.forEach(["delete","get","head","post","put","patch","common"],de=>{delete $[de]}),b.headers=og.concat(I,$);const H=[];let K=!0;this.interceptors.request.forEach(function(Se){typeof Se.runWhen=="function"&&Se.runWhen(b)===!1||(K=K&&Se.synchronous,H.unshift(Se.fulfilled,Se.rejected))});const X=[];this.interceptors.response.forEach(function(Se){X.push(Se.fulfilled,Se.rejected)});let ae,le=0,me;if(!K){const de=[hoe.bind(this),void 0];for(de.unshift(...H),de.push(...X),me=de.length,ae=Promise.resolve(b);le<me;)ae=ae.then(de[le++],de[le++]);return ae}me=H.length;let Me=b;for(;le<me;){const de=H[le++],Se=H[le++];try{Me=de(Me)}catch(re){Se.call(this,re);break}}try{ae=hoe.call(this,Me)}catch(de){return Promise.reject(de)}for(le=0,me=X.length;le<me;)ae=ae.then(X[le++],X[le++]);return ae}getUri(m){m=BE(this.defaults,m);const b=Sie(m.baseURL,m.url,m.allowAbsoluteUrls);return vie(b,m.params,m.paramsSerializer)}};gn.forEach(["delete","get","head","options"],function(m){NE.prototype[m]=function(b,E){return this.request(BE(E||{},{method:m,url:b,data:(E||{}).data}))}});gn.forEach(["post","put","patch"],function(m){function b(E){return function($,I,H){return this.request(BE(H||{},{method:m,headers:E?{"Content-Type":"multipart/form-data"}:{},url:$,data:I}))}}NE.prototype[m]=b(),NE.prototype[m+"Form"]=b(!0)});let ade=class kie{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let b;this.promise=new Promise(function($){b=$});const E=this;this.promise.then(D=>{if(!E._listeners)return;let $=E._listeners.length;for(;$-- >0;)E._listeners[$](D);E._listeners=null}),this.promise.then=D=>{let $;const I=new Promise(H=>{E.subscribe(H),$=H}).then(D);return I.cancel=function(){E.unsubscribe($)},I},m(function($,I,H){E.reason||(E.reason=new w4($,I,H),b(E.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const b=this._listeners.indexOf(m);b!==-1&&this._listeners.splice(b,1)}toAbortSignal(){const m=new AbortController,b=E=>{m.abort(E)};return this.subscribe(b),m.signal.unsubscribe=()=>this.unsubscribe(b),m.signal}static source(){let m;return{token:new kie(function(D){m=D}),cancel:m}}};function ide(l){return function(b){return l.apply(null,b)}}function lde(l){return gn.isObject(l)&&l.isAxiosError===!0}const Vee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vee).forEach(([l,m])=>{Vee[m]=l});function _ie(l){const m=new NE(l),b=rie(NE.prototype.request,m);return gn.extend(b,NE.prototype,m,{allOwnKeys:!0}),gn.extend(b,m,null,{allOwnKeys:!0}),b.create=function(D){return _ie(BE(l,D))},b}const Qc=_ie(V5);Qc.Axios=NE;Qc.CanceledError=w4;Qc.CancelToken=ade;Qc.isCancel=wie;Qc.VERSION=Tie;Qc.toFormData=$H;Qc.AxiosError=ea;Qc.Cancel=Qc.CanceledError;Qc.all=function(m){return Promise.all(m)};Qc.spread=ide;Qc.isAxiosError=lde;Qc.mergeConfig=BE;Qc.AxiosHeaders=og;Qc.formToJSON=l=>yie(gn.isHTMLForm(l)?new FormData(l):l);Qc.getAdapter=Aie.getAdapter;Qc.HttpStatusCode=Vee;Qc.default=Qc;const{Axios:qye,AxiosError:Gye,CanceledError:Kye,isCancel:Oie,CancelToken:Yye,VERSION:Xye,all:Qye,Cancel:Jye,isAxiosError:Die,spread:e2e,toFormData:t2e,AxiosHeaders:n2e,HttpStatusCode:o2e,formToJSON:s2e,getAdapter:r2e,mergeConfig:cde}=Qc;var Pie=typeof global=="object"&&global&&global.Object===Object&&global,ude=typeof self=="object"&&self&&self.Object===Object&&self,B0=Pie||ude||Function("return this")(),p1=B0.Symbol,Rie=Object.prototype,dde=Rie.hasOwnProperty,fde=Rie.toString,y5=p1?p1.toStringTag:void 0;function mde(l){var m=dde.call(l,y5),b=l[y5];try{l[y5]=void 0;var E=!0}catch{}var D=fde.call(l);return E&&(m?l[y5]=b:delete l[y5]),D}var pde=Object.prototype,gde=pde.toString;function hde(l){return gde.call(l)}var vde="[object Null]",bde="[object Undefined]",boe=p1?p1.toStringTag:void 0;function zE(l){return l==null?l===void 0?bde:vde:boe&&boe in Object(l)?mde(l):hde(l)}function ab(l){return l!=null&&typeof l=="object"}var yde="[object Symbol]";function HH(l){return typeof l=="symbol"||ab(l)&&zE(l)==yde}function Fie(l,m){for(var b=-1,E=l==null?0:l.length,D=Array(E);++b<E;)D[b]=m(l[b],b,l);return D}var g1=Array.isArray,yoe=p1?p1.prototype:void 0,woe=yoe?yoe.toString:void 0;function Mie(l){if(typeof l=="string")return l;if(g1(l))return Fie(l,Mie)+"";if(HH(l))return woe?woe.call(l):"";var m=l+"";return m=="0"&&1/l==-1/0?"-0":m}var wde=/\s/;function Cde(l){for(var m=l.length;m--&&wde.test(l.charAt(m)););return m}var Sde=/^\s+/;function xde(l){return l&&l.slice(0,Cde(l)+1).replace(Sde,"")}function Jg(l){var m=typeof l;return l!=null&&(m=="object"||m=="function")}var Coe=NaN,Ede=/^[-+]0x[0-9a-f]+$/i,Ade=/^0b[01]+$/i,Tde=/^0o[0-7]+$/i,kde=parseInt;function Soe(l){if(typeof l=="number")return l;if(HH(l))return Coe;if(Jg(l)){var m=typeof l.valueOf=="function"?l.valueOf():l;l=Jg(m)?m+"":m}if(typeof l!="string")return l===0?l:+l;l=xde(l);var b=Ade.test(l);return b||Tde.test(l)?kde(l.slice(2),b?2:8):Ede.test(l)?Coe:+l}function Nie(l){return l}var _de="[object AsyncFunction]",Ode="[object Function]",Dde="[object GeneratorFunction]",Pde="[object Proxy]";function wte(l){if(!Jg(l))return!1;var m=zE(l);return m==Ode||m==Dde||m==_de||m==Pde}var EJ=B0["__core-js_shared__"],xoe=(function(){var l=/[^.]+$/.exec(EJ&&EJ.keys&&EJ.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""})();function Rde(l){return!!xoe&&xoe in l}var Fde=Function.prototype,Mde=Fde.toString;function UE(l){if(l!=null){try{return Mde.call(l)}catch{}try{return l+""}catch{}}return""}var Nde=/[\\^$.*+?()[\]{}|]/g,Bde=/^\[object .+?Constructor\]$/,Ide=Function.prototype,$de=Object.prototype,Lde=Ide.toString,Hde=$de.hasOwnProperty,zde=RegExp("^"+Lde.call(Hde).replace(Nde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ude(l){if(!Jg(l)||Rde(l))return!1;var m=wte(l)?zde:Bde;return m.test(UE(l))}function Vde(l,m){return l?.[m]}function VE(l,m){var b=Vde(l,m);return Ude(b)?b:void 0}var Wee=VE(B0,"WeakMap"),Eoe=Object.create,Wde=(function(){function l(){}return function(m){if(!Jg(m))return{};if(Eoe)return Eoe(m);l.prototype=m;var b=new l;return l.prototype=void 0,b}})();function jde(l,m,b){switch(b.length){case 0:return l.call(m);case 1:return l.call(m,b[0]);case 2:return l.call(m,b[0],b[1]);case 3:return l.call(m,b[0],b[1],b[2])}return l.apply(m,b)}function Bie(l,m){var b=-1,E=l.length;for(m||(m=Array(E));++b<E;)m[b]=l[b];return m}var Zde=800,qde=16,Gde=Date.now;function Kde(l){var m=0,b=0;return function(){var E=Gde(),D=qde-(E-b);if(b=E,D>0){if(++m>=Zde)return arguments[0]}else m=0;return l.apply(void 0,arguments)}}function Yde(l){return function(){return l}}var EH=(function(){try{var l=VE(Object,"defineProperty");return l({},"",{}),l}catch{}})(),Xde=EH?function(l,m){return EH(l,"toString",{configurable:!0,enumerable:!1,value:Yde(m),writable:!0})}:Nie,Iie=Kde(Xde);function Qde(l,m){for(var b=-1,E=l==null?0:l.length;++b<E&&m(l[b],b,l)!==!1;);return l}var Jde=9007199254740991,efe=/^(?:0|[1-9]\d*)$/;function zH(l,m){var b=typeof l;return m=m??Jde,!!m&&(b=="number"||b!="symbol"&&efe.test(l))&&l>-1&&l%1==0&&l<m}function Cte(l,m,b){m=="__proto__"&&EH?EH(l,m,{configurable:!0,enumerable:!0,value:b,writable:!0}):l[m]=b}function W5(l,m){return l===m||l!==l&&m!==m}var tfe=Object.prototype,nfe=tfe.hasOwnProperty;function Ste(l,m,b){var E=l[m];(!(nfe.call(l,m)&&W5(E,b))||b===void 0&&!(m in l))&&Cte(l,m,b)}function C4(l,m,b,E){var D=!b;b||(b={});for(var $=-1,I=m.length;++$<I;){var H=m[$],K=void 0;K===void 0&&(K=l[H]),D?Cte(b,H,K):Ste(b,H,K)}return b}var Aoe=Math.max;function $ie(l,m,b){return m=Aoe(m===void 0?l.length-1:m,0),function(){for(var E=arguments,D=-1,$=Aoe(E.length-m,0),I=Array($);++D<$;)I[D]=E[m+D];D=-1;for(var H=Array(m+1);++D<m;)H[D]=E[D];return H[m]=b(I),jde(l,this,H)}}function ofe(l,m){return Iie($ie(l,m,Nie),l+"")}var sfe=9007199254740991;function xte(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=sfe}function UH(l){return l!=null&&xte(l.length)&&!wte(l)}function rfe(l,m,b){if(!Jg(b))return!1;var E=typeof m;return(E=="number"?UH(b)&&zH(m,b.length):E=="string"&&m in b)?W5(b[m],l):!1}function afe(l){return ofe(function(m,b){var E=-1,D=b.length,$=D>1?b[D-1]:void 0,I=D>2?b[2]:void 0;for($=l.length>3&&typeof $=="function"?(D--,$):void 0,I&&rfe(b[0],b[1],I)&&($=D<3?void 0:$,D=1),m=Object(m);++E<D;){var H=b[E];H&&l(m,H,E,$)}return m})}var ife=Object.prototype;function Ete(l){var m=l&&l.constructor,b=typeof m=="function"&&m.prototype||ife;return l===b}function lfe(l,m){for(var b=-1,E=Array(l);++b<l;)E[b]=m(b);return E}var cfe="[object Arguments]";function Toe(l){return ab(l)&&zE(l)==cfe}var Lie=Object.prototype,ufe=Lie.hasOwnProperty,dfe=Lie.propertyIsEnumerable,F5=Toe((function(){return arguments})())?Toe:function(l){return ab(l)&&ufe.call(l,"callee")&&!dfe.call(l,"callee")};function ffe(){return!1}var Hie=typeof exports=="object"&&exports&&!exports.nodeType&&exports,koe=Hie&&typeof module=="object"&&module&&!module.nodeType&&module,mfe=koe&&koe.exports===Hie,_oe=mfe?B0.Buffer:void 0,pfe=_oe?_oe.isBuffer:void 0,M5=pfe||ffe,gfe="[object Arguments]",hfe="[object Array]",vfe="[object Boolean]",bfe="[object Date]",yfe="[object Error]",wfe="[object Function]",Cfe="[object Map]",Sfe="[object Number]",xfe="[object Object]",Efe="[object RegExp]",Afe="[object Set]",Tfe="[object String]",kfe="[object WeakMap]",_fe="[object ArrayBuffer]",Ofe="[object DataView]",Dfe="[object Float32Array]",Pfe="[object Float64Array]",Rfe="[object Int8Array]",Ffe="[object Int16Array]",Mfe="[object Int32Array]",Nfe="[object Uint8Array]",Bfe="[object Uint8ClampedArray]",Ife="[object Uint16Array]",$fe="[object Uint32Array]",Kl={};Kl[Dfe]=Kl[Pfe]=Kl[Rfe]=Kl[Ffe]=Kl[Mfe]=Kl[Nfe]=Kl[Bfe]=Kl[Ife]=Kl[$fe]=!0;Kl[gfe]=Kl[hfe]=Kl[_fe]=Kl[vfe]=Kl[Ofe]=Kl[bfe]=Kl[yfe]=Kl[wfe]=Kl[Cfe]=Kl[Sfe]=Kl[xfe]=Kl[Efe]=Kl[Afe]=Kl[Tfe]=Kl[kfe]=!1;function Lfe(l){return ab(l)&&xte(l.length)&&!!Kl[zE(l)]}function Ate(l){return function(m){return l(m)}}var zie=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T5=zie&&typeof module=="object"&&module&&!module.nodeType&&module,Hfe=T5&&T5.exports===zie,AJ=Hfe&&Pie.process,v4=(function(){try{var l=T5&&T5.require&&T5.require("util").types;return l||AJ&&AJ.binding&&AJ.binding("util")}catch{}})(),Ooe=v4&&v4.isTypedArray,Tte=Ooe?Ate(Ooe):Lfe,zfe=Object.prototype,Ufe=zfe.hasOwnProperty;function Uie(l,m){var b=g1(l),E=!b&&F5(l),D=!b&&!E&&M5(l),$=!b&&!E&&!D&&Tte(l),I=b||E||D||$,H=I?lfe(l.length,String):[],K=H.length;for(var X in l)(m||Ufe.call(l,X))&&!(I&&(X=="length"||D&&(X=="offset"||X=="parent")||$&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||zH(X,K)))&&H.push(X);return H}function Vie(l,m){return function(b){return l(m(b))}}var Vfe=Vie(Object.keys,Object),Wfe=Object.prototype,jfe=Wfe.hasOwnProperty;function Zfe(l){if(!Ete(l))return Vfe(l);var m=[];for(var b in Object(l))jfe.call(l,b)&&b!="constructor"&&m.push(b);return m}function kte(l){return UH(l)?Uie(l):Zfe(l)}function qfe(l){var m=[];if(l!=null)for(var b in Object(l))m.push(b);return m}var Gfe=Object.prototype,Kfe=Gfe.hasOwnProperty;function Yfe(l){if(!Jg(l))return qfe(l);var m=Ete(l),b=[];for(var E in l)E=="constructor"&&(m||!Kfe.call(l,E))||b.push(E);return b}function j5(l){return UH(l)?Uie(l,!0):Yfe(l)}var Xfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qfe=/^\w*$/;function Jfe(l,m){if(g1(l))return!1;var b=typeof l;return b=="number"||b=="symbol"||b=="boolean"||l==null||HH(l)?!0:Qfe.test(l)||!Xfe.test(l)||m!=null&&l in Object(m)}var N5=VE(Object,"create");function eme(){this.__data__=N5?N5(null):{},this.size=0}function tme(l){var m=this.has(l)&&delete this.__data__[l];return this.size-=m?1:0,m}var nme="__lodash_hash_undefined__",ome=Object.prototype,sme=ome.hasOwnProperty;function rme(l){var m=this.__data__;if(N5){var b=m[l];return b===nme?void 0:b}return sme.call(m,l)?m[l]:void 0}var ame=Object.prototype,ime=ame.hasOwnProperty;function lme(l){var m=this.__data__;return N5?m[l]!==void 0:ime.call(m,l)}var cme="__lodash_hash_undefined__";function ume(l,m){var b=this.__data__;return this.size+=this.has(l)?0:1,b[l]=N5&&m===void 0?cme:m,this}function IE(l){var m=-1,b=l==null?0:l.length;for(this.clear();++m<b;){var E=l[m];this.set(E[0],E[1])}}IE.prototype.clear=eme;IE.prototype.delete=tme;IE.prototype.get=rme;IE.prototype.has=lme;IE.prototype.set=ume;function dme(){this.__data__=[],this.size=0}function VH(l,m){for(var b=l.length;b--;)if(W5(l[b][0],m))return b;return-1}var fme=Array.prototype,mme=fme.splice;function pme(l){var m=this.__data__,b=VH(m,l);if(b<0)return!1;var E=m.length-1;return b==E?m.pop():mme.call(m,b,1),--this.size,!0}function gme(l){var m=this.__data__,b=VH(m,l);return b<0?void 0:m[b][1]}function hme(l){return VH(this.__data__,l)>-1}function vme(l,m){var b=this.__data__,E=VH(b,l);return E<0?(++this.size,b.push([l,m])):b[E][1]=m,this}function Ky(l){var m=-1,b=l==null?0:l.length;for(this.clear();++m<b;){var E=l[m];this.set(E[0],E[1])}}Ky.prototype.clear=dme;Ky.prototype.delete=pme;Ky.prototype.get=gme;Ky.prototype.has=hme;Ky.prototype.set=vme;var B5=VE(B0,"Map");function bme(){this.size=0,this.__data__={hash:new IE,map:new(B5||Ky),string:new IE}}function yme(l){var m=typeof l;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?l!=="__proto__":l===null}function WH(l,m){var b=l.__data__;return yme(m)?b[typeof m=="string"?"string":"hash"]:b.map}function wme(l){var m=WH(this,l).delete(l);return this.size-=m?1:0,m}function Cme(l){return WH(this,l).get(l)}function Sme(l){return WH(this,l).has(l)}function xme(l,m){var b=WH(this,l),E=b.size;return b.set(l,m),this.size+=b.size==E?0:1,this}function Yy(l){var m=-1,b=l==null?0:l.length;for(this.clear();++m<b;){var E=l[m];this.set(E[0],E[1])}}Yy.prototype.clear=bme;Yy.prototype.delete=wme;Yy.prototype.get=Cme;Yy.prototype.has=Sme;Yy.prototype.set=xme;var Eme="Expected a function";function _te(l,m){if(typeof l!="function"||m!=null&&typeof m!="function")throw new TypeError(Eme);var b=function(){var E=arguments,D=m?m.apply(this,E):E[0],$=b.cache;if($.has(D))return $.get(D);var I=l.apply(this,E);return b.cache=$.set(D,I)||$,I};return b.cache=new(_te.Cache||Yy),b}_te.Cache=Yy;var Ame=500;function Tme(l){var m=_te(l,function(E){return b.size===Ame&&b.clear(),E}),b=m.cache;return m}var kme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_me=/\\(\\)?/g,Ome=Tme(function(l){var m=[];return l.charCodeAt(0)===46&&m.push(""),l.replace(kme,function(b,E,D,$){m.push(D?$.replace(_me,"$1"):E||b)}),m});function Wie(l){return l==null?"":Mie(l)}function Z5(l,m){return g1(l)?l:Jfe(l,m)?[l]:Ome(Wie(l))}function jH(l){if(typeof l=="string"||HH(l))return l;var m=l+"";return m=="0"&&1/l==-1/0?"-0":m}function jie(l,m){m=Z5(m,l);for(var b=0,E=m.length;l!=null&&b<E;)l=l[jH(m[b++])];return b&&b==E?l:void 0}function ib(l,m,b){var E=l==null?void 0:jie(l,m);return E===void 0?b:E}function Ote(l,m){for(var b=-1,E=m.length,D=l.length;++b<E;)l[D+b]=m[b];return l}var Doe=p1?p1.isConcatSpreadable:void 0;function Dme(l){return g1(l)||F5(l)||!!(Doe&&l&&l[Doe])}function Pme(l,m,b,E,D){var $=-1,I=l.length;for(b||(b=Dme),D||(D=[]);++$<I;){var H=l[$];b(H)?Ote(D,H):D[D.length]=H}return D}function Rme(l){var m=l==null?0:l.length;return m?Pme(l):[]}function Fme(l){return Iie($ie(l,void 0,Rme),l+"")}var Dte=Vie(Object.getPrototypeOf,Object),Mme="[object Object]",Nme=Function.prototype,Bme=Object.prototype,Zie=Nme.toString,Ime=Bme.hasOwnProperty,$me=Zie.call(Object);function qie(l){if(!ab(l)||zE(l)!=Mme)return!1;var m=Dte(l);if(m===null)return!0;var b=Ime.call(m,"constructor")&&m.constructor;return typeof b=="function"&&b instanceof b&&Zie.call(b)==$me}function Lme(l,m,b){var E=-1,D=l.length;m<0&&(m=-m>D?0:D+m),b=b>D?D:b,b<0&&(b+=D),D=m>b?0:b-m>>>0,m>>>=0;for(var $=Array(D);++E<D;)$[E]=l[E+m];return $}function Hme(l){return function(m){return l?.[m]}}function zme(){this.__data__=new Ky,this.size=0}function Ume(l){var m=this.__data__,b=m.delete(l);return this.size=m.size,b}function Vme(l){return this.__data__.get(l)}function Wme(l){return this.__data__.has(l)}var jme=200;function Zme(l,m){var b=this.__data__;if(b instanceof Ky){var E=b.__data__;if(!B5||E.length<jme-1)return E.push([l,m]),this.size=++b.size,this;b=this.__data__=new Yy(E)}return b.set(l,m),this.size=b.size,this}function sb(l){var m=this.__data__=new Ky(l);this.size=m.size}sb.prototype.clear=zme;sb.prototype.delete=Ume;sb.prototype.get=Vme;sb.prototype.has=Wme;sb.prototype.set=Zme;function qme(l,m){return l&&C4(m,kte(m),l)}function Gme(l,m){return l&&C4(m,j5(m),l)}var Gie=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Poe=Gie&&typeof module=="object"&&module&&!module.nodeType&&module,Kme=Poe&&Poe.exports===Gie,Roe=Kme?B0.Buffer:void 0,Foe=Roe?Roe.allocUnsafe:void 0;function Kie(l,m){if(m)return l.slice();var b=l.length,E=Foe?Foe(b):new l.constructor(b);return l.copy(E),E}function Yme(l,m){for(var b=-1,E=l==null?0:l.length,D=0,$=[];++b<E;){var I=l[b];m(I,b,l)&&($[D++]=I)}return $}function Yie(){return[]}var Xme=Object.prototype,Qme=Xme.propertyIsEnumerable,Moe=Object.getOwnPropertySymbols,Pte=Moe?function(l){return l==null?[]:(l=Object(l),Yme(Moe(l),function(m){return Qme.call(l,m)}))}:Yie;function Jme(l,m){return C4(l,Pte(l),m)}var epe=Object.getOwnPropertySymbols,Xie=epe?function(l){for(var m=[];l;)Ote(m,Pte(l)),l=Dte(l);return m}:Yie;function tpe(l,m){return C4(l,Xie(l),m)}function Qie(l,m,b){var E=m(l);return g1(l)?E:Ote(E,b(l))}function jee(l){return Qie(l,kte,Pte)}function Jie(l){return Qie(l,j5,Xie)}var Zee=VE(B0,"DataView"),qee=VE(B0,"Promise"),Gee=VE(B0,"Set"),Noe="[object Map]",npe="[object Object]",Boe="[object Promise]",Ioe="[object Set]",$oe="[object WeakMap]",Loe="[object DataView]",ope=UE(Zee),spe=UE(B5),rpe=UE(qee),ape=UE(Gee),ipe=UE(Wee),P0=zE;(Zee&&P0(new Zee(new ArrayBuffer(1)))!=Loe||B5&&P0(new B5)!=Noe||qee&&P0(qee.resolve())!=Boe||Gee&&P0(new Gee)!=Ioe||Wee&&P0(new Wee)!=$oe)&&(P0=function(l){var m=zE(l),b=m==npe?l.constructor:void 0,E=b?UE(b):"";if(E)switch(E){case ope:return Loe;case spe:return Noe;case rpe:return Boe;case ape:return Ioe;case ipe:return $oe}return m});var lpe=Object.prototype,cpe=lpe.hasOwnProperty;function upe(l){var m=l.length,b=new l.constructor(m);return m&&typeof l[0]=="string"&&cpe.call(l,"index")&&(b.index=l.index,b.input=l.input),b}var AH=B0.Uint8Array;function Rte(l){var m=new l.constructor(l.byteLength);return new AH(m).set(new AH(l)),m}function dpe(l,m){var b=m?Rte(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.byteLength)}var fpe=/\w*$/;function mpe(l){var m=new l.constructor(l.source,fpe.exec(l));return m.lastIndex=l.lastIndex,m}var Hoe=p1?p1.prototype:void 0,zoe=Hoe?Hoe.valueOf:void 0;function ppe(l){return zoe?Object(zoe.call(l)):{}}function ele(l,m){var b=m?Rte(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.length)}var gpe="[object Boolean]",hpe="[object Date]",vpe="[object Map]",bpe="[object Number]",ype="[object RegExp]",wpe="[object Set]",Cpe="[object String]",Spe="[object Symbol]",xpe="[object ArrayBuffer]",Epe="[object DataView]",Ape="[object Float32Array]",Tpe="[object Float64Array]",kpe="[object Int8Array]",_pe="[object Int16Array]",Ope="[object Int32Array]",Dpe="[object Uint8Array]",Ppe="[object Uint8ClampedArray]",Rpe="[object Uint16Array]",Fpe="[object Uint32Array]";function Mpe(l,m,b){var E=l.constructor;switch(m){case xpe:return Rte(l);case gpe:case hpe:return new E(+l);case Epe:return dpe(l,b);case Ape:case Tpe:case kpe:case _pe:case Ope:case Dpe:case Ppe:case Rpe:case Fpe:return ele(l,b);case vpe:return new E;case bpe:case Cpe:return new E(l);case ype:return mpe(l);case wpe:return new E;case Spe:return ppe(l)}}function tle(l){return typeof l.constructor=="function"&&!Ete(l)?Wde(Dte(l)):{}}var Npe="[object Map]";function Bpe(l){return ab(l)&&P0(l)==Npe}var Uoe=v4&&v4.isMap,Ipe=Uoe?Ate(Uoe):Bpe,$pe="[object Set]";function Lpe(l){return ab(l)&&P0(l)==$pe}var Voe=v4&&v4.isSet,Hpe=Voe?Ate(Voe):Lpe,zpe=1,Upe=2,Vpe=4,nle="[object Arguments]",Wpe="[object Array]",jpe="[object Boolean]",Zpe="[object Date]",qpe="[object Error]",ole="[object Function]",Gpe="[object GeneratorFunction]",Kpe="[object Map]",Ype="[object Number]",sle="[object Object]",Xpe="[object RegExp]",Qpe="[object Set]",Jpe="[object String]",ege="[object Symbol]",tge="[object WeakMap]",nge="[object ArrayBuffer]",oge="[object DataView]",sge="[object Float32Array]",rge="[object Float64Array]",age="[object Int8Array]",ige="[object Int16Array]",lge="[object Int32Array]",cge="[object Uint8Array]",uge="[object Uint8ClampedArray]",dge="[object Uint16Array]",fge="[object Uint32Array]",Bl={};Bl[nle]=Bl[Wpe]=Bl[nge]=Bl[oge]=Bl[jpe]=Bl[Zpe]=Bl[sge]=Bl[rge]=Bl[age]=Bl[ige]=Bl[lge]=Bl[Kpe]=Bl[Ype]=Bl[sle]=Bl[Xpe]=Bl[Qpe]=Bl[Jpe]=Bl[ege]=Bl[cge]=Bl[uge]=Bl[dge]=Bl[fge]=!0;Bl[qpe]=Bl[ole]=Bl[tge]=!1;function k5(l,m,b,E,D,$){var I,H=m&zpe,K=m&Upe,X=m&Vpe;if(b&&(I=D?b(l,E,D,$):b(l)),I!==void 0)return I;if(!Jg(l))return l;var ae=g1(l);if(ae){if(I=upe(l),!H)return Bie(l,I)}else{var le=P0(l),me=le==ole||le==Gpe;if(M5(l))return Kie(l,H);if(le==sle||le==nle||me&&!D){if(I=K||me?{}:tle(l),!H)return K?tpe(l,Gme(I,l)):Jme(l,qme(I,l))}else{if(!Bl[le])return D?l:{};I=Mpe(l,le,H)}}$||($=new sb);var Me=$.get(l);if(Me)return Me;$.set(l,I),Hpe(l)?l.forEach(function(re){I.add(k5(re,m,b,re,l,$))}):Ipe(l)&&l.forEach(function(re,ot){I.set(ot,k5(re,m,b,ot,l,$))});var de=X?K?Jie:jee:K?j5:kte,Se=ae?void 0:de(l);return Qde(Se||l,function(re,ot){Se&&(ot=re,re=l[ot]),Ste(I,ot,k5(re,m,b,ot,l,$))}),I}var mge=1,pge=4;function D0(l){return k5(l,mge|pge)}var gge="__lodash_hash_undefined__";function hge(l){return this.__data__.set(l,gge),this}function vge(l){return this.__data__.has(l)}function TH(l){var m=-1,b=l==null?0:l.length;for(this.__data__=new Yy;++m<b;)this.add(l[m])}TH.prototype.add=TH.prototype.push=hge;TH.prototype.has=vge;function bge(l,m){for(var b=-1,E=l==null?0:l.length;++b<E;)if(m(l[b],b,l))return!0;return!1}function yge(l,m){return l.has(m)}var wge=1,Cge=2;function rle(l,m,b,E,D,$){var I=b&wge,H=l.length,K=m.length;if(H!=K&&!(I&&K>H))return!1;var X=$.get(l),ae=$.get(m);if(X&&ae)return X==m&&ae==l;var le=-1,me=!0,Me=b&Cge?new TH:void 0;for($.set(l,m),$.set(m,l);++le<H;){var de=l[le],Se=m[le];if(E)var re=I?E(Se,de,le,m,l,$):E(de,Se,le,l,m,$);if(re!==void 0){if(re)continue;me=!1;break}if(Me){if(!bge(m,function(ot,it){if(!yge(Me,it)&&(de===ot||D(de,ot,b,E,$)))return Me.push(it)})){me=!1;break}}else if(!(de===Se||D(de,Se,b,E,$))){me=!1;break}}return $.delete(l),$.delete(m),me}function Sge(l){var m=-1,b=Array(l.size);return l.forEach(function(E,D){b[++m]=[D,E]}),b}function xge(l){var m=-1,b=Array(l.size);return l.forEach(function(E){b[++m]=E}),b}var Ege=1,Age=2,Tge="[object Boolean]",kge="[object Date]",_ge="[object Error]",Oge="[object Map]",Dge="[object Number]",Pge="[object RegExp]",Rge="[object Set]",Fge="[object String]",Mge="[object Symbol]",Nge="[object ArrayBuffer]",Bge="[object DataView]",Woe=p1?p1.prototype:void 0,TJ=Woe?Woe.valueOf:void 0;function Ige(l,m,b,E,D,$,I){switch(b){case Bge:if(l.byteLength!=m.byteLength||l.byteOffset!=m.byteOffset)return!1;l=l.buffer,m=m.buffer;case Nge:return!(l.byteLength!=m.byteLength||!$(new AH(l),new AH(m)));case Tge:case kge:case Dge:return W5(+l,+m);case _ge:return l.name==m.name&&l.message==m.message;case Pge:case Fge:return l==m+"";case Oge:var H=Sge;case Rge:var K=E&Ege;if(H||(H=xge),l.size!=m.size&&!K)return!1;var X=I.get(l);if(X)return X==m;E|=Age,I.set(l,m);var ae=rle(H(l),H(m),E,D,$,I);return I.delete(l),ae;case Mge:if(TJ)return TJ.call(l)==TJ.call(m)}return!1}var $ge=1,Lge=Object.prototype,Hge=Lge.hasOwnProperty;function zge(l,m,b,E,D,$){var I=b&$ge,H=jee(l),K=H.length,X=jee(m),ae=X.length;if(K!=ae&&!I)return!1;for(var le=K;le--;){var me=H[le];if(!(I?me in m:Hge.call(m,me)))return!1}var Me=$.get(l),de=$.get(m);if(Me&&de)return Me==m&&de==l;var Se=!0;$.set(l,m),$.set(m,l);for(var re=I;++le<K;){me=H[le];var ot=l[me],it=m[me];if(E)var J=I?E(it,ot,me,m,l,$):E(ot,it,me,l,m,$);if(!(J===void 0?ot===it||D(ot,it,b,E,$):J)){Se=!1;break}re||(re=me=="constructor")}if(Se&&!re){var dt=l.constructor,Wt=m.constructor;dt!=Wt&&"constructor"in l&&"constructor"in m&&!(typeof dt=="function"&&dt instanceof dt&&typeof Wt=="function"&&Wt instanceof Wt)&&(Se=!1)}return $.delete(l),$.delete(m),Se}var Uge=1,joe="[object Arguments]",Zoe="[object Array]",iH="[object Object]",Vge=Object.prototype,qoe=Vge.hasOwnProperty;function Wge(l,m,b,E,D,$){var I=g1(l),H=g1(m),K=I?Zoe:P0(l),X=H?Zoe:P0(m);K=K==joe?iH:K,X=X==joe?iH:X;var ae=K==iH,le=X==iH,me=K==X;if(me&&M5(l)){if(!M5(m))return!1;I=!0,ae=!1}if(me&&!ae)return $||($=new sb),I||Tte(l)?rle(l,m,b,E,D,$):Ige(l,m,K,b,E,D,$);if(!(b&Uge)){var Me=ae&&qoe.call(l,"__wrapped__"),de=le&&qoe.call(m,"__wrapped__");if(Me||de){var Se=Me?l.value():l,re=de?m.value():m;return $||($=new sb),D(Se,re,b,E,$)}}return me?($||($=new sb),zge(l,m,b,E,D,$)):!1}function ale(l,m,b,E,D){return l===m?!0:l==null||m==null||!ab(l)&&!ab(m)?l!==l&&m!==m:Wge(l,m,b,E,ale,D)}function jge(l,m,b){m=Z5(m,l);for(var E=-1,D=m.length,$=!1;++E<D;){var I=jH(m[E]);if(!($=l!=null&&b(l,I)))break;l=l[I]}return $||++E!=D?$:(D=l==null?0:l.length,!!D&&xte(D)&&zH(I,D)&&(g1(l)||F5(l)))}function Zge(l){return function(m,b,E){for(var D=-1,$=Object(m),I=E(m),H=I.length;H--;){var K=I[++D];if(b($[K],K,$)===!1)break}return m}}var qge=Zge(),kJ=function(){return B0.Date.now()},Gge="Expected a function",Kge=Math.max,Yge=Math.min;function Xge(l,m,b){var E,D,$,I,H,K,X=0,ae=!1,le=!1,me=!0;if(typeof l!="function")throw new TypeError(Gge);m=Soe(m)||0,Jg(b)&&(ae=!0,le="maxWait"in b,$=le?Kge(Soe(b.maxWait)||0,m):$,me="trailing"in b?!0:me);function Me(Ae){var G=E,Ze=D;return E=D=void 0,X=Ae,I=l.apply(Ze,G),I}function de(Ae){return X=Ae,H=setTimeout(ot,m),ae?Me(Ae):I}function Se(Ae){var G=Ae-K,Ze=Ae-X,Ft=m-G;return le?Yge(Ft,$-Ze):Ft}function re(Ae){var G=Ae-K,Ze=Ae-X;return K===void 0||G>=m||G<0||le&&Ze>=$}function ot(){var Ae=kJ();if(re(Ae))return it(Ae);H=setTimeout(ot,Se(Ae))}function it(Ae){return H=void 0,me&&E?Me(Ae):(E=D=void 0,I)}function J(){H!==void 0&&clearTimeout(H),X=0,E=K=D=H=void 0}function dt(){return H===void 0?I:it(kJ())}function Wt(){var Ae=kJ(),G=re(Ae);if(E=arguments,D=this,K=Ae,G){if(H===void 0)return de(K);if(le)return clearTimeout(H),H=setTimeout(ot,m),Me(K)}return H===void 0&&(H=setTimeout(ot,m)),I}return Wt.cancel=J,Wt.flush=dt,Wt}function Kee(l,m,b){(b!==void 0&&!W5(l[m],b)||b===void 0&&!(m in l))&&Cte(l,m,b)}function Qge(l){return ab(l)&&UH(l)}function Yee(l,m){if(!(m==="constructor"&&typeof l[m]=="function")&&m!="__proto__")return l[m]}function Jge(l){return C4(l,j5(l))}function ehe(l,m,b,E,D,$,I){var H=Yee(l,b),K=Yee(m,b),X=I.get(K);if(X){Kee(l,b,X);return}var ae=$?$(H,K,b+"",l,m,I):void 0,le=ae===void 0;if(le){var me=g1(K),Me=!me&&M5(K),de=!me&&!Me&&Tte(K);ae=K,me||Me||de?g1(H)?ae=H:Qge(H)?ae=Bie(H):Me?(le=!1,ae=Kie(K,!0)):de?(le=!1,ae=ele(K,!0)):ae=[]:qie(K)||F5(K)?(ae=H,F5(H)?ae=Jge(H):(!Jg(H)||wte(H))&&(ae=tle(K))):le=!1}le&&(I.set(K,ae),D(ae,K,E,$,I),I.delete(K)),Kee(l,b,ae)}function ile(l,m,b,E,D){l!==m&&qge(m,function($,I){if(D||(D=new sb),Jg($))ehe(l,m,I,b,ile,E,D);else{var H=E?E(Yee(l,I),$,I+"",l,m,D):void 0;H===void 0&&(H=$),Kee(l,I,H)}},j5)}function the(l){var m=l==null?0:l.length;return m?l[m-1]:void 0}var nhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ohe=Hme(nhe),lle=/[&<>"']/g,she=RegExp(lle.source);function rhe(l){return l=Wie(l),l&&she.test(l)?l.replace(lle,ohe):l}var ahe=Object.prototype,ihe=ahe.hasOwnProperty;function lhe(l,m){return l!=null&&ihe.call(l,m)}function cle(l,m){return l!=null&&jge(l,m,lhe)}function che(l,m){return m.length<2?l:jie(l,Lme(m,0,-1))}function $E(l,m){return ale(l,m)}var Xee=afe(function(l,m,b){ile(l,m,b)}),uhe=Object.prototype,dhe=uhe.hasOwnProperty;function fhe(l,m){m=Z5(m,l);var b=-1,E=m.length;if(!E)return!0;for(var D=l==null||typeof l!="object"&&typeof l!="function";++b<E;){var $=m[b];if(typeof $=="string"){if($==="__proto__"&&!dhe.call(l,"__proto__"))return!1;if($==="constructor"&&b+1<E&&typeof m[b+1]=="string"&&m[b+1]==="prototype"){if(D&&b===0)continue;return!1}}}var I=che(l,m);return I==null||delete I[jH(the(m))]}function mhe(l){return qie(l)?void 0:l}var phe=1,ghe=2,hhe=4,Goe=Fme(function(l,m){var b={};if(l==null)return b;var E=!1;m=Fie(m,function($){return $=Z5($,l),E||(E=$.length>1),$}),C4(l,Jie(l),b),E&&(b=k5(b,phe|ghe|hhe,mhe));for(var D=m.length;D--;)fhe(b,m[D]);return b});function vhe(l,m,b,E){if(!Jg(l))return l;m=Z5(m,l);for(var D=-1,$=m.length,I=$-1,H=l;H!=null&&++D<$;){var K=jH(m[D]),X=b;if(K==="__proto__"||K==="constructor"||K==="prototype")return l;if(D!=I){var ae=H[K];X=void 0,X===void 0&&(X=Jg(ae)?ae:zH(m[D+1])?[]:{})}Ste(H,K,X),H=H[K]}return l}function M0(l,m,b){return l==null?l:vhe(l,m,b)}var _J,Koe;function S4(){return Koe||(Koe=1,_J=TypeError),_J}const bhe={},yhe=Object.freeze(Object.defineProperty({__proto__:null,default:bhe},Symbol.toStringTag,{value:"Module"})),whe=Dce(yhe);var OJ,Yoe;function ZH(){if(Yoe)return OJ;Yoe=1;var l=typeof Map=="function"&&Map.prototype,m=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,b=l&&m&&typeof m.get=="function"?m.get:null,E=l&&Map.prototype.forEach,D=typeof Set=="function"&&Set.prototype,$=Object.getOwnPropertyDescriptor&&D?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,I=D&&$&&typeof $.get=="function"?$.get:null,H=D&&Set.prototype.forEach,K=typeof WeakMap=="function"&&WeakMap.prototype,X=K?WeakMap.prototype.has:null,ae=typeof WeakSet=="function"&&WeakSet.prototype,le=ae?WeakSet.prototype.has:null,me=typeof WeakRef=="function"&&WeakRef.prototype,Me=me?WeakRef.prototype.deref:null,de=Boolean.prototype.valueOf,Se=Object.prototype.toString,re=Function.prototype.toString,ot=String.prototype.match,it=String.prototype.slice,J=String.prototype.replace,dt=String.prototype.toUpperCase,Wt=String.prototype.toLowerCase,Ae=RegExp.prototype.test,G=Array.prototype.concat,Ze=Array.prototype.join,Ft=Array.prototype.slice,ct=Math.floor,Ce=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ce=Object.getOwnPropertySymbols,Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,je=typeof Symbol=="function"&&typeof Symbol.iterator=="object",lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===je||!0)?Symbol.toStringTag:null,F=Object.prototype.propertyIsEnumerable,dn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(bt){return bt.__proto__}:null);function Te(bt,Bt){if(bt===1/0||bt===-1/0||bt!==bt||bt&&bt>-1e3&&bt<1e3||Ae.call(/e/,Bt))return Bt;var po=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof bt=="number"){var rs=bt<0?-ct(-bt):ct(bt);if(rs!==bt){var xs=String(rs),sn=it.call(Bt,xs.length+1);return J.call(xs,po,"$&_")+"."+J.call(J.call(sn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(Bt,po,"$&_")}var rn=whe,yt=rn.custom,se=Re(yt)?yt:null,$e={__proto__:null,double:'"',single:"'"},Mt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};OJ=function bt(Bt,po,rs,xs){var sn=po||{};if(De(sn,"quoteStyle")&&!De($e,sn.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(De(sn,"maxStringLength")&&(typeof sn.maxStringLength=="number"?sn.maxStringLength<0&&sn.maxStringLength!==1/0:sn.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ho=De(sn,"customInspect")?sn.customInspect:!0;if(typeof Ho!="boolean"&&Ho!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(De(sn,"indent")&&sn.indent!==null&&sn.indent!=="	"&&!(parseInt(sn.indent,10)===sn.indent&&sn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(De(sn,"numericSeparator")&&typeof sn.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Io=sn.numericSeparator;if(typeof Bt>"u")return"undefined";if(Bt===null)return"null";if(typeof Bt=="boolean")return Bt?"true":"false";if(typeof Bt=="string")return mo(Bt,sn);if(typeof Bt=="number"){if(Bt===0)return 1/0/Bt>0?"0":"-0";var _r=String(Bt);return Io?Te(Bt,_r):_r}if(typeof Bt=="bigint"){var Hr=String(Bt)+"n";return Io?Te(Bt,Hr):Hr}var Mn=typeof sn.depth>"u"?5:sn.depth;if(typeof rs>"u"&&(rs=0),rs>=Mn&&Mn>0&&typeof Bt=="object")return ut(Bt)?"[Array]":"[Object]";var qt=Ys(sn,rs);if(typeof xs>"u")xs=[];else if(at(xs,Bt)>=0)return"[Circular]";function jt(hn,Po,go){if(Po&&(xs=Ft.call(xs),xs.push(Po)),go){var is={depth:sn.depth};return De(sn,"quoteStyle")&&(is.quoteStyle=sn.quoteStyle),bt(hn,is,rs+1,xs)}return bt(hn,sn,rs+1,xs)}if(typeof Bt=="function"&&!Wn(Bt)){var to=Tt(Bt),qn=lr(Bt,jt);return"[Function"+(to?": "+to:" (anonymous)")+"]"+(qn.length>0?" { "+Ze.call(qn,", ")+" }":"")}if(Re(Bt)){var Co=je?J.call(String(Bt),/^(Symbol\(.*\))_[^)]*$/,"$1"):Pt.call(Bt);return typeof Bt=="object"&&!je?vo(Co):Co}if(Fn(Bt)){for(var _o="<"+Wt.call(String(Bt.nodeName)),Jn=Bt.attributes||[],as=0;as<Jn.length;as++)_o+=" "+Jn[as].name+"="+Qe(Ct(Jn[as].value),"double",sn);return _o+=">",Bt.childNodes&&Bt.childNodes.length&&(_o+="..."),_o+="</"+Wt.call(String(Bt.nodeName))+">",_o}if(ut(Bt)){if(Bt.length===0)return"[]";var qr=lr(Bt,jt);return qt&&!ds(qr)?"["+Xs(qr,qt)+"]":"[ "+Ze.call(qr,", ")+" ]"}if(Yt(Bt)){var Ha=lr(Bt,jt);return!("cause"in Error.prototype)&&"cause"in Bt&&!F.call(Bt,"cause")?"{ ["+String(Bt)+"] "+Ze.call(G.call("[cause]: "+jt(Bt.cause),Ha),", ")+" }":Ha.length===0?"["+String(Bt)+"]":"{ ["+String(Bt)+"] "+Ze.call(Ha,", ")+" }"}if(typeof Bt=="object"&&Ho){if(se&&typeof Bt[se]=="function"&&rn)return rn(Bt,{depth:Mn-rs});if(Ho!=="symbol"&&typeof Bt.inspect=="function")return Bt.inspect()}if(En(Bt)){var xa=[];return E&&E.call(Bt,function(hn,Po){xa.push(jt(Po,Bt,!0)+" => "+jt(hn,Bt))}),Bo("Map",b.call(Bt),xa,qt)}if(an(Bt)){var Kn=[];return H&&H.call(Bt,function(hn){Kn.push(jt(hn,Bt))}),Bo("Set",I.call(Bt),Kn,qt)}if(wt(Bt))return ts("WeakMap");if(vn(Bt))return ts("WeakSet");if(kt(Bt))return ts("WeakRef");if(Cn(Bt))return vo(jt(Number(Bt)));if(Ve(Bt))return vo(jt(Ce.call(Bt)));if(No(Bt))return vo(de.call(Bt));if(jn(Bt))return vo(jt(String(Bt)));if(typeof window<"u"&&Bt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Bt===globalThis||typeof Xne<"u"&&Bt===Xne)return"{ [object globalThis] }";if(!W(Bt)&&!Wn(Bt)){var ua=lr(Bt,jt),ta=dn?dn(Bt)===Object.prototype:Bt instanceof Object||Bt.constructor===Object,hi=Bt instanceof Object?"":"null prototype",Be=!ta&&lt&&Object(Bt)===Bt&&lt in Bt?it.call(Ye(Bt),8,-1):hi?"Object":"",ze=ta||typeof Bt.constructor!="function"?"":Bt.constructor.name?Bt.constructor.name+" ":"",et=ze+(Be||hi?"["+Ze.call(G.call([],Be||[],hi||[]),": ")+"] ":"");return ua.length===0?et+"{}":qt?et+"{"+Xs(ua,qt)+"}":et+"{ "+Ze.call(ua,", ")+" }"}return String(Bt)};function Qe(bt,Bt,po){var rs=po.quoteStyle||Bt,xs=$e[rs];return xs+bt+xs}function Ct(bt){return J.call(String(bt),/"/g,"&quot;")}function He(bt){return!lt||!(typeof bt=="object"&&(lt in bt||typeof bt[lt]<"u"))}function ut(bt){return Ye(bt)==="[object Array]"&&He(bt)}function W(bt){return Ye(bt)==="[object Date]"&&He(bt)}function Wn(bt){return Ye(bt)==="[object RegExp]"&&He(bt)}function Yt(bt){return Ye(bt)==="[object Error]"&&He(bt)}function jn(bt){return Ye(bt)==="[object String]"&&He(bt)}function Cn(bt){return Ye(bt)==="[object Number]"&&He(bt)}function No(bt){return Ye(bt)==="[object Boolean]"&&He(bt)}function Re(bt){if(je)return bt&&typeof bt=="object"&&bt instanceof Symbol;if(typeof bt=="symbol")return!0;if(!bt||typeof bt!="object"||!Pt)return!1;try{return Pt.call(bt),!0}catch{}return!1}function Ve(bt){if(!bt||typeof bt!="object"||!Ce)return!1;try{return Ce.call(bt),!0}catch{}return!1}var qe=Object.prototype.hasOwnProperty||function(bt){return bt in this};function De(bt,Bt){return qe.call(bt,Bt)}function Ye(bt){return Se.call(bt)}function Tt(bt){if(bt.name)return bt.name;var Bt=ot.call(re.call(bt),/^function\s*([\w$]+)/);return Bt?Bt[1]:null}function at(bt,Bt){if(bt.indexOf)return bt.indexOf(Bt);for(var po=0,rs=bt.length;po<rs;po++)if(bt[po]===Bt)return po;return-1}function En(bt){if(!b||!bt||typeof bt!="object")return!1;try{b.call(bt);try{I.call(bt)}catch{return!0}return bt instanceof Map}catch{}return!1}function wt(bt){if(!X||!bt||typeof bt!="object")return!1;try{X.call(bt,X);try{le.call(bt,le)}catch{return!0}return bt instanceof WeakMap}catch{}return!1}function kt(bt){if(!Me||!bt||typeof bt!="object")return!1;try{return Me.call(bt),!0}catch{}return!1}function an(bt){if(!I||!bt||typeof bt!="object")return!1;try{I.call(bt);try{b.call(bt)}catch{return!0}return bt instanceof Set}catch{}return!1}function vn(bt){if(!le||!bt||typeof bt!="object")return!1;try{le.call(bt,le);try{X.call(bt,X)}catch{return!0}return bt instanceof WeakSet}catch{}return!1}function Fn(bt){return!bt||typeof bt!="object"?!1:typeof HTMLElement<"u"&&bt instanceof HTMLElement?!0:typeof bt.nodeName=="string"&&typeof bt.getAttribute=="function"}function mo(bt,Bt){if(bt.length>Bt.maxStringLength){var po=bt.length-Bt.maxStringLength,rs="... "+po+" more character"+(po>1?"s":"");return mo(it.call(bt,0,Bt.maxStringLength),Bt)+rs}var xs=Mt[Bt.quoteStyle||"single"];xs.lastIndex=0;var sn=J.call(J.call(bt,xs,"\\$1"),/[\x00-\x1f]/g,es);return Qe(sn,"single",Bt)}function es(bt){var Bt=bt.charCodeAt(0),po={8:"b",9:"t",10:"n",12:"f",13:"r"}[Bt];return po?"\\"+po:"\\x"+(Bt<16?"0":"")+dt.call(Bt.toString(16))}function vo(bt){return"Object("+bt+")"}function ts(bt){return bt+" { ? }"}function Bo(bt,Bt,po,rs){var xs=rs?Xs(po,rs):Ze.call(po,", ");return bt+" ("+Bt+") {"+xs+"}"}function ds(bt){for(var Bt=0;Bt<bt.length;Bt++)if(at(bt[Bt],`
`)>=0)return!1;return!0}function Ys(bt,Bt){var po;if(bt.indent==="	")po="	";else if(typeof bt.indent=="number"&&bt.indent>0)po=Ze.call(Array(bt.indent+1)," ");else return null;return{base:po,prev:Ze.call(Array(Bt+1),po)}}function Xs(bt,Bt){if(bt.length===0)return"";var po=`
`+Bt.prev+Bt.base;return po+Ze.call(bt,","+po)+`
`+Bt.prev}function lr(bt,Bt){var po=ut(bt),rs=[];if(po){rs.length=bt.length;for(var xs=0;xs<bt.length;xs++)rs[xs]=De(bt,xs)?Bt(bt[xs],bt):""}var sn=typeof ce=="function"?ce(bt):[],Ho;if(je){Ho={};for(var Io=0;Io<sn.length;Io++)Ho["$"+sn[Io]]=sn[Io]}for(var _r in bt)De(bt,_r)&&(po&&String(Number(_r))===_r&&_r<bt.length||je&&Ho["$"+_r]instanceof Symbol||(Ae.call(/[^\w$]/,_r)?rs.push(Bt(_r,bt)+": "+Bt(bt[_r],bt)):rs.push(_r+": "+Bt(bt[_r],bt))));if(typeof ce=="function")for(var Hr=0;Hr<sn.length;Hr++)F.call(bt,sn[Hr])&&rs.push("["+Bt(sn[Hr])+"]: "+Bt(bt[sn[Hr]],bt));return rs}return OJ}var DJ,Xoe;function Che(){if(Xoe)return DJ;Xoe=1;var l=ZH(),m=S4(),b=function(H,K,X){for(var ae=H,le;(le=ae.next)!=null;ae=le)if(le.key===K)return ae.next=le.next,X||(le.next=H.next,H.next=le),le},E=function(H,K){if(H){var X=b(H,K);return X&&X.value}},D=function(H,K,X){var ae=b(H,K);ae?ae.value=X:H.next={key:K,next:H.next,value:X}},$=function(H,K){return H?!!b(H,K):!1},I=function(H,K){if(H)return b(H,K,!0)};return DJ=function(){var K,X={assert:function(ae){if(!X.has(ae))throw new m("Side channel does not contain "+l(ae))},delete:function(ae){var le=K&&K.next,me=I(K,ae);return me&&le&&le===me&&(K=void 0),!!me},get:function(ae){return E(K,ae)},has:function(ae){return $(K,ae)},set:function(ae,le){K||(K={next:void 0}),D(K,ae,le)}};return X},DJ}var PJ,Qoe;function ule(){return Qoe||(Qoe=1,PJ=Object),PJ}var RJ,Joe;function She(){return Joe||(Joe=1,RJ=Error),RJ}var FJ,ese;function xhe(){return ese||(ese=1,FJ=EvalError),FJ}var MJ,tse;function Ehe(){return tse||(tse=1,MJ=RangeError),MJ}var NJ,nse;function Ahe(){return nse||(nse=1,NJ=ReferenceError),NJ}var BJ,ose;function The(){return ose||(ose=1,BJ=SyntaxError),BJ}var IJ,sse;function khe(){return sse||(sse=1,IJ=URIError),IJ}var $J,rse;function _he(){return rse||(rse=1,$J=Math.abs),$J}var LJ,ase;function Ohe(){return ase||(ase=1,LJ=Math.floor),LJ}var HJ,ise;function Dhe(){return ise||(ise=1,HJ=Math.max),HJ}var zJ,lse;function Phe(){return lse||(lse=1,zJ=Math.min),zJ}var UJ,cse;function Rhe(){return cse||(cse=1,UJ=Math.pow),UJ}var VJ,use;function Fhe(){return use||(use=1,VJ=Math.round),VJ}var WJ,dse;function Mhe(){return dse||(dse=1,WJ=Number.isNaN||function(m){return m!==m}),WJ}var jJ,fse;function Nhe(){if(fse)return jJ;fse=1;var l=Mhe();return jJ=function(b){return l(b)||b===0?b:b<0?-1:1},jJ}var ZJ,mse;function Bhe(){return mse||(mse=1,ZJ=Object.getOwnPropertyDescriptor),ZJ}var qJ,pse;function dle(){if(pse)return qJ;pse=1;var l=Bhe();if(l)try{l([],"length")}catch{l=null}return qJ=l,qJ}var GJ,gse;function Ihe(){if(gse)return GJ;gse=1;var l=Object.defineProperty||!1;if(l)try{l({},"a",{value:1})}catch{l=!1}return GJ=l,GJ}var KJ,hse;function $he(){return hse||(hse=1,KJ=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var m={},b=Symbol("test"),E=Object(b);if(typeof b=="string"||Object.prototype.toString.call(b)!=="[object Symbol]"||Object.prototype.toString.call(E)!=="[object Symbol]")return!1;var D=42;m[b]=D;for(var $ in m)return!1;if(typeof Object.keys=="function"&&Object.keys(m).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(m).length!==0)return!1;var I=Object.getOwnPropertySymbols(m);if(I.length!==1||I[0]!==b||!Object.prototype.propertyIsEnumerable.call(m,b))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var H=Object.getOwnPropertyDescriptor(m,b);if(H.value!==D||H.enumerable!==!0)return!1}return!0}),KJ}var YJ,vse;function Lhe(){if(vse)return YJ;vse=1;var l=typeof Symbol<"u"&&Symbol,m=$he();return YJ=function(){return typeof l!="function"||typeof Symbol!="function"||typeof l("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:m()},YJ}var XJ,bse;function fle(){return bse||(bse=1,XJ=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),XJ}var QJ,yse;function mle(){if(yse)return QJ;yse=1;var l=ule();return QJ=l.getPrototypeOf||null,QJ}var JJ,wse;function Hhe(){if(wse)return JJ;wse=1;var l="Function.prototype.bind called on incompatible ",m=Object.prototype.toString,b=Math.max,E="[object Function]",D=function(K,X){for(var ae=[],le=0;le<K.length;le+=1)ae[le]=K[le];for(var me=0;me<X.length;me+=1)ae[me+K.length]=X[me];return ae},$=function(K,X){for(var ae=[],le=X,me=0;le<K.length;le+=1,me+=1)ae[me]=K[le];return ae},I=function(H,K){for(var X="",ae=0;ae<H.length;ae+=1)X+=H[ae],ae+1<H.length&&(X+=K);return X};return JJ=function(K){var X=this;if(typeof X!="function"||m.apply(X)!==E)throw new TypeError(l+X);for(var ae=$(arguments,1),le,me=function(){if(this instanceof le){var ot=X.apply(this,D(ae,arguments));return Object(ot)===ot?ot:this}return X.apply(K,D(ae,arguments))},Me=b(0,X.length-ae.length),de=[],Se=0;Se<Me;Se++)de[Se]="$"+Se;if(le=Function("binder","return function ("+I(de,",")+"){ return binder.apply(this,arguments); }")(me),X.prototype){var re=function(){};re.prototype=X.prototype,le.prototype=new re,re.prototype=null}return le},JJ}var eee,Cse;function qH(){if(Cse)return eee;Cse=1;var l=Hhe();return eee=Function.prototype.bind||l,eee}var tee,Sse;function Fte(){return Sse||(Sse=1,tee=Function.prototype.call),tee}var nee,xse;function ple(){return xse||(xse=1,nee=Function.prototype.apply),nee}var oee,Ese;function zhe(){return Ese||(Ese=1,oee=typeof Reflect<"u"&&Reflect&&Reflect.apply),oee}var see,Ase;function Uhe(){if(Ase)return see;Ase=1;var l=qH(),m=ple(),b=Fte(),E=zhe();return see=E||l.call(b,m),see}var ree,Tse;function gle(){if(Tse)return ree;Tse=1;var l=qH(),m=S4(),b=Fte(),E=Uhe();return ree=function($){if($.length<1||typeof $[0]!="function")throw new m("a function is required");return E(l,b,$)},ree}var aee,kse;function Vhe(){if(kse)return aee;kse=1;var l=gle(),m=dle(),b;try{b=[].__proto__===Array.prototype}catch(I){if(!I||typeof I!="object"||!("code"in I)||I.code!=="ERR_PROTO_ACCESS")throw I}var E=!!b&&m&&m(Object.prototype,"__proto__"),D=Object,$=D.getPrototypeOf;return aee=E&&typeof E.get=="function"?l([E.get]):typeof $=="function"?function(H){return $(H==null?H:D(H))}:!1,aee}var iee,_se;function Whe(){if(_se)return iee;_se=1;var l=fle(),m=mle(),b=Vhe();return iee=l?function(D){return l(D)}:m?function(D){if(!D||typeof D!="object"&&typeof D!="function")throw new TypeError("getProto: not an object");return m(D)}:b?function(D){return b(D)}:null,iee}var lee,Ose;function jhe(){if(Ose)return lee;Ose=1;var l=Function.prototype.call,m=Object.prototype.hasOwnProperty,b=qH();return lee=b.call(l,m),lee}var cee,Dse;function Mte(){if(Dse)return cee;Dse=1;var l,m=ule(),b=She(),E=xhe(),D=Ehe(),$=Ahe(),I=The(),H=S4(),K=khe(),X=_he(),ae=Ohe(),le=Dhe(),me=Phe(),Me=Rhe(),de=Fhe(),Se=Nhe(),re=Function,ot=function(Wn){try{return re('"use strict"; return ('+Wn+").constructor;")()}catch{}},it=dle(),J=Ihe(),dt=function(){throw new H},Wt=it?(function(){try{return arguments.callee,dt}catch{try{return it(arguments,"callee").get}catch{return dt}}})():dt,Ae=Lhe()(),G=Whe(),Ze=mle(),Ft=fle(),ct=ple(),Ce=Fte(),ce={},Pt=typeof Uint8Array>"u"||!G?l:G(Uint8Array),je={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?l:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?l:ArrayBuffer,"%ArrayIteratorPrototype%":Ae&&G?G([][Symbol.iterator]()):l,"%AsyncFromSyncIteratorPrototype%":l,"%AsyncFunction%":ce,"%AsyncGenerator%":ce,"%AsyncGeneratorFunction%":ce,"%AsyncIteratorPrototype%":ce,"%Atomics%":typeof Atomics>"u"?l:Atomics,"%BigInt%":typeof BigInt>"u"?l:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?l:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?l:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?l:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":b,"%eval%":eval,"%EvalError%":E,"%Float16Array%":typeof Float16Array>"u"?l:Float16Array,"%Float32Array%":typeof Float32Array>"u"?l:Float32Array,"%Float64Array%":typeof Float64Array>"u"?l:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?l:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":ce,"%Int8Array%":typeof Int8Array>"u"?l:Int8Array,"%Int16Array%":typeof Int16Array>"u"?l:Int16Array,"%Int32Array%":typeof Int32Array>"u"?l:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ae&&G?G(G([][Symbol.iterator]())):l,"%JSON%":typeof JSON=="object"?JSON:l,"%Map%":typeof Map>"u"?l:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ae||!G?l:G(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":m,"%Object.getOwnPropertyDescriptor%":it,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?l:Promise,"%Proxy%":typeof Proxy>"u"?l:Proxy,"%RangeError%":D,"%ReferenceError%":$,"%Reflect%":typeof Reflect>"u"?l:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?l:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ae||!G?l:G(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?l:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ae&&G?G(""[Symbol.iterator]()):l,"%Symbol%":Ae?Symbol:l,"%SyntaxError%":I,"%ThrowTypeError%":Wt,"%TypedArray%":Pt,"%TypeError%":H,"%Uint8Array%":typeof Uint8Array>"u"?l:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?l:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?l:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?l:Uint32Array,"%URIError%":K,"%WeakMap%":typeof WeakMap>"u"?l:WeakMap,"%WeakRef%":typeof WeakRef>"u"?l:WeakRef,"%WeakSet%":typeof WeakSet>"u"?l:WeakSet,"%Function.prototype.call%":Ce,"%Function.prototype.apply%":ct,"%Object.defineProperty%":J,"%Object.getPrototypeOf%":Ze,"%Math.abs%":X,"%Math.floor%":ae,"%Math.max%":le,"%Math.min%":me,"%Math.pow%":Me,"%Math.round%":de,"%Math.sign%":Se,"%Reflect.getPrototypeOf%":Ft};if(G)try{null.error}catch(Wn){var lt=G(G(Wn));je["%Error.prototype%"]=lt}var F=function Wn(Yt){var jn;if(Yt==="%AsyncFunction%")jn=ot("async function () {}");else if(Yt==="%GeneratorFunction%")jn=ot("function* () {}");else if(Yt==="%AsyncGeneratorFunction%")jn=ot("async function* () {}");else if(Yt==="%AsyncGenerator%"){var Cn=Wn("%AsyncGeneratorFunction%");Cn&&(jn=Cn.prototype)}else if(Yt==="%AsyncIteratorPrototype%"){var No=Wn("%AsyncGenerator%");No&&G&&(jn=G(No.prototype))}return je[Yt]=jn,jn},dn={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Te=qH(),rn=jhe(),yt=Te.call(Ce,Array.prototype.concat),se=Te.call(ct,Array.prototype.splice),$e=Te.call(Ce,String.prototype.replace),Mt=Te.call(Ce,String.prototype.slice),Qe=Te.call(Ce,RegExp.prototype.exec),Ct=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,He=/\\(\\)?/g,ut=function(Yt){var jn=Mt(Yt,0,1),Cn=Mt(Yt,-1);if(jn==="%"&&Cn!=="%")throw new I("invalid intrinsic syntax, expected closing `%`");if(Cn==="%"&&jn!=="%")throw new I("invalid intrinsic syntax, expected opening `%`");var No=[];return $e(Yt,Ct,function(Re,Ve,qe,De){No[No.length]=qe?$e(De,He,"$1"):Ve||Re}),No},W=function(Yt,jn){var Cn=Yt,No;if(rn(dn,Cn)&&(No=dn[Cn],Cn="%"+No[0]+"%"),rn(je,Cn)){var Re=je[Cn];if(Re===ce&&(Re=F(Cn)),typeof Re>"u"&&!jn)throw new H("intrinsic "+Yt+" exists, but is not available. Please file an issue!");return{alias:No,name:Cn,value:Re}}throw new I("intrinsic "+Yt+" does not exist!")};return cee=function(Yt,jn){if(typeof Yt!="string"||Yt.length===0)throw new H("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof jn!="boolean")throw new H('"allowMissing" argument must be a boolean');if(Qe(/^%?[^%]*%?$/,Yt)===null)throw new I("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Cn=ut(Yt),No=Cn.length>0?Cn[0]:"",Re=W("%"+No+"%",jn),Ve=Re.name,qe=Re.value,De=!1,Ye=Re.alias;Ye&&(No=Ye[0],se(Cn,yt([0,1],Ye)));for(var Tt=1,at=!0;Tt<Cn.length;Tt+=1){var En=Cn[Tt],wt=Mt(En,0,1),kt=Mt(En,-1);if((wt==='"'||wt==="'"||wt==="`"||kt==='"'||kt==="'"||kt==="`")&&wt!==kt)throw new I("property names with quotes must have matching quotes");if((En==="constructor"||!at)&&(De=!0),No+="."+En,Ve="%"+No+"%",rn(je,Ve))qe=je[Ve];else if(qe!=null){if(!(En in qe)){if(!jn)throw new H("base intrinsic for "+Yt+" exists, but the property is not available.");return}if(it&&Tt+1>=Cn.length){var an=it(qe,En);at=!!an,at&&"get"in an&&!("originalValue"in an.get)?qe=an.get:qe=qe[En]}else at=rn(qe,En),qe=qe[En];at&&!De&&(je[Ve]=qe)}}return qe},cee}var uee,Pse;function hle(){if(Pse)return uee;Pse=1;var l=Mte(),m=gle(),b=m([l("%String.prototype.indexOf%")]);return uee=function(D,$){var I=l(D,!!$);return typeof I=="function"&&b(D,".prototype.")>-1?m([I]):I},uee}var dee,Rse;function vle(){if(Rse)return dee;Rse=1;var l=Mte(),m=hle(),b=ZH(),E=S4(),D=l("%Map%",!0),$=m("Map.prototype.get",!0),I=m("Map.prototype.set",!0),H=m("Map.prototype.has",!0),K=m("Map.prototype.delete",!0),X=m("Map.prototype.size",!0);return dee=!!D&&function(){var le,me={assert:function(Me){if(!me.has(Me))throw new E("Side channel does not contain "+b(Me))},delete:function(Me){if(le){var de=K(le,Me);return X(le)===0&&(le=void 0),de}return!1},get:function(Me){if(le)return $(le,Me)},has:function(Me){return le?H(le,Me):!1},set:function(Me,de){le||(le=new D),I(le,Me,de)}};return me},dee}var fee,Fse;function Zhe(){if(Fse)return fee;Fse=1;var l=Mte(),m=hle(),b=ZH(),E=vle(),D=S4(),$=l("%WeakMap%",!0),I=m("WeakMap.prototype.get",!0),H=m("WeakMap.prototype.set",!0),K=m("WeakMap.prototype.has",!0),X=m("WeakMap.prototype.delete",!0);return fee=$?function(){var le,me,Me={assert:function(de){if(!Me.has(de))throw new D("Side channel does not contain "+b(de))},delete:function(de){if($&&de&&(typeof de=="object"||typeof de=="function")){if(le)return X(le,de)}else if(E&&me)return me.delete(de);return!1},get:function(de){return $&&de&&(typeof de=="object"||typeof de=="function")&&le?I(le,de):me&&me.get(de)},has:function(de){return $&&de&&(typeof de=="object"||typeof de=="function")&&le?K(le,de):!!me&&me.has(de)},set:function(de,Se){$&&de&&(typeof de=="object"||typeof de=="function")?(le||(le=new $),H(le,de,Se)):E&&(me||(me=E()),me.set(de,Se))}};return Me}:E,fee}var mee,Mse;function ble(){if(Mse)return mee;Mse=1;var l=S4(),m=ZH(),b=Che(),E=vle(),D=Zhe(),$=D||E||b;return mee=function(){var H,K={assert:function(X){if(!K.has(X))throw new l("Side channel does not contain "+m(X))},delete:function(X){return!!H&&H.delete(X)},get:function(X){return H&&H.get(X)},has:function(X){return!!H&&H.has(X)},set:function(X,ae){H||(H=$()),H.set(X,ae)}};return K},mee}var pee,Nse;function Nte(){if(Nse)return pee;Nse=1;var l=String.prototype.replace,m=/%20/g,b={RFC1738:"RFC1738",RFC3986:"RFC3986"};return pee={default:b.RFC3986,formatters:{RFC1738:function(E){return l.call(E,m,"+")},RFC3986:function(E){return String(E)}},RFC1738:b.RFC1738,RFC3986:b.RFC3986},pee}var gee,Bse;function yle(){if(Bse)return gee;Bse=1;var l=Nte(),m=ble(),b=Object.prototype.hasOwnProperty,E=Array.isArray,D=m(),$=function(G,Ze){return D.set(G,Ze),G},I=function(G){return D.has(G)},H=function(G){return D.get(G)},K=function(G,Ze){D.set(G,Ze)},X=(function(){for(var Ae=[],G=0;G<256;++G)Ae.push("%"+((G<16?"0":"")+G.toString(16)).toUpperCase());return Ae})(),ae=function(G){for(;G.length>1;){var Ze=G.pop(),Ft=Ze.obj[Ze.prop];if(E(Ft)){for(var ct=[],Ce=0;Ce<Ft.length;++Ce)typeof Ft[Ce]<"u"&&ct.push(Ft[Ce]);Ze.obj[Ze.prop]=ct}}},le=function(G,Ze){for(var Ft=Ze&&Ze.plainObjects?{__proto__:null}:{},ct=0;ct<G.length;++ct)typeof G[ct]<"u"&&(Ft[ct]=G[ct]);return Ft},me=function Ae(G,Ze,Ft){if(!Ze)return G;if(typeof Ze!="object"&&typeof Ze!="function"){if(E(G))G.push(Ze);else if(G&&typeof G=="object")if(I(G)){var ct=H(G)+1;G[ct]=Ze,K(G,ct)}else(Ft&&(Ft.plainObjects||Ft.allowPrototypes)||!b.call(Object.prototype,Ze))&&(G[Ze]=!0);else return[G,Ze];return G}if(!G||typeof G!="object"){if(I(Ze)){for(var Ce=Object.keys(Ze),ce=Ft&&Ft.plainObjects?{__proto__:null,0:G}:{0:G},Pt=0;Pt<Ce.length;Pt++){var je=parseInt(Ce[Pt],10);ce[je+1]=Ze[Ce[Pt]]}return $(ce,H(Ze)+1)}return[G].concat(Ze)}var lt=G;return E(G)&&!E(Ze)&&(lt=le(G,Ft)),E(G)&&E(Ze)?(Ze.forEach(function(F,dn){if(b.call(G,dn)){var Te=G[dn];Te&&typeof Te=="object"&&F&&typeof F=="object"?G[dn]=Ae(Te,F,Ft):G.push(F)}else G[dn]=F}),G):Object.keys(Ze).reduce(function(F,dn){var Te=Ze[dn];return b.call(F,dn)?F[dn]=Ae(F[dn],Te,Ft):F[dn]=Te,F},lt)},Me=function(G,Ze){return Object.keys(Ze).reduce(function(Ft,ct){return Ft[ct]=Ze[ct],Ft},G)},de=function(Ae,G,Ze){var Ft=Ae.replace(/\+/g," ");if(Ze==="iso-8859-1")return Ft.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Ft)}catch{return Ft}},Se=1024,re=function(G,Ze,Ft,ct,Ce){if(G.length===0)return G;var ce=G;if(typeof G=="symbol"?ce=Symbol.prototype.toString.call(G):typeof G!="string"&&(ce=String(G)),Ft==="iso-8859-1")return escape(ce).replace(/%u[0-9a-f]{4}/gi,function(rn){return"%26%23"+parseInt(rn.slice(2),16)+"%3B"});for(var Pt="",je=0;je<ce.length;je+=Se){for(var lt=ce.length>=Se?ce.slice(je,je+Se):ce,F=[],dn=0;dn<lt.length;++dn){var Te=lt.charCodeAt(dn);if(Te===45||Te===46||Te===95||Te===126||Te>=48&&Te<=57||Te>=65&&Te<=90||Te>=97&&Te<=122||Ce===l.RFC1738&&(Te===40||Te===41)){F[F.length]=lt.charAt(dn);continue}if(Te<128){F[F.length]=X[Te];continue}if(Te<2048){F[F.length]=X[192|Te>>6]+X[128|Te&63];continue}if(Te<55296||Te>=57344){F[F.length]=X[224|Te>>12]+X[128|Te>>6&63]+X[128|Te&63];continue}dn+=1,Te=65536+((Te&1023)<<10|lt.charCodeAt(dn)&1023),F[F.length]=X[240|Te>>18]+X[128|Te>>12&63]+X[128|Te>>6&63]+X[128|Te&63]}Pt+=F.join("")}return Pt},ot=function(G){for(var Ze=[{obj:{o:G},prop:"o"}],Ft=[],ct=0;ct<Ze.length;++ct)for(var Ce=Ze[ct],ce=Ce.obj[Ce.prop],Pt=Object.keys(ce),je=0;je<Pt.length;++je){var lt=Pt[je],F=ce[lt];typeof F=="object"&&F!==null&&Ft.indexOf(F)===-1&&(Ze.push({obj:ce,prop:lt}),Ft.push(F))}return ae(Ze),G},it=function(G){return Object.prototype.toString.call(G)==="[object RegExp]"},J=function(G){return!G||typeof G!="object"?!1:!!(G.constructor&&G.constructor.isBuffer&&G.constructor.isBuffer(G))},dt=function(G,Ze,Ft,ct){if(I(G)){var Ce=H(G)+1;return G[Ce]=Ze,K(G,Ce),G}var ce=[].concat(G,Ze);return ce.length>Ft?$(le(ce,{plainObjects:ct}),ce.length-1):ce},Wt=function(G,Ze){if(E(G)){for(var Ft=[],ct=0;ct<G.length;ct+=1)Ft.push(Ze(G[ct]));return Ft}return Ze(G)};return gee={arrayToObject:le,assign:Me,combine:dt,compact:ot,decode:de,encode:re,isBuffer:J,isOverflow:I,isRegExp:it,maybeMap:Wt,merge:me},gee}var hee,Ise;function qhe(){if(Ise)return hee;Ise=1;var l=ble(),m=yle(),b=Nte(),E=Object.prototype.hasOwnProperty,D={brackets:function(re){return re+"[]"},comma:"comma",indices:function(re,ot){return re+"["+ot+"]"},repeat:function(re){return re}},$=Array.isArray,I=Array.prototype.push,H=function(Se,re){I.apply(Se,$(re)?re:[re])},K=Date.prototype.toISOString,X=b.default,ae={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:m.encode,encodeValuesOnly:!1,filter:void 0,format:X,formatter:b.formatters[X],indices:!1,serializeDate:function(re){return K.call(re)},skipNulls:!1,strictNullHandling:!1},le=function(re){return typeof re=="string"||typeof re=="number"||typeof re=="boolean"||typeof re=="symbol"||typeof re=="bigint"},me={},Me=function Se(re,ot,it,J,dt,Wt,Ae,G,Ze,Ft,ct,Ce,ce,Pt,je,lt,F,dn){for(var Te=re,rn=dn,yt=0,se=!1;(rn=rn.get(me))!==void 0&&!se;){var $e=rn.get(re);if(yt+=1,typeof $e<"u"){if($e===yt)throw new RangeError("Cyclic object value");se=!0}typeof rn.get(me)>"u"&&(yt=0)}if(typeof Ft=="function"?Te=Ft(ot,Te):Te instanceof Date?Te=ce(Te):it==="comma"&&$(Te)&&(Te=m.maybeMap(Te,function(Ve){return Ve instanceof Date?ce(Ve):Ve})),Te===null){if(Wt)return Ze&&!lt?Ze(ot,ae.encoder,F,"key",Pt):ot;Te=""}if(le(Te)||m.isBuffer(Te)){if(Ze){var Mt=lt?ot:Ze(ot,ae.encoder,F,"key",Pt);return[je(Mt)+"="+je(Ze(Te,ae.encoder,F,"value",Pt))]}return[je(ot)+"="+je(String(Te))]}var Qe=[];if(typeof Te>"u")return Qe;var Ct;if(it==="comma"&&$(Te))lt&&Ze&&(Te=m.maybeMap(Te,Ze)),Ct=[{value:Te.length>0?Te.join(",")||null:void 0}];else if($(Ft))Ct=Ft;else{var He=Object.keys(Te);Ct=ct?He.sort(ct):He}var ut=G?String(ot).replace(/\./g,"%2E"):String(ot),W=J&&$(Te)&&Te.length===1?ut+"[]":ut;if(dt&&$(Te)&&Te.length===0)return W+"[]";for(var Wn=0;Wn<Ct.length;++Wn){var Yt=Ct[Wn],jn=typeof Yt=="object"&&Yt&&typeof Yt.value<"u"?Yt.value:Te[Yt];if(!(Ae&&jn===null)){var Cn=Ce&&G?String(Yt).replace(/\./g,"%2E"):String(Yt),No=$(Te)?typeof it=="function"?it(W,Cn):W:W+(Ce?"."+Cn:"["+Cn+"]");dn.set(re,yt);var Re=l();Re.set(me,dn),H(Qe,Se(jn,No,it,J,dt,Wt,Ae,G,it==="comma"&&lt&&$(Te)?null:Ze,Ft,ct,Ce,ce,Pt,je,lt,F,Re))}}return Qe},de=function(re){if(!re)return ae;if(typeof re.allowEmptyArrays<"u"&&typeof re.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof re.encodeDotInKeys<"u"&&typeof re.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(re.encoder!==null&&typeof re.encoder<"u"&&typeof re.encoder!="function")throw new TypeError("Encoder has to be a function.");var ot=re.charset||ae.charset;if(typeof re.charset<"u"&&re.charset!=="utf-8"&&re.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var it=b.default;if(typeof re.format<"u"){if(!E.call(b.formatters,re.format))throw new TypeError("Unknown format option provided.");it=re.format}var J=b.formatters[it],dt=ae.filter;(typeof re.filter=="function"||$(re.filter))&&(dt=re.filter);var Wt;if(re.arrayFormat in D?Wt=re.arrayFormat:"indices"in re?Wt=re.indices?"indices":"repeat":Wt=ae.arrayFormat,"commaRoundTrip"in re&&typeof re.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Ae=typeof re.allowDots>"u"?re.encodeDotInKeys===!0?!0:ae.allowDots:!!re.allowDots;return{addQueryPrefix:typeof re.addQueryPrefix=="boolean"?re.addQueryPrefix:ae.addQueryPrefix,allowDots:Ae,allowEmptyArrays:typeof re.allowEmptyArrays=="boolean"?!!re.allowEmptyArrays:ae.allowEmptyArrays,arrayFormat:Wt,charset:ot,charsetSentinel:typeof re.charsetSentinel=="boolean"?re.charsetSentinel:ae.charsetSentinel,commaRoundTrip:!!re.commaRoundTrip,delimiter:typeof re.delimiter>"u"?ae.delimiter:re.delimiter,encode:typeof re.encode=="boolean"?re.encode:ae.encode,encodeDotInKeys:typeof re.encodeDotInKeys=="boolean"?re.encodeDotInKeys:ae.encodeDotInKeys,encoder:typeof re.encoder=="function"?re.encoder:ae.encoder,encodeValuesOnly:typeof re.encodeValuesOnly=="boolean"?re.encodeValuesOnly:ae.encodeValuesOnly,filter:dt,format:it,formatter:J,serializeDate:typeof re.serializeDate=="function"?re.serializeDate:ae.serializeDate,skipNulls:typeof re.skipNulls=="boolean"?re.skipNulls:ae.skipNulls,sort:typeof re.sort=="function"?re.sort:null,strictNullHandling:typeof re.strictNullHandling=="boolean"?re.strictNullHandling:ae.strictNullHandling}};return hee=function(Se,re){var ot=Se,it=de(re),J,dt;typeof it.filter=="function"?(dt=it.filter,ot=dt("",ot)):$(it.filter)&&(dt=it.filter,J=dt);var Wt=[];if(typeof ot!="object"||ot===null)return"";var Ae=D[it.arrayFormat],G=Ae==="comma"&&it.commaRoundTrip;J||(J=Object.keys(ot)),it.sort&&J.sort(it.sort);for(var Ze=l(),Ft=0;Ft<J.length;++Ft){var ct=J[Ft],Ce=ot[ct];it.skipNulls&&Ce===null||H(Wt,Me(Ce,ct,Ae,G,it.allowEmptyArrays,it.strictNullHandling,it.skipNulls,it.encodeDotInKeys,it.encode?it.encoder:null,it.filter,it.sort,it.allowDots,it.serializeDate,it.format,it.formatter,it.encodeValuesOnly,it.charset,Ze))}var ce=Wt.join(it.delimiter),Pt=it.addQueryPrefix===!0?"?":"";return it.charsetSentinel&&(it.charset==="iso-8859-1"?Pt+="utf8=%26%2310003%3B&":Pt+="utf8=%E2%9C%93&"),ce.length>0?Pt+ce:""},hee}var vee,$se;function Ghe(){if($se)return vee;$se=1;var l=yle(),m=Object.prototype.hasOwnProperty,b=Array.isArray,E={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:l.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},D=function(Me){return Me.replace(/&#(\d+);/g,function(de,Se){return String.fromCharCode(parseInt(Se,10))})},$=function(Me,de,Se){if(Me&&typeof Me=="string"&&de.comma&&Me.indexOf(",")>-1)return Me.split(",");if(de.throwOnLimitExceeded&&Se>=de.arrayLimit)throw new RangeError("Array limit exceeded. Only "+de.arrayLimit+" element"+(de.arrayLimit===1?"":"s")+" allowed in an array.");return Me},I="utf8=%26%2310003%3B",H="utf8=%E2%9C%93",K=function(de,Se){var re={__proto__:null},ot=Se.ignoreQueryPrefix?de.replace(/^\?/,""):de;ot=ot.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var it=Se.parameterLimit===1/0?void 0:Se.parameterLimit,J=ot.split(Se.delimiter,Se.throwOnLimitExceeded?it+1:it);if(Se.throwOnLimitExceeded&&J.length>it)throw new RangeError("Parameter limit exceeded. Only "+it+" parameter"+(it===1?"":"s")+" allowed.");var dt=-1,Wt,Ae=Se.charset;if(Se.charsetSentinel)for(Wt=0;Wt<J.length;++Wt)J[Wt].indexOf("utf8=")===0&&(J[Wt]===H?Ae="utf-8":J[Wt]===I&&(Ae="iso-8859-1"),dt=Wt,Wt=J.length);for(Wt=0;Wt<J.length;++Wt)if(Wt!==dt){var G=J[Wt],Ze=G.indexOf("]="),Ft=Ze===-1?G.indexOf("="):Ze+1,ct,Ce;if(Ft===-1?(ct=Se.decoder(G,E.decoder,Ae,"key"),Ce=Se.strictNullHandling?null:""):(ct=Se.decoder(G.slice(0,Ft),E.decoder,Ae,"key"),ct!==null&&(Ce=l.maybeMap($(G.slice(Ft+1),Se,b(re[ct])?re[ct].length:0),function(Pt){return Se.decoder(Pt,E.decoder,Ae,"value")}))),Ce&&Se.interpretNumericEntities&&Ae==="iso-8859-1"&&(Ce=D(String(Ce))),G.indexOf("[]=")>-1&&(Ce=b(Ce)?[Ce]:Ce),ct!==null){var ce=m.call(re,ct);ce&&Se.duplicates==="combine"?re[ct]=l.combine(re[ct],Ce,Se.arrayLimit,Se.plainObjects):(!ce||Se.duplicates==="last")&&(re[ct]=Ce)}}return re},X=function(Me,de,Se,re){var ot=0;if(Me.length>0&&Me[Me.length-1]==="[]"){var it=Me.slice(0,-1).join("");ot=Array.isArray(de)&&de[it]?de[it].length:0}for(var J=re?de:$(de,Se,ot),dt=Me.length-1;dt>=0;--dt){var Wt,Ae=Me[dt];if(Ae==="[]"&&Se.parseArrays)l.isOverflow(J)?Wt=J:Wt=Se.allowEmptyArrays&&(J===""||Se.strictNullHandling&&J===null)?[]:l.combine([],J,Se.arrayLimit,Se.plainObjects);else{Wt=Se.plainObjects?{__proto__:null}:{};var G=Ae.charAt(0)==="["&&Ae.charAt(Ae.length-1)==="]"?Ae.slice(1,-1):Ae,Ze=Se.decodeDotInKeys?G.replace(/%2E/g,"."):G,Ft=parseInt(Ze,10);!Se.parseArrays&&Ze===""?Wt={0:J}:!isNaN(Ft)&&Ae!==Ze&&String(Ft)===Ze&&Ft>=0&&Se.parseArrays&&Ft<=Se.arrayLimit?(Wt=[],Wt[Ft]=J):Ze!=="__proto__"&&(Wt[Ze]=J)}J=Wt}return J},ae=function(de,Se){var re=Se.allowDots?de.replace(/\.([^.[]+)/g,"[$1]"):de;if(Se.depth<=0)return!Se.plainObjects&&m.call(Object.prototype,re)&&!Se.allowPrototypes?void 0:[re];var ot=/(\[[^[\]]*])/,it=/(\[[^[\]]*])/g,J=ot.exec(re),dt=J?re.slice(0,J.index):re,Wt=[];if(dt){if(!Se.plainObjects&&m.call(Object.prototype,dt)&&!Se.allowPrototypes)return;Wt.push(dt)}for(var Ae=0;(J=it.exec(re))!==null&&Ae<Se.depth;){Ae+=1;var G=J[1].slice(1,-1);if(!Se.plainObjects&&m.call(Object.prototype,G)&&!Se.allowPrototypes)return;Wt.push(J[1])}if(J){if(Se.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+Se.depth+" and strictDepth is true");Wt.push("["+re.slice(J.index)+"]")}return Wt},le=function(de,Se,re,ot){if(de){var it=ae(de,re);if(it)return X(it,Se,re,ot)}},me=function(de){if(!de)return E;if(typeof de.allowEmptyArrays<"u"&&typeof de.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof de.decodeDotInKeys<"u"&&typeof de.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(de.decoder!==null&&typeof de.decoder<"u"&&typeof de.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof de.charset<"u"&&de.charset!=="utf-8"&&de.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof de.throwOnLimitExceeded<"u"&&typeof de.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var Se=typeof de.charset>"u"?E.charset:de.charset,re=typeof de.duplicates>"u"?E.duplicates:de.duplicates;if(re!=="combine"&&re!=="first"&&re!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var ot=typeof de.allowDots>"u"?de.decodeDotInKeys===!0?!0:E.allowDots:!!de.allowDots;return{allowDots:ot,allowEmptyArrays:typeof de.allowEmptyArrays=="boolean"?!!de.allowEmptyArrays:E.allowEmptyArrays,allowPrototypes:typeof de.allowPrototypes=="boolean"?de.allowPrototypes:E.allowPrototypes,allowSparse:typeof de.allowSparse=="boolean"?de.allowSparse:E.allowSparse,arrayLimit:typeof de.arrayLimit=="number"?de.arrayLimit:E.arrayLimit,charset:Se,charsetSentinel:typeof de.charsetSentinel=="boolean"?de.charsetSentinel:E.charsetSentinel,comma:typeof de.comma=="boolean"?de.comma:E.comma,decodeDotInKeys:typeof de.decodeDotInKeys=="boolean"?de.decodeDotInKeys:E.decodeDotInKeys,decoder:typeof de.decoder=="function"?de.decoder:E.decoder,delimiter:typeof de.delimiter=="string"||l.isRegExp(de.delimiter)?de.delimiter:E.delimiter,depth:typeof de.depth=="number"||de.depth===!1?+de.depth:E.depth,duplicates:re,ignoreQueryPrefix:de.ignoreQueryPrefix===!0,interpretNumericEntities:typeof de.interpretNumericEntities=="boolean"?de.interpretNumericEntities:E.interpretNumericEntities,parameterLimit:typeof de.parameterLimit=="number"?de.parameterLimit:E.parameterLimit,parseArrays:de.parseArrays!==!1,plainObjects:typeof de.plainObjects=="boolean"?de.plainObjects:E.plainObjects,strictDepth:typeof de.strictDepth=="boolean"?!!de.strictDepth:E.strictDepth,strictNullHandling:typeof de.strictNullHandling=="boolean"?de.strictNullHandling:E.strictNullHandling,throwOnLimitExceeded:typeof de.throwOnLimitExceeded=="boolean"?de.throwOnLimitExceeded:!1}};return vee=function(Me,de){var Se=me(de);if(Me===""||Me===null||typeof Me>"u")return Se.plainObjects?{__proto__:null}:{};for(var re=typeof Me=="string"?K(Me,Se):Me,ot=Se.plainObjects?{__proto__:null}:{},it=Object.keys(re),J=0;J<it.length;++J){var dt=it[J],Wt=le(dt,re[dt],Se,typeof Me=="string");ot=l.merge(ot,Wt,Se)}return Se.allowSparse===!0?ot:l.compact(ot)},vee}var bee,Lse;function Khe(){if(Lse)return bee;Lse=1;var l=qhe(),m=Ghe(),b=Nte();return bee={formats:b,parse:m,stringify:l},bee}var Hse=Khe(),Yhe=class{constructor(l){this.config={},this.defaults=l}extend(l){return l&&(this.defaults={...this.defaults,...l}),this}replace(l){this.config=l}get(l){return cle(this.config,l)?ib(this.config,l):ib(this.defaults,l)}set(l,m){typeof l=="string"?M0(this.config,l,m):Object.entries(l).forEach(([b,E])=>{M0(this.config,b,E)})}},LE=new Yhe({form:{recentlySuccessfulDuration:2e3,forceIndicesArrayFormatInFormData:!0},future:{preserveEqualProps:!1,useDataInertiaHeadAttribute:!1,useDialogForErrorModal:!1,useScriptElementForInitialPage:!1},prefetch:{cacheFor:3e4,hoverDelay:75}});function I5(l,m){let b;return function(...E){clearTimeout(b),b=setTimeout(()=>l.apply(this,E),m)}}function eh(l,m){return document.dispatchEvent(new CustomEvent(`inertia:${l}`,m))}var zse=l=>eh("before",{cancelable:!0,detail:{visit:l}}),Xhe=l=>eh("error",{detail:{errors:l}}),Qhe=l=>eh("exception",{cancelable:!0,detail:{exception:l}}),Jhe=l=>eh("finish",{detail:{visit:l}}),e1e=l=>eh("invalid",{cancelable:!0,detail:{response:l}}),t1e=l=>eh("beforeUpdate",{detail:{page:l}}),_5=l=>eh("navigate",{detail:{page:l}}),n1e=l=>eh("progress",{detail:{progress:l}}),o1e=l=>eh("start",{detail:{visit:l}}),s1e=l=>eh("success",{detail:{page:l}}),r1e=(l,m)=>eh("prefetched",{detail:{fetchedAt:Date.now(),response:l.data,visit:m}}),a1e=l=>eh("prefetching",{detail:{visit:l}}),kH=l=>eh("flash",{detail:{flash:l}}),op=class{static set(l,m){typeof window<"u"&&window.sessionStorage.setItem(l,JSON.stringify(m))}static get(l){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(l)||"null")}static merge(l,m){const b=this.get(l);b===null?this.set(l,m):this.set(l,{...b,...m})}static remove(l){typeof window<"u"&&window.sessionStorage.removeItem(l)}static removeNested(l,m){const b=this.get(l);b!==null&&(delete b[m],this.set(l,b))}static exists(l){try{return this.get(l)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};op.locationVisitKey="inertiaLocationVisit";var i1e=async l=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const m=wle(),b=await Cle(),E=await m1e(b);if(!E)throw new Error("Unable to encrypt history");return await c1e(m,E,l)},b4={key:"historyKey",iv:"historyIv"},l1e=async l=>{const m=wle(),b=await Cle();if(!b)throw new Error("Unable to decrypt history");return await u1e(m,b,l)},c1e=async(l,m,b)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(b);const E=new TextEncoder,D=JSON.stringify(b),$=new Uint8Array(D.length*3),I=E.encodeInto(D,$);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:l},m,$.subarray(0,I.written))},u1e=async(l,m,b)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(b);const E=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:l},m,b);return JSON.parse(new TextDecoder().decode(E))},wle=()=>{const l=op.get(b4.iv);if(l)return new Uint8Array(l);const m=window.crypto.getRandomValues(new Uint8Array(12));return op.set(b4.iv,Array.from(m)),m},d1e=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),f1e=async l=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const m=await window.crypto.subtle.exportKey("raw",l);op.set(b4.key,Array.from(new Uint8Array(m)))},m1e=async l=>{if(l)return l;const m=await d1e();return m?(await f1e(m),m):null},Cle=async()=>{const l=op.get(b4.key);return l?await window.crypto.subtle.importKey("raw",new Uint8Array(l),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},Sle=(l,m,b)=>{if(l===m)return!0;for(const E in l)if(!b.includes(E)&&l[E]!==m[E]&&!p1e(l[E],m[E]))return!1;for(const E in m)if(!b.includes(E)&&!(E in l))return!1;return!0},p1e=(l,m)=>{switch(typeof l){case"object":return Sle(l,m,[]);case"function":return l.toString()===m.toString();default:return l===m}},g1e={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},Use=l=>{if(typeof l=="number")return l;for(const[m,b]of Object.entries(g1e))if(l.endsWith(m))return parseFloat(l)*b;return parseInt(l)},h1e=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(l,m,{cacheFor:b,cacheTags:E}){if(this.findInFlight(l))return Promise.resolve();const $=this.findCached(l);if(!l.fresh&&$&&$.staleTimestamp>Date.now())return Promise.resolve();const[I,H]=this.extractStaleValues(b),K=new Promise((X,ae)=>{m({...l,onCancel:()=>{this.remove(l),l.onCancel(),ae()},onError:le=>{this.remove(l),l.onError(le),ae()},onPrefetching(le){l.onPrefetching(le)},onPrefetched(le,me){l.onPrefetched(le,me)},onPrefetchResponse(le){X(le)},onPrefetchError(le){nb.removeFromInFlight(l),ae(le)}})}).then(X=>{this.remove(l);const ae=X.getPageResponse();ws.mergeOncePropsIntoResponse(ae),this.cached.push({params:{...l},staleTimestamp:Date.now()+I,expiresAt:Date.now()+H,response:K,singleUse:H===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(E)?E:[E]});const le=this.getShortestOncePropTtl(ae);return this.scheduleForRemoval(l,le?Math.min(H,le):H),this.removeFromInFlight(l),X.handlePrefetch(),X});return this.inFlightRequests.push({params:{...l},response:K,staleTimestamp:null,inFlight:!0}),K}removeAll(){this.cached=[],this.removalTimers.forEach(l=>{clearTimeout(l.timer)}),this.removalTimers=[]}removeByTags(l){this.cached=this.cached.filter(m=>!m.tags.some(b=>l.includes(b)))}remove(l){this.cached=this.cached.filter(m=>!this.paramsAreEqual(m.params,l)),this.clearTimer(l)}removeFromInFlight(l){this.inFlightRequests=this.inFlightRequests.filter(m=>!this.paramsAreEqual(m.params,l))}extractStaleValues(l){const[m,b]=this.cacheForToStaleAndExpires(l);return[Use(m),Use(b)]}cacheForToStaleAndExpires(l){if(!Array.isArray(l))return[l,l];switch(l.length){case 0:return[0,0];case 1:return[l[0],l[0]];default:return[l[0],l[1]]}}clearTimer(l){const m=this.removalTimers.find(b=>this.paramsAreEqual(b.params,l));m&&(clearTimeout(m.timer),this.removalTimers=this.removalTimers.filter(b=>b!==m))}scheduleForRemoval(l,m){if(!(typeof window>"u")&&(this.clearTimer(l),m>0)){const b=window.setTimeout(()=>this.remove(l),m);this.removalTimers.push({params:l,timer:b})}}get(l){return this.findCached(l)||this.findInFlight(l)}use(l,m){const b=`${m.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=b,l.response.then(E=>{if(this.currentUseId===b)return E.mergeParams({...m,onPrefetched:()=>{}}),this.removeSingleUseItems(m),E.handle()})}removeSingleUseItems(l){this.cached=this.cached.filter(m=>this.paramsAreEqual(m.params,l)?!m.singleUse:!0)}findCached(l){return this.cached.find(m=>this.paramsAreEqual(m.params,l))||null}findInFlight(l){return this.inFlightRequests.find(m=>this.paramsAreEqual(m.params,l))||null}withoutPurposePrefetchHeader(l){const m=D0(l);return m.headers.Purpose==="prefetch"&&delete m.headers.Purpose,m}paramsAreEqual(l,m){return Sle(this.withoutPurposePrefetchHeader(l),this.withoutPurposePrefetchHeader(m),["showProgress","replace","prefetch","preserveScroll","preserveState","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onFlash","onPrefetched","onCancelToken","onPrefetching","async","viewTransition"])}updateCachedOncePropsFromCurrentPage(){this.cached.forEach(l=>{l.response.then(m=>{const b=m.getPageResponse();ws.mergeOncePropsIntoResponse(b,{force:!0});for(const[I,H]of Object.entries(b.deferredProps??{})){const K=H.filter(X=>b.props[X]===void 0);K.length>0?b.deferredProps[I]=K:delete b.deferredProps[I]}const E=this.getShortestOncePropTtl(b);if(E===null)return;const D=l.expiresAt-Date.now(),$=Math.min(D,E);$>0?this.scheduleForRemoval(l.params,$):this.remove(l.params)})})}getShortestOncePropTtl(l){const m=Object.values(l.onceProps??{}).map(b=>b.expiresAt).filter(b=>!!b);return m.length===0?null:Math.min(...m)-Date.now()}},nb=new h1e,eg=class{static save(){li.saveScrollPositions(this.getScrollRegions())}static getScrollRegions(){return Array.from(this.regions()).map(l=>({top:l.scrollTop,left:l.scrollLeft}))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){typeof window<"u"&&window.location.hash||window.scrollTo(0,0),this.regions().forEach(m=>{typeof m.scrollTo=="function"?m.scrollTo(0,0):(m.scrollTop=0,m.scrollLeft=0)}),this.save(),this.scrollToAnchor()}static scrollToAnchor(){const l=typeof window<"u"?window.location.hash:null;l&&setTimeout(()=>{const m=document.getElementById(l.slice(1));m?m.scrollIntoView():window.scrollTo(0,0)})}static restore(l){typeof window>"u"||window.requestAnimationFrame(()=>{this.restoreDocument(),this.restoreScrollRegions(l)})}static restoreScrollRegions(l){typeof window>"u"||this.regions().forEach((m,b)=>{const E=l[b];E&&(typeof m.scrollTo=="function"?m.scrollTo(E.left,E.top):(m.scrollTop=E.top,m.scrollLeft=E.left))})}static restoreDocument(){const l=li.getDocumentScrollPosition();window.scrollTo(l.left,l.top)}static onScroll(l){const m=l.target;typeof m.hasAttribute=="function"&&m.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){li.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}},Bte=l=>typeof File<"u"&&l instanceof File||l instanceof Blob||typeof FileList<"u"&&l instanceof FileList&&l.length>0;function Qee(l){return Bte(l)||l instanceof FormData&&Array.from(l.values()).some(m=>Qee(m))||typeof l=="object"&&l!==null&&Object.values(l).some(m=>Qee(m))}var Jee=l=>l instanceof FormData;function xle(l,m=new FormData,b=null,E="brackets"){l=l||{};for(const D in l)Object.prototype.hasOwnProperty.call(l,D)&&Ale(m,Ele(b,D,"indices"),l[D],E);return m}function Ele(l,m,b){return l?b==="brackets"?`${l}[]`:`${l}[${m}]`:m}function Ale(l,m,b,E){if(Array.isArray(b))return Array.from(b.keys()).forEach(D=>Ale(l,Ele(m,D.toString(),E),b[D],E));if(b instanceof Date)return l.append(m,b.toISOString());if(b instanceof File)return l.append(m,b,b.name);if(b instanceof Blob)return l.append(m,b);if(typeof b=="boolean")return l.append(m,b?"1":"0");if(typeof b=="string")return l.append(m,b);if(typeof b=="number")return l.append(m,`${b}`);if(b==null)return l.append(m,"");xle(b,l,m,E)}function R0(l){return new URL(l.toString(),typeof window>"u"?void 0:window.location.toString())}var v1e=(l,m,b,E,D)=>{let $=typeof l=="string"?R0(l):l;if((Qee(m)||E)&&!Jee(m)&&(LE.get("form.forceIndicesArrayFormatInFormData")&&(D="indices"),m=xle(m,new FormData,null,D)),Jee(m))return[$,m];const[I,H]=Ite(b,$,m,D);return[R0(I),H]};function Ite(l,m,b,E="brackets"){const D=l==="get"&&!Jee(b)&&Object.keys(b).length>0,$=Tle(m.toString()),I=$||m.toString().startsWith("/")||m.toString()==="",H=!I&&!m.toString().startsWith("#")&&!m.toString().startsWith("?"),K=/^[.]{1,2}([/]|$)/.test(m.toString()),X=m.toString().includes("?")||D,ae=m.toString().includes("#"),le=new URL(m.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(D){const me=/\[\d+\]/.test(le.search),Me={ignoreQueryPrefix:!0,allowSparse:!0};le.search=Hse.stringify({...Hse.parse(le.search,Me),...b},{encodeValuesOnly:!0,arrayFormat:me?"indices":E})}return[[$?`${le.protocol}//${le.host}`:"",I?le.pathname:"",H?le.pathname.substring(K?0:1):"",X?le.search:"",ae?le.hash:""].join(""),D?{}:b]}function _H(l){return l=new URL(l.href),l.hash="",l}var Vse=(l,m)=>{l.hash&&!m.hash&&_H(l).href===m.href&&(m.hash=l.hash)},ete=(l,m)=>_H(l).href===_H(m).href;function Zy(l){return l!==null&&typeof l=="object"&&l!==void 0&&"url"in l&&"method"in l}function Tle(l){return/^([a-z][a-z0-9+.-]*:)?\/\/[^/]/i.test(l)}function b1e(l,m){const b=typeof l=="string"?R0(l):l;return m?`${b.protocol}//${b.host}${b.pathname}${b.search}${b.hash}`:`${b.pathname}${b.search}${b.hash}`}var y1e=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null,this.historyQuotaExceeded=!1}init({initialPage:l,swapComponent:m,resolveComponent:b,onFlash:E}){return this.page={...l,flash:l.flash??{}},this.swapComponent=m,this.resolveComponent=b,this.onFlashCallback=E,ob.on("historyQuotaExceeded",()=>{this.historyQuotaExceeded=!0}),this}set(l,{replace:m=!1,preserveScroll:b=!1,preserveState:E=!1,viewTransition:D=!1}={}){Object.keys(l.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:l.deferredProps,component:l.component,url:l.url}),this.componentId={};const $=this.componentId;return l.clearHistory&&li.clear(),this.resolve(l.component).then(I=>{if($!==this.componentId)return;l.rememberedState??(l.rememberedState={});const H=typeof window>"u",K=H?new URL(l.url):window.location,X=!H&&b?eg.getScrollRegions():[];m=m||ete(R0(l.url),K);const ae={...l,flash:{}};return new Promise(le=>m?li.replaceState(ae,le):li.pushState(ae,le)).then(()=>{const le=!this.isTheSame(l);if(!le&&Object.keys(l.props.errors||{}).length>0&&(D=!1),this.page=l,this.cleared=!1,this.hasOnceProps()&&nb.updateCachedOncePropsFromCurrentPage(),le&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.historyQuotaExceeded){this.historyQuotaExceeded=!1;return}return this.swap({component:I,page:l,preserveState:E,viewTransition:D}).then(()=>{b?window.requestAnimationFrame(()=>eg.restoreScrollRegions(X)):eg.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===l.component&&this.pendingDeferredProps.url===l.url&&ob.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,m||_5(l)})})})}setQuietly(l,{preserveState:m=!1}={}){return this.resolve(l.component).then(b=>(this.page=l,this.cleared=!1,li.setCurrent(l),this.swap({component:b,page:l,preserveState:m,viewTransition:!1})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}getWithoutFlashData(){return{...this.page,flash:{}}}hasOnceProps(){return Object.keys(this.page.onceProps??{}).length>0}merge(l){this.page={...this.page,...l}}setFlash(l){this.page={...this.page,flash:l},this.onFlashCallback?.(l)}setUrlHash(l){this.page.url.includes(l)||(this.page.url+=l)}remember(l){this.page.rememberedState=l}swap({component:l,page:m,preserveState:b,viewTransition:E}){const D=()=>this.swapComponent({component:l,page:m,preserveState:b});if(!E||!document?.startViewTransition)return D();const $=typeof E=="boolean"?()=>null:E;return new Promise(I=>{const H=document.startViewTransition(()=>D().then(I));$(H)})}resolve(l){return Promise.resolve(this.resolveComponent(l))}isTheSame(l){return this.page.component===l.component}on(l,m){return this.listeners.push({event:l,callback:m}),()=>{this.listeners=this.listeners.filter(b=>b.event!==l&&b.callback!==m)}}fireEventsFor(l){this.listeners.filter(m=>m.event===l).forEach(m=>m.callback())}mergeOncePropsIntoResponse(l,{force:m=!1}={}){Object.entries(l.onceProps??{}).forEach(([b,E])=>{const D=this.page.onceProps?.[b];D!==void 0&&(m||l.props[E.prop]===void 0)&&(l.props[E.prop]=this.page.props[D.prop],l.onceProps[b].expiresAt=D.expiresAt)})}},ws=new y1e,GH=class{constructor(){this.items=[],this.processingPromise=null}add(l){return this.items.push(l),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const l=this.items.shift();return l?Promise.resolve(l()).then(()=>this.processNext()):Promise.resolve()}},p4=typeof window>"u",w5=new GH,Wse=!p4&&/CriOS/.test(window.navigator.userAgent),w1e=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(l,m){this.replaceState({...ws.getWithoutFlashData(),rememberedState:{...ws.get()?.rememberedState??{},[m]:l}})}restore(l){if(!p4)return this.current[this.rememberedState]?.[l]!==void 0?this.current[this.rememberedState]?.[l]:this.initialState?.[this.rememberedState]?.[l]}pushState(l,m=null){if(!p4){if(this.preserveUrl){m&&m();return}this.current=l,w5.add(()=>this.getPageData(l).then(b=>{const E=()=>this.doPushState({page:b},l.url).then(()=>m?.());return Wse?new Promise(D=>{setTimeout(()=>E().then(D))}):E()}))}}clonePageProps(l){try{return structuredClone(l.props),l}catch{return{...l,props:D0(l.props)}}}getPageData(l){const m=this.clonePageProps(l);return new Promise(b=>l.encryptHistory?i1e(m).then(b):b(m))}processQueue(){return w5.process()}decrypt(l=null){if(p4)return Promise.resolve(l??ws.get());const m=l??window.history.state?.page;return this.decryptPageData(m).then(b=>{if(!b)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=b??void 0:this.current=b??{},b})}decryptPageData(l){return l instanceof ArrayBuffer?l1e(l):Promise.resolve(l)}saveScrollPositions(l){w5.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!$E(this.getScrollRegions(),l))return this.doReplaceState({page:window.history.state.page,scrollRegions:l})}))}saveDocumentScrollPosition(l){w5.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!$E(this.getDocumentScrollPosition(),l))return this.doReplaceState({page:window.history.state.page,documentScrollPosition:l})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(l,m=null){if(ws.merge(l),!p4){if(this.preserveUrl){m&&m();return}this.current=l,w5.add(()=>this.getPageData(l).then(b=>{const E=()=>this.doReplaceState({page:b},l.url).then(()=>m?.());return Wse?new Promise(D=>{setTimeout(()=>E().then(D))}):E()}))}}isHistoryThrottleError(l){return l instanceof Error&&l.name==="SecurityError"&&(l.message.includes("history.pushState")||l.message.includes("history.replaceState"))}isQuotaExceededError(l){return l instanceof Error&&l.name==="QuotaExceededError"}withThrottleProtection(l){return Promise.resolve().then(()=>{try{return l()}catch(m){if(!this.isHistoryThrottleError(m))throw m;console.error(m.message)}})}doReplaceState(l,m){return this.withThrottleProtection(()=>{window.history.replaceState({...l,scrollRegions:l.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:l.documentScrollPosition??window.history.state?.documentScrollPosition},"",m)})}doPushState(l,m){return this.withThrottleProtection(()=>{try{window.history.pushState(l,"",m)}catch(b){if(!this.isQuotaExceededError(b))throw b;ob.fireInternalEvent("historyQuotaExceeded",m)}})}getState(l,m){return this.current?.[l]??m}deleteState(l){this.current[l]!==void 0&&(delete this.current[l],this.replaceState(this.current))}clearInitialState(l){this.initialState&&this.initialState[l]!==void 0&&delete this.initialState[l]}browserHasHistoryEntry(){return!p4&&!!window.history.state?.page}clear(){op.remove(b4.key),op.remove(b4.iv)}setCurrent(l){this.current=l}isValidState(l){return!!l.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var li=new w1e,C1e=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",I5(eg.onWindowScroll.bind(eg),100),!0)),typeof document<"u"&&document.addEventListener("scroll",I5(eg.onScroll.bind(eg),100),!0)}onGlobalEvent(l,m){const b=(E=>{const D=m(E);E.cancelable&&!E.defaultPrevented&&D===!1&&E.preventDefault()});return this.registerListener(`inertia:${l}`,b)}on(l,m){return this.internalListeners.push({event:l,listener:m}),()=>{this.internalListeners=this.internalListeners.filter(b=>b.listener!==m)}}onMissingHistoryItem(){ws.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(l,...m){this.internalListeners.filter(b=>b.event===l).forEach(b=>b.listener(...m))}registerListener(l,m){return document.addEventListener(l,m),()=>document.removeEventListener(l,m)}handlePopstateEvent(l){const m=l.state||null;if(m===null){const b=R0(ws.get().url);b.hash=window.location.hash,li.replaceState({...ws.getWithoutFlashData(),url:b.href}),eg.reset();return}if(!li.isValidState(m))return this.onMissingHistoryItem();li.decrypt(m.page).then(b=>{if(ws.get().version!==b.version){this.onMissingHistoryItem();return}Xc.cancelAll(),ws.setQuietly(b,{preserveState:!1}).then(()=>{eg.restore(li.getScrollRegions()),_5(ws.get())})}).catch(()=>{this.onMissingHistoryItem()})}},ob=new C1e,S1e=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},yee=new S1e,x1e=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(m=>m.bind(this)())}static clearRememberedStateOnReload(){yee.isReload()&&(li.deleteState(li.rememberedState),li.clearInitialState(li.rememberedState))}static handleBackForward(){if(!yee.isBackForward()||!li.browserHasHistoryEntry())return!1;const l=li.getScrollRegions();return li.decrypt().then(m=>{ws.set(m,{preserveScroll:!0,preserveState:!0}).then(()=>{eg.restore(l),_5(ws.get())})}).catch(()=>{ob.onMissingHistoryItem()}),!0}static handleLocation(){if(!op.exists(op.locationVisitKey))return!1;const l=op.get(op.locationVisitKey)||{};return op.remove(op.locationVisitKey),typeof window<"u"&&ws.setUrlHash(window.location.hash),li.decrypt(ws.get()).then(()=>{const m=li.getState(li.rememberedState,{}),b=li.getScrollRegions();ws.remember(m),ws.set(ws.get(),{preserveScroll:l.preserveScroll,preserveState:!0}).then(()=>{l.preserveScroll&&eg.restore(b),_5(ws.get())})}).catch(()=>{ob.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&ws.setUrlHash(window.location.hash),ws.set(ws.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{yee.isReload()?eg.restore(li.getScrollRegions()):eg.scrollToAnchor();const l=ws.get();_5(l);const m=l.flash;Object.keys(m).length>0&&kH(m)})}},E1e=class{constructor(l,m,b){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=b.keepAlive??!1,this.cb=m,this.interval=l,(b.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(l){this.throttle=this.keepAlive?!1:l,this.throttle&&(this.cbCount=0)}},A1e=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(l,m,b){const E=new E1e(l,m,b);return this.polls.push(E),{stop:()=>E.stop(),start:()=>E.start()}}clear(){this.polls.forEach(l=>l.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(l=>l.isInBackground(document.hidden))},!1)}},T1e=new A1e,tte=class vH{constructor(m){if(this.callbacks=[],!m.prefetch)this.params=m;else{const b={onBefore:this.wrapCallback(m,"onBefore"),onBeforeUpdate:this.wrapCallback(m,"onBeforeUpdate"),onStart:this.wrapCallback(m,"onStart"),onProgress:this.wrapCallback(m,"onProgress"),onFinish:this.wrapCallback(m,"onFinish"),onCancel:this.wrapCallback(m,"onCancel"),onSuccess:this.wrapCallback(m,"onSuccess"),onError:this.wrapCallback(m,"onError"),onFlash:this.wrapCallback(m,"onFlash"),onCancelToken:this.wrapCallback(m,"onCancelToken"),onPrefetched:this.wrapCallback(m,"onPrefetched"),onPrefetching:this.wrapCallback(m,"onPrefetching")};this.params={...m,...b,onPrefetchResponse:m.onPrefetchResponse||(()=>{}),onPrefetchError:m.onPrefetchError||(()=>{})}}}static create(m){return new vH(m)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}isDeferredPropsRequest(){return this.params.deferredProps===!0}onCancelToken(m){this.params.onCancelToken({cancel:m})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:m=!0,interrupted:b=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=m,this.params.interrupted=b}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(m){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(m)}onPrefetchError(m){this.params.onPrefetchError&&this.params.onPrefetchError(m)}all(){return this.params}headers(){const m={...this.params.headers};this.isPartial()&&(m["X-Inertia-Partial-Component"]=ws.get().component);const b=this.params.only.concat(this.params.reset);return b.length>0&&(m["X-Inertia-Partial-Data"]=b.join(",")),this.params.except.length>0&&(m["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(m["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(m["X-Inertia-Error-Bag"]=this.params.errorBag),m}setPreserveOptions(m){this.params.preserveScroll=vH.resolvePreserveOption(this.params.preserveScroll,m),this.params.preserveState=vH.resolvePreserveOption(this.params.preserveState,m)}runCallbacks(){this.callbacks.forEach(({name:m,args:b})=>{this.params[m](...b)})}merge(m){this.params={...this.params,...m}}wrapCallback(m,b){return(...E)=>{this.recordCallback(b,E),m[b](...E)}}recordCallback(m,b){this.callbacks.push({name:m,args:b})}static resolvePreserveOption(m,b){return typeof m=="function"?m(b):m==="errors"?Object.keys(b.props.errors||{}).length>0:m}},kle={modal:null,listener:null,createIframeAndPage(l){typeof l=="object"&&(l=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(l)}`);const m=document.createElement("html");m.innerHTML=l,m.querySelectorAll("a").forEach(E=>E.setAttribute("target","_top"));const b=document.createElement("iframe");return b.style.backgroundColor="white",b.style.borderRadius="5px",b.style.width="100%",b.style.height="100%",{iframe:b,page:m}},show(l){const{iframe:m,page:b}=this.createIframeAndPage(l);if(this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide()),this.modal.appendChild(m),document.body.prepend(this.modal),document.body.style.overflow="hidden",!m.contentWindow)throw new Error("iframe not yet ready.");m.contentWindow.document.open(),m.contentWindow.document.write(b.outerHTML),m.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(l){l.keyCode===27&&this.hide()}},k1e={show(l){const{iframe:m,page:b}=kle.createIframeAndPage(l);m.style.boxSizing="border-box",m.style.display="block";const E=document.createElement("dialog");E.id="inertia-error-dialog",Object.assign(E.style,{width:"calc(100vw - 100px)",height:"calc(100vh - 100px)",padding:"0",margin:"auto",border:"none",backgroundColor:"transparent"});const D=document.createElement("style");if(D.textContent=`
      dialog#inertia-error-dialog::backdrop {
        background-color: rgba(0, 0, 0, 0.6);
      }

      dialog#inertia-error-dialog:focus {
        outline: none;
      }
    `,document.head.appendChild(D),E.addEventListener("click",$=>{$.target===E&&E.close()}),E.addEventListener("close",()=>{D.remove(),E.remove()}),E.appendChild(m),document.body.prepend(E),E.showModal(),E.focus(),!m.contentWindow)throw new Error("iframe not yet ready.");m.contentWindow.document.open(),m.contentWindow.document.write(b.outerHTML),m.contentWindow.document.close()}},_1e=new GH,jse=class _le{constructor(m,b,E){this.requestParams=m,this.response=b,this.originatingPage=E,this.wasPrefetched=!1}static create(m,b,E){return new _le(m,b,E)}async handlePrefetch(){ete(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return _1e.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),r1e(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await li.processQueue(),li.preserveUrl=this.requestParams.all().preserveUrl;const m=ws.get().flash;await this.setPage();const b=ws.get().props.errors||{};if(Object.keys(b).length>0){const D=this.getScopedErrors(b);return Xhe(D),this.requestParams.all().onError(D)}Xc.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||Xc.flush(ws.get().url);const{flash:E}=ws.get();Object.keys(E).length>0&&(!this.requestParams.isPartial()||!$E(E,m))&&(kH(E),this.requestParams.all().onFlash(E)),s1e(ws.get()),await this.requestParams.all().onSuccess(ws.get()),li.preserveUrl=!1}mergeParams(m){this.requestParams.merge(m)}getPageResponse(){const m=this.getDataFromResponse(this.response.data);return this.response.data={...m,flash:m.flash??{}}}async handleNonInertiaResponse(){if(this.isLocationVisit()){const b=R0(this.getHeader("x-inertia-location"));return Vse(this.requestParams.all().url,b),this.locationVisit(b)}const m={...this.response,data:this.getDataFromResponse(this.response.data)};if(e1e(m))return LE.get("future.useDialogForErrorModal")?k1e.show(m.data):kle.show(m.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(m){return this.response.status===m}getHeader(m){return this.response.headers[m]}hasHeader(m){return this.getHeader(m)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(m){try{if(op.set(op.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;ete(window.location,m)?window.location.reload():window.location.href=m.href}catch{return!1}}async setPage(){const m=this.getPageResponse();return this.shouldSetPage(m)?(this.mergeProps(m),ws.mergeOncePropsIntoResponse(m),this.preserveEqualProps(m),await this.setRememberedState(m),this.requestParams.setPreserveOptions(m),m.url=li.preserveUrl?ws.get().url:this.pageUrl(m),this.requestParams.all().onBeforeUpdate(m),t1e(m),ws.set(m,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState,viewTransition:this.requestParams.all().viewTransition})):Promise.resolve()}getDataFromResponse(m){if(typeof m!="string")return m;try{return JSON.parse(m)}catch{return m}}shouldSetPage(m){if(!this.requestParams.all().async||this.originatingPage.component!==m.component)return!0;if(this.originatingPage.component!==ws.get().component)return!1;const b=R0(this.originatingPage.url),E=R0(ws.get().url);return b.origin===E.origin&&b.pathname===E.pathname}pageUrl(m){const b=R0(m.url);return Vse(this.requestParams.all().url,b),b.pathname+b.search+b.hash}preserveEqualProps(m){if(m.component!==ws.get().component||LE.get("future.preserveEqualProps")!==!0)return;const b=ws.get().props;Object.entries(m.props).forEach(([E,D])=>{$E(D,b[E])&&(m.props[E]=b[E])})}mergeProps(m){if(!this.requestParams.isPartial()||m.component!==ws.get().component)return;const b=m.mergeProps||[],E=m.prependProps||[],D=m.deepMergeProps||[],$=m.matchPropsOn||[],I=(H,K)=>{const X=ib(ws.get().props,H),ae=ib(m.props,H);if(Array.isArray(ae)){const le=this.mergeOrMatchItems(X||[],ae,H,$,K);M0(m.props,H,le)}else if(typeof ae=="object"&&ae!==null){const le={...X||{},...ae};M0(m.props,H,le)}};if(b.forEach(H=>I(H,!0)),E.forEach(H=>I(H,!1)),D.forEach(H=>{const K=ws.get().props[H],X=m.props[H],ae=(le,me,Me)=>Array.isArray(me)?this.mergeOrMatchItems(le,me,Me,$):typeof me=="object"&&me!==null?Object.keys(me).reduce((de,Se)=>(de[Se]=ae(le?le[Se]:void 0,me[Se],`${Me}.${Se}`),de),{...le}):me;m.props[H]=ae(K,X,H)}),m.props={...ws.get().props,...m.props},this.requestParams.isDeferredPropsRequest()){const H=ws.get().props.errors;H&&Object.keys(H).length>0&&(m.props.errors=H)}ws.get().scrollProps&&(m.scrollProps={...ws.get().scrollProps||{},...m.scrollProps||{}}),ws.hasOnceProps()&&(m.onceProps={...ws.get().onceProps||{},...m.onceProps||{}}),m.flash={...ws.get().flash,...this.requestParams.isDeferredPropsRequest()?{}:m.flash}}mergeOrMatchItems(m,b,E,D,$=!0){const I=Array.isArray(m)?m:[],H=D.find(ae=>ae.split(".").slice(0,-1).join(".")===E);if(!H)return $?[...I,...b]:[...b,...I];const K=H.split(".").pop()||"",X=new Map;return b.forEach(ae=>{this.hasUniqueProperty(ae,K)&&X.set(ae[K],ae)}),$?this.appendWithMatching(I,b,X,K):this.prependWithMatching(I,b,X,K)}appendWithMatching(m,b,E,D){const $=m.map(H=>this.hasUniqueProperty(H,D)&&E.has(H[D])?E.get(H[D]):H),I=b.filter(H=>this.hasUniqueProperty(H,D)?!m.some(K=>this.hasUniqueProperty(K,D)&&K[D]===H[D]):!0);return[...$,...I]}prependWithMatching(m,b,E,D){const $=m.filter(I=>this.hasUniqueProperty(I,D)?!E.has(I[D]):!0);return[...b,...$]}hasUniqueProperty(m,b){return m&&typeof m=="object"&&b in m}async setRememberedState(m){const b=await li.getState(li.rememberedState,{});this.requestParams.all().preserveState&&b&&m.component===ws.get().component&&(m.rememberedState=b)}getScopedErrors(m){return this.requestParams.all().errorBag?m[this.requestParams.all().errorBag||""]||{}:m}},Zse=class Ole{constructor(m,b){this.page=b,this.requestHasFinished=!1,this.requestParams=tte.create(m),this.cancelToken=new AbortController}static create(m,b){return new Ole(m,b)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),o1e(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),a1e(this.requestParams.all()));const m=this.requestParams.all().prefetch;return Qc({method:this.requestParams.all().method,url:_H(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(b=>(this.response=jse.create(this.requestParams,b,this.page),this.response.handle())).catch(b=>b?.response?(this.response=jse.create(this.requestParams,b.response,this.page),this.response.handle()):Promise.reject(b)).catch(b=>{if(!Qc.isCancel(b)&&Qhe(b))return m&&this.requestParams.onPrefetchError(b),Promise.reject(b)}).finally(()=>{this.finish(),m&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,Jhe(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:m=!1,interrupted:b=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:m,interrupted:b}),this.fireFinishEvents())}onProgress(m){this.requestParams.data()instanceof FormData&&(m.percentage=m.progress?Math.round(m.progress*100):0,n1e(m),this.requestParams.all().onProgress(m))}getHeaders(){const m={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},b=ws.get();b.version&&(m["X-Inertia-Version"]=b.version);const E=Object.entries(b.onceProps||{}).filter(([,D])=>b.props[D.prop]===void 0?!1:!D.expiresAt||D.expiresAt>Date.now()).map(([D])=>D);return E.length>0&&(m["X-Inertia-Except-Once-Props"]=E.join(",")),m}},qse=class{constructor({maxConcurrent:l,interruptible:m}){this.requests=[],this.maxConcurrent=l,this.interruptible=m}send(l){this.requests.push(l),l.send().then(()=>{this.requests=this.requests.filter(m=>m!==l)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:l=!1,interrupted:m=!1}={},b){if(!this.shouldCancel(b))return;this.requests.shift()?.cancel({interrupted:m,cancelled:l})}shouldCancel(l){return l?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},O1e=class{constructor(){this.syncRequestStream=new qse({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new qse({maxConcurrent:1/0,interruptible:!1}),this.clientVisitQueue=new GH}init({initialPage:l,resolveComponent:m,swapComponent:b,onFlash:E}){ws.init({initialPage:l,resolveComponent:m,swapComponent:b,onFlash:E}),x1e.handle(),ob.init(),ob.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),ob.on("loadDeferredProps",D=>{this.loadDeferredProps(D)}),ob.on("historyQuotaExceeded",D=>{window.location.href=D})}get(l,m={},b={}){return this.visit(l,{...b,method:"get",data:m})}post(l,m={},b={}){return this.visit(l,{preserveState:!0,...b,method:"post",data:m})}put(l,m={},b={}){return this.visit(l,{preserveState:!0,...b,method:"put",data:m})}patch(l,m={},b={}){return this.visit(l,{preserveState:!0,...b,method:"patch",data:m})}delete(l,m={}){return this.visit(l,{preserveState:!0,...m,method:"delete"})}reload(l={}){return this.doReload(l)}doReload(l={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...l,preserveScroll:!0,preserveState:!0,async:!0,headers:{...l.headers||{},"Cache-Control":"no-cache"}})}remember(l,m="default"){li.remember(l,m)}restore(l="default"){return li.restore(l)}on(l,m){return typeof window>"u"?()=>{}:ob.onGlobalEvent(l,m)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(l,m={},b={}){return T1e.add(l,()=>this.reload(m),{autoStart:b.autoStart??!0,keepAlive:b.keepAlive??!1})}visit(l,m={}){const b=this.getPendingVisit(l,{...m,showProgress:m.showProgress??!m.async}),E=this.getVisitEvents(m);if(E.onBefore(b)===!1||!zse(b))return;const D=b.async?this.asyncRequestStream:this.syncRequestStream;D.interruptInFlight(),!ws.isCleared()&&!b.preserveUrl&&eg.save();const $={...b,...E},I=nb.get($);I?(tg.reveal(I.inFlight),nb.use(I,$)):(tg.reveal(!0),D.send(Zse.create($,ws.get())))}getCached(l,m={}){return nb.findCached(this.getPrefetchParams(l,m))}flush(l,m={}){nb.remove(this.getPrefetchParams(l,m))}flushAll(){nb.removeAll()}flushByCacheTags(l){nb.removeByTags(Array.isArray(l)?l:[l])}getPrefetching(l,m={}){return nb.findInFlight(this.getPrefetchParams(l,m))}prefetch(l,m={},b={}){if((m.method??(Zy(l)?l.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const D=this.getPendingVisit(l,{...m,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),$=D.url.origin+D.url.pathname+D.url.search,I=window.location.origin+window.location.pathname+window.location.search;if($===I)return;const H=this.getVisitEvents(m);if(H.onBefore(D)===!1||!zse(D))return;tg.hide(),this.asyncRequestStream.interruptInFlight();const K={...D,...H};new Promise(ae=>{const le=()=>{ws.get()?ae():setTimeout(le,50)};le()}).then(()=>{nb.add(K,ae=>{this.asyncRequestStream.send(Zse.create(ae,ws.get()))},{cacheFor:LE.get("prefetch.cacheFor"),cacheTags:[],...b})})}clearHistory(){li.clear()}decryptHistory(){return li.decrypt()}resolveComponent(l){return ws.resolve(l)}replace(l){this.clientVisit(l,{replace:!0})}replaceProp(l,m,b){this.replace({preserveScroll:!0,preserveState:!0,props(E){const D=typeof m=="function"?m(ib(E,l),E):m;return M0(D0(E),l,D)},...b||{}})}appendToProp(l,m,b){this.replaceProp(l,(E,D)=>{const $=typeof m=="function"?m(E,D):m;return Array.isArray(E)||(E=E!==void 0?[E]:[]),[...E,$]},b)}prependToProp(l,m,b){this.replaceProp(l,(E,D)=>{const $=typeof m=="function"?m(E,D):m;return Array.isArray(E)||(E=E!==void 0?[E]:[]),[$,...E]},b)}push(l){this.clientVisit(l)}flash(l,m){const b=ws.get().flash;let E;if(typeof l=="function")E=l(b);else if(typeof l=="string")E={...b,[l]:m};else if(l&&Object.keys(l).length)E={...b,...l};else return;ws.setFlash(E),Object.keys(E).length&&kH(E)}clientVisit(l,{replace:m=!1}={}){this.clientVisitQueue.add(()=>this.performClientVisit(l,{replace:m}))}performClientVisit(l,{replace:m=!1}={}){const b=ws.get(),E=typeof l.props=="function"?l.props(b.props):l.props??b.props,D=typeof l.flash=="function"?l.flash(b.flash):l.flash,{viewTransition:$,onError:I,onFinish:H,onFlash:K,onSuccess:X,...ae}=l,le={...b,...ae,flash:D??{},props:E},me=tte.resolvePreserveOption(l.preserveScroll??!1,le),Me=tte.resolvePreserveOption(l.preserveState??!1,le);return ws.set(le,{replace:m,preserveScroll:me,preserveState:Me,viewTransition:$}).then(()=>{const de=ws.get().flash;Object.keys(de).length>0&&(kH(de),K?.(de));const Se=ws.get().props.errors||{};if(Object.keys(Se).length===0){X?.(ws.get());return}const re=l.errorBag?Se[l.errorBag||""]||{}:Se;I?.(re)}).finally(()=>H?.(l))}getPrefetchParams(l,m){return{...this.getPendingVisit(l,{...m,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),...this.getVisitEvents(m)}}getPendingVisit(l,m,b={}){if(Zy(l)){const X=l;l=X.url,m.method=m.method??X.method}const E=LE.get("visitOptions"),D=E?E(l.toString(),D0(m))||{}:{},$={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],viewTransition:!1,...m,...D},[I,H]=v1e(l,$.data,$.method,$.forceFormData,$.queryStringArrayFormat),K={cancelled:!1,completed:!1,interrupted:!1,...$,...b,url:I,data:H};return K.prefetch&&(K.headers.Purpose="prefetch"),K}getVisitEvents(l){return{onCancelToken:l.onCancelToken||(()=>{}),onBefore:l.onBefore||(()=>{}),onBeforeUpdate:l.onBeforeUpdate||(()=>{}),onStart:l.onStart||(()=>{}),onProgress:l.onProgress||(()=>{}),onFinish:l.onFinish||(()=>{}),onCancel:l.onCancel||(()=>{}),onSuccess:l.onSuccess||(()=>{}),onError:l.onError||(()=>{}),onFlash:l.onFlash||(()=>{}),onPrefetched:l.onPrefetched||(()=>{}),onPrefetching:l.onPrefetching||(()=>{})}}loadDeferredProps(l){l&&Object.entries(l).forEach(([m,b])=>{this.doReload({only:b,deferredProps:!0})})}},bH=class{static createWayfinderCallback(...l){return()=>l.length===1?Zy(l[0])?l[0]:l[0]():{method:typeof l[0]=="function"?l[0]():l[0],url:typeof l[1]=="function"?l[1]():l[1]}}static parseUseFormArguments(...l){return l.length===1?{rememberKey:null,data:l[0],precognitionEndpoint:null}:l.length===2?typeof l[0]=="string"?{rememberKey:l[0],data:l[1],precognitionEndpoint:null}:{rememberKey:null,data:l[1],precognitionEndpoint:this.createWayfinderCallback(l[0])}:{rememberKey:null,data:l[2],precognitionEndpoint:this.createWayfinderCallback(l[0],l[1])}}static parseSubmitArguments(l,m){return l.length===3||l.length===2&&typeof l[0]=="string"?{method:l[0],url:l[1],options:l[2]??{}}:Zy(l[0])?{...l[0],options:l[1]??{}}:{...m(),options:l[0]??{}}}static mergeHeadersForValidation(l,m,b){const E=D=>(D.headers={...b??{},...D.headers??{}},D);return l&&typeof l=="object"&&!("target"in l)?l=E(l):m&&typeof m=="object"?m=E(m):typeof l=="string"?m=E(m??{}):l=E(l??{}),[l,m]}},wee=l=>{if(l.offsetParent===null)return!1;const m=l.getBoundingClientRect(),b=m.top<window.innerHeight&&m.bottom>=0,E=m.left<window.innerWidth&&m.right>=0;return b&&E},D1e=l=>{const m=$=>{const I=window.getComputedStyle($);return["scroll","overlay"].includes(I.overflowY)?!0:I.overflowY!=="auto"?!1:["visible","clip"].includes(I.overflowX)?!0:E(I.maxHeight,$.style.height)},b=$=>{const I=window.getComputedStyle($);return["scroll","overlay"].includes(I.overflowX)?!0:I.overflowX!=="auto"?!1:["visible","clip"].includes(I.overflowY)?!0:E(I.maxWidth,$.style.width)},E=($,I)=>!!($&&$!=="none"&&$!=="0px"||I&&I!=="auto"&&I!=="0");let D=l?.parentElement;for(;D;){const $=m(D)||b(D);if(window.getComputedStyle(D).display!=="contents"&&$)return D;D=D.parentElement}return null},Dle=(l,m)=>{if(!m)return l.filter($=>wee($));const b=l.indexOf(m),E=[],D=[];for(let $=b;$>=0;$--){const I=l[$];if(wee(I))E.push(I);else break}for(let $=b+1;$<l.length;$++){const I=l[$];if(wee(I))D.push(I);else break}return[...E.reverse(),...D]},yH=(l,m=1)=>{window.requestAnimationFrame(()=>{m>1?yH(l,m-1):l()})},P1e=(l,m=!1)=>{if(typeof window>"u")return null;if(!m){const E=document.getElementById(l);if(E?.dataset.page)return JSON.parse(E.dataset.page)}const b=document.querySelector(`script[data-page="${l}"][type="application/json"]`);return b?.textContent?JSON.parse(b.textContent):null};function R1e(l){if(!l.includes("."))return l;const m=b=>b.startsWith("[")&&b.endsWith("]")?b:b.split(".").reduce((E,D,$)=>$===0?D:`${E}[${D}]`);return l.replace(/\\\./g,"__ESCAPED_DOT__").split(/(\[[^\]]*\])/).filter(Boolean).map(m).join("").replace(/__ESCAPED_DOT__/g,".")}function F1e(l){const m=[],b=/([^\[\]]+)|\[(\d*)\]/g;let E;for(;(E=b.exec(l))!==null;)E[1]!==void 0?m.push(E[1]):E[2]!==void 0&&m.push(E[2]===""?"":Number(E[2]));return m}function M1e(l,m,b){let E=l;for(let D=0;D<m.length-1;D++)m[D]in E||(E[m[D]]={}),E=E[m[D]];E[m[m.length-1]]=b}function N1e(l){const m=Object.keys(l),b=m.filter(E=>/^\d+$/.test(E)).map(Number).sort((E,D)=>E-D);return m.length===b.length&&b.length>0&&b[0]===0&&b.every((E,D)=>E===D)}function wH(l){if(Array.isArray(l))return l.map(wH);if(typeof l!="object"||l===null||Bte(l))return l;if(N1e(l)){const b=[];for(let E=0;E<Object.keys(l).length;E++)b[E]=wH(l[E]);return b}const m={};for(const b in l)m[b]=wH(l[b]);return m}function Gse(l){const m={};for(const[b,E]of l.entries()){if(E instanceof File&&E.size===0&&E.name==="")continue;const D=F1e(R1e(b));if(D[D.length-1]===""){const $=D.slice(0,-1),I=ib(m,$);if(Array.isArray(I))I.push(E);else if(I&&typeof I=="object"&&!Bte(I)){const H=Object.keys(I).filter(K=>/^\d+$/.test(K)).map(Number).sort((K,X)=>K-X);M0(m,$,H.length>0?[...H.map(K=>I[K]),E]:[E])}else M0(m,$,[E]);continue}M1e(m,D.map(String),E)}return wH(m)}var Cee={preferredAttribute(){return LE.get("future.useDataInertiaHeadAttribute")?"data-inertia":"inertia"},buildDOMElement(l){const m=document.createElement("template");m.innerHTML=l;const b=m.content.firstChild;if(!l.startsWith("<script "))return b;const E=document.createElement("script");return E.innerHTML=b.innerHTML,b.getAttributeNames().forEach(D=>{E.setAttribute(D,b.getAttribute(D)||"")}),E},isInertiaManagedElement(l){return l.nodeType===Node.ELEMENT_NODE&&l.getAttribute(this.preferredAttribute())!==null},findMatchingElementIndex(l,m){const b=this.preferredAttribute(),E=l.getAttribute(b);return E!==null?m.findIndex(D=>D.getAttribute(b)===E):-1},update:I5(function(l){const m=l.map(E=>this.buildDOMElement(E));Array.from(document.head.childNodes).filter(E=>this.isInertiaManagedElement(E)).forEach(E=>{const D=this.findMatchingElementIndex(E,m);if(D===-1){E?.parentNode?.removeChild(E);return}const $=m.splice(D,1)[0];$&&!E.isEqualNode($)&&E?.parentNode?.replaceChild($,E)}),m.forEach(E=>document.head.appendChild(E))},1)};function B1e(l,m,b){const E={};let D=0;function $(){const le=D+=1;return E[le]=[],le.toString()}function I(le){le===null||Object.keys(E).indexOf(le)===-1||(delete E[le],ae())}function H(le){Object.keys(E).indexOf(le)===-1&&(E[le]=[])}function K(le,me=[]){le!==null&&Object.keys(E).indexOf(le)>-1&&(E[le]=me),ae()}function X(){const le=m(""),me=Cee.preferredAttribute(),Me={...le?{title:`<title ${me}="">${le}</title>`}:{}},de=Object.values(E).reduce((Se,re)=>Se.concat(re),[]).reduce((Se,re)=>{if(re.indexOf("<")===-1)return Se;if(re.indexOf("<title ")===0){const it=re.match(/(<title [^>]+>)(.*?)(<\/title>)/);return Se.title=it?`${it[1]}${m(it[2])}${it[3]}`:re,Se}const ot=re.match(me==="inertia"?/ inertia="[^"]+"/:/ data-inertia="[^"]+"/);return ot?Se[ot[0]]=re:Se[Object.keys(Se).length]=re,Se},Me);return Object.values(de)}function ae(){l?b(X()):Cee.update(X())}return ae(),{forceUpdate:ae,createProvider:function(){const le=$();return{preferredAttribute:Cee.preferredAttribute,reconnect:()=>H(le),update:me=>K(le,me),disconnect:()=>I(le)}}}}var I1e="X-Inertia-Infinite-Scroll-Merge-Intent",$1e=l=>{const m=()=>{const ot=ws.get().scrollProps?.[l.getPropName()];if(ot)return ot;throw new Error(`The page object does not contain a scroll prop named "${l.getPropName()}".`)},b={component:null,loading:!1,previousPage:null,nextPage:null,lastLoadedPage:null,requestCount:0},E=()=>{const ot=m();b.component=ws.get().component,b.loading=!1,b.previousPage=ot.previousPage,b.nextPage=ot.nextPage,b.lastLoadedPage=ot.currentPage,b.requestCount=0},D=()=>`inertia:infinite-scroll-data:${l.getPropName()}`;if(typeof window<"u"){E();const ot=Xc.restore(D());ot&&typeof ot=="object"&&ot.lastLoadedPage===m().currentPage&&(b.previousPage=ot.previousPage,b.nextPage=ot.nextPage,b.lastLoadedPage=ot.lastLoadedPage,b.requestCount=ot.requestCount||0)}const $=Xc.on("success",ot=>{b.component===ot.detail.page.component&&m().reset&&E()}),I=ot=>ot==="next"?"nextPage":"previousPage",H=ot=>{const it=I(ot);return b[it]},K=ot=>{const it=m(),J=I(ot);b.lastLoadedPage=it.currentPage,b[J]=it[J],b.requestCount+=1,Xc.remember({previousPage:b.previousPage,nextPage:b.nextPage,lastLoadedPage:b.lastLoadedPage,requestCount:b.requestCount},D())},X=()=>m().pageName,ae=()=>b.requestCount,le=(ot,it={})=>{const J=H(ot);b.loading||J===null||(b.loading=!0,Xc.reload({...it,data:{[X()]:J},only:[l.getPropName()],preserveUrl:!0,headers:{[I1e]:ot==="previous"?"prepend":"append",...it.headers},onBefore:dt=>{ot==="next"?l.onBeforeNextRequest():l.onBeforePreviousRequest(),it.onBefore?.(dt)},onBeforeUpdate:dt=>{l.onBeforeUpdate(),it.onBeforeUpdate?.(dt)},onSuccess:dt=>{K(ot),it.onSuccess?.(dt)},onFinish:dt=>{b.loading=!1,ot==="next"?l.onCompleteNextRequest(b.lastLoadedPage):l.onCompletePreviousRequest(b.lastLoadedPage),it.onFinish?.(dt)}}))};return{getLastLoadedPage:()=>b.lastLoadedPage,getPageName:X,getRequestCount:ae,hasPrevious:()=>!!b.previousPage,hasNext:()=>!!b.nextPage,fetchNext:ot=>le("next",ot),fetchPrevious:ot=>le("previous",ot),removeEventListener:$}},L1e=()=>{const l=[];return{new:(E,D={})=>{const $=new IntersectionObserver(I=>{for(const H of I)H.isIntersecting&&E(H)},D);return l.push($),$},flushAll:()=>{l.forEach(E=>E.disconnect()),l.length=0}}},CH="infiniteScrollPage",See="infiniteScrollIgnore",Ple=l=>l.dataset[CH],H1e=l=>{const m=L1e();let b,E,D,$,I=!1;const H=()=>{$=new MutationObserver(G=>{G.forEach(Ze=>{Ze.addedNodes.forEach(Ft=>{Ft.nodeType===Node.ELEMENT_NODE&&me.add(Ft)})}),dt()}),$.observe(l.getItemsElement(),{childList:!0}),b=m.new(G=>l.onItemIntersected(G.target));const Ae={root:l.getScrollableParent(),rootMargin:`${Math.max(1,l.getTriggerMargin())}px`};E=m.new(l.onPreviousTriggered,Ae),D=m.new(l.onNextTriggered,Ae)},K=()=>{I&&X();const Ae=l.getStartElement(),G=l.getEndElement();Ae&&l.shouldFetchPrevious()&&E.observe(Ae),G&&l.shouldFetchNext()&&D.observe(G),I=!0},X=()=>{I&&(E.disconnect(),D.disconnect(),I=!1)},ae=()=>{I&&K()},le=()=>{X(),m.flushAll(),$?.disconnect()},me=new Set,Me=Ae=>!(CH in Ae.dataset)&&!(See in Ae.dataset),de=()=>{Array.from(me).forEach(Ae=>{Me(Ae)&&(Ae.dataset[See]="true"),b.observe(Ae)}),me.clear()},Se=Ae=>Array.from(Ae.querySelectorAll(":scope > *:not([data-infinite-scroll-page]):not([data-infinite-scroll-ignore])"));let re=!1;const ot=Ae=>{!re&&(re=!0,Wt())||(Se(l.getItemsElement()).forEach(G=>{Me(G)&&(G.dataset[CH]=Ae?.toString()||"1"),b.observe(G)}),J())},it=()=>`inertia:infinite-scroll-elements:${l.getPropName()}`,J=()=>{const Ae={},G=l.getItemsElement().childNodes;for(let Ze=0;Ze<G.length;Ze++){const Ft=G[Ze];if(Ft.nodeType!==Node.ELEMENT_NODE)continue;const ct=Ple(Ft);typeof ct>"u"||(ct in Ae?Ae[ct].to=Ze:Ae[ct]={from:Ze,to:Ze})}Xc.remember(Ae,it())},dt=I5(J,250),Wt=()=>{const Ae=Xc.restore(it());if(!Ae||typeof Ae!="object")return!1;const G=l.getItemsElement().childNodes;for(let Ze=0;Ze<G.length;Ze++){const Ft=G[Ze];if(Ft.nodeType!==Node.ELEMENT_NODE)continue;const ct=Ft;let Ce;for(const[ce,Pt]of Object.entries(Ae))if(Ze>=Pt.from&&Ze<=Pt.to){Ce=ce;break}if(Ce)ct.dataset[CH]=Ce;else if(Me(ct))ct.dataset[See]="true";else continue;b.observe(ct)}return!0};return{setupObservers:H,enableTriggers:K,disableTriggers:X,refreshTriggers:ae,flushAll:le,processManuallyAddedElements:de,processServerLoadedElements:ot}},z1e=new GH,m4,CC,lH=null,U1e=l=>{let m=!0;const b=D=>{z1e.add(()=>new Promise($=>{if(!m)return m4=CC=null,$();if(!m4||!CC){const K=ws.get().url;m4=R0(K),CC=R0(K),lH=Tle(K)}const I=l.getPageName(),H=CC.searchParams;D==="1"?H.delete(I):H.set(I,D),setTimeout(()=>$())})).finally(()=>{m&&m4&&CC&&m4.href!==CC.href&&lH!==null&&Xc.replace({url:b1e(CC,lH),preserveScroll:!0,preserveState:!0}),m4=CC=lH=null})};return{onItemIntersected:I5(D=>{const $=l.getItemsElement();if(!m||l.shouldPreserveUrl()||!D||!$)return;const I=new Map,H=[...$.children];Dle(H,D).forEach(ae=>{const le=Ple(ae)??"1";I.has(le)?I.set(le,I.get(le)+1):I.set(le,1)});const X=Array.from(I.entries()).sort((ae,le)=>le[1]-ae[1])[0]?.[0];X!==void 0&&b(X)},250),cancel:()=>m=!1}},V1e=l=>({createCallbacks:()=>{let b,E=null,D=0;return{captureScrollPosition:()=>{const H=l.getScrollableParent(),K=l.getItemsElement();b=H?.scrollTop||window.scrollY;const X=Dle([...K.children]);if(X.length>0){E=X[0];const ae=H?.getBoundingClientRect()||{top:0},le=H?ae.top:0;D=E.getBoundingClientRect().top-le}},restoreScrollPosition:()=>{if(!E)return;let H=0,K=!1;const X=()=>{if(H++,K||H>10)return!1;const ae=l.getScrollableParent(),le=ae?.getBoundingClientRect()||{top:0},me=ae?le.top:0,Se=E.getBoundingClientRect().top-me-D;if(Se===0){window.requestAnimationFrame(X);return}ae?ae.scrollTo({top:b+Se}):window.scrollTo(0,window.scrollY+Se),K=!0};window.requestAnimationFrame(X)}}}});function W1e(l){const m=U1e({...l,getPageName:()=>D.getPageName()}),b=V1e(l),E=H1e({...l,onItemIntersected:m.onItemIntersected,onPreviousTriggered:()=>D.fetchPrevious(),onNextTriggered:()=>D.fetchNext()}),D=$1e({...l,onBeforeUpdate:E.processManuallyAddedElements,onCompletePreviousRequest:X=>{l.onCompletePreviousRequest(),yH(()=>E.processServerLoadedElements(X),2)},onCompleteNextRequest:X=>{l.onCompleteNextRequest(),yH(()=>E.processServerLoadedElements(X),2)}}),$=X=>{const{captureScrollPosition:ae,restoreScrollPosition:le}=b.createCallbacks(),me=X.onBeforeUpdate||(()=>{}),Me=X.onSuccess||(()=>{});return X.onBeforeUpdate=de=>{me(de),ae()},X.onSuccess=de=>{Me(de),le()},X},I=D.fetchNext;D.fetchNext=(X={})=>{l.inReverseMode()&&(X=$(X)),I(X)};const H=D.fetchPrevious;D.fetchPrevious=(X={})=>{l.inReverseMode()||(X=$(X)),H(X)};const K=Xc.on("success",()=>yH(E.refreshTriggers,2));return{dataManager:D,elementManager:E,flush:()=>{K(),D.removeEventListener(),E.flushAll(),m.cancel()}}}function Rle(l){return l.target instanceof HTMLElement&&l.target.isContentEditable||l.defaultPrevented}function cH(l){const m=l.currentTarget.tagName.toLowerCase()==="a";return!(Rle(l)||m&&l.altKey||m&&l.ctrlKey||m&&l.metaKey||m&&l.shiftKey||m&&"button"in l&&l.button!==0)}function Kse(l){const m=l.currentTarget.tagName.toLowerCase()==="button";return!Rle(l)&&(l.key==="Enter"||m&&l.key===" ")}var Vd="nprogress",m1,df={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},kC=null,j1e=l=>{Object.assign(df,l),df.includeCSS&&X1e(df.color),m1=document.createElement("div"),m1.id=Vd,m1.innerHTML=df.template},KH=l=>{const m=Fle();l=$le(l,df.minimum,1),kC=l===1?null:l;const b=q1e(!m),E=b.querySelector(df.barSelector),D=df.speed,$=df.easing;b.offsetWidth,Y1e(I=>{const H=df.positionUsing==="translate3d"?{transition:`all ${D}ms ${$}`,transform:`translate3d(${SH(l)}%,0,0)`}:df.positionUsing==="translate"?{transition:`all ${D}ms ${$}`,transform:`translate(${SH(l)}%,0)`}:{marginLeft:`${SH(l)}%`};for(const K in H)E.style[K]=H[K];if(l!==1)return setTimeout(I,D);b.style.transition="none",b.style.opacity="1",b.offsetWidth,setTimeout(()=>{b.style.transition=`all ${D}ms linear`,b.style.opacity="0",setTimeout(()=>{Ile(),b.style.transition="",b.style.opacity="",I()},D)},D)})},Fle=()=>typeof kC=="number",Mle=()=>{kC||KH(0);const l=function(){setTimeout(function(){kC&&(Nle(),l())},df.trickleSpeed)};df.trickle&&l()},Z1e=l=>{!l&&!kC||(Nle(.3+.5*Math.random()),KH(1))},Nle=l=>{const m=kC;if(m===null)return Mle();if(!(m>1))return l=typeof l=="number"?l:(()=>{const b={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const E in b)if(m>=b[E][0]&&m<b[E][1])return parseFloat(E);return 0})(),KH($le(m+l,0,.994))},q1e=l=>{if(G1e())return document.getElementById(Vd);document.documentElement.classList.add(`${Vd}-busy`);const m=m1.querySelector(df.barSelector),b=l?"-100":SH(kC||0),E=Ble();return m.style.transition="all 0 linear",m.style.transform=`translate3d(${b}%,0,0)`,df.showSpinner||m1.querySelector(df.spinnerSelector)?.remove(),E!==document.body&&E.classList.add(`${Vd}-custom-parent`),E.appendChild(m1),m1},Ble=()=>K1e(df.parent)?df.parent:document.querySelector(df.parent),Ile=()=>{document.documentElement.classList.remove(`${Vd}-busy`),Ble().classList.remove(`${Vd}-custom-parent`),m1?.remove()},G1e=()=>document.getElementById(Vd)!==null,K1e=l=>typeof HTMLElement=="object"?l instanceof HTMLElement:l&&typeof l=="object"&&l.nodeType===1&&typeof l.nodeName=="string";function $le(l,m,b){return l<m?m:l>b?b:l}var SH=l=>(-1+l)*100,Y1e=(()=>{const l=[],m=()=>{const b=l.shift();b&&b(m)};return b=>{l.push(b),l.length===1&&m()}})(),X1e=l=>{const m=document.createElement("style");m.textContent=`
    #${Vd} {
      pointer-events: none;
    }

    #${Vd} .bar {
      background: ${l};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${Vd} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${l}, 0 0 5px ${l};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${Vd} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${Vd} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${l};
      border-left-color: ${l};
      border-radius: 50%;

      animation: ${Vd}-spinner 400ms linear infinite;
    }

    .${Vd}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${Vd}-custom-parent #${Vd} .spinner,
    .${Vd}-custom-parent #${Vd} .bar {
      position: absolute;
    }

    @keyframes ${Vd}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(m)},Q1e=()=>{m1&&(m1.style.display="")},J1e=()=>{m1&&(m1.style.display="none")},O0={configure:j1e,isStarted:Fle,done:Z1e,set:KH,remove:Ile,start:Mle,status:kC,show:Q1e,hide:J1e},e0e=class{constructor(){this.hideCount=0}start(){O0.start()}reveal(l=!1){this.hideCount=Math.max(0,this.hideCount-1),(l||this.hideCount===0)&&O0.show()}hide(){this.hideCount++,O0.hide()}set(l){O0.set(Math.max(0,Math.min(1,l)))}finish(){O0.done()}reset(){O0.set(0)}remove(){O0.done(),O0.remove()}isStarted(){return O0.isStarted()}getStatus(){return O0.status}},tg=new e0e;tg.reveal;tg.hide;function t0e(l){document.addEventListener("inertia:start",m=>n0e(m,l)),document.addEventListener("inertia:progress",o0e)}function n0e(l,m){l.detail.visit.showProgress||tg.hide();const b=setTimeout(()=>tg.start(),m);document.addEventListener("inertia:finish",E=>s0e(E,b),{once:!0})}function o0e(l){tg.isStarted()&&l.detail.progress?.percentage&&tg.set(Math.max(tg.getStatus(),l.detail.progress.percentage/100*.9))}function s0e(l,m){clearTimeout(m),tg.isStarted()&&(l.detail.visit.completed?tg.finish():l.detail.visit.interrupted?tg.reset():l.detail.visit.cancelled&&tg.remove())}function r0e({delay:l=250,color:m="#29d",includeCSS:b=!0,showSpinner:E=!1}={}){t0e(l),O0.configure({showSpinner:E,includeCSS:b,color:m})}function nte(l){return l instanceof HTMLInputElement||l instanceof HTMLSelectElement||l instanceof HTMLTextAreaElement}function a0e(l,m){const b=l.value,E=l.checked;switch(l.type.toLowerCase()){case"checkbox":l.checked=m.includes(l.value);break;case"radio":l.checked=m[0]===l.value;break;case"file":l.value="";break;case"button":case"submit":case"reset":case"image":break;default:l.value=m[0]!==null&&m[0]!==void 0?String(m[0]):""}return l.value!==b||l.checked!==E}function i0e(l,m){const b=l.value,E=Array.from(l.selectedOptions).map(I=>I.value);if(l.multiple){const I=m.map(H=>String(H));Array.from(l.options).forEach(H=>{H.selected=I.includes(H.value)})}else l.value=m[0]!==void 0?String(m[0]):"";const D=Array.from(l.selectedOptions).map(I=>I.value);return l.multiple?JSON.stringify(E.sort())!==JSON.stringify(D.sort()):l.value!==b}function xee(l,m){if(l.disabled){if(l instanceof HTMLInputElement){const b=l.value,E=l.checked;switch(l.type.toLowerCase()){case"checkbox":case"radio":return l.checked=l.defaultChecked,l.checked!==E;case"file":return l.value="",b!=="";case"button":case"submit":case"reset":case"image":return!1;default:return l.value=l.defaultValue,l.value!==b}}else if(l instanceof HTMLSelectElement){const b=Array.from(l.selectedOptions).map(D=>D.value);Array.from(l.options).forEach(D=>{D.selected=D.defaultSelected});const E=Array.from(l.selectedOptions).map(D=>D.value);return JSON.stringify(b.sort())!==JSON.stringify(E.sort())}else if(l instanceof HTMLTextAreaElement){const b=l.value;return l.value=l.defaultValue,l.value!==b}return!1}if(l instanceof HTMLInputElement)return a0e(l,m);if(l instanceof HTMLSelectElement)return i0e(l,m);if(l instanceof HTMLTextAreaElement){const b=l.value;return l.value=m[0]!==void 0?String(m[0]):"",l.value!==b}return!1}function l0e(l,m){let b=!1;return l instanceof RadioNodeList||l instanceof HTMLCollection?Array.from(l).forEach((E,D)=>{if(E instanceof Element&&nte(E))if(E instanceof HTMLInputElement&&["checkbox","radio"].includes(E.type.toLowerCase()))xee(E,m)&&(b=!0);else{const $=m[D]!==void 0?[m[D]]:[m[0]??null].filter(Boolean);xee(E,$)&&(b=!0)}}):nte(l)&&(b=xee(l,m)),b}function c0e(l,m,b){if(!l)return;const E=!b||b.length===0;if(E){const $=new FormData(l),I=Array.from(l.elements).map(H=>nte(H)?H.name:"").filter(Boolean);b=[...new Set([...m.keys(),...$.keys(),...I])]}let D=!1;b.forEach($=>{const I=l.elements.namedItem($);I&&l0e(I,m.getAll($))&&(D=!0)}),D&&E&&l.dispatchEvent(new Event("reset",{bubbles:!0}))}var Xc=new O1e;var Ge=MH();const tr=Oce(Ge),Yse=_ce({__proto__:null,default:tr},[Ge]);var Eee={exports:{}},Jp={},Aee={exports:{}},Tee={};var Xse;function u0e(){return Xse||(Xse=1,(function(l){function m(Te,rn){var yt=Te.length;Te.push(rn);e:for(;0<yt;){var se=yt-1>>>1,$e=Te[se];if(0<D($e,rn))Te[se]=rn,Te[yt]=$e,yt=se;else break e}}function b(Te){return Te.length===0?null:Te[0]}function E(Te){if(Te.length===0)return null;var rn=Te[0],yt=Te.pop();if(yt!==rn){Te[0]=yt;e:for(var se=0,$e=Te.length,Mt=$e>>>1;se<Mt;){var Qe=2*(se+1)-1,Ct=Te[Qe],He=Qe+1,ut=Te[He];if(0>D(Ct,yt))He<$e&&0>D(ut,Ct)?(Te[se]=ut,Te[He]=yt,se=He):(Te[se]=Ct,Te[Qe]=yt,se=Qe);else if(He<$e&&0>D(ut,yt))Te[se]=ut,Te[He]=yt,se=He;else break e}}return rn}function D(Te,rn){var yt=Te.sortIndex-rn.sortIndex;return yt!==0?yt:Te.id-rn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;l.unstable_now=function(){return $.now()}}else{var I=Date,H=I.now();l.unstable_now=function(){return I.now()-H}}var K=[],X=[],ae=1,le=null,me=3,Me=!1,de=!1,Se=!1,re=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(Te){for(var rn=b(X);rn!==null;){if(rn.callback===null)E(X);else if(rn.startTime<=Te)E(X),rn.sortIndex=rn.expirationTime,m(K,rn);else break;rn=b(X)}}function dt(Te){if(Se=!1,J(Te),!de)if(b(K)!==null)de=!0,F(Wt);else{var rn=b(X);rn!==null&&dn(dt,rn.startTime-Te)}}function Wt(Te,rn){de=!1,Se&&(Se=!1,ot(Ze),Ze=-1),Me=!0;var yt=me;try{for(J(rn),le=b(K);le!==null&&(!(le.expirationTime>rn)||Te&&!Ce());){var se=le.callback;if(typeof se=="function"){le.callback=null,me=le.priorityLevel;var $e=se(le.expirationTime<=rn);rn=l.unstable_now(),typeof $e=="function"?le.callback=$e:le===b(K)&&E(K),J(rn)}else E(K);le=b(K)}if(le!==null)var Mt=!0;else{var Qe=b(X);Qe!==null&&dn(dt,Qe.startTime-rn),Mt=!1}return Mt}finally{le=null,me=yt,Me=!1}}var Ae=!1,G=null,Ze=-1,Ft=5,ct=-1;function Ce(){return!(l.unstable_now()-ct<Ft)}function ce(){if(G!==null){var Te=l.unstable_now();ct=Te;var rn=!0;try{rn=G(!0,Te)}finally{rn?Pt():(Ae=!1,G=null)}}else Ae=!1}var Pt;if(typeof it=="function")Pt=function(){it(ce)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,lt=je.port2;je.port1.onmessage=ce,Pt=function(){lt.postMessage(null)}}else Pt=function(){re(ce,0)};function F(Te){G=Te,Ae||(Ae=!0,Pt())}function dn(Te,rn){Ze=re(function(){Te(l.unstable_now())},rn)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Te){Te.callback=null},l.unstable_continueExecution=function(){de||Me||(de=!0,F(Wt))},l.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ft=0<Te?Math.floor(1e3/Te):5},l.unstable_getCurrentPriorityLevel=function(){return me},l.unstable_getFirstCallbackNode=function(){return b(K)},l.unstable_next=function(Te){switch(me){case 1:case 2:case 3:var rn=3;break;default:rn=me}var yt=me;me=rn;try{return Te()}finally{me=yt}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(Te,rn){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var yt=me;me=Te;try{return rn()}finally{me=yt}},l.unstable_scheduleCallback=function(Te,rn,yt){var se=l.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?se+yt:se):yt=se,Te){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=yt+$e,Te={id:ae++,callback:rn,priorityLevel:Te,startTime:yt,expirationTime:$e,sortIndex:-1},yt>se?(Te.sortIndex=yt,m(X,Te),b(K)===null&&Te===b(X)&&(Se?(ot(Ze),Ze=-1):Se=!0,dn(dt,yt-se))):(Te.sortIndex=$e,m(K,Te),de||Me||(de=!0,F(Wt))),Te},l.unstable_shouldYield=Ce,l.unstable_wrapCallback=function(Te){var rn=me;return function(){var yt=me;me=rn;try{return Te.apply(this,arguments)}finally{me=yt}}}})(Tee)),Tee}var Qse;function d0e(){return Qse||(Qse=1,Aee.exports=u0e()),Aee.exports}var Jse;function f0e(){if(Jse)return Jp;Jse=1;var l=MH(),m=d0e();function b(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,x=1;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E=new Set,D={};function $(u,p){I(u,p),I(u+"Capture",p)}function I(u,p){for(D[u]=p,u=0;u<p.length;u++)E.add(p[u])}var H=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K=Object.prototype.hasOwnProperty,X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ae={},le={};function me(u){return K.call(le,u)?!0:K.call(ae,u)?!1:X.test(u)?le[u]=!0:(ae[u]=!0,!1)}function Me(u,p,x,_){if(x!==null&&x.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return _?!1:x!==null?!x.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function de(u,p,x,_){if(p===null||typeof p>"u"||Me(u,p,x,_))return!0;if(_)return!1;if(x!==null)switch(x.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function Se(u,p,x,_,L,q,he){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=_,this.attributeNamespace=L,this.mustUseProperty=x,this.propertyName=u,this.type=p,this.sanitizeURL=q,this.removeEmptyString=he}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){re[u]=new Se(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];re[p]=new Se(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){re[u]=new Se(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){re[u]=new Se(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){re[u]=new Se(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){re[u]=new Se(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){re[u]=new Se(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){re[u]=new Se(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){re[u]=new Se(u,5,!1,u.toLowerCase(),null,!1,!1)});var ot=/[\-:]([a-z])/g;function it(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(ot,it);re[p]=new Se(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(ot,it);re[p]=new Se(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(ot,it);re[p]=new Se(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){re[u]=new Se(u,1,!1,u.toLowerCase(),null,!1,!1)}),re.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){re[u]=new Se(u,1,!1,u.toLowerCase(),null,!0,!0)});function J(u,p,x,_){var L=re.hasOwnProperty(p)?re[p]:null;(L!==null?L.type!==0:_||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(de(p,x,L,_)&&(x=null),_||L===null?me(p)&&(x===null?u.removeAttribute(p):u.setAttribute(p,""+x)):L.mustUseProperty?u[L.propertyName]=x===null?L.type===3?!1:"":x:(p=L.attributeName,_=L.attributeNamespace,x===null?u.removeAttribute(p):(L=L.type,x=L===3||L===4&&x===!0?"":""+x,_?u.setAttributeNS(_,p,x):u.setAttribute(p,x))))}var dt=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wt=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Ze=Symbol.for("react.strict_mode"),Ft=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),dn=Symbol.for("react.offscreen"),Te=Symbol.iterator;function rn(u){return u===null||typeof u!="object"?null:(u=Te&&u[Te]||u["@@iterator"],typeof u=="function"?u:null)}var yt=Object.assign,se;function $e(u){if(se===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);se=p&&p[1]||""}return`
`+se+u}var Mt=!1;function Qe(u,p){if(!u||Mt)return"";Mt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(en){var _=en}Reflect.construct(u,[],p)}else{try{p.call()}catch(en){_=en}u.call(p.prototype)}else{try{throw Error()}catch(en){_=en}u()}}catch(en){if(en&&_&&typeof en.stack=="string"){for(var L=en.stack.split(`
`),q=_.stack.split(`
`),he=L.length-1,tt=q.length-1;1<=he&&0<=tt&&L[he]!==q[tt];)tt--;for(;1<=he&&0<=tt;he--,tt--)if(L[he]!==q[tt]){if(he!==1||tt!==1)do if(he--,tt--,0>tt||L[he]!==q[tt]){var mt=`
`+L[he].replace(" at new "," at ");return u.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",u.displayName)),mt}while(1<=he&&0<=tt);break}}}finally{Mt=!1,Error.prepareStackTrace=x}return(u=u?u.displayName||u.name:"")?$e(u):""}function Ct(u){switch(u.tag){case 5:return $e(u.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 2:case 15:return u=Qe(u.type,!1),u;case 11:return u=Qe(u.type.render,!1),u;case 1:return u=Qe(u.type,!0),u;default:return""}}function He(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case G:return"Fragment";case Ae:return"Portal";case Ft:return"Profiler";case Ze:return"StrictMode";case Pt:return"Suspense";case je:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Ce:return(u.displayName||"Context")+".Consumer";case ct:return(u._context.displayName||"Context")+".Provider";case ce:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case lt:return p=u.displayName||null,p!==null?p:He(u.type)||"Memo";case F:p=u._payload,u=u._init;try{return He(u(p))}catch{}}return null}function ut(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(p);case 8:return p===Ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function W(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Wn(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Yt(u){var p=Wn(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),_=""+u[p];if(!u.hasOwnProperty(p)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,q=x.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return L.call(this)},set:function(he){_=""+he,q.call(this,he)}}),Object.defineProperty(u,p,{enumerable:x.enumerable}),{getValue:function(){return _},setValue:function(he){_=""+he},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function jn(u){u._valueTracker||(u._valueTracker=Yt(u))}function Cn(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var x=p.getValue(),_="";return u&&(_=Wn(u)?u.checked?"true":"false":u.value),u=_,u!==x?(p.setValue(u),!0):!1}function No(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Re(u,p){var x=p.checked;return yt({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??u._wrapperState.initialChecked})}function Ve(u,p){var x=p.defaultValue==null?"":p.defaultValue,_=p.checked!=null?p.checked:p.defaultChecked;x=W(p.value!=null?p.value:x),u._wrapperState={initialChecked:_,initialValue:x,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function qe(u,p){p=p.checked,p!=null&&J(u,"checked",p,!1)}function De(u,p){qe(u,p);var x=W(p.value),_=p.type;if(x!=null)_==="number"?(x===0&&u.value===""||u.value!=x)&&(u.value=""+x):u.value!==""+x&&(u.value=""+x);else if(_==="submit"||_==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?Tt(u,p.type,x):p.hasOwnProperty("defaultValue")&&Tt(u,p.type,W(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function Ye(u,p,x){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var _=p.type;if(!(_!=="submit"&&_!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,x||p===u.value||(u.value=p),u.defaultValue=p}x=u.name,x!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,x!==""&&(u.name=x)}function Tt(u,p,x){(p!=="number"||No(u.ownerDocument)!==u)&&(x==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+x&&(u.defaultValue=""+x))}var at=Array.isArray;function En(u,p,x,_){if(u=u.options,p){p={};for(var L=0;L<x.length;L++)p["$"+x[L]]=!0;for(x=0;x<u.length;x++)L=p.hasOwnProperty("$"+u[x].value),u[x].selected!==L&&(u[x].selected=L),L&&_&&(u[x].defaultSelected=!0)}else{for(x=""+W(x),p=null,L=0;L<u.length;L++){if(u[L].value===x){u[L].selected=!0,_&&(u[L].defaultSelected=!0);return}p!==null||u[L].disabled||(p=u[L])}p!==null&&(p.selected=!0)}}function wt(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(b(91));return yt({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function kt(u,p){var x=p.value;if(x==null){if(x=p.children,p=p.defaultValue,x!=null){if(p!=null)throw Error(b(92));if(at(x)){if(1<x.length)throw Error(b(93));x=x[0]}p=x}p==null&&(p=""),x=p}u._wrapperState={initialValue:W(x)}}function an(u,p){var x=W(p.value),_=W(p.defaultValue);x!=null&&(x=""+x,x!==u.value&&(u.value=x),p.defaultValue==null&&u.defaultValue!==x&&(u.defaultValue=x)),_!=null&&(u.defaultValue=""+_)}function vn(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function Fn(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?Fn(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var es,vo=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,x,_,L){MSApp.execUnsafeLocalFunction(function(){return u(p,x,_,L)})}:u})(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=es.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function ts(u,p){if(p){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=p;return}}u.textContent=p}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(u){ds.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),Bo[p]=Bo[u]})});function Ys(u,p,x){return p==null||typeof p=="boolean"||p===""?"":x||typeof p!="number"||p===0||Bo.hasOwnProperty(u)&&Bo[u]?(""+p).trim():p+"px"}function Xs(u,p){u=u.style;for(var x in p)if(p.hasOwnProperty(x)){var _=x.indexOf("--")===0,L=Ys(x,p[x],_);x==="float"&&(x="cssFloat"),_?u.setProperty(x,L):u[x]=L}}var lr=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(u,p){if(p){if(lr[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(b(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(b(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(b(61))}if(p.style!=null&&typeof p.style!="object")throw Error(b(62))}}function Bt(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function rs(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var xs=null,sn=null,Ho=null;function Io(u){if(u=To(u)){if(typeof xs!="function")throw Error(b(280));var p=u.stateNode;p&&(p=Ti(p),xs(u.stateNode,u.type,p))}}function _r(u){sn?Ho?Ho.push(u):Ho=[u]:sn=u}function Hr(){if(sn){var u=sn,p=Ho;if(Ho=sn=null,Io(u),p)for(u=0;u<p.length;u++)Io(p[u])}}function Mn(u,p){return u(p)}function qt(){}var jt=!1;function to(u,p,x){if(jt)return u(p,x);jt=!0;try{return Mn(u,p,x)}finally{jt=!1,(sn!==null||Ho!==null)&&(qt(),Hr())}}function qn(u,p){var x=u.stateNode;if(x===null)return null;var _=Ti(x);if(_===null)return null;x=_[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(u=u.type,_=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!_;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(b(231,p,typeof x));return x}var Co=!1;if(H)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Co=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Co=!1}function Jn(u,p,x,_,L,q,he,tt,mt){var en=Array.prototype.slice.call(arguments,3);try{p.apply(x,en)}catch(Nn){this.onError(Nn)}}var as=!1,qr=null,Ha=!1,xa=null,Kn={onError:function(u){as=!0,qr=u}};function ua(u,p,x,_,L,q,he,tt,mt){as=!1,qr=null,Jn.apply(Kn,arguments)}function ta(u,p,x,_,L,q,he,tt,mt){if(ua.apply(this,arguments),as){if(as){var en=qr;as=!1,qr=null}else throw Error(b(198));Ha||(Ha=!0,xa=en)}}function hi(u){var p=u,x=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(x=p.return),u=p.return;while(u)}return p.tag===3?x:null}function Be(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function ze(u){if(hi(u)!==u)throw Error(b(188))}function et(u){var p=u.alternate;if(!p){if(p=hi(u),p===null)throw Error(b(188));return p!==u?null:u}for(var x=u,_=p;;){var L=x.return;if(L===null)break;var q=L.alternate;if(q===null){if(_=L.return,_!==null){x=_;continue}break}if(L.child===q.child){for(q=L.child;q;){if(q===x)return ze(L),u;if(q===_)return ze(L),p;q=q.sibling}throw Error(b(188))}if(x.return!==_.return)x=L,_=q;else{for(var he=!1,tt=L.child;tt;){if(tt===x){he=!0,x=L,_=q;break}if(tt===_){he=!0,_=L,x=q;break}tt=tt.sibling}if(!he){for(tt=q.child;tt;){if(tt===x){he=!0,x=q,_=L;break}if(tt===_){he=!0,_=q,x=L;break}tt=tt.sibling}if(!he)throw Error(b(189))}}if(x.alternate!==_)throw Error(b(190))}if(x.tag!==3)throw Error(b(188));return x.stateNode.current===x?u:p}function hn(u){return u=et(u),u!==null?Po(u):null}function Po(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=Po(u);if(p!==null)return p;u=u.sibling}return null}var go=m.unstable_scheduleCallback,is=m.unstable_cancelCallback,Ms=m.unstable_shouldYield,$o=m.unstable_requestPaint,hs=m.unstable_now,pe=m.unstable_getCurrentPriorityLevel,Ue=m.unstable_ImmediatePriority,Gt=m.unstable_UserBlockingPriority,On=m.unstable_NormalPriority,tn=m.unstable_LowPriority,Oo=m.unstable_IdlePriority,ro=null,Dn=null;function Jo(u){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(ro,u,void 0,(u.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:ji,$s=Math.log,nr=Math.LN2;function ji(u){return u>>>=0,u===0?32:31-($s(u)/nr|0)|0}var sa=64,Uu=4194304;function br(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ls(u,p){var x=u.pendingLanes;if(x===0)return 0;var _=0,L=u.suspendedLanes,q=u.pingedLanes,he=x&268435455;if(he!==0){var tt=he&~L;tt!==0?_=br(tt):(q&=he,q!==0&&(_=br(q)))}else he=x&~L,he!==0?_=br(he):q!==0&&(_=br(q));if(_===0)return 0;if(p!==0&&p!==_&&(p&L)===0&&(L=_&-_,q=p&-p,L>=q||L===16&&(q&4194240)!==0))return p;if((_&4)!==0&&(_|=x&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=_;0<p;)x=31-ms(p),L=1<<x,_|=u[x],p&=~L;return _}function Sr(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(u,p){for(var x=u.suspendedLanes,_=u.pingedLanes,L=u.expirationTimes,q=u.pendingLanes;0<q;){var he=31-ms(q),tt=1<<he,mt=L[he];mt===-1?((tt&x)===0||(tt&_)!==0)&&(L[he]=Sr(tt,p)):mt<=p&&(u.expiredLanes|=tt),q&=~tt}}function Sc(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Gr(){var u=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),u}function Do(u){for(var p=[],x=0;31>x;x++)p.push(u);return p}function Ya(u,p,x){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-ms(p),u[p]=x}function Ni(u,p){var x=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var _=u.eventTimes;for(u=u.expirationTimes;0<x;){var L=31-ms(x),q=1<<L;p[L]=0,_[L]=-1,u[L]=-1,x&=~q}}function Kr(u,p){var x=u.entangledLanes|=p;for(u=u.entanglements;x;){var _=31-ms(x),L=1<<_;L&p|u[_]&p&&(u[_]|=p),x&=~L}}var Pr=0;function yu(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Fr,xc,Il,ff,An,Yl=!1,vi=[],ci=null,xr=null,Xl=null,bi=new Map,il=new Map,Ql=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(u,p){switch(u){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":bi.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(p.pointerId)}}function pd(u,p,x,_,L,q){return u===null||u.nativeEvent!==q?(u={blockedOn:p,domEventName:x,eventSystemFlags:_,nativeEvent:q,targetContainers:[L]},p!==null&&(p=To(p),p!==null&&xc(p)),u):(u.eventSystemFlags|=_,p=u.targetContainers,L!==null&&p.indexOf(L)===-1&&p.push(L),u)}function gd(u,p,x,_,L){switch(p){case"focusin":return ci=pd(ci,u,p,x,_,L),!0;case"dragenter":return xr=pd(xr,u,p,x,_,L),!0;case"mouseover":return Xl=pd(Xl,u,p,x,_,L),!0;case"pointerover":var q=L.pointerId;return bi.set(q,pd(bi.get(q)||null,u,p,x,_,L)),!0;case"gotpointercapture":return q=L.pointerId,il.set(q,pd(il.get(q)||null,u,p,x,_,L)),!0}return!1}function eu(u){var p=wl(u.target);if(p!==null){var x=hi(p);if(x!==null){if(p=x.tag,p===13){if(p=Be(x),p!==null){u.blockedOn=p,An(u.priority,function(){Il(x)});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function tu(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var x=rr(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(x===null){x=u.nativeEvent;var _=new x.constructor(x.type,x);po=_,x.target.dispatchEvent(_),po=null}else return p=To(x),p!==null&&xc(p),u.blockedOn=x,!1;p.shift()}return!0}function yn(u,p,x){tu(u)&&x.delete(p)}function Vu(){Yl=!1,ci!==null&&tu(ci)&&(ci=null),xr!==null&&tu(xr)&&(xr=null),Xl!==null&&tu(Xl)&&(Xl=null),bi.forEach(yn),il.forEach(yn)}function wu(u,p){u.blockedOn===p&&(u.blockedOn=null,Yl||(Yl=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Vu)))}function Zi(u){function p(L){return wu(L,u)}if(0<vi.length){wu(vi[0],u);for(var x=1;x<vi.length;x++){var _=vi[x];_.blockedOn===u&&(_.blockedOn=null)}}for(ci!==null&&wu(ci,u),xr!==null&&wu(xr,u),Xl!==null&&wu(Xl,u),bi.forEach(p),il.forEach(p),x=0;x<Ql.length;x++)_=Ql[x],_.blockedOn===u&&(_.blockedOn=null);for(;0<Ql.length&&(x=Ql[0],x.blockedOn===null);)eu(x),x.blockedOn===null&&Ql.shift()}var yi=dt.ReactCurrentBatchConfig,Cu=!0;function qi(u,p,x,_){var L=Pr,q=yi.transition;yi.transition=null;try{Pr=1,Ec(u,p,x,_)}finally{Pr=L,yi.transition=q}}function nu(u,p,x,_){var L=Pr,q=yi.transition;yi.transition=null;try{Pr=4,Ec(u,p,x,_)}finally{Pr=L,yi.transition=q}}function Ec(u,p,x,_){if(Cu){var L=rr(u,p,x,_);if(L===null)ip(u,p,_,$l,x),Jc(u,_);else if(gd(L,u,p,x,_))_.stopPropagation();else if(Jc(u,_),p&4&&-1<gm.indexOf(u)){for(;L!==null;){var q=To(L);if(q!==null&&Fr(q),q=rr(u,p,x,_),q===null&&ip(u,p,_,$l,x),q===L)break;L=q}L!==null&&_.stopPropagation()}else ip(u,p,_,null,x)}}var $l=null;function rr(u,p,x,_){if($l=null,u=rs(_),u=wl(u),u!==null)if(p=hi(u),p===null)u=null;else if(x=p.tag,x===13){if(u=Be(p),u!==null)return u;u=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return $l=u,null}function hd(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pe()){case Ue:return 1;case Gt:return 4;case On:case tn:return 16;case Oo:return 536870912;default:return 16}default:return 16}}var Q=null,be=null,Ie=null;function Nt(){if(Ie)return Ie;var u,p=be,x=p.length,_,L="value"in Q?Q.value:Q.textContent,q=L.length;for(u=0;u<x&&p[u]===L[u];u++);var he=x-u;for(_=1;_<=he&&p[x-_]===L[q-_];_++);return Ie=L.slice(u,1<_?1-_:void 0)}function Qn(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function Cs(){return!0}function ar(){return!1}function yr(u){function p(x,_,L,q,he){this._reactName=x,this._targetInst=L,this.type=_,this.nativeEvent=q,this.target=he,this.currentTarget=null;for(var tt in u)u.hasOwnProperty(tt)&&(x=u[tt],this[tt]=x?x(q):q[tt]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Cs:ar,this.isPropagationStopped=ar,this}return yt(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),p}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=yr(za),ee=yt({},za,{view:0,detail:0}),_e=yr(ee),Je,Et,wn,Xn=yt({},ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==wn&&(wn&&u.type==="mousemove"?(Je=u.screenX-wn.screenX,Et=u.screenY-wn.screenY):Et=Je=0,wn=u),Je)},movementY:function(u){return"movementY"in u?u.movementY:Et}}),Vo=yr(Xn),Qs=yt({},Xn,{dataTransfer:0}),Bs=yr(Qs),Ki=yt({},ee,{relatedTarget:0}),ra=yr(Ki),vd=yt({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Bf=yr(vd),mf=yt({},za,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ac=yr(mf),th=yt({},za,{data:0}),ag=yr(th),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qt(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=pt[u])?!!p[u]:!1}function xo(){return Qt}var Es=yt({},ee,{key:function(u){if(u.key){var p=ve[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=Qn(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ne[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(u){return u.type==="keypress"?Qn(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Qn(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Pa=yr(Es),Ll=yt({},Xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=yr(Ll),Hl=yt({},ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),Wd=yr(Hl),zl=yt({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=yr(zl),Ul=yt({},Xn,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Jl=yr(Ul),bd=[9,13,27,32],kl=H&&"CompositionEvent"in window,ps=null;H&&"documentMode"in document&&(ps=document.documentMode);var sp=H&&"TextEvent"in window&&!ps,ig=H&&(!kl||ps&&8<ps&&11>=ps),Ua=" ",cb=!1;function nh(u,p){switch(u){case"keyup":return bd.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ub(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var vm=!1;function Va(u,p){switch(u){case"compositionend":return ub(p);case"keypress":return p.which!==32?null:(cb=!0,Ua);case"textInput":return u=p.data,u===Ua&&cb?null:u;default:return null}}function bm(u,p){if(vm)return u==="compositionend"||!kl&&nh(u,p)?(u=Nt(),Ie=be=Q=null,vm=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return ig&&p.locale!=="ko"?null:p.data;default:return null}}var db={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!db[u.type]:p==="textarea"}function Tc(u,p,x,_){_r(_),p=lp(p,"onChange"),0<p.length&&(x=new Gi("onChange","change",null,x,_),u.push({event:x,listeners:p}))}var pf=null,ec=null;function rp(u){fa(u,0)}function ap(u){var p=Nr(u);if(Cn(p))return u}function Pe(u,p){if(u==="change")return p}var tc=!1;if(H){var jd;if(H){var lg="oninput"in document;if(!lg){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),lg=typeof ym.oninput=="function"}jd=lg}else jd=!1;tc=jd&&(!document.documentMode||9<document.documentMode)}function bl(){pf&&(pf.detachEvent("onpropertychange",nc),ec=pf=null)}function nc(u){if(u.propertyName==="value"&&ap(ec)){var p=[];Tc(p,ec,u,rs(u)),to(rp,p)}}function v1(u,p,x){u==="focusin"?(bl(),pf=p,ec=x,pf.attachEvent("onpropertychange",nc)):u==="focusout"&&bl()}function b1(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ap(ec)}function cg(u,p){if(u==="click")return ap(p)}function kc(u,p){if(u==="input"||u==="change")return ap(p)}function y1(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var ll=typeof Object.is=="function"?Object.is:y1;function gf(u,p){if(ll(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var x=Object.keys(u),_=Object.keys(p);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var L=x[_];if(!K.call(p,L)||!ll(u[L],p[L]))return!1}return!0}function oh(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function _c(u,p){var x=oh(u);u=0;for(var _;x;){if(x.nodeType===3){if(_=u+x.textContent.length,u<=p&&_>=p)return{node:x,offset:p-u};u=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=oh(x)}}function sh(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?sh(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function Wu(){for(var u=window,p=No();p instanceof u.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href=="string"}catch{x=!1}if(x)u=p.contentWindow;else break;p=No(u.document)}return p}function Zd(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function _s(u){var p=Wu(),x=u.focusedElem,_=u.selectionRange;if(p!==x&&x&&x.ownerDocument&&sh(x.ownerDocument.documentElement,x)){if(_!==null&&Zd(x)){if(p=_.start,u=_.end,u===void 0&&(u=p),"selectionStart"in x)x.selectionStart=p,x.selectionEnd=Math.min(u,x.value.length);else if(u=(p=x.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var L=x.textContent.length,q=Math.min(_.start,L);_=_.end===void 0?q:Math.min(_.end,L),!u.extend&&q>_&&(L=_,_=q,q=L),L=_c(x,q);var he=_c(x,_);L&&he&&(u.rangeCount!==1||u.anchorNode!==L.node||u.anchorOffset!==L.offset||u.focusNode!==he.node||u.focusOffset!==he.offset)&&(p=p.createRange(),p.setStart(L.node,L.offset),u.removeAllRanges(),q>_?(u.addRange(p),u.extend(he.node,he.offset)):(p.setEnd(he.node,he.offset),u.addRange(p)))}}for(p=[],u=x;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<p.length;x++)u=p[x],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var oc=H&&"documentMode"in document&&11>=document.documentMode,yd=null,rh=null,cs=null,wd=!1;function ei(u,p,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;wd||yd==null||yd!==No(_)||(_=yd,"selectionStart"in _&&Zd(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),cs&&gf(cs,_)||(cs=_,_=lp(rh,"onSelect"),0<_.length&&(p=new Gi("onSelect","select",null,p,x),u.push({event:p,listeners:_}),p.target=yd)))}function ou(u,p){var x={};return x[u.toLowerCase()]=p.toLowerCase(),x["Webkit"+u]="webkit"+p,x["Moz"+u]="moz"+p,x}var sc={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},da={},or={};H&&(or=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function ah(u){if(da[u])return da[u];if(!sc[u])return u;var p=sc[u],x;for(x in p)if(p.hasOwnProperty(x)&&x in or)return da[u]=p[x];return u}var I0=ah("animationend"),ti=ah("animationiteration"),Su=ah("animationstart"),xu=ah("transitionend"),ni=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(u,p){ni.set(u,p),$(p,[u])}for(var rc=0;rc<ju.length;rc++){var cl=ju[rc],cr=cl.toLowerCase(),Eu=cl[0].toUpperCase()+cl.slice(1);Ci(cr,"on"+Eu)}Ci(I0,"onAnimationEnd"),Ci(ti,"onAnimationIteration"),Ci(Su,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(xu,"onTransitionEnd"),I("onMouseEnter",["mouseout","mouseover"]),I("onMouseLeave",["mouseout","mouseover"]),I("onPointerEnter",["pointerout","pointerover"]),I("onPointerLeave",["pointerout","pointerover"]),$("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$("onBeforeInput",["compositionend","keypress","textInput","paste"]),$("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Bi(u,p,x){var _=u.type||"unknown-event";u.currentTarget=x,ta(_,p,void 0,u),u.currentTarget=null}function fa(u,p){p=(p&4)!==0;for(var x=0;x<u.length;x++){var _=u[x],L=_.event;_=_.listeners;e:{var q=void 0;if(p)for(var he=_.length-1;0<=he;he--){var tt=_[he],mt=tt.instance,en=tt.currentTarget;if(tt=tt.listener,mt!==q&&L.isPropagationStopped())break e;Bi(L,tt,en),q=mt}else for(he=0;he<_.length;he++){if(tt=_[he],mt=tt.instance,en=tt.currentTarget,tt=tt.listener,mt!==q&&L.isPropagationStopped())break e;Bi(L,tt,en),q=mt}}}if(Ha)throw u=xa,Ha=!1,xa=null,u}function Mr(u,p){var x=p[ac];x===void 0&&(x=p[ac]=new Set);var _=u+"__bubble";x.has(_)||(ih(p,u,2,!1),x.add(_))}function Si(u,p,x){var _=0;p&&(_|=4),ih(x,u,_,p)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function Zu(u){if(!u[Ra]){u[Ra]=!0,E.forEach(function(x){x!=="selectionchange"&&(dl.has(x)||Si(x,!1,u),Si(x,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[Ra]||(p[Ra]=!0,Si("selectionchange",!1,p))}}function ih(u,p,x,_){switch(hd(p)){case 1:var L=qi;break;case 4:L=nu;break;default:L=Ec}x=L.bind(null,p,x,u),L=void 0,!Co||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(L=!0),_?L!==void 0?u.addEventListener(p,x,{capture:!0,passive:L}):u.addEventListener(p,x,!0):L!==void 0?u.addEventListener(p,x,{passive:L}):u.addEventListener(p,x,!1)}function ip(u,p,x,_,L){var q=_;if((p&1)===0&&(p&2)===0&&_!==null)e:for(;;){if(_===null)return;var he=_.tag;if(he===3||he===4){var tt=_.stateNode.containerInfo;if(tt===L||tt.nodeType===8&&tt.parentNode===L)break;if(he===4)for(he=_.return;he!==null;){var mt=he.tag;if((mt===3||mt===4)&&(mt=he.stateNode.containerInfo,mt===L||mt.nodeType===8&&mt.parentNode===L))return;he=he.return}for(;tt!==null;){if(he=wl(tt),he===null)return;if(mt=he.tag,mt===5||mt===6){_=q=he;continue e}tt=tt.parentNode}}_=_.return}to(function(){var en=q,Nn=rs(x),Pn=[];e:{var Ln=ni.get(u);if(Ln!==void 0){var Ro=Gi,zo=u;switch(u){case"keypress":if(Qn(x)===0)break e;case"keydown":case"keyup":Ro=Pa;break;case"focusin":zo="focus",Ro=ra;break;case"focusout":zo="blur",Ro=ra;break;case"beforeblur":case"afterblur":Ro=ra;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ro=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ro=Bs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ro=Wd;break;case I0:case ti:case Su:Ro=Bf;break;case xu:Ro=hm;break;case"scroll":Ro=_e;break;case"wheel":Ro=Jl;break;case"copy":case"cut":case"paste":Ro=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ro=wi}var ns=(p&4)!==0,pi=!ns&&u==="scroll",Zt=ns?Ln!==null?Ln+"Capture":null:Ln;ns=[];for(var St=en,Kt;St!==null;){Kt=St;var lo=Kt.stateNode;if(Kt.tag===5&&lo!==null&&(Kt=lo,Zt!==null&&(lo=qn(St,Zt),lo!=null&&ns.push(oi(St,lo,Kt)))),pi)break;St=St.return}0<ns.length&&(Ln=new Ro(Ln,zo,null,x,Nn),Pn.push({event:Ln,listeners:ns}))}}if((p&7)===0){e:{if(Ln=u==="mouseover"||u==="pointerover",Ro=u==="mouseout"||u==="pointerout",Ln&&x!==po&&(zo=x.relatedTarget||x.fromElement)&&(wl(zo)||zo[As]))break e;if((Ro||Ln)&&(Ln=Nn.window===Nn?Nn:(Ln=Nn.ownerDocument)?Ln.defaultView||Ln.parentWindow:window,Ro?(zo=x.relatedTarget||x.toElement,Ro=en,zo=zo?wl(zo):null,zo!==null&&(pi=hi(zo),zo!==pi||zo.tag!==5&&zo.tag!==6)&&(zo=null)):(Ro=null,zo=en),Ro!==zo)){if(ns=Vo,lo="onMouseLeave",Zt="onMouseEnter",St="mouse",(u==="pointerout"||u==="pointerover")&&(ns=wi,lo="onPointerLeave",Zt="onPointerEnter",St="pointer"),pi=Ro==null?Ln:Nr(Ro),Kt=zo==null?Ln:Nr(zo),Ln=new ns(lo,St+"leave",Ro,x,Nn),Ln.target=pi,Ln.relatedTarget=Kt,lo=null,wl(Nn)===en&&(ns=new ns(Zt,St+"enter",zo,x,Nn),ns.target=Kt,ns.relatedTarget=pi,lo=ns),pi=lo,Ro&&zo)t:{for(ns=Ro,Zt=zo,St=0,Kt=ns;Kt;Kt=wm(Kt))St++;for(Kt=0,lo=Zt;lo;lo=wm(lo))Kt++;for(;0<St-Kt;)ns=wm(ns),St--;for(;0<Kt-St;)Zt=wm(Zt),Kt--;for(;St--;){if(ns===Zt||Zt!==null&&ns===Zt.alternate)break t;ns=wm(ns),Zt=wm(Zt)}ns=null}else ns=null;Ro!==null&&If(Pn,Ln,Ro,ns,!1),zo!==null&&pi!==null&&If(Pn,pi,zo,ns,!0)}}e:{if(Ln=en?Nr(en):window,Ro=Ln.nodeName&&Ln.nodeName.toLowerCase(),Ro==="select"||Ro==="input"&&Ln.type==="file")var gs=Pe;else if(pn(Ln))if(tc)gs=kc;else{gs=b1;var Ts=v1}else(Ro=Ln.nodeName)&&Ro.toLowerCase()==="input"&&(Ln.type==="checkbox"||Ln.type==="radio")&&(gs=cg);if(gs&&(gs=gs(u,en))){Tc(Pn,gs,x,Nn);break e}Ts&&Ts(u,Ln,en),u==="focusout"&&(Ts=Ln._wrapperState)&&Ts.controlled&&Ln.type==="number"&&Tt(Ln,"number",Ln.value)}switch(Ts=en?Nr(en):window,u){case"focusin":(pn(Ts)||Ts.contentEditable==="true")&&(yd=Ts,rh=en,cs=null);break;case"focusout":cs=rh=yd=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,ei(Pn,x,Nn);break;case"selectionchange":if(oc)break;case"keydown":case"keyup":ei(Pn,x,Nn)}var ys;if(kl)e:{switch(u){case"compositionstart":var js="onCompositionStart";break e;case"compositionend":js="onCompositionEnd";break e;case"compositionupdate":js="onCompositionUpdate";break e}js=void 0}else vm?nh(u,x)&&(js="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(js="onCompositionStart");js&&(ig&&x.locale!=="ko"&&(vm||js!=="onCompositionStart"?js==="onCompositionEnd"&&vm&&(ys=Nt()):(Q=Nn,be="value"in Q?Q.value:Q.textContent,vm=!0)),Ts=lp(en,js),0<Ts.length&&(js=new ag(js,u,null,x,Nn),Pn.push({event:js,listeners:Ts}),ys?js.data=ys:(ys=ub(x),ys!==null&&(js.data=ys)))),(ys=sp?Va(u,x):bm(u,x))&&(en=lp(en,"onBeforeInput"),0<en.length&&(Nn=new ag("onBeforeInput","beforeinput",null,x,Nn),Pn.push({event:Nn,listeners:en}),Nn.data=ys))}fa(Pn,p)})}function oi(u,p,x){return{instance:u,listener:p,currentTarget:x}}function lp(u,p){for(var x=p+"Capture",_=[];u!==null;){var L=u,q=L.stateNode;L.tag===5&&q!==null&&(L=q,q=qn(u,x),q!=null&&_.unshift(oi(u,q,L)),q=qn(u,p),q!=null&&_.push(oi(u,q,L))),u=u.return}return _}function wm(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function If(u,p,x,_,L){for(var q=p._reactName,he=[];x!==null&&x!==_;){var tt=x,mt=tt.alternate,en=tt.stateNode;if(mt!==null&&mt===_)break;tt.tag===5&&en!==null&&(tt=en,L?(mt=qn(x,q),mt!=null&&he.unshift(oi(x,mt,tt))):L||(mt=qn(x,q),mt!=null&&he.push(oi(x,mt,tt)))),x=x.return}he.length!==0&&u.push({event:p,listeners:he})}var Ao=/\r\n?/g,w1=/\u0000|\uFFFD/g;function xi(u){return(typeof u=="string"?u:""+u).replace(Ao,`
`).replace(w1,"")}function Ei(u,p,x){if(p=xi(p),xi(u)!==p&&x)throw Error(b(425))}function Ai(){}var zr=null,qd=null;function cp(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,Cd=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,lh=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(u){return up.resolve(null).then(u).catch(ug)}:Oc;function ug(u){setTimeout(function(){throw u})}function qu(u,p){var x=p,_=0;do{var L=x.nextSibling;if(u.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(_===0){u.removeChild(L),Zi(p);return}_--}else x!=="$"&&x!=="$?"&&x!=="$!"||_++;x=L}while(x);Zi(p)}function yl(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function ch(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(p===0)return u;p--}else x==="/$"&&p++}u=u.previousSibling}return null}var ui=Math.random().toString(36).slice(2),Ii="__reactFiber$"+ui,su="__reactProps$"+ui,As="__reactContainer$"+ui,ac="__reactEvents$"+ui,$0="__reactListeners$"+ui,dg="__reactHandles$"+ui;function wl(u){var p=u[Ii];if(p)return p;for(var x=u.parentNode;x;){if(p=x[As]||x[Ii]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(u=ch(u);u!==null;){if(x=u[Ii])return x;u=ch(u)}return p}u=x,x=u.parentNode}return null}function To(u){return u=u[Ii]||u[As],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Nr(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(b(33))}function Ti(u){return u[su]||null}var Ur=[],_l=-1;function Er(u){return{current:u}}function Hs(u){0>_l||(u.current=Ur[_l],Ur[_l]=null,_l--)}function ma(u,p){_l++,Ur[_l]=u.current,u.current=p}var fs={},Wa=Er(fs),Is=Er(!1),Yi=fs;function Ea(u,p){var x=u.type.contextTypes;if(!x)return fs;var _=u.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===p)return _.__reactInternalMemoizedMaskedChildContext;var L={},q;for(q in x)L[q]=p[q];return _&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=L),L}function Rr(u){return u=u.childContextTypes,u!=null}function Au(){Hs(Is),Hs(Wa)}function Cm(u,p,x){if(Wa.current!==fs)throw Error(b(168));ma(Wa,p),ma(Is,x)}function Gd(u,p,x){var _=u.stateNode;if(p=p.childContextTypes,typeof _.getChildContext!="function")return x;_=_.getChildContext();for(var L in _)if(!(L in p))throw Error(b(108,ut(u)||"Unknown",L));return yt({},x,_)}function Sd(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||fs,Yi=Wa.current,ma(Wa,u),ma(Is,Is.current),!0}function hf(u,p,x){var _=u.stateNode;if(!_)throw Error(b(169));x?(u=Gd(u,p,Yi),_.__reactInternalMemoizedMergedChildContext=u,Hs(Is),Hs(Wa),ma(Wa,u)):Hs(Is),ma(Is,x)}var ja=null,Gu=!1,C1=!1;function vf(u){ja===null?ja=[u]:ja.push(u)}function mr(u){Gu=!0,vf(u)}function Kd(){if(!C1&&ja!==null){C1=!0;var u=0,p=Pr;try{var x=ja;for(Pr=1;u<x.length;u++){var _=x[u];do _=_(!0);while(_!==null)}ja=null,Gu=!1}catch(L){throw ja!==null&&(ja=ja.slice(u+1)),go(Ue,Kd),L}finally{Pr=p,C1=!1}}return null}var xd=[],ki=0,Ol=null,pa=0,fl=[],Br=0,Ku=null,Yu=1,Ed="";function dp(u,p){xd[ki++]=pa,xd[ki++]=Ol,Ol=u,pa=p}function Xu(u,p,x){fl[Br++]=Yu,fl[Br++]=Ed,fl[Br++]=Ku,Ku=u;var _=Yu;u=Ed;var L=32-ms(_)-1;_&=~(1<<L),x+=1;var q=32-ms(p)+L;if(30<q){var he=L-L%5;q=(_&(1<<he)-1).toString(32),_>>=he,L-=he,Yu=1<<32-ms(p)+L|x<<L|_,Ed=q+u}else Yu=1<<q|x<<L|_,Ed=u}function S1(u){u.return!==null&&(dp(u,1),Xu(u,1,0))}function fg(u){for(;u===Ol;)Ol=xd[--ki],xd[ki]=null,pa=xd[--ki],xd[ki]=null;for(;u===Ku;)Ku=fl[--Br],fl[Br]=null,Ed=fl[--Br],fl[Br]=null,Yu=fl[--Br],fl[Br]=null}var _i=null,ru=null,Aa=!1,Dc=null;function fp(u,p){var x=ad(5,null,null,0);x.elementType="DELETED",x.stateNode=p,x.return=u,p=u.deletions,p===null?(u.deletions=[x],u.flags|=16):p.push(x)}function uh(u,p){switch(u.tag){case 5:var x=u.type;return p=p.nodeType!==1||x.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,_i=u,ru=yl(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,_i=u,ru=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(x=Ku!==null?{id:Yu,overflow:Ed}:null,u.memoizedState={dehydrated:p,treeContext:x,retryLane:1073741824},x=ad(18,null,null,0),x.stateNode=p,x.return=u,u.child=x,_i=u,ru=null,!0):!1;default:return!1}}function dh(u){return(u.mode&1)!==0&&(u.flags&128)===0}function au(u){if(Aa){var p=ru;if(p){var x=p;if(!uh(u,p)){if(dh(u))throw Error(b(418));p=yl(x.nextSibling);var _=_i;p&&uh(u,p)?fp(_,x):(u.flags=u.flags&-4097|2,Aa=!1,_i=u)}}else{if(dh(u))throw Error(b(418));u.flags=u.flags&-4097|2,Aa=!1,_i=u}}}function L0(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;_i=u}function Ad(u){if(u!==_i)return!1;if(!Aa)return L0(u),Aa=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!cp(u.type,u.memoizedProps)),p&&(p=ru)){if(dh(u))throw ur(),Error(b(418));for(;p;)fp(u,p),p=yl(p.nextSibling)}if(L0(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(b(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"){if(p===0){ru=yl(u.nextSibling);break e}p--}else x!=="$"&&x!=="$!"&&x!=="$?"||p++}u=u.nextSibling}ru=null}}else ru=_i?yl(u.stateNode.nextSibling):null;return!0}function ur(){for(var u=ru;u;)u=yl(u.nextSibling)}function Oi(){ru=_i=null,Aa=!1}function Qu(u){Dc===null?Dc=[u]:Dc.push(u)}var x1=dt.ReactCurrentBatchConfig;function Ju(u,p,x){if(u=x.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(b(309));var _=x.stateNode}if(!_)throw Error(b(147,u));var L=_,q=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===q?p.ref:(p=function(he){var tt=L.refs;he===null?delete tt[q]:tt[q]=he},p._stringRef=q,p)}if(typeof u!="string")throw Error(b(284));if(!x._owner)throw Error(b(290,u))}return u}function mp(u,p){throw u=Object.prototype.toString.call(p),Error(b(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function E1(u){var p=u._init;return p(u._payload)}function Td(u){function p(Zt,St){if(u){var Kt=Zt.deletions;Kt===null?(Zt.deletions=[St],Zt.flags|=16):Kt.push(St)}}function x(Zt,St){if(!u)return null;for(;St!==null;)p(Zt,St),St=St.sibling;return null}function _(Zt,St){for(Zt=new Map;St!==null;)St.key!==null?Zt.set(St.key,St):Zt.set(St.index,St),St=St.sibling;return Zt}function L(Zt,St){return Zt=Af(Zt,St),Zt.index=0,Zt.sibling=null,Zt}function q(Zt,St,Kt){return Zt.index=Kt,u?(Kt=Zt.alternate,Kt!==null?(Kt=Kt.index,Kt<St?(Zt.flags|=2,St):Kt):(Zt.flags|=2,St)):(Zt.flags|=1048576,St)}function he(Zt){return u&&Zt.alternate===null&&(Zt.flags|=2),Zt}function tt(Zt,St,Kt,lo){return St===null||St.tag!==6?(St=Pm(Kt,Zt.mode,lo),St.return=Zt,St):(St=L(St,Kt),St.return=Zt,St)}function mt(Zt,St,Kt,lo){var gs=Kt.type;return gs===G?Nn(Zt,St,Kt.props.children,lo,Kt.key):St!==null&&(St.elementType===gs||typeof gs=="object"&&gs!==null&&gs.$$typeof===F&&E1(gs)===St.type)?(lo=L(St,Kt.props),lo.ref=Ju(Zt,St,Kt),lo.return=Zt,lo):(lo=id(Kt.type,Kt.key,Kt.props,null,Zt.mode,lo),lo.ref=Ju(Zt,St,Kt),lo.return=Zt,lo)}function en(Zt,St,Kt,lo){return St===null||St.tag!==4||St.stateNode.containerInfo!==Kt.containerInfo||St.stateNode.implementation!==Kt.implementation?(St=ev(Kt,Zt.mode,lo),St.return=Zt,St):(St=L(St,Kt.children||[]),St.return=Zt,St)}function Nn(Zt,St,Kt,lo,gs){return St===null||St.tag!==7?(St=Tf(Kt,Zt.mode,lo,gs),St.return=Zt,St):(St=L(St,Kt),St.return=Zt,St)}function Pn(Zt,St,Kt){if(typeof St=="string"&&St!==""||typeof St=="number")return St=Pm(""+St,Zt.mode,Kt),St.return=Zt,St;if(typeof St=="object"&&St!==null){switch(St.$$typeof){case Wt:return Kt=id(St.type,St.key,St.props,null,Zt.mode,Kt),Kt.ref=Ju(Zt,null,St),Kt.return=Zt,Kt;case Ae:return St=ev(St,Zt.mode,Kt),St.return=Zt,St;case F:var lo=St._init;return Pn(Zt,lo(St._payload),Kt)}if(at(St)||rn(St))return St=Tf(St,Zt.mode,Kt,null),St.return=Zt,St;mp(Zt,St)}return null}function Ln(Zt,St,Kt,lo){var gs=St!==null?St.key:null;if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return gs!==null?null:tt(Zt,St,""+Kt,lo);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case Wt:return Kt.key===gs?mt(Zt,St,Kt,lo):null;case Ae:return Kt.key===gs?en(Zt,St,Kt,lo):null;case F:return gs=Kt._init,Ln(Zt,St,gs(Kt._payload),lo)}if(at(Kt)||rn(Kt))return gs!==null?null:Nn(Zt,St,Kt,lo,null);mp(Zt,Kt)}return null}function Ro(Zt,St,Kt,lo,gs){if(typeof lo=="string"&&lo!==""||typeof lo=="number")return Zt=Zt.get(Kt)||null,tt(St,Zt,""+lo,gs);if(typeof lo=="object"&&lo!==null){switch(lo.$$typeof){case Wt:return Zt=Zt.get(lo.key===null?Kt:lo.key)||null,mt(St,Zt,lo,gs);case Ae:return Zt=Zt.get(lo.key===null?Kt:lo.key)||null,en(St,Zt,lo,gs);case F:var Ts=lo._init;return Ro(Zt,St,Kt,Ts(lo._payload),gs)}if(at(lo)||rn(lo))return Zt=Zt.get(Kt)||null,Nn(St,Zt,lo,gs,null);mp(St,lo)}return null}function zo(Zt,St,Kt,lo){for(var gs=null,Ts=null,ys=St,js=St=0,hl=null;ys!==null&&js<Kt.length;js++){ys.index>js?(hl=ys,ys=null):hl=ys.sibling;var oa=Ln(Zt,ys,Kt[js],lo);if(oa===null){ys===null&&(ys=hl);break}u&&ys&&oa.alternate===null&&p(Zt,ys),St=q(oa,St,js),Ts===null?gs=oa:Ts.sibling=oa,Ts=oa,ys=hl}if(js===Kt.length)return x(Zt,ys),Aa&&dp(Zt,js),gs;if(ys===null){for(;js<Kt.length;js++)ys=Pn(Zt,Kt[js],lo),ys!==null&&(St=q(ys,St,js),Ts===null?gs=ys:Ts.sibling=ys,Ts=ys);return Aa&&dp(Zt,js),gs}for(ys=_(Zt,ys);js<Kt.length;js++)hl=Ro(ys,Zt,js,Kt[js],lo),hl!==null&&(u&&hl.alternate!==null&&ys.delete(hl.key===null?js:hl.key),St=q(hl,St,js),Ts===null?gs=hl:Ts.sibling=hl,Ts=hl);return u&&ys.forEach(function(Rm){return p(Zt,Rm)}),Aa&&dp(Zt,js),gs}function ns(Zt,St,Kt,lo){var gs=rn(Kt);if(typeof gs!="function")throw Error(b(150));if(Kt=gs.call(Kt),Kt==null)throw Error(b(151));for(var Ts=gs=null,ys=St,js=St=0,hl=null,oa=Kt.next();ys!==null&&!oa.done;js++,oa=Kt.next()){ys.index>js?(hl=ys,ys=null):hl=ys.sibling;var Rm=Ln(Zt,ys,oa.value,lo);if(Rm===null){ys===null&&(ys=hl);break}u&&ys&&Rm.alternate===null&&p(Zt,ys),St=q(Rm,St,js),Ts===null?gs=Rm:Ts.sibling=Rm,Ts=Rm,ys=hl}if(oa.done)return x(Zt,ys),Aa&&dp(Zt,js),gs;if(ys===null){for(;!oa.done;js++,oa=Kt.next())oa=Pn(Zt,oa.value,lo),oa!==null&&(St=q(oa,St,js),Ts===null?gs=oa:Ts.sibling=oa,Ts=oa);return Aa&&dp(Zt,js),gs}for(ys=_(Zt,ys);!oa.done;js++,oa=Kt.next())oa=Ro(ys,Zt,js,oa.value,lo),oa!==null&&(u&&oa.alternate!==null&&ys.delete(oa.key===null?js:oa.key),St=q(oa,St,js),Ts===null?gs=oa:Ts.sibling=oa,Ts=oa);return u&&ys.forEach(function(Gf){return p(Zt,Gf)}),Aa&&dp(Zt,js),gs}function pi(Zt,St,Kt,lo){if(typeof Kt=="object"&&Kt!==null&&Kt.type===G&&Kt.key===null&&(Kt=Kt.props.children),typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case Wt:e:{for(var gs=Kt.key,Ts=St;Ts!==null;){if(Ts.key===gs){if(gs=Kt.type,gs===G){if(Ts.tag===7){x(Zt,Ts.sibling),St=L(Ts,Kt.props.children),St.return=Zt,Zt=St;break e}}else if(Ts.elementType===gs||typeof gs=="object"&&gs!==null&&gs.$$typeof===F&&E1(gs)===Ts.type){x(Zt,Ts.sibling),St=L(Ts,Kt.props),St.ref=Ju(Zt,Ts,Kt),St.return=Zt,Zt=St;break e}x(Zt,Ts);break}else p(Zt,Ts);Ts=Ts.sibling}Kt.type===G?(St=Tf(Kt.props.children,Zt.mode,lo,Kt.key),St.return=Zt,Zt=St):(lo=id(Kt.type,Kt.key,Kt.props,null,Zt.mode,lo),lo.ref=Ju(Zt,St,Kt),lo.return=Zt,Zt=lo)}return he(Zt);case Ae:e:{for(Ts=Kt.key;St!==null;){if(St.key===Ts)if(St.tag===4&&St.stateNode.containerInfo===Kt.containerInfo&&St.stateNode.implementation===Kt.implementation){x(Zt,St.sibling),St=L(St,Kt.children||[]),St.return=Zt,Zt=St;break e}else{x(Zt,St);break}else p(Zt,St);St=St.sibling}St=ev(Kt,Zt.mode,lo),St.return=Zt,Zt=St}return he(Zt);case F:return Ts=Kt._init,pi(Zt,St,Ts(Kt._payload),lo)}if(at(Kt))return zo(Zt,St,Kt,lo);if(rn(Kt))return ns(Zt,St,Kt,lo);mp(Zt,Kt)}return typeof Kt=="string"&&Kt!==""||typeof Kt=="number"?(Kt=""+Kt,St!==null&&St.tag===6?(x(Zt,St.sibling),St=L(St,Kt),St.return=Zt,Zt=St):(x(Zt,St),St=Pm(Kt,Zt.mode,lo),St.return=Zt,Zt=St),he(Zt)):x(Zt,St)}return pi}var Pc=Td(!0),wr=Td(!1),mg=Er(null),na=null,kd=null,Za=null;function ed(){Za=kd=na=null}function Xi(u){var p=mg.current;Hs(mg),u._currentValue=p}function _d(u,p,x){for(;u!==null;){var _=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,_!==null&&(_.childLanes|=p)):_!==null&&(_.childLanes&p)!==p&&(_.childLanes|=p),u===x)break;u=u.return}}function bf(u,p){na=u,Za=kd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(sr=!0),u.firstContext=null)}function iu(u){var p=u._currentValue;if(Za!==u)if(u={context:u,memoizedValue:p,next:null},kd===null){if(na===null)throw Error(b(308));kd=u,na.dependencies={lanes:0,firstContext:u}}else kd=kd.next=u;return p}var yf=null;function A1(u){yf===null?yf=[u]:yf.push(u)}function ic(u,p,x,_){var L=p.interleaved;return L===null?(x.next=x,A1(p)):(x.next=L.next,L.next=x),p.interleaved=x,Cl(u,_)}function Cl(u,p){u.lanes|=p;var x=u.alternate;for(x!==null&&(x.lanes|=p),x=u,u=u.return;u!==null;)u.childLanes|=p,x=u.alternate,x!==null&&(x.childLanes|=p),x=u,u=u.return;return x.tag===3?x.stateNode:null}var aa=!1;function Di(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pg(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Tu(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function Od(u,p,x){var _=u.updateQueue;if(_===null)return null;if(_=_.shared,(Zs&2)!==0){var L=_.pending;return L===null?p.next=p:(p.next=L.next,L.next=p),_.pending=p,Cl(u,x)}return L=_.interleaved,L===null?(p.next=p,A1(_)):(p.next=L.next,L.next=p),_.interleaved=p,Cl(u,x)}function gg(u,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194240)!==0)){var _=p.lanes;_&=u.pendingLanes,x|=_,p.lanes=x,Kr(u,x)}}function ku(u,p){var x=u.updateQueue,_=u.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var L=null,q=null;if(x=x.firstBaseUpdate,x!==null){do{var he={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};q===null?L=q=he:q=q.next=he,x=x.next}while(x!==null);q===null?L=q=p:q=q.next=p}else L=q=p;x={baseState:_.baseState,firstBaseUpdate:L,lastBaseUpdate:q,shared:_.shared,effects:_.effects},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=p:u.next=p,x.lastBaseUpdate=p}function T1(u,p,x,_){var L=u.updateQueue;aa=!1;var q=L.firstBaseUpdate,he=L.lastBaseUpdate,tt=L.shared.pending;if(tt!==null){L.shared.pending=null;var mt=tt,en=mt.next;mt.next=null,he===null?q=en:he.next=en,he=mt;var Nn=u.alternate;Nn!==null&&(Nn=Nn.updateQueue,tt=Nn.lastBaseUpdate,tt!==he&&(tt===null?Nn.firstBaseUpdate=en:tt.next=en,Nn.lastBaseUpdate=mt))}if(q!==null){var Pn=L.baseState;he=0,Nn=en=mt=null,tt=q;do{var Ln=tt.lane,Ro=tt.eventTime;if((_&Ln)===Ln){Nn!==null&&(Nn=Nn.next={eventTime:Ro,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var zo=u,ns=tt;switch(Ln=p,Ro=x,ns.tag){case 1:if(zo=ns.payload,typeof zo=="function"){Pn=zo.call(Ro,Pn,Ln);break e}Pn=zo;break e;case 3:zo.flags=zo.flags&-65537|128;case 0:if(zo=ns.payload,Ln=typeof zo=="function"?zo.call(Ro,Pn,Ln):zo,Ln==null)break e;Pn=yt({},Pn,Ln);break e;case 2:aa=!0}}tt.callback!==null&&tt.lane!==0&&(u.flags|=64,Ln=L.effects,Ln===null?L.effects=[tt]:Ln.push(tt))}else Ro={eventTime:Ro,lane:Ln,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Nn===null?(en=Nn=Ro,mt=Pn):Nn=Nn.next=Ro,he|=Ln;if(tt=tt.next,tt===null){if(tt=L.shared.pending,tt===null)break;Ln=tt,tt=Ln.next,Ln.next=null,L.lastBaseUpdate=Ln,L.shared.pending=null}}while(!0);if(Nn===null&&(mt=Pn),L.baseState=mt,L.firstBaseUpdate=en,L.lastBaseUpdate=Nn,p=L.shared.interleaved,p!==null){L=p;do he|=L.lane,L=L.next;while(L!==p)}else q===null&&(L.shared.lanes=0);Tm|=he,u.lanes=he,u.memoizedState=Pn}}function R(u,p,x){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var _=u[p],L=_.callback;if(L!==null){if(_.callback=null,_=x,typeof L!="function")throw Error(b(191,L));L.call(_)}}}var B={},ne=Er(B),we=Er(B),Ke=Er(B);function Ot(u){if(u===B)throw Error(b(174));return u}function xn(u,p){switch(ma(Ke,p),ma(we,u),ma(ne,B),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:mo(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=mo(p,u)}Hs(ne),ma(ne,p)}function no(){Hs(ne),Hs(we),Hs(Ke)}function Ko(u){Ot(Ke.current);var p=Ot(ne.current),x=mo(p,u.type);p!==x&&(ma(we,u),ma(ne,x))}function vs(u){we.current===u&&(Hs(ne),Hs(we))}var Ss=Er(0);function Yr(u){for(var p=u;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var qa=[];function lc(){for(var u=0;u<qa.length;u++)qa[u]._workInProgressVersionPrimary=null;qa.length=0}var lu=dt.ReactCurrentDispatcher,Dd=dt.ReactCurrentBatchConfig,Dl=0,si=null,di=null,$i=null,$f=!1,wf=!1,Yd=0,fh=0;function cc(){throw Error(b(321))}function k1(u,p){if(p===null)return!1;for(var x=0;x<p.length&&x<u.length;x++)if(!ll(u[x],p[x]))return!1;return!0}function Ws(u,p,x,_,L,q){if(Dl=q,si=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,lu.current=u===null||u.memoizedState===null?_C:Rc,u=x(_,L),wf){q=0;do{if(wf=!1,Yd=0,25<=q)throw Error(b(301));q+=1,$i=di=null,p.updateQueue=null,lu.current=Pd,u=x(_,L)}while(wf)}if(lu.current=Vl,p=di!==null&&di.next!==null,Dl=0,$i=di=si=null,$f=!1,p)throw Error(b(300));return u}function wa(){var u=Yd!==0;return Yd=0,u}function Ir(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?si.memoizedState=$i=u:$i=$i.next=u,$i}function Ta(){if(di===null){var u=si.alternate;u=u!==null?u.memoizedState:null}else u=di.next;var p=$i===null?si.memoizedState:$i.next;if(p!==null)$i=p,di=u;else{if(u===null)throw Error(b(310));di=u,u={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},$i===null?si.memoizedState=$i=u:$i=$i.next=u}return $i}function Lf(u,p){return typeof p=="function"?p(u):p}function Sm(u){var p=Ta(),x=p.queue;if(x===null)throw Error(b(311));x.lastRenderedReducer=u;var _=di,L=_.baseQueue,q=x.pending;if(q!==null){if(L!==null){var he=L.next;L.next=q.next,q.next=he}_.baseQueue=L=q,x.pending=null}if(L!==null){q=L.next,_=_.baseState;var tt=he=null,mt=null,en=q;do{var Nn=en.lane;if((Dl&Nn)===Nn)mt!==null&&(mt=mt.next={lane:0,action:en.action,hasEagerState:en.hasEagerState,eagerState:en.eagerState,next:null}),_=en.hasEagerState?en.eagerState:u(_,en.action);else{var Pn={lane:Nn,action:en.action,hasEagerState:en.hasEagerState,eagerState:en.eagerState,next:null};mt===null?(tt=mt=Pn,he=_):mt=mt.next=Pn,si.lanes|=Nn,Tm|=Nn}en=en.next}while(en!==null&&en!==q);mt===null?he=_:mt.next=tt,ll(_,p.memoizedState)||(sr=!0),p.memoizedState=_,p.baseState=he,p.baseQueue=mt,x.lastRenderedState=_}if(u=x.interleaved,u!==null){L=u;do q=L.lane,si.lanes|=q,Tm|=q,L=L.next;while(L!==u)}else L===null&&(x.lanes=0);return[p.memoizedState,x.dispatch]}function pp(u){var p=Ta(),x=p.queue;if(x===null)throw Error(b(311));x.lastRenderedReducer=u;var _=x.dispatch,L=x.pending,q=p.memoizedState;if(L!==null){x.pending=null;var he=L=L.next;do q=u(q,he.action),he=he.next;while(he!==L);ll(q,p.memoizedState)||(sr=!0),p.memoizedState=q,p.baseQueue===null&&(p.baseState=q),x.lastRenderedState=q}return[q,_]}function hg(){}function fb(u,p){var x=si,_=Ta(),L=p(),q=!ll(_.memoizedState,L);if(q&&(_.memoizedState=L,sr=!0),_=_.queue,Uf(xm.bind(null,x,_,u),[u]),_.getSnapshot!==p||q||$i!==null&&$i.memoizedState.tag&1){if(x.flags|=2048,Xd(9,mh.bind(null,x,_,L,p),void 0,null),Or===null)throw Error(b(349));(Dl&30)!==0||Hf(x,p,L)}return L}function Hf(u,p,x){u.flags|=16384,u={getSnapshot:p,value:x},p=si.updateQueue,p===null?(p={lastEffect:null,stores:null},si.updateQueue=p,p.stores=[u]):(x=p.stores,x===null?p.stores=[u]:x.push(u))}function mh(u,p,x,_){p.value=x,p.getSnapshot=_,Qy(p)&&Pi(u)}function xm(u,p,x){return x(function(){Qy(p)&&Pi(u)})}function Qy(u){var p=u.getSnapshot;u=u.value;try{var x=p();return!ll(u,x)}catch{return!0}}function Pi(u){var p=Cl(u,1);p!==null&&du(p,u,1,-1)}function fi(u){var p=Ir();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:u},p.queue=u,u=u.dispatch=U0.bind(null,si,u),[p.memoizedState,u]}function Xd(u,p,x,_){return u={tag:u,create:p,destroy:x,deps:_,next:null},p=si.updateQueue,p===null?(p={lastEffect:null,stores:null},si.updateQueue=p,p.lastEffect=u.next=u):(x=p.lastEffect,x===null?p.lastEffect=u.next=u:(_=x.next,x.next=u,u.next=_,p.lastEffect=u)),u}function zf(){return Ta().memoizedState}function ph(u,p,x,_){var L=Ir();si.flags|=u,L.memoizedState=Xd(1|p,x,void 0,_===void 0?null:_)}function ml(u,p,x,_){var L=Ta();_=_===void 0?null:_;var q=void 0;if(di!==null){var he=di.memoizedState;if(q=he.destroy,_!==null&&k1(_,he.deps)){L.memoizedState=Xd(p,x,q,_);return}}si.flags|=u,L.memoizedState=Xd(1|p,x,q,_)}function H0(u,p){return ph(8390656,8,u,p)}function Uf(u,p){return ml(2048,8,u,p)}function _1(u,p){return ml(4,2,u,p)}function _u(u,p){return ml(4,4,u,p)}function z0(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function cu(u,p,x){return x=x!=null?x.concat([u]):null,ml(4,4,z0.bind(null,p,u),x)}function Fa(){}function O1(u,p){var x=Ta();p=p===void 0?null:p;var _=x.memoizedState;return _!==null&&p!==null&&k1(p,_[1])?_[0]:(x.memoizedState=[u,p],u)}function vg(u,p){var x=Ta();p=p===void 0?null:p;var _=x.memoizedState;return _!==null&&p!==null&&k1(p,_[1])?_[0]:(u=u(),x.memoizedState=[u,p],u)}function mb(u,p,x){return(Dl&21)===0?(u.baseState&&(u.baseState=!1,sr=!0),u.memoizedState=x):(ll(x,p)||(x=Gr(),si.lanes|=x,Tm|=x,u.baseState=!0),p)}function pb(u,p){var x=Pr;Pr=x!==0&&4>x?x:4,u(!0);var _=Dd.transition;Dd.transition={};try{u(!1),p()}finally{Pr=x,Dd.transition=_}}function gb(){return Ta().memoizedState}function Jy(u,p,x){var _=Ka(u);if(x={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null},bg(u))D1(p,x);else if(x=ic(u,p,x,_),x!==null){var L=zc();du(x,u,_,L),_n(x,p,_)}}function U0(u,p,x){var _=Ka(u),L={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null};if(bg(u))D1(p,L);else{var q=u.alternate;if(u.lanes===0&&(q===null||q.lanes===0)&&(q=p.lastRenderedReducer,q!==null))try{var he=p.lastRenderedState,tt=q(he,x);if(L.hasEagerState=!0,L.eagerState=tt,ll(tt,he)){var mt=p.interleaved;mt===null?(L.next=L,A1(p)):(L.next=mt.next,mt.next=L),p.interleaved=L;return}}catch{}x=ic(u,p,L,_),x!==null&&(L=zc(),du(x,u,_,L),_n(x,p,_))}}function bg(u){var p=u.alternate;return u===si||p!==null&&p===si}function D1(u,p){wf=$f=!0;var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}function _n(u,p,x){if((x&4194240)!==0){var _=p.lanes;_&=u.pendingLanes,x|=_,p.lanes=x,Kr(u,x)}}var Vl={readContext:iu,useCallback:cc,useContext:cc,useEffect:cc,useImperativeHandle:cc,useInsertionEffect:cc,useLayoutEffect:cc,useMemo:cc,useReducer:cc,useRef:cc,useState:cc,useDebugValue:cc,useDeferredValue:cc,useTransition:cc,useMutableSource:cc,useSyncExternalStore:cc,useId:cc,unstable_isNewReconciler:!1},_C={readContext:iu,useCallback:function(u,p){return Ir().memoizedState=[u,p===void 0?null:p],u},useContext:iu,useEffect:H0,useImperativeHandle:function(u,p,x){return x=x!=null?x.concat([u]):null,ph(4194308,4,z0.bind(null,p,u),x)},useLayoutEffect:function(u,p){return ph(4194308,4,u,p)},useInsertionEffect:function(u,p){return ph(4,2,u,p)},useMemo:function(u,p){var x=Ir();return p=p===void 0?null:p,u=u(),x.memoizedState=[u,p],u},useReducer:function(u,p,x){var _=Ir();return p=x!==void 0?x(p):p,_.memoizedState=_.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},_.queue=u,u=u.dispatch=Jy.bind(null,si,u),[_.memoizedState,u]},useRef:function(u){var p=Ir();return u={current:u},p.memoizedState=u},useState:fi,useDebugValue:Fa,useDeferredValue:function(u){return Ir().memoizedState=u},useTransition:function(){var u=fi(!1),p=u[0];return u=pb.bind(null,u[1]),Ir().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,x){var _=si,L=Ir();if(Aa){if(x===void 0)throw Error(b(407));x=x()}else{if(x=p(),Or===null)throw Error(b(349));(Dl&30)!==0||Hf(_,p,x)}L.memoizedState=x;var q={value:x,getSnapshot:p};return L.queue=q,H0(xm.bind(null,_,q,u),[u]),_.flags|=2048,Xd(9,mh.bind(null,_,q,x,p),void 0,null),x},useId:function(){var u=Ir(),p=Or.identifierPrefix;if(Aa){var x=Ed,_=Yu;x=(_&~(1<<32-ms(_)-1)).toString(32)+x,p=":"+p+"R"+x,x=Yd++,0<x&&(p+="H"+x.toString(32)),p+=":"}else x=fh++,p=":"+p+"r"+x.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},Rc={readContext:iu,useCallback:O1,useContext:iu,useEffect:Uf,useImperativeHandle:cu,useInsertionEffect:_1,useLayoutEffect:_u,useMemo:vg,useReducer:Sm,useRef:zf,useState:function(){return Sm(Lf)},useDebugValue:Fa,useDeferredValue:function(u){var p=Ta();return mb(p,di.memoizedState,u)},useTransition:function(){var u=Sm(Lf)[0],p=Ta().memoizedState;return[u,p]},useMutableSource:hg,useSyncExternalStore:fb,useId:gb,unstable_isNewReconciler:!1},Pd={readContext:iu,useCallback:O1,useContext:iu,useEffect:Uf,useImperativeHandle:cu,useInsertionEffect:_1,useLayoutEffect:_u,useMemo:vg,useReducer:pp,useRef:zf,useState:function(){return pp(Lf)},useDebugValue:Fa,useDeferredValue:function(u){var p=Ta();return di===null?p.memoizedState=u:mb(p,di.memoizedState,u)},useTransition:function(){var u=pp(Lf)[0],p=Ta().memoizedState;return[u,p]},useMutableSource:hg,useSyncExternalStore:fb,useId:gb,unstable_isNewReconciler:!1};function td(u,p){if(u&&u.defaultProps){p=yt({},p),u=u.defaultProps;for(var x in u)p[x]===void 0&&(p[x]=u[x]);return p}return p}function hb(u,p,x,_){p=u.memoizedState,x=x(_,p),x=x==null?p:yt({},p,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var Cf={isMounted:function(u){return(u=u._reactInternals)?hi(u)===u:!1},enqueueSetState:function(u,p,x){u=u._reactInternals;var _=zc(),L=Ka(u),q=Tu(_,L);q.payload=p,x!=null&&(q.callback=x),p=Od(u,q,L),p!==null&&(du(p,u,L,_),gg(p,u,L))},enqueueReplaceState:function(u,p,x){u=u._reactInternals;var _=zc(),L=Ka(u),q=Tu(_,L);q.tag=1,q.payload=p,x!=null&&(q.callback=x),p=Od(u,q,L),p!==null&&(du(p,u,L,_),gg(p,u,L))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var x=zc(),_=Ka(u),L=Tu(x,_);L.tag=2,p!=null&&(L.callback=p),p=Od(u,L,_),p!==null&&(du(p,u,_,x),gg(p,u,_))}};function e2(u,p,x,_,L,q,he){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(_,q,he):p.prototype&&p.prototype.isPureReactComponent?!gf(x,_)||!gf(L,q):!0}function Fc(u,p,x){var _=!1,L=fs,q=p.contextType;return typeof q=="object"&&q!==null?q=iu(q):(L=Rr(p)?Yi:Wa.current,_=p.contextTypes,q=(_=_!=null)?Ea(u,L):fs),p=new p(x,q),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Cf,u.stateNode=p,p._reactInternals=u,_&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=q),p}function vb(u,p,x,_){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,_),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,_),p.state!==u&&Cf.enqueueReplaceState(p,p.state,null)}function Ou(u,p,x,_){var L=u.stateNode;L.props=x,L.state=u.memoizedState,L.refs={},Di(u);var q=p.contextType;typeof q=="object"&&q!==null?L.context=iu(q):(q=Rr(p)?Yi:Wa.current,L.context=Ea(u,q)),L.state=u.memoizedState,q=p.getDerivedStateFromProps,typeof q=="function"&&(hb(u,p,q,x),L.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(p=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),p!==L.state&&Cf.enqueueReplaceState(L,L.state,null),T1(u,x,L,_),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function fn(u,p){try{var x="",_=p;do x+=Ct(_),_=_.return;while(_);var L=x}catch(q){L=`
Error generating stack: `+q.message+`
`+q.stack}return{value:u,source:p,stack:L,digest:null}}function P1(u,p,x){return{value:u,source:null,stack:x??null,digest:p??null}}function Ri(u,p){try{console.error(p.value)}catch(x){setTimeout(function(){throw x})}}var bs=typeof WeakMap=="function"?WeakMap:Map;function Vf(u,p,x){x=Tu(-1,x),x.tag=3,x.payload={element:null};var _=p.value;return x.callback=function(){fc||(fc=!0,Ga=_),Ri(u,p)},x}function yg(u,p,x){x=Tu(-1,x),x.tag=3;var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var L=p.value;x.payload=function(){return _(L)},x.callback=function(){Ri(u,p)}}var q=u.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(x.callback=function(){Ri(u,p),typeof _!="function"&&(Ru===null?Ru=new Set([this]):Ru.add(this));var he=p.stack;this.componentDidCatch(p.value,{componentStack:he!==null?he:""})}),x}function ka(u,p,x){var _=u.pingCache;if(_===null){_=u.pingCache=new bs;var L=new Set;_.set(p,L)}else L=_.get(p),L===void 0&&(L=new Set,_.set(p,L));L.has(x)||(L.add(x),u=Ef.bind(null,u,p,x),p.then(u,u))}function nd(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function gh(u,p,x,_,L){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(p=Tu(-1,1),p.tag=2,Od(x,p,1))),x.lanes|=1),u):(u.flags|=65536,u.lanes=L,u)}var Du=dt.ReactCurrentOwner,sr=!1;function Qi(u,p,x,_){p.child=u===null?wr(p,null,x,_):Pc(p,u.child,x,_)}function wg(u,p,x,_,L){x=x.render;var q=p.ref;return bf(p,L),_=Ws(u,p,x,_,q,L),x=wa(),u!==null&&!sr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~L,sd(u,p,L)):(Aa&&x&&S1(p),p.flags|=1,Qi(u,p,_,L),p.child)}function V0(u,p,x,_,L){if(u===null){var q=x.type;return typeof q=="function"&&!Th(q)&&q.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(p.tag=15,p.type=q,W0(u,p,q,_,L)):(u=id(x.type,null,_,p,p.mode,L),u.ref=p.ref,u.return=p,p.child=u)}if(q=u.child,(u.lanes&L)===0){var he=q.memoizedProps;if(x=x.compare,x=x!==null?x:gf,x(he,_)&&u.ref===p.ref)return sd(u,p,L)}return p.flags|=1,u=Af(q,_),u.ref=p.ref,u.return=p,p.child=u}function W0(u,p,x,_,L){if(u!==null){var q=u.memoizedProps;if(gf(q,_)&&u.ref===p.ref)if(sr=!1,p.pendingProps=_=q,(u.lanes&L)!==0)(u.flags&131072)!==0&&(sr=!0);else return p.lanes=u.lanes,sd(u,p,L)}return Cg(u,p,x,_,L)}function od(u,p,x){var _=p.pendingProps,L=_.children,q=u!==null?u.memoizedState:null;if(_.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},ma(Md,Pl),Pl|=x;else{if((x&1073741824)===0)return u=q!==null?q.baseLanes|x:x,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,ma(Md,Pl),Pl|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=q!==null?q.baseLanes:x,ma(Md,Pl),Pl|=_}else q!==null?(_=q.baseLanes|x,p.memoizedState=null):_=x,ma(Md,Pl),Pl|=_;return Qi(u,p,L,x),p.child}function hh(u,p){var x=p.ref;(u===null&&x!==null||u!==null&&u.ref!==x)&&(p.flags|=512,p.flags|=2097152)}function Cg(u,p,x,_,L){var q=Rr(x)?Yi:Wa.current;return q=Ea(p,q),bf(p,L),x=Ws(u,p,x,_,q,L),_=wa(),u!==null&&!sr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~L,sd(u,p,L)):(Aa&&_&&S1(p),p.flags|=1,Qi(u,p,x,L),p.child)}function t2(u,p,x,_,L){if(Rr(x)){var q=!0;Sd(p)}else q=!1;if(bf(p,L),p.stateNode===null)_a(u,p),Fc(p,x,_),Ou(p,x,_,L),_=!0;else if(u===null){var he=p.stateNode,tt=p.memoizedProps;he.props=tt;var mt=he.context,en=x.contextType;typeof en=="object"&&en!==null?en=iu(en):(en=Rr(x)?Yi:Wa.current,en=Ea(p,en));var Nn=x.getDerivedStateFromProps,Pn=typeof Nn=="function"||typeof he.getSnapshotBeforeUpdate=="function";Pn||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(tt!==_||mt!==en)&&vb(p,he,_,en),aa=!1;var Ln=p.memoizedState;he.state=Ln,T1(p,_,he,L),mt=p.memoizedState,tt!==_||Ln!==mt||Is.current||aa?(typeof Nn=="function"&&(hb(p,x,Nn,_),mt=p.memoizedState),(tt=aa||e2(p,x,tt,_,Ln,mt,en))?(Pn||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(p.flags|=4194308)):(typeof he.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=_,p.memoizedState=mt),he.props=_,he.state=mt,he.context=en,_=tt):(typeof he.componentDidMount=="function"&&(p.flags|=4194308),_=!1)}else{he=p.stateNode,pg(u,p),tt=p.memoizedProps,en=p.type===p.elementType?tt:td(p.type,tt),he.props=en,Pn=p.pendingProps,Ln=he.context,mt=x.contextType,typeof mt=="object"&&mt!==null?mt=iu(mt):(mt=Rr(x)?Yi:Wa.current,mt=Ea(p,mt));var Ro=x.getDerivedStateFromProps;(Nn=typeof Ro=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(tt!==Pn||Ln!==mt)&&vb(p,he,_,mt),aa=!1,Ln=p.memoizedState,he.state=Ln,T1(p,_,he,L);var zo=p.memoizedState;tt!==Pn||Ln!==zo||Is.current||aa?(typeof Ro=="function"&&(hb(p,x,Ro,_),zo=p.memoizedState),(en=aa||e2(p,x,en,_,Ln,zo,mt)||!1)?(Nn||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(_,zo,mt),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(_,zo,mt)),typeof he.componentDidUpdate=="function"&&(p.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof he.componentDidUpdate!="function"||tt===u.memoizedProps&&Ln===u.memoizedState||(p.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||tt===u.memoizedProps&&Ln===u.memoizedState||(p.flags|=1024),p.memoizedProps=_,p.memoizedState=zo),he.props=_,he.state=zo,he.context=mt,_=en):(typeof he.componentDidUpdate!="function"||tt===u.memoizedProps&&Ln===u.memoizedState||(p.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||tt===u.memoizedProps&&Ln===u.memoizedState||(p.flags|=1024),_=!1)}return j0(u,p,x,_,q,L)}function j0(u,p,x,_,L,q){hh(u,p);var he=(p.flags&128)!==0;if(!_&&!he)return L&&hf(p,x,!1),sd(u,p,q);_=p.stateNode,Du.current=p;var tt=he&&typeof x.getDerivedStateFromError!="function"?null:_.render();return p.flags|=1,u!==null&&he?(p.child=Pc(p,u.child,null,q),p.child=Pc(p,null,tt,q)):Qi(u,p,tt,q),p.memoizedState=_.state,L&&hf(p,x,!0),p.child}function vh(u){var p=u.stateNode;p.pendingContext?Cm(u,p.pendingContext,p.pendingContext!==p.context):p.context&&Cm(u,p.context,!1),xn(u,p.containerInfo)}function Z0(u,p,x,_,L){return Oi(),Qu(L),p.flags|=256,Qi(u,p,x,_),p.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function bb(u){return{baseLanes:u,cachePool:null,transitions:null}}function n2(u,p,x){var _=p.pendingProps,L=Ss.current,q=!1,he=(p.flags&128)!==0,tt;if((tt=he)||(tt=u!==null&&u.memoizedState===null?!1:(L&2)!==0),tt?(q=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),ma(Ss,L&1),u===null)return au(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(he=_.children,u=_.fallback,q?(_=p.mode,q=p.child,he={mode:"hidden",children:he},(_&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=he):q=Dm(he,_,0,null),u=Tf(u,_,x,null),q.return=p,u.return=p,q.sibling=u,p.child=q,p.child.memoizedState=bb(x),p.memoizedState=bh,u):R1(p,he));if(L=u.memoizedState,L!==null&&(tt=L.dehydrated,tt!==null))return F1(u,p,he,_,tt,L,x);if(q){q=_.fallback,he=p.mode,L=u.child,tt=L.sibling;var mt={mode:"hidden",children:_.children};return(he&1)===0&&p.child!==L?(_=p.child,_.childLanes=0,_.pendingProps=mt,p.deletions=null):(_=Af(L,mt),_.subtreeFlags=L.subtreeFlags&14680064),tt!==null?q=Af(tt,q):(q=Tf(q,he,x,null),q.flags|=2),q.return=p,_.return=p,_.sibling=q,p.child=_,_=q,q=p.child,he=u.child.memoizedState,he=he===null?bb(x):{baseLanes:he.baseLanes|x,cachePool:null,transitions:he.transitions},q.memoizedState=he,q.childLanes=u.childLanes&~x,p.memoizedState=bh,_}return q=u.child,u=q.sibling,_=Af(q,{mode:"visible",children:_.children}),(p.mode&1)===0&&(_.lanes=x),_.return=p,_.sibling=null,u!==null&&(x=p.deletions,x===null?(p.deletions=[u],p.flags|=16):x.push(u)),p.child=_,p.memoizedState=null,_}function R1(u,p){return p=Dm({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function q0(u,p,x,_){return _!==null&&Qu(_),Pc(p,u.child,null,x),u=R1(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function F1(u,p,x,_,L,q,he){if(x)return p.flags&256?(p.flags&=-257,_=P1(Error(b(422))),q0(u,p,he,_)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(q=_.fallback,L=p.mode,_=Dm({mode:"visible",children:_.children},L,0,null),q=Tf(q,L,he,null),q.flags|=2,_.return=p,q.return=p,_.sibling=q,p.child=_,(p.mode&1)!==0&&Pc(p,u.child,null,he),p.child.memoizedState=bb(he),p.memoizedState=bh,q);if((p.mode&1)===0)return q0(u,p,he,null);if(L.data==="$!"){if(_=L.nextSibling&&L.nextSibling.dataset,_)var tt=_.dgst;return _=tt,q=Error(b(419)),_=P1(q,_,void 0),q0(u,p,he,_)}if(tt=(he&u.childLanes)!==0,sr||tt){if(_=Or,_!==null){switch(he&-he){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(_.suspendedLanes|he))!==0?0:L,L!==0&&L!==q.retryLane&&(q.retryLane=L,Cl(u,L),du(_,u,L,-1))}return gl(),_=P1(Error(b(421))),q0(u,p,he,_)}return L.data==="$?"?(p.flags|=128,p.child=u.child,p=Om.bind(null,u),L._reactRetry=p,null):(u=q.treeContext,ru=yl(L.nextSibling),_i=p,Aa=!0,Dc=null,u!==null&&(fl[Br++]=Yu,fl[Br++]=Ed,fl[Br++]=Ku,Yu=u.id,Ed=u.overflow,Ku=p),p=R1(p,_.children),p.flags|=4096,p)}function OC(u,p,x){u.lanes|=p;var _=u.alternate;_!==null&&(_.lanes|=p),_d(u.return,p,x)}function Mc(u,p,x,_,L){var q=u.memoizedState;q===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:L}:(q.isBackwards=p,q.rendering=null,q.renderingStartTime=0,q.last=_,q.tail=x,q.tailMode=L)}function bo(u,p,x){var _=p.pendingProps,L=_.revealOrder,q=_.tail;if(Qi(u,p,_.children,x),_=Ss.current,(_&2)!==0)_=_&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&OC(u,x,p);else if(u.tag===19)OC(u,x,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}_&=1}if(ma(Ss,_),(p.mode&1)===0)p.memoizedState=null;else switch(L){case"forwards":for(x=p.child,L=null;x!==null;)u=x.alternate,u!==null&&Yr(u)===null&&(L=x),x=x.sibling;x=L,x===null?(L=p.child,p.child=null):(L=x.sibling,x.sibling=null),Mc(p,!1,L,x,q);break;case"backwards":for(x=null,L=p.child,p.child=null;L!==null;){if(u=L.alternate,u!==null&&Yr(u)===null){p.child=L;break}u=L.sibling,L.sibling=x,x=L,L=u}Mc(p,!0,x,null,q);break;case"together":Mc(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function _a(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function sd(u,p,x){if(u!==null&&(p.dependencies=u.dependencies),Tm|=p.lanes,(x&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(b(153));if(p.child!==null){for(u=p.child,x=Af(u,u.pendingProps),p.child=x,x.return=p;u.sibling!==null;)u=u.sibling,x=x.sibling=Af(u,u.pendingProps),x.return=p;x.sibling=null}return p.child}function o2(u,p,x){switch(p.tag){case 3:vh(p),Oi();break;case 5:Ko(p);break;case 1:Rr(p.type)&&Sd(p);break;case 4:xn(p,p.stateNode.containerInfo);break;case 10:var _=p.type._context,L=p.memoizedProps.value;ma(mg,_._currentValue),_._currentValue=L;break;case 13:if(_=p.memoizedState,_!==null)return _.dehydrated!==null?(ma(Ss,Ss.current&1),p.flags|=128,null):(x&p.child.childLanes)!==0?n2(u,p,x):(ma(Ss,Ss.current&1),u=sd(u,p,x),u!==null?u.sibling:null);ma(Ss,Ss.current&1);break;case 19:if(_=(x&p.childLanes)!==0,(u.flags&128)!==0){if(_)return bo(u,p,x);p.flags|=128}if(L=p.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ma(Ss,Ss.current),_)break;return null;case 22:case 23:return p.lanes=0,od(u,p,x)}return sd(u,p,x)}var gp,hp,G0,vp;gp=function(u,p){for(var x=p.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},hp=function(){},G0=function(u,p,x,_){var L=u.memoizedProps;if(L!==_){u=p.stateNode,Ot(ne.current);var q=null;switch(x){case"input":L=Re(u,L),_=Re(u,_),q=[];break;case"select":L=yt({},L,{value:void 0}),_=yt({},_,{value:void 0}),q=[];break;case"textarea":L=wt(u,L),_=wt(u,_),q=[];break;default:typeof L.onClick!="function"&&typeof _.onClick=="function"&&(u.onclick=Ai)}bt(x,_);var he;x=null;for(en in L)if(!_.hasOwnProperty(en)&&L.hasOwnProperty(en)&&L[en]!=null)if(en==="style"){var tt=L[en];for(he in tt)tt.hasOwnProperty(he)&&(x||(x={}),x[he]="")}else en!=="dangerouslySetInnerHTML"&&en!=="children"&&en!=="suppressContentEditableWarning"&&en!=="suppressHydrationWarning"&&en!=="autoFocus"&&(D.hasOwnProperty(en)?q||(q=[]):(q=q||[]).push(en,null));for(en in _){var mt=_[en];if(tt=L?.[en],_.hasOwnProperty(en)&&mt!==tt&&(mt!=null||tt!=null))if(en==="style")if(tt){for(he in tt)!tt.hasOwnProperty(he)||mt&&mt.hasOwnProperty(he)||(x||(x={}),x[he]="");for(he in mt)mt.hasOwnProperty(he)&&tt[he]!==mt[he]&&(x||(x={}),x[he]=mt[he])}else x||(q||(q=[]),q.push(en,x)),x=mt;else en==="dangerouslySetInnerHTML"?(mt=mt?mt.__html:void 0,tt=tt?tt.__html:void 0,mt!=null&&tt!==mt&&(q=q||[]).push(en,mt)):en==="children"?typeof mt!="string"&&typeof mt!="number"||(q=q||[]).push(en,""+mt):en!=="suppressContentEditableWarning"&&en!=="suppressHydrationWarning"&&(D.hasOwnProperty(en)?(mt!=null&&en==="onScroll"&&Mr("scroll",u),q||tt===mt||(q=[])):(q=q||[]).push(en,mt))}x&&(q=q||[]).push("style",x);var en=q;(p.updateQueue=en)&&(p.flags|=4)}},vp=function(u,p,x,_){x!==_&&(p.flags|=4)};function yh(u,p){if(!Aa)switch(u.tailMode){case"hidden":p=u.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:_.sibling=null}}function Fi(u){var p=u.alternate!==null&&u.alternate.child===u.child,x=0,_=0;if(p)for(var L=u.child;L!==null;)x|=L.lanes|L.childLanes,_|=L.subtreeFlags&14680064,_|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)x|=L.lanes|L.childLanes,_|=L.subtreeFlags,_|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=_,u.childLanes=x,p}function s2(u,p,x){var _=p.pendingProps;switch(fg(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(p),null;case 1:return Rr(p.type)&&Au(),Fi(p),null;case 3:return _=p.stateNode,no(),Hs(Is),Hs(Wa),lc(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(u===null||u.child===null)&&(Ad(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Dc!==null&&(Sb(Dc),Dc=null))),hp(u,p),Fi(p),null;case 5:vs(p);var L=Ot(Ke.current);if(x=p.type,u!==null&&p.stateNode!=null)G0(u,p,x,_,L),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!_){if(p.stateNode===null)throw Error(b(166));return Fi(p),null}if(u=Ot(ne.current),Ad(p)){_=p.stateNode,x=p.type;var q=p.memoizedProps;switch(_[Ii]=p,_[su]=q,u=(p.mode&1)!==0,x){case"dialog":Mr("cancel",_),Mr("close",_);break;case"iframe":case"object":case"embed":Mr("load",_);break;case"video":case"audio":for(L=0;L<ul.length;L++)Mr(ul[L],_);break;case"source":Mr("error",_);break;case"img":case"image":case"link":Mr("error",_),Mr("load",_);break;case"details":Mr("toggle",_);break;case"input":Ve(_,q),Mr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!q.multiple},Mr("invalid",_);break;case"textarea":kt(_,q),Mr("invalid",_)}bt(x,q),L=null;for(var he in q)if(q.hasOwnProperty(he)){var tt=q[he];he==="children"?typeof tt=="string"?_.textContent!==tt&&(q.suppressHydrationWarning!==!0&&Ei(_.textContent,tt,u),L=["children",tt]):typeof tt=="number"&&_.textContent!==""+tt&&(q.suppressHydrationWarning!==!0&&Ei(_.textContent,tt,u),L=["children",""+tt]):D.hasOwnProperty(he)&&tt!=null&&he==="onScroll"&&Mr("scroll",_)}switch(x){case"input":jn(_),Ye(_,q,!0);break;case"textarea":jn(_),vn(_);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(_.onclick=Ai)}_=L,p.updateQueue=_,_!==null&&(p.flags|=4)}else{he=L.nodeType===9?L:L.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Fn(x)),u==="http://www.w3.org/1999/xhtml"?x==="script"?(u=he.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof _.is=="string"?u=he.createElement(x,{is:_.is}):(u=he.createElement(x),x==="select"&&(he=u,_.multiple?he.multiple=!0:_.size&&(he.size=_.size))):u=he.createElementNS(u,x),u[Ii]=p,u[su]=_,gp(u,p,!1,!1),p.stateNode=u;e:{switch(he=Bt(x,_),x){case"dialog":Mr("cancel",u),Mr("close",u),L=_;break;case"iframe":case"object":case"embed":Mr("load",u),L=_;break;case"video":case"audio":for(L=0;L<ul.length;L++)Mr(ul[L],u);L=_;break;case"source":Mr("error",u),L=_;break;case"img":case"image":case"link":Mr("error",u),Mr("load",u),L=_;break;case"details":Mr("toggle",u),L=_;break;case"input":Ve(u,_),L=Re(u,_),Mr("invalid",u);break;case"option":L=_;break;case"select":u._wrapperState={wasMultiple:!!_.multiple},L=yt({},_,{value:void 0}),Mr("invalid",u);break;case"textarea":kt(u,_),L=wt(u,_),Mr("invalid",u);break;default:L=_}bt(x,L),tt=L;for(q in tt)if(tt.hasOwnProperty(q)){var mt=tt[q];q==="style"?Xs(u,mt):q==="dangerouslySetInnerHTML"?(mt=mt?mt.__html:void 0,mt!=null&&vo(u,mt)):q==="children"?typeof mt=="string"?(x!=="textarea"||mt!=="")&&ts(u,mt):typeof mt=="number"&&ts(u,""+mt):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(D.hasOwnProperty(q)?mt!=null&&q==="onScroll"&&Mr("scroll",u):mt!=null&&J(u,q,mt,he))}switch(x){case"input":jn(u),Ye(u,_,!1);break;case"textarea":jn(u),vn(u);break;case"option":_.value!=null&&u.setAttribute("value",""+W(_.value));break;case"select":u.multiple=!!_.multiple,q=_.value,q!=null?En(u,!!_.multiple,q,!1):_.defaultValue!=null&&En(u,!!_.multiple,_.defaultValue,!0);break;default:typeof L.onClick=="function"&&(u.onclick=Ai)}switch(x){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Fi(p),null;case 6:if(u&&p.stateNode!=null)vp(u,p,u.memoizedProps,_);else{if(typeof _!="string"&&p.stateNode===null)throw Error(b(166));if(x=Ot(Ke.current),Ot(ne.current),Ad(p)){if(_=p.stateNode,x=p.memoizedProps,_[Ii]=p,(q=_.nodeValue!==x)&&(u=_i,u!==null))switch(u.tag){case 3:Ei(_.nodeValue,x,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Ei(_.nodeValue,x,(u.mode&1)!==0)}q&&(p.flags|=4)}else _=(x.nodeType===9?x:x.ownerDocument).createTextNode(_),_[Ii]=p,p.stateNode=_}return Fi(p),null;case 13:if(Hs(Ss),_=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Aa&&ru!==null&&(p.mode&1)!==0&&(p.flags&128)===0)ur(),Oi(),p.flags|=98560,q=!1;else if(q=Ad(p),_!==null&&_.dehydrated!==null){if(u===null){if(!q)throw Error(b(318));if(q=p.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(b(317));q[Ii]=p}else Oi(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Fi(p),q=!1}else Dc!==null&&(Sb(Dc),Dc=null),q=!0;if(!q)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=x,p):(_=_!==null,_!==(u!==null&&u.memoizedState!==null)&&_&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(Ss.current&1)!==0?Li===0&&(Li=3):gl())),p.updateQueue!==null&&(p.flags|=4),Fi(p),null);case 4:return no(),hp(u,p),u===null&&Zu(p.stateNode.containerInfo),Fi(p),null;case 10:return Xi(p.type._context),Fi(p),null;case 17:return Rr(p.type)&&Au(),Fi(p),null;case 19:if(Hs(Ss),q=p.memoizedState,q===null)return Fi(p),null;if(_=(p.flags&128)!==0,he=q.rendering,he===null)if(_)yh(q,!1);else{if(Li!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(he=Yr(u),he!==null){for(p.flags|=128,yh(q,!1),_=he.updateQueue,_!==null&&(p.updateQueue=_,p.flags|=4),p.subtreeFlags=0,_=x,x=p.child;x!==null;)q=x,u=_,q.flags&=14680066,he=q.alternate,he===null?(q.childLanes=0,q.lanes=u,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=he.childLanes,q.lanes=he.lanes,q.child=he.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=he.memoizedProps,q.memoizedState=he.memoizedState,q.updateQueue=he.updateQueue,q.type=he.type,u=he.dependencies,q.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),x=x.sibling;return ma(Ss,Ss.current&1|2),p.child}u=u.sibling}q.tail!==null&&hs()>Sh&&(p.flags|=128,_=!0,yh(q,!1),p.lanes=4194304)}else{if(!_)if(u=Yr(he),u!==null){if(p.flags|=128,_=!0,x=u.updateQueue,x!==null&&(p.updateQueue=x,p.flags|=4),yh(q,!0),q.tail===null&&q.tailMode==="hidden"&&!he.alternate&&!Aa)return Fi(p),null}else 2*hs()-q.renderingStartTime>Sh&&x!==1073741824&&(p.flags|=128,_=!0,yh(q,!1),p.lanes=4194304);q.isBackwards?(he.sibling=p.child,p.child=he):(x=q.last,x!==null?x.sibling=he:p.child=he,q.last=he)}return q.tail!==null?(p=q.tail,q.rendering=p,q.tail=p.sibling,q.renderingStartTime=hs(),p.sibling=null,x=Ss.current,ma(Ss,_?x&1|2:x&1),p):(Fi(p),null);case 22:case 23:return Sf(),_=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==_&&(p.flags|=8192),_&&(p.mode&1)!==0?(Pl&1073741824)!==0&&(Fi(p),p.subtreeFlags&6&&(p.flags|=8192)):Fi(p),null;case 24:return null;case 25:return null}throw Error(b(156,p.tag))}function yb(u,p){switch(fg(p),p.tag){case 1:return Rr(p.type)&&Au(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return no(),Hs(Is),Hs(Wa),lc(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return vs(p),null;case 13:if(Hs(Ss),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(b(340));Oi()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return Hs(Ss),null;case 4:return no(),null;case 10:return Xi(p.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var ia=!1,Xa=!1,Nc=typeof WeakSet=="function"?WeakSet:Set,qo=null;function pl(u,p){var x=u.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(_){ai(u,p,_)}else x.current=null}function Em(u,p,x){try{x()}catch(_){ai(u,p,_)}}var Ji=!1;function Bc(u,p){if(zr=Cu,u=Wu(),Zd(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var L=_.anchorOffset,q=_.focusNode;_=_.focusOffset;try{x.nodeType,q.nodeType}catch{x=null;break e}var he=0,tt=-1,mt=-1,en=0,Nn=0,Pn=u,Ln=null;t:for(;;){for(var Ro;Pn!==x||L!==0&&Pn.nodeType!==3||(tt=he+L),Pn!==q||_!==0&&Pn.nodeType!==3||(mt=he+_),Pn.nodeType===3&&(he+=Pn.nodeValue.length),(Ro=Pn.firstChild)!==null;)Ln=Pn,Pn=Ro;for(;;){if(Pn===u)break t;if(Ln===x&&++en===L&&(tt=he),Ln===q&&++Nn===_&&(mt=he),(Ro=Pn.nextSibling)!==null)break;Pn=Ln,Ln=Pn.parentNode}Pn=Ro}x=tt===-1||mt===-1?null:{start:tt,end:mt}}else x=null}x=x||{start:0,end:0}}else x=null;for(qd={focusedElem:u,selectionRange:x},Cu=!1,qo=p;qo!==null;)if(p=qo,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,qo=u;else for(;qo!==null;){p=qo;try{var zo=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(zo!==null){var ns=zo.memoizedProps,pi=zo.memoizedState,Zt=p.stateNode,St=Zt.getSnapshotBeforeUpdate(p.elementType===p.type?ns:td(p.type,ns),pi);Zt.__reactInternalSnapshotBeforeUpdate=St}break;case 3:var Kt=p.stateNode.containerInfo;Kt.nodeType===1?Kt.textContent="":Kt.nodeType===9&&Kt.documentElement&&Kt.removeChild(Kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(lo){ai(p,p.return,lo)}if(u=p.sibling,u!==null){u.return=p.return,qo=u;break}qo=p.return}return zo=Ji,Ji=!1,zo}function bp(u,p,x){var _=p.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var L=_=_.next;do{if((L.tag&u)===u){var q=L.destroy;L.destroy=void 0,q!==void 0&&Em(p,x,q)}L=L.next}while(L!==_)}}function Jt(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&u)===u){var _=x.create;x.destroy=_()}x=x.next}while(x!==p)}}function uc(u){var p=u.ref;if(p!==null){var x=u.stateNode;u.tag,u=x,typeof p=="function"?p(u):p.current=u}}function wh(u){var p=u.alternate;p!==null&&(u.alternate=null,wh(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[Ii],delete p[su],delete p[ac],delete p[$0],delete p[dg])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Ma(u){return u.tag===5||u.tag===3||u.tag===4}function Rd(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Ma(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Ic(u,p,x){var _=u.tag;if(_===5||_===6)u=u.stateNode,p?x.nodeType===8?x.parentNode.insertBefore(u,p):x.insertBefore(u,p):(x.nodeType===8?(p=x.parentNode,p.insertBefore(u,x)):(p=x,p.appendChild(u)),x=x._reactRootContainer,x!=null||p.onclick!==null||(p.onclick=Ai));else if(_!==4&&(u=u.child,u!==null))for(Ic(u,p,x),u=u.sibling;u!==null;)Ic(u,p,x),u=u.sibling}function wb(u,p,x){var _=u.tag;if(_===5||_===6)u=u.stateNode,p?x.insertBefore(u,p):x.appendChild(u);else if(_!==4&&(u=u.child,u!==null))for(wb(u,p,x),u=u.sibling;u!==null;)wb(u,p,x),u=u.sibling}var mi=null,Qd=!1;function el(u,p,x){for(x=x.child;x!==null;)pr(u,p,x),x=x.sibling}function pr(u,p,x){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(ro,x)}catch{}switch(x.tag){case 5:Xa||pl(x,p);case 6:var _=mi,L=Qd;mi=null,el(u,p,x),mi=_,Qd=L,mi!==null&&(Qd?(u=mi,x=x.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)):mi.removeChild(x.stateNode));break;case 18:mi!==null&&(Qd?(u=mi,x=x.stateNode,u.nodeType===8?qu(u.parentNode,x):u.nodeType===1&&qu(u,x),Zi(u)):qu(mi,x.stateNode));break;case 4:_=mi,L=Qd,mi=x.stateNode.containerInfo,Qd=!0,el(u,p,x),mi=_,Qd=L;break;case 0:case 11:case 14:case 15:if(!Xa&&(_=x.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){L=_=_.next;do{var q=L,he=q.destroy;q=q.tag,he!==void 0&&((q&2)!==0||(q&4)!==0)&&Em(x,p,he),L=L.next}while(L!==_)}el(u,p,x);break;case 1:if(!Xa&&(pl(x,p),_=x.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=x.memoizedProps,_.state=x.memoizedState,_.componentWillUnmount()}catch(tt){ai(x,p,tt)}el(u,p,x);break;case 21:el(u,p,x);break;case 22:x.mode&1?(Xa=(_=Xa)||x.memoizedState!==null,el(u,p,x),Xa=_):el(u,p,x);break;default:el(u,p,x)}}function Jd(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var x=u.stateNode;x===null&&(x=u.stateNode=new Nc),p.forEach(function(_){var L=i2.bind(null,u,_);x.has(_)||(x.add(_),_.then(L,L))})}}function uu(u,p){var x=p.deletions;if(x!==null)for(var _=0;_<x.length;_++){var L=x[_];try{var q=u,he=p,tt=he;e:for(;tt!==null;){switch(tt.tag){case 5:mi=tt.stateNode,Qd=!1;break e;case 3:mi=tt.stateNode.containerInfo,Qd=!0;break e;case 4:mi=tt.stateNode.containerInfo,Qd=!0;break e}tt=tt.return}if(mi===null)throw Error(b(160));pr(q,he,L),mi=null,Qd=!1;var mt=L.alternate;mt!==null&&(mt.return=null),L.return=null}catch(en){ai(L,p,en)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)Na(p,u),p=p.sibling}function Na(u,p){var x=u.alternate,_=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(uu(p,u),ef(u),_&4){try{bp(3,u,u.return),Jt(3,u)}catch(ns){ai(u,u.return,ns)}try{bp(5,u,u.return)}catch(ns){ai(u,u.return,ns)}}break;case 1:uu(p,u),ef(u),_&512&&x!==null&&pl(x,x.return);break;case 5:if(uu(p,u),ef(u),_&512&&x!==null&&pl(x,x.return),u.flags&32){var L=u.stateNode;try{ts(L,"")}catch(ns){ai(u,u.return,ns)}}if(_&4&&(L=u.stateNode,L!=null)){var q=u.memoizedProps,he=x!==null?x.memoizedProps:q,tt=u.type,mt=u.updateQueue;if(u.updateQueue=null,mt!==null)try{tt==="input"&&q.type==="radio"&&q.name!=null&&qe(L,q),Bt(tt,he);var en=Bt(tt,q);for(he=0;he<mt.length;he+=2){var Nn=mt[he],Pn=mt[he+1];Nn==="style"?Xs(L,Pn):Nn==="dangerouslySetInnerHTML"?vo(L,Pn):Nn==="children"?ts(L,Pn):J(L,Nn,Pn,en)}switch(tt){case"input":De(L,q);break;case"textarea":an(L,q);break;case"select":var Ln=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!q.multiple;var Ro=q.value;Ro!=null?En(L,!!q.multiple,Ro,!1):Ln!==!!q.multiple&&(q.defaultValue!=null?En(L,!!q.multiple,q.defaultValue,!0):En(L,!!q.multiple,q.multiple?[]:"",!1))}L[su]=q}catch(ns){ai(u,u.return,ns)}}break;case 6:if(uu(p,u),ef(u),_&4){if(u.stateNode===null)throw Error(b(162));L=u.stateNode,q=u.memoizedProps;try{L.nodeValue=q}catch(ns){ai(u,u.return,ns)}}break;case 3:if(uu(p,u),ef(u),_&4&&x!==null&&x.memoizedState.isDehydrated)try{Zi(p.containerInfo)}catch(ns){ai(u,u.return,ns)}break;case 4:uu(p,u),ef(u);break;case 13:uu(p,u),ef(u),L=u.child,L.flags&8192&&(q=L.memoizedState!==null,L.stateNode.isHidden=q,!q||L.alternate!==null&&L.alternate.memoizedState!==null||(N1=hs())),_&4&&Jd(u);break;case 22:if(Nn=x!==null&&x.memoizedState!==null,u.mode&1?(Xa=(en=Xa)||Nn,uu(p,u),Xa=en):uu(p,u),ef(u),_&8192){if(en=u.memoizedState!==null,(u.stateNode.isHidden=en)&&!Nn&&(u.mode&1)!==0)for(qo=u,Nn=u.child;Nn!==null;){for(Pn=qo=Nn;qo!==null;){switch(Ln=qo,Ro=Ln.child,Ln.tag){case 0:case 11:case 14:case 15:bp(4,Ln,Ln.return);break;case 1:pl(Ln,Ln.return);var zo=Ln.stateNode;if(typeof zo.componentWillUnmount=="function"){_=Ln,x=Ln.return;try{p=_,zo.props=p.memoizedProps,zo.state=p.memoizedState,zo.componentWillUnmount()}catch(ns){ai(_,x,ns)}}break;case 5:pl(Ln,Ln.return);break;case 22:if(Ln.memoizedState!==null){$c(Pn);continue}}Ro!==null?(Ro.return=Ln,qo=Ro):$c(Pn)}Nn=Nn.sibling}e:for(Nn=null,Pn=u;;){if(Pn.tag===5){if(Nn===null){Nn=Pn;try{L=Pn.stateNode,en?(q=L.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(tt=Pn.stateNode,mt=Pn.memoizedProps.style,he=mt!=null&&mt.hasOwnProperty("display")?mt.display:null,tt.style.display=Ys("display",he))}catch(ns){ai(u,u.return,ns)}}}else if(Pn.tag===6){if(Nn===null)try{Pn.stateNode.nodeValue=en?"":Pn.memoizedProps}catch(ns){ai(u,u.return,ns)}}else if((Pn.tag!==22&&Pn.tag!==23||Pn.memoizedState===null||Pn===u)&&Pn.child!==null){Pn.child.return=Pn,Pn=Pn.child;continue}if(Pn===u)break e;for(;Pn.sibling===null;){if(Pn.return===null||Pn.return===u)break e;Nn===Pn&&(Nn=null),Pn=Pn.return}Nn===Pn&&(Nn=null),Pn.sibling.return=Pn.return,Pn=Pn.sibling}}break;case 19:uu(p,u),ef(u),_&4&&Jd(u);break;case 21:break;default:uu(p,u),ef(u)}}function ef(u){var p=u.flags;if(p&2){try{e:{for(var x=u.return;x!==null;){if(Ma(x)){var _=x;break e}x=x.return}throw Error(b(160))}switch(_.tag){case 5:var L=_.stateNode;_.flags&32&&(ts(L,""),_.flags&=-33);var q=Rd(u);wb(u,q,L);break;case 3:case 4:var he=_.stateNode.containerInfo,tt=Rd(u);Ic(u,tt,he);break;default:throw Error(b(161))}}catch(mt){ai(u,u.return,mt)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function Cb(u,p,x){qo=u,Fd(u)}function Fd(u,p,x){for(var _=(u.mode&1)!==0;qo!==null;){var L=qo,q=L.child;if(L.tag===22&&_){var he=L.memoizedState!==null||ia;if(!he){var tt=L.alternate,mt=tt!==null&&tt.memoizedState!==null||Xa;tt=ia;var en=Xa;if(ia=he,(Xa=mt)&&!en)for(qo=L;qo!==null;)he=qo,mt=he.child,he.tag===22&&he.memoizedState!==null?r2(L):mt!==null?(mt.return=he,qo=mt):r2(L);for(;q!==null;)qo=q,Fd(q),q=q.sibling;qo=L,ia=tt,Xa=en}M1(u)}else(L.subtreeFlags&8772)!==0&&q!==null?(q.return=L,qo=q):M1(u)}}function M1(u){for(;qo!==null;){var p=qo;if((p.flags&8772)!==0){var x=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Xa||Jt(5,p);break;case 1:var _=p.stateNode;if(p.flags&4&&!Xa)if(x===null)_.componentDidMount();else{var L=p.elementType===p.type?x.memoizedProps:td(p.type,x.memoizedProps);_.componentDidUpdate(L,x.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var q=p.updateQueue;q!==null&&R(p,q,_);break;case 3:var he=p.updateQueue;if(he!==null){if(x=null,p.child!==null)switch(p.child.tag){case 5:x=p.child.stateNode;break;case 1:x=p.child.stateNode}R(p,he,x)}break;case 5:var tt=p.stateNode;if(x===null&&p.flags&4){x=tt;var mt=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":mt.autoFocus&&x.focus();break;case"img":mt.src&&(x.src=mt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var en=p.alternate;if(en!==null){var Nn=en.memoizedState;if(Nn!==null){var Pn=Nn.dehydrated;Pn!==null&&Zi(Pn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Xa||p.flags&512&&uc(p)}catch(Ln){ai(p,p.return,Ln)}}if(p===u){qo=null;break}if(x=p.sibling,x!==null){x.return=p.return,qo=x;break}qo=p.return}}function $c(u){for(;qo!==null;){var p=qo;if(p===u){qo=null;break}var x=p.sibling;if(x!==null){x.return=p.return,qo=x;break}qo=p.return}}function r2(u){for(;qo!==null;){var p=qo;try{switch(p.tag){case 0:case 11:case 15:var x=p.return;try{Jt(4,p)}catch(mt){ai(p,x,mt)}break;case 1:var _=p.stateNode;if(typeof _.componentDidMount=="function"){var L=p.return;try{_.componentDidMount()}catch(mt){ai(p,L,mt)}}var q=p.return;try{uc(p)}catch(mt){ai(p,q,mt)}break;case 5:var he=p.return;try{uc(p)}catch(mt){ai(p,he,mt)}}}catch(mt){ai(p,p.return,mt)}if(p===u){qo=null;break}var tt=p.sibling;if(tt!==null){tt.return=p.return,qo=tt;break}qo=p.return}}var ht=Math.ceil,Lc=dt.ReactCurrentDispatcher,Sg=dt.ReactCurrentOwner,Ar=dt.ReactCurrentBatchConfig,Zs=0,Or=null,Os=null,dc=0,Pl=0,Md=Er(0),Li=0,Am=null,Tm=0,Ch=0,Wf=0,jf=null,Pu=null,N1=0,Sh=1/0,ri=null,fc=!1,Ga=null,Ru=null,yp=!1,tl=null,km=0,Qa=0,xh=null,Hc=-1,Fu=0;function zc(){return(Zs&6)!==0?hs():Hc!==-1?Hc:Hc=hs()}function Ka(u){return(u.mode&1)===0?1:(Zs&2)!==0&&dc!==0?dc&-dc:x1.transition!==null?(Fu===0&&(Fu=Gr()),Fu):(u=Pr,u!==0||(u=window.event,u=u===void 0?16:hd(u.type)),u)}function du(u,p,x,_){if(50<Qa)throw Qa=0,xh=null,Error(b(185));Ya(u,x,_),((Zs&2)===0||u!==Or)&&(u===Or&&((Zs&2)===0&&(Ch|=x),Li===4&&fu(u,dc)),Hi(u,_),x===1&&Zs===0&&(p.mode&1)===0&&(Sh=hs()+500,Gu&&Kd()))}function Hi(u,p){var x=u.callbackNode;Mi(u,p);var _=Ls(u,u===Or?dc:0);if(_===0)x!==null&&is(x),u.callbackNode=null,u.callbackPriority=0;else if(p=_&-_,u.callbackPriority!==p){if(x!=null&&is(x),p===1)u.tag===0?mr(Eh.bind(null,u)):vf(Eh.bind(null,u)),lh(function(){(Zs&6)===0&&Kd()}),x=null;else{switch(yu(_)){case 1:x=Ue;break;case 4:x=Gt;break;case 16:x=On;break;case 536870912:x=Oo;break;default:x=On}x=Q0(x,wp.bind(null,u))}u.callbackPriority=p,u.callbackNode=x}}function wp(u,p){if(Hc=-1,Fu=0,(Zs&6)!==0)throw Error(b(327));var x=u.callbackNode;if(Sp()&&u.callbackNode!==x)return null;var _=Ls(u,u===Or?dc:0);if(_===0)return null;if((_&30)!==0||(_&u.expiredLanes)!==0||p)p=qf(u,_);else{p=_;var L=Zs;Zs|=2;var q=Zf();(Or!==u||dc!==p)&&(ri=null,Sh=hs()+500,tf(u,p));do try{Y0();break}catch(tt){B1(u,tt)}while(!0);ed(),Lc.current=q,Zs=L,Os!==null?p=0:(Or=null,dc=0,p=Li)}if(p!==0){if(p===2&&(L=Sc(u),L!==0&&(_=L,p=_m(u,L))),p===1)throw x=Am,tf(u,0),fu(u,_),Hi(u,hs()),x;if(p===6)fu(u,_);else{if(L=u.current.alternate,(_&30)===0&&!K0(L)&&(p=qf(u,_),p===2&&(q=Sc(u),q!==0&&(_=q,p=_m(u,q))),p===1))throw x=Am,tf(u,0),fu(u,_),Hi(u,hs()),x;switch(u.finishedWork=L,u.finishedLanes=_,p){case 0:case 1:throw Error(b(345));case 2:xf(u,Pu,ri);break;case 3:if(fu(u,_),(_&130023424)===_&&(p=N1+500-hs(),10<p)){if(Ls(u,0)!==0)break;if(L=u.suspendedLanes,(L&_)!==_){zc(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=Oc(xf.bind(null,u,Pu,ri),p);break}xf(u,Pu,ri);break;case 4:if(fu(u,_),(_&4194240)===_)break;for(p=u.eventTimes,L=-1;0<_;){var he=31-ms(_);q=1<<he,he=p[he],he>L&&(L=he),_&=~q}if(_=L,_=hs()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*ht(_/1960))-_,10<_){u.timeoutHandle=Oc(xf.bind(null,u,Pu,ri),_);break}xf(u,Pu,ri);break;case 5:xf(u,Pu,ri);break;default:throw Error(b(329))}}}return Hi(u,hs()),u.callbackNode===x?wp.bind(null,u):null}function _m(u,p){var x=jf;return u.current.memoizedState.isDehydrated&&(tf(u,p).flags|=256),u=qf(u,p),u!==2&&(p=Pu,Pu=x,p!==null&&Sb(p)),u}function Sb(u){Pu===null?Pu=u:Pu.push.apply(Pu,u)}function K0(u){for(var p=u;;){if(p.flags&16384){var x=p.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var _=0;_<x.length;_++){var L=x[_],q=L.getSnapshot;L=L.value;try{if(!ll(q(),L))return!1}catch{return!1}}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function fu(u,p){for(p&=~Wf,p&=~Ch,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var x=31-ms(p),_=1<<x;u[x]=-1,p&=~_}}function Eh(u){if((Zs&6)!==0)throw Error(b(327));Sp();var p=Ls(u,0);if((p&1)===0)return Hi(u,hs()),null;var x=qf(u,p);if(u.tag!==0&&x===2){var _=Sc(u);_!==0&&(p=_,x=_m(u,_))}if(x===1)throw x=Am,tf(u,0),fu(u,p),Hi(u,hs()),x;if(x===6)throw Error(b(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,xf(u,Pu,ri),Hi(u,hs()),null}function $r(u,p){var x=Zs;Zs|=1;try{return u(p)}finally{Zs=x,Zs===0&&(Sh=hs()+500,Gu&&Kd())}}function Cp(u){tl!==null&&tl.tag===0&&(Zs&6)===0&&Sp();var p=Zs;Zs|=1;var x=Ar.transition,_=Pr;try{if(Ar.transition=null,Pr=1,u)return u()}finally{Pr=_,Ar.transition=x,Zs=p,(Zs&6)===0&&Kd()}}function Sf(){Pl=Md.current,Hs(Md)}function tf(u,p){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;if(x!==-1&&(u.timeoutHandle=-1,Cd(x)),Os!==null)for(x=Os.return;x!==null;){var _=x;switch(fg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Au();break;case 3:no(),Hs(Is),Hs(Wa),lc();break;case 5:vs(_);break;case 4:no();break;case 13:Hs(Ss);break;case 19:Hs(Ss);break;case 10:Xi(_.type._context);break;case 22:case 23:Sf()}x=x.return}if(Or=u,Os=u=Af(u.current,null),dc=Pl=p,Li=0,Am=null,Wf=Ch=Tm=0,Pu=jf=null,yf!==null){for(p=0;p<yf.length;p++)if(x=yf[p],_=x.interleaved,_!==null){x.interleaved=null;var L=_.next,q=x.pending;if(q!==null){var he=q.next;q.next=L,_.next=he}x.pending=_}yf=null}return u}function B1(u,p){do{var x=Os;try{if(ed(),lu.current=Vl,$f){for(var _=si.memoizedState;_!==null;){var L=_.queue;L!==null&&(L.pending=null),_=_.next}$f=!1}if(Dl=0,$i=di=si=null,wf=!1,Yd=0,Sg.current=null,x===null||x.return===null){Li=1,Am=p,Os=null;break}e:{var q=u,he=x.return,tt=x,mt=p;if(p=dc,tt.flags|=32768,mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var en=mt,Nn=tt,Pn=Nn.tag;if((Nn.mode&1)===0&&(Pn===0||Pn===11||Pn===15)){var Ln=Nn.alternate;Ln?(Nn.updateQueue=Ln.updateQueue,Nn.memoizedState=Ln.memoizedState,Nn.lanes=Ln.lanes):(Nn.updateQueue=null,Nn.memoizedState=null)}var Ro=nd(he);if(Ro!==null){Ro.flags&=-257,gh(Ro,he,tt,q,p),Ro.mode&1&&ka(q,en,p),p=Ro,mt=en;var zo=p.updateQueue;if(zo===null){var ns=new Set;ns.add(mt),p.updateQueue=ns}else zo.add(mt);break e}else{if((p&1)===0){ka(q,en,p),gl();break e}mt=Error(b(426))}}else if(Aa&&tt.mode&1){var pi=nd(he);if(pi!==null){(pi.flags&65536)===0&&(pi.flags|=256),gh(pi,he,tt,q,p),Qu(fn(mt,tt));break e}}q=mt=fn(mt,tt),Li!==4&&(Li=2),jf===null?jf=[q]:jf.push(q),q=he;do{switch(q.tag){case 3:q.flags|=65536,p&=-p,q.lanes|=p;var Zt=Vf(q,mt,p);ku(q,Zt);break e;case 1:tt=mt;var St=q.type,Kt=q.stateNode;if((q.flags&128)===0&&(typeof St.getDerivedStateFromError=="function"||Kt!==null&&typeof Kt.componentDidCatch=="function"&&(Ru===null||!Ru.has(Kt)))){q.flags|=65536,p&=-p,q.lanes|=p;var lo=yg(q,tt,p);ku(q,lo);break e}}q=q.return}while(q!==null)}$1(x)}catch(gs){p=gs,Os===x&&x!==null&&(Os=x=x.return);continue}break}while(!0)}function Zf(){var u=Lc.current;return Lc.current=Vl,u===null?Vl:u}function gl(){(Li===0||Li===3||Li===2)&&(Li=4),Or===null||(Tm&268435455)===0&&(Ch&268435455)===0||fu(Or,dc)}function qf(u,p){var x=Zs;Zs|=2;var _=Zf();(Or!==u||dc!==p)&&(ri=null,tf(u,p));do try{Ah();break}catch(L){B1(u,L)}while(!0);if(ed(),Zs=x,Lc.current=_,Os!==null)throw Error(b(261));return Or=null,dc=0,Li}function Ah(){for(;Os!==null;)I1(Os)}function Y0(){for(;Os!==null&&!Ms();)I1(Os)}function I1(u){var p=L1(u.alternate,u,Pl);u.memoizedProps=u.pendingProps,p===null?$1(u):Os=p,Sg.current=null}function $1(u){var p=u;do{var x=p.alternate;if(u=p.return,(p.flags&32768)===0){if(x=s2(x,p,Pl),x!==null){Os=x;return}}else{if(x=yb(x,p),x!==null){x.flags&=32767,Os=x;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Li=6,Os=null;return}}if(p=p.sibling,p!==null){Os=p;return}Os=p=u}while(p!==null);Li===0&&(Li=5)}function xf(u,p,x){var _=Pr,L=Ar.transition;try{Ar.transition=null,Pr=1,a2(u,p,x,_)}finally{Ar.transition=L,Pr=_}return null}function a2(u,p,x,_){do Sp();while(tl!==null);if((Zs&6)!==0)throw Error(b(327));x=u.finishedWork;var L=u.finishedLanes;if(x===null)return null;if(u.finishedWork=null,u.finishedLanes=0,x===u.current)throw Error(b(177));u.callbackNode=null,u.callbackPriority=0;var q=x.lanes|x.childLanes;if(Ni(u,q),u===Or&&(Os=Or=null,dc=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||yp||(yp=!0,Q0(On,function(){return Sp(),null})),q=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||q){q=Ar.transition,Ar.transition=null;var he=Pr;Pr=1;var tt=Zs;Zs|=4,Sg.current=null,Bc(u,x),Na(x,u),_s(qd),Cu=!!zr,qd=zr=null,u.current=x,Cb(x),$o(),Zs=tt,Pr=he,Ar.transition=q}else u.current=x;if(yp&&(yp=!1,tl=u,km=L),q=u.pendingLanes,q===0&&(Ru=null),Jo(x.stateNode),Hi(u,hs()),p!==null)for(_=u.onRecoverableError,x=0;x<p.length;x++)L=p[x],_(L.value,{componentStack:L.stack,digest:L.digest});if(fc)throw fc=!1,u=Ga,Ga=null,u;return(km&1)!==0&&u.tag!==0&&Sp(),q=u.pendingLanes,(q&1)!==0?u===xh?Qa++:(Qa=0,xh=u):Qa=0,Kd(),null}function Sp(){if(tl!==null){var u=yu(km),p=Ar.transition,x=Pr;try{if(Ar.transition=null,Pr=16>u?16:u,tl===null)var _=!1;else{if(u=tl,tl=null,km=0,(Zs&6)!==0)throw Error(b(331));var L=Zs;for(Zs|=4,qo=u.current;qo!==null;){var q=qo,he=q.child;if((qo.flags&16)!==0){var tt=q.deletions;if(tt!==null){for(var mt=0;mt<tt.length;mt++){var en=tt[mt];for(qo=en;qo!==null;){var Nn=qo;switch(Nn.tag){case 0:case 11:case 15:bp(8,Nn,q)}var Pn=Nn.child;if(Pn!==null)Pn.return=Nn,qo=Pn;else for(;qo!==null;){Nn=qo;var Ln=Nn.sibling,Ro=Nn.return;if(wh(Nn),Nn===en){qo=null;break}if(Ln!==null){Ln.return=Ro,qo=Ln;break}qo=Ro}}}var zo=q.alternate;if(zo!==null){var ns=zo.child;if(ns!==null){zo.child=null;do{var pi=ns.sibling;ns.sibling=null,ns=pi}while(ns!==null)}}qo=q}}if((q.subtreeFlags&2064)!==0&&he!==null)he.return=q,qo=he;else e:for(;qo!==null;){if(q=qo,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:bp(9,q,q.return)}var Zt=q.sibling;if(Zt!==null){Zt.return=q.return,qo=Zt;break e}qo=q.return}}var St=u.current;for(qo=St;qo!==null;){he=qo;var Kt=he.child;if((he.subtreeFlags&2064)!==0&&Kt!==null)Kt.return=he,qo=Kt;else e:for(he=St;qo!==null;){if(tt=qo,(tt.flags&2048)!==0)try{switch(tt.tag){case 0:case 11:case 15:Jt(9,tt)}}catch(gs){ai(tt,tt.return,gs)}if(tt===he){qo=null;break e}var lo=tt.sibling;if(lo!==null){lo.return=tt.return,qo=lo;break e}qo=tt.return}}if(Zs=L,Kd(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(ro,u)}catch{}_=!0}return _}finally{Pr=x,Ar.transition=p}}return!1}function X0(u,p,x){p=fn(x,p),p=Vf(u,p,1),u=Od(u,p,1),p=zc(),u!==null&&(Ya(u,1,p),Hi(u,p))}function ai(u,p,x){if(u.tag===3)X0(u,u,x);else for(;p!==null;){if(p.tag===3){X0(p,u,x);break}else if(p.tag===1){var _=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ru===null||!Ru.has(_))){u=fn(x,u),u=yg(p,u,1),p=Od(p,u,1),u=zc(),p!==null&&(Ya(p,1,u),Hi(p,u));break}}p=p.return}}function Ef(u,p,x){var _=u.pingCache;_!==null&&_.delete(p),p=zc(),u.pingedLanes|=u.suspendedLanes&x,Or===u&&(dc&x)===x&&(Li===4||Li===3&&(dc&130023424)===dc&&500>hs()-N1?tf(u,0):Wf|=x),Hi(u,p)}function rd(u,p){p===0&&((u.mode&1)===0?p=1:(p=Uu,Uu<<=1,(Uu&130023424)===0&&(Uu=4194304)));var x=zc();u=Cl(u,p),u!==null&&(Ya(u,p,x),Hi(u,x))}function Om(u){var p=u.memoizedState,x=0;p!==null&&(x=p.retryLane),rd(u,x)}function i2(u,p){var x=0;switch(u.tag){case 13:var _=u.stateNode,L=u.memoizedState;L!==null&&(x=L.retryLane);break;case 19:_=u.stateNode;break;default:throw Error(b(314))}_!==null&&_.delete(p),rd(u,x)}var L1;L1=function(u,p,x){if(u!==null)if(u.memoizedProps!==p.pendingProps||Is.current)sr=!0;else{if((u.lanes&x)===0&&(p.flags&128)===0)return sr=!1,o2(u,p,x);sr=(u.flags&131072)!==0}else sr=!1,Aa&&(p.flags&1048576)!==0&&Xu(p,pa,p.index);switch(p.lanes=0,p.tag){case 2:var _=p.type;_a(u,p),u=p.pendingProps;var L=Ea(p,Wa.current);bf(p,x),L=Ws(null,p,_,u,L,x);var q=wa();return p.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Rr(_)?(q=!0,Sd(p)):q=!1,p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Di(p),L.updater=Cf,p.stateNode=L,L._reactInternals=p,Ou(p,_,u,x),p=j0(null,p,_,!0,q,x)):(p.tag=0,Aa&&q&&S1(p),Qi(null,p,L,x),p=p.child),p;case 16:_=p.elementType;e:{switch(_a(u,p),u=p.pendingProps,L=_._init,_=L(_._payload),p.type=_,L=p.tag=J0(_),u=td(_,u),L){case 0:p=Cg(null,p,_,u,x);break e;case 1:p=t2(null,p,_,u,x);break e;case 11:p=wg(null,p,_,u,x);break e;case 14:p=V0(null,p,_,td(_.type,u),x);break e}throw Error(b(306,_,""))}return p;case 0:return _=p.type,L=p.pendingProps,L=p.elementType===_?L:td(_,L),Cg(u,p,_,L,x);case 1:return _=p.type,L=p.pendingProps,L=p.elementType===_?L:td(_,L),t2(u,p,_,L,x);case 3:e:{if(vh(p),u===null)throw Error(b(387));_=p.pendingProps,q=p.memoizedState,L=q.element,pg(u,p),T1(p,_,null,x);var he=p.memoizedState;if(_=he.element,q.isDehydrated)if(q={element:_,isDehydrated:!1,cache:he.cache,pendingSuspenseBoundaries:he.pendingSuspenseBoundaries,transitions:he.transitions},p.updateQueue.baseState=q,p.memoizedState=q,p.flags&256){L=fn(Error(b(423)),p),p=Z0(u,p,_,x,L);break e}else if(_!==L){L=fn(Error(b(424)),p),p=Z0(u,p,_,x,L);break e}else for(ru=yl(p.stateNode.containerInfo.firstChild),_i=p,Aa=!0,Dc=null,x=wr(p,null,_,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Oi(),_===L){p=sd(u,p,x);break e}Qi(u,p,_,x)}p=p.child}return p;case 5:return Ko(p),u===null&&au(p),_=p.type,L=p.pendingProps,q=u!==null?u.memoizedProps:null,he=L.children,cp(_,L)?he=null:q!==null&&cp(_,q)&&(p.flags|=32),hh(u,p),Qi(u,p,he,x),p.child;case 6:return u===null&&au(p),null;case 13:return n2(u,p,x);case 4:return xn(p,p.stateNode.containerInfo),_=p.pendingProps,u===null?p.child=Pc(p,null,_,x):Qi(u,p,_,x),p.child;case 11:return _=p.type,L=p.pendingProps,L=p.elementType===_?L:td(_,L),wg(u,p,_,L,x);case 7:return Qi(u,p,p.pendingProps,x),p.child;case 8:return Qi(u,p,p.pendingProps.children,x),p.child;case 12:return Qi(u,p,p.pendingProps.children,x),p.child;case 10:e:{if(_=p.type._context,L=p.pendingProps,q=p.memoizedProps,he=L.value,ma(mg,_._currentValue),_._currentValue=he,q!==null)if(ll(q.value,he)){if(q.children===L.children&&!Is.current){p=sd(u,p,x);break e}}else for(q=p.child,q!==null&&(q.return=p);q!==null;){var tt=q.dependencies;if(tt!==null){he=q.child;for(var mt=tt.firstContext;mt!==null;){if(mt.context===_){if(q.tag===1){mt=Tu(-1,x&-x),mt.tag=2;var en=q.updateQueue;if(en!==null){en=en.shared;var Nn=en.pending;Nn===null?mt.next=mt:(mt.next=Nn.next,Nn.next=mt),en.pending=mt}}q.lanes|=x,mt=q.alternate,mt!==null&&(mt.lanes|=x),_d(q.return,x,p),tt.lanes|=x;break}mt=mt.next}}else if(q.tag===10)he=q.type===p.type?null:q.child;else if(q.tag===18){if(he=q.return,he===null)throw Error(b(341));he.lanes|=x,tt=he.alternate,tt!==null&&(tt.lanes|=x),_d(he,x,p),he=q.sibling}else he=q.child;if(he!==null)he.return=q;else for(he=q;he!==null;){if(he===p){he=null;break}if(q=he.sibling,q!==null){q.return=he.return,he=q;break}he=he.return}q=he}Qi(u,p,L.children,x),p=p.child}return p;case 9:return L=p.type,_=p.pendingProps.children,bf(p,x),L=iu(L),_=_(L),p.flags|=1,Qi(u,p,_,x),p.child;case 14:return _=p.type,L=td(_,p.pendingProps),L=td(_.type,L),V0(u,p,_,L,x);case 15:return W0(u,p,p.type,p.pendingProps,x);case 17:return _=p.type,L=p.pendingProps,L=p.elementType===_?L:td(_,L),_a(u,p),p.tag=1,Rr(_)?(u=!0,Sd(p)):u=!1,bf(p,x),Fc(p,_,L),Ou(p,_,L,x),j0(null,p,_,!0,u,x);case 19:return bo(u,p,x);case 22:return od(u,p,x)}throw Error(b(156,p.tag))};function Q0(u,p){return go(u,p)}function l2(u,p,x,_){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ad(u,p,x,_){return new l2(u,p,x,_)}function Th(u){return u=u.prototype,!(!u||!u.isReactComponent)}function J0(u){if(typeof u=="function")return Th(u)?1:0;if(u!=null){if(u=u.$$typeof,u===ce)return 11;if(u===lt)return 14}return 2}function Af(u,p){var x=u.alternate;return x===null?(x=ad(u.tag,p,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=p,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&14680064,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,p=u.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x}function id(u,p,x,_,L,q){var he=2;if(_=u,typeof u=="function")Th(u)&&(he=1);else if(typeof u=="string")he=5;else e:switch(u){case G:return Tf(x.children,L,q,p);case Ze:he=8,L|=8;break;case Ft:return u=ad(12,x,p,L|2),u.elementType=Ft,u.lanes=q,u;case Pt:return u=ad(13,x,p,L),u.elementType=Pt,u.lanes=q,u;case je:return u=ad(19,x,p,L),u.elementType=je,u.lanes=q,u;case dn:return Dm(x,L,q,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case ct:he=10;break e;case Ce:he=9;break e;case ce:he=11;break e;case lt:he=14;break e;case F:he=16,_=null;break e}throw Error(b(130,u==null?u:typeof u,""))}return p=ad(he,x,p,L),p.elementType=u,p.type=_,p.lanes=q,p}function Tf(u,p,x,_){return u=ad(7,u,_,p),u.lanes=x,u}function Dm(u,p,x,_){return u=ad(22,u,_,p),u.elementType=dn,u.lanes=x,u.stateNode={isHidden:!1},u}function Pm(u,p,x){return u=ad(6,u,null,p),u.lanes=x,u}function ev(u,p,x){return p=ad(4,u.children!==null?u.children:[],u.key,p),p.lanes=x,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function kh(u,p,x,_,L){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=_,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function Wl(u,p,x,_,L,q,he,tt,mt){return u=new kh(u,p,x,tt,mt),p===1?(p=1,q===!0&&(p|=8)):p=0,q=ad(3,null,null,p),u.current=q,q.stateNode=u,q.memoizedState={element:_,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(q),u}function DC(u,p,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:_==null?null:""+_,children:u,containerInfo:p,implementation:x}}function tv(u){if(!u)return fs;u=u._reactInternals;e:{if(hi(u)!==u||u.tag!==1)throw Error(b(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Rr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(b(171))}if(u.tag===1){var x=u.type;if(Rr(x))return Gd(u,x,p)}return p}function nv(u,p,x,_,L,q,he,tt,mt){return u=Wl(x,_,!0,u,L,q,he,tt,mt),u.context=tv(null),x=u.current,_=zc(),L=Ka(x),q=Tu(_,L),q.callback=p??null,Od(x,q,L),u.current.lanes=L,Ya(u,L,_),Hi(u,_),u}function xg(u,p,x,_){var L=p.current,q=zc(),he=Ka(L);return x=tv(x),p.context===null?p.context=x:p.pendingContext=x,p=Tu(q,he),p.payload={element:u},_=_===void 0?null:_,_!==null&&(p.callback=_),u=Od(L,p,he),u!==null&&(du(u,L,he,q),gg(u,L,he)),he}function H1(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function xp(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<p?x:p}}function ov(u,p){xp(u,p),(u=u.alternate)&&xp(u,p)}function z1(){return null}var sv=typeof reportError=="function"?reportError:function(u){console.error(u)};function rv(u){this._internalRoot=u}Ns.prototype.render=rv.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(b(409));xg(u,p,null,null)},Ns.prototype.unmount=rv.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;Cp(function(){xg(null,u,null,null)}),p[As]=null}};function Ns(u){this._internalRoot=u}Ns.prototype.unstable_scheduleHydration=function(u){if(u){var p=ff();u={blockedOn:null,target:u,priority:p};for(var x=0;x<Ql.length&&p!==0&&p<Ql[x].priority;x++);Ql.splice(x,0,u),x===0&&eu(u)}};function _h(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function zs(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function mu(){}function Ep(u,p,x,_,L){if(L){if(typeof _=="function"){var q=_;_=function(){var en=H1(he);q.call(en)}}var he=nv(p,_,u,0,null,!1,!1,"",mu);return u._reactRootContainer=he,u[As]=he.current,Zu(u.nodeType===8?u.parentNode:u),Cp(),he}for(;L=u.lastChild;)u.removeChild(L);if(typeof _=="function"){var tt=_;_=function(){var en=H1(mt);tt.call(en)}}var mt=Wl(u,0,!1,null,null,!1,!1,"",mu);return u._reactRootContainer=mt,u[As]=mt.current,Zu(u.nodeType===8?u.parentNode:u),Cp(function(){xg(p,mt,x,_)}),mt}function Ap(u,p,x,_,L){var q=x._reactRootContainer;if(q){var he=q;if(typeof L=="function"){var tt=L;L=function(){var mt=H1(he);tt.call(mt)}}xg(p,he,u,L)}else he=Ep(x,p,u,L,_);return H1(he)}Fr=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var x=br(p.pendingLanes);x!==0&&(Kr(p,x|1),Hi(p,hs()),(Zs&6)===0&&(Sh=hs()+500,Kd()))}break;case 13:Cp(function(){var _=Cl(u,1);if(_!==null){var L=zc();du(_,u,1,L)}}),ov(u,1)}},xc=function(u){if(u.tag===13){var p=Cl(u,134217728);if(p!==null){var x=zc();du(p,u,134217728,x)}ov(u,134217728)}},Il=function(u){if(u.tag===13){var p=Ka(u),x=Cl(u,p);if(x!==null){var _=zc();du(x,u,p,_)}ov(u,p)}},ff=function(){return Pr},An=function(u,p){var x=Pr;try{return Pr=u,p()}finally{Pr=x}},xs=function(u,p,x){switch(p){case"input":if(De(u,x),p=x.name,x.type==="radio"&&p!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<x.length;p++){var _=x[p];if(_!==u&&_.form===u.form){var L=Ti(_);if(!L)throw Error(b(90));Cn(_),De(_,L)}}}break;case"textarea":an(u,x);break;case"select":p=x.value,p!=null&&En(u,!!x.multiple,p,!1)}},Mn=$r,qt=Cp;var dr={usingClientEntryPoint:!1,Events:[To,Nr,Ti,_r,Hr,$r]},Oh={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c2={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=hn(u),u===null?null:u.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!av.isDisabled&&av.supportsFiber)try{ro=av.inject(c2),Dn=av}catch{}}return Jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dr,Jp.createPortal=function(u,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(p))throw Error(b(200));return DC(u,p,null,x)},Jp.createRoot=function(u,p){if(!_h(u))throw Error(b(299));var x=!1,_="",L=sv;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onRecoverableError!==void 0&&(L=p.onRecoverableError)),p=Wl(u,1,!1,null,null,x,!1,_,L),u[As]=p.current,Zu(u.nodeType===8?u.parentNode:u),new rv(p)},Jp.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(b(188)):(u=Object.keys(u).join(","),Error(b(268,u)));return u=hn(p),u=u===null?null:u.stateNode,u},Jp.flushSync=function(u){return Cp(u)},Jp.hydrate=function(u,p,x){if(!zs(p))throw Error(b(200));return Ap(null,u,p,!0,x)},Jp.hydrateRoot=function(u,p,x){if(!_h(u))throw Error(b(405));var _=x!=null&&x.hydratedSources||null,L=!1,q="",he=sv;if(x!=null&&(x.unstable_strictMode===!0&&(L=!0),x.identifierPrefix!==void 0&&(q=x.identifierPrefix),x.onRecoverableError!==void 0&&(he=x.onRecoverableError)),p=nv(p,null,u,1,x??null,L,!1,q,he),u[As]=p.current,Zu(u),_)for(u=0;u<_.length;u++)x=_[u],L=x._getVersion,L=L(x._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[x,L]:p.mutableSourceEagerHydrationData.push(x,L);return new Ns(p)},Jp.render=function(u,p,x){if(!zs(p))throw Error(b(200));return Ap(null,u,p,!1,x)},Jp.unmountComponentAtNode=function(u){if(!zs(u))throw Error(b(40));return u._reactRootContainer?(Cp(function(){Ap(null,null,u,!1,function(){u._reactRootContainer=null,u[As]=null})}),!0):!1},Jp.unstable_batchedUpdates=$r,Jp.unstable_renderSubtreeIntoContainer=function(u,p,x,_){if(!zs(x))throw Error(b(200));if(u==null||u._reactInternals===void 0)throw Error(b(38));return Ap(u,p,x,!1,_)},Jp.version="18.3.1-next-f1338f8080-20240426",Jp}var ere;function Lle(){if(ere)return Eee.exports;ere=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(m){console.error(m)}}return l(),Eee.exports=f0e(),Eee.exports}var Hle=Lle();let $5=Qc.create(),zle=(l,m)=>`${l.method}:${l.baseURL??m.defaults.baseURL??""}${l.url}`,Ule=l=>l.status===204&&l.headers["precognition-success"]==="true";const OH={},SC={get:(l,m={},b={})=>S5(C5("get",l,m,b)),post:(l,m={},b={})=>S5(C5("post",l,m,b)),patch:(l,m={},b={})=>S5(C5("patch",l,m,b)),put:(l,m={},b={})=>S5(C5("put",l,m,b)),delete:(l,m={},b={})=>S5(C5("delete",l,m,b)),use(l){return $5=l,SC},axios(){return $5},fingerprintRequestsUsing(l){return zle=l===null?()=>null:l,SC},determineSuccessUsing(l){return Ule=l,SC}},C5=(l,m,b,E)=>({url:m,method:l,...E,...["get","delete"].includes(l)?{params:Xee({},b,E?.params)}:{data:Xee({},b,E?.data)}}),S5=(l={})=>{const m=[m0e,g0e,h0e].reduce((b,E)=>E(b),l);return(m.onBefore??(()=>!0))()===!1?Promise.resolve(null):((m.onStart??(()=>null))(),$5.request(m).then(async b=>{m.precognitive&&tre(b);const E=b.status;let D=b;return m.precognitive&&m.onPrecognitionSuccess&&Ule(D)&&(D=await Promise.resolve(m.onPrecognitionSuccess(D)??D)),m.onSuccess&&p0e(E)&&(D=await Promise.resolve(m.onSuccess(D)??D)),(nre(m,E)??(I=>I))(D)??D},b=>v0e(b)?Promise.reject(b):(m.precognitive&&tre(b.response),(nre(m,b.response.status)??((D,$)=>Promise.reject($)))(b.response,b))).finally(m.onFinish??(()=>null)))},m0e=l=>{const m=l.only??l.validate;return{...l,timeout:l.timeout??$5.defaults.timeout??3e4,precognitive:l.precognitive!==!1,fingerprint:typeof l.fingerprint>"u"?zle(l,$5):l.fingerprint,headers:{...l.headers,"Content-Type":b0e(l),...l.precognitive!==!1?{Precognition:!0}:{},...m?{"Precognition-Validate-Only":Array.from(m).join()}:{}}}},p0e=l=>l>=200&&l<300,g0e=l=>(typeof l.fingerprint!="string"||(OH[l.fingerprint]?.abort(),delete OH[l.fingerprint]),l),h0e=l=>typeof l.fingerprint!="string"||l.signal||l.cancelToken||!l.precognitive?l:(OH[l.fingerprint]=new AbortController,{...l,signal:OH[l.fingerprint].signal}),tre=l=>{if(l.headers?.precognition!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},v0e=l=>!Die(l)||typeof l.response?.status!="number"||Oie(l),nre=(l,m)=>({401:l.onUnauthorized,403:l.onForbidden,404:l.onNotFound,409:l.onConflict,422:l.onValidationError,423:l.onLocked})[m],b0e=l=>l.headers?.["Content-Type"]??l.headers?.["Content-type"]??l.headers?.["content-type"]??(Vle(l.data)?"multipart/form-data":"application/json"),Vle=l=>$te(l)||typeof l=="object"&&l!==null&&Object.values(l).some(m=>Vle(m)),$te=l=>typeof File<"u"&&l instanceof File||l instanceof Blob||typeof FileList<"u"&&l instanceof FileList&&l.length>0,y0e=(l,m={})=>{const b={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let E=!1,D=!1;const $=Ce=>Ce!==D?(D=Ce,b.validatingChanged):[];let I=[];const H=Ce=>{const ce=[...new Set(Ce)];return I.length!==ce.length||!ce.every(Pt=>I.includes(Pt))?(I=ce,b.validatedChanged):[]},K=()=>I.filter(Ce=>typeof le[Ce]>"u");let X=[];const ae=Ce=>{const ce=[...new Set(Ce)];return X.length!==ce.length||!ce.every(Pt=>X.includes(Pt))?(X=ce,b.touchedChanged):[]};let le={};const me=Ce=>{const ce=C0e(Ce);return $E(le,ce)?[]:(le=ce,b.errorsChanged)},Me=Ce=>{const ce={...le};return delete ce[O5(Ce)],me(ce)},de=()=>Object.keys(le).length>0;let Se=1500;const re=Ce=>{Se=Ce,Ae.cancel(),Ae=Wt()};let ot=m,it=null,J=[],dt=null;const Wt=()=>Xge(Ce=>{l({get:(ce,Pt={},je={})=>SC.get(ce,Ft(Pt),G(je,Ce,Pt)),post:(ce,Pt={},je={})=>SC.post(ce,Ft(Pt),G(je,Ce,Pt)),patch:(ce,Pt={},je={})=>SC.patch(ce,Ft(Pt),G(je,Ce,Pt)),put:(ce,Pt={},je={})=>SC.put(ce,Ft(Pt),G(je,Ce,Pt)),delete:(ce,Pt={},je={})=>SC.delete(ce,Ft(Pt),G(je,Ce,Pt))}).catch(ce=>Oie(ce)||Die(ce)&&ce.response?.status===422?null:Promise.reject(ce))},Se,{leading:!0,trailing:!0});let Ae=Wt();const G=(Ce,ce,Pt={})=>{const je={...Ce,...ce},lt=Array.from(je.only??je.validate??X);return{...ce,...cde(Ce,ce),only:lt,timeout:je.timeout??5e3,onValidationError:(F,dn)=>([...H([...I,...lt]),...me(Xee(Goe({...le},lt),F.data.errors))].forEach(Te=>Te()),je.onValidationError?je.onValidationError(F,dn):Promise.reject(dn)),onSuccess:F=>(H([...I,...lt]).forEach(dn=>dn()),je.onSuccess?je.onSuccess(F):F),onPrecognitionSuccess:F=>([...H([...I,...lt]),...me(Goe({...le},lt))].forEach(dn=>dn()),je.onPrecognitionSuccess?je.onPrecognitionSuccess(F):F),onBefore:()=>je.onBeforeValidation&&je.onBeforeValidation({data:Pt,touched:X},{data:ot,touched:J})===!1||(je.onBefore||(()=>!0))()===!1?!1:(dt=X,it=Pt,!0),onStart:()=>{$(!0).forEach(F=>F()),(je.onStart??(()=>null))()},onFinish:()=>{$(!1).forEach(F=>F()),J=dt,ot=it,dt=it=null,(je.onFinish??(()=>null))()}}},Ze=(Ce,ce,Pt)=>{if(typeof Ce>"u"){const je=Array.from(Pt?.only??Pt?.validate??[]);ae([...X,...je]).forEach(lt=>lt()),Ae(Pt??{});return}if($te(ce)&&!E){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}Ce=O5(Ce),ib(ot,Ce)!==ce&&(ae([Ce,...X]).forEach(je=>je()),Ae(Pt??{}))},Ft=Ce=>E===!1?ote(Ce):Ce,ct={touched:()=>X,validate(Ce,ce,Pt){return typeof Ce=="object"&&!("target"in Ce)&&(Pt=Ce,Ce=ce=void 0),Ze(Ce,ce,Pt),ct},touch(Ce){const ce=Array.isArray(Ce)?Ce:[O5(Ce)];return ae([...X,...ce]).forEach(Pt=>Pt()),ct},validating:()=>D,valid:K,errors:()=>le,hasErrors:de,setErrors(Ce){return me(Ce).forEach(ce=>ce()),ct},forgetError(Ce){return Me(Ce).forEach(ce=>ce()),ct},defaults(Ce){return m=Ce,ot=Ce,ct},reset(...Ce){if(Ce.length===0)ae([]).forEach(ce=>ce());else{const ce=[...X];Ce.forEach(Pt=>{ce.includes(Pt)&&ce.splice(ce.indexOf(Pt),1),M0(ot,Pt,ib(m,Pt))}),ae(ce).forEach(Pt=>Pt())}return ct},setTimeout(Ce){return re(Ce),ct},on(Ce,ce){return b[Ce].push(ce),ct},validateFiles(){return E=!0,ct},withoutFileValidation(){return E=!1,ct}};return ct},w0e=l=>Object.keys(l).reduce((m,b)=>({...m,[b]:Array.isArray(l[b])?l[b][0]:l[b]}),{}),C0e=l=>Object.keys(l).reduce((m,b)=>({...m,[b]:typeof l[b]=="string"?[l[b]]:l[b]}),{}),O5=l=>typeof l!="string"?l.target.name:l,ote=l=>{const m={...l};return Object.keys(m).forEach(b=>{const E=m[b];if(E!==null){if($te(E)){delete m[b];return}if(Array.isArray(E)){m[b]=Object.values(ote({...E}));return}if(typeof E=="object"){m[b]=ote(m[b]);return}}}),m};var Wle=Ge.createContext(null);Wle.displayName="InertiaHeadContext";var ste=Wle,jle=Ge.createContext(null);jle.displayName="InertiaPageContext";var DH=jle,rte=!0,ore=!1,sre=async()=>{rte=!1};function ate({children:l,initialPage:m,initialComponent:b,resolveComponent:E,titleCallback:D,onHeadUpdate:$}){const[I,H]=Ge.useState({component:b||null,page:{...m,flash:m.flash??{}},key:null}),K=Ge.useMemo(()=>B1e(typeof window>"u",D||(ae=>ae),$||(()=>{})),[]);if(ore||(Xc.init({initialPage:m,resolveComponent:E,swapComponent:async ae=>sre(ae),onFlash:ae=>{H(le=>({...le,page:{...le.page,flash:ae}}))}}),ore=!0),Ge.useEffect(()=>{sre=async({component:ae,page:le,preserveState:me})=>{if(rte){rte=!1;return}Hle.flushSync(()=>H(Me=>({component:ae,page:le,key:me?Me.key:Date.now()})))},Xc.on("navigate",()=>K.forceUpdate())},[]),!I.component)return Ge.createElement(ste.Provider,{value:K},Ge.createElement(DH.Provider,{value:I.page},null));const X=l||(({Component:ae,props:le,key:me})=>{const Me=Ge.createElement(ae,{key:me,...le});return typeof ae.layout=="function"?ae.layout(Me):Array.isArray(ae.layout)?ae.layout.concat(Me).reverse().reduce((de,Se)=>Ge.createElement(Se,{children:de,...le})):Me});return Ge.createElement(ste.Provider,{value:K},Ge.createElement(DH.Provider,{value:I.page},X({Component:I.component,key:I.key,props:I.page.props})))}ate.displayName="Inertia";async function a2e({id:l="app",resolve:m,setup:b,title:E,progress:D={},page:$,render:I,defaults:H={}}){L5.replace(H);const K=typeof window>"u",X=L5.get("future.useScriptElementForInitialPage"),ae=$||P1e(l,X),le=de=>Promise.resolve(m(de)).then(Se=>Se.default||Se);let me=[];const Me=await Promise.all([le(ae.component),Xc.decryptHistory().catch(()=>{})]).then(([de])=>{const Se={initialPage:ae,initialComponent:de,resolveComponent:le,titleCallback:E};return b(K?{el:null,App:ate,props:{...Se,onHeadUpdate:it=>me=it}}:{el:document.getElementById(l),App:ate,props:Se})});if(!K&&D&&r0e(D),K&&I){const Se=await I(X?Ge.createElement(Ge.Fragment,null,Ge.createElement("script",{"data-page":l,type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(ae).replace(/\//g,"\\/")}}),Ge.createElement("div",{id:l},Me)):Ge.createElement("div",{id:l,"data-page":JSON.stringify(ae)},Me));return{head:me,body:Se}}}function i2e(){const l=typeof tr.use=="function"?tr.use(DH):tr.useContext(DH);if(!l)throw new Error("usePage must be used within the Inertia component");return l}function S0e(l,m){typeof window>"u"?Ge.useEffect(l,m):Ge.useLayoutEffect(l,m)}function rre(l,m){const[b,E]=Ge.useState(()=>{const D=Xc.restore(m);return D!==void 0?D:l});return Ge.useEffect(()=>{Xc.remember(b,m)},[b,m]),[b,E]}function x0e(...l){const m=Ge.useRef(!1),b=bH.parseUseFormArguments(...l),{rememberKey:E,data:D}=b,$=Ge.useRef(b.precognitionEndpoint),[I,H]=Ge.useState(D0(typeof D=="function"?D():D)),K=Ge.useRef(null),X=Ge.useRef(void 0),[ae,le]=E?rre(I,`${E}:data`):Ge.useState(I),[me,Me]=E?rre({},`${E}:errors`):Ge.useState({}),[de,Se]=Ge.useState(!1),[re,ot]=Ge.useState(!1),[it,J]=Ge.useState(null),[dt,Wt]=Ge.useState(!1),[Ae,G]=Ge.useState(!1),Ze=Ge.useRef(an=>an),Ft=Ge.useMemo(()=>!$E(ae,I),[ae,I]),ct=Ge.useRef(null),[Ce,ce]=Ge.useState(!1),[Pt,je]=Ge.useState([]),[lt,F]=Ge.useState([]),dn=Ge.useRef(!1);Ge.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]);const Te=Ge.useRef(!1),rn=Ge.useCallback((...an)=>{const{method:vn,url:Fn,options:mo}=bH.parseSubmitArguments(an,$.current);Te.current=!1;const es={...mo,onCancelToken:ts=>{if(K.current=ts,mo.onCancelToken)return mo.onCancelToken(ts)},onBefore:ts=>{if(Wt(!1),G(!1),clearTimeout(X.current),mo.onBefore)return mo.onBefore(ts)},onStart:ts=>{if(ot(!0),mo.onStart)return mo.onStart(ts)},onProgress:ts=>{if(J(ts||null),mo.onProgress)return mo.onProgress(ts)},onSuccess:async ts=>{m.current&&(ot(!1),J(null),Me({}),Se(!1),Wt(!0),G(!0),X.current=setTimeout(()=>{m.current&&G(!1)},L5.get("form.recentlySuccessfulDuration")));const Bo=mo.onSuccess?await mo.onSuccess(ts):null;return m.current&&!Te.current&&le(ds=>(H(D0(ds)),ds)),Bo},onError:ts=>{if(m.current&&(ot(!1),J(null),Me(ts),Se(!0)),mo.onError)return mo.onError(ts)},onCancel:()=>{if(m.current&&(ot(!1),J(null)),mo.onCancel)return mo.onCancel()},onFinish:ts=>{if(m.current&&(ot(!1),J(null)),K.current=null,mo.onFinish)return mo.onFinish(ts)}},vo=Ze.current(ae);vn==="delete"?Xc.delete(Fn,{...es,data:vo}):Xc[vn](Fn,vo,es)},[ae,Me,Ze]),yt=Ge.useCallback((an,vn)=>{le(typeof an=="string"?Fn=>M0(D0(Fn),an,vn):typeof an=="function"?Fn=>an(Fn):an)},[le]),[se,$e]=Ge.useState(!1),Mt=Ge.useRef(ae);Ge.useEffect(()=>{Mt.current=ae});const Qe=Ge.useCallback((an,vn)=>{Te.current=!0;let Fn={};typeof an>"u"?(Fn={...Mt.current},H(Mt.current),$e(!0)):H(mo=>(Fn=typeof an=="string"?M0(D0(mo),an,vn):Object.assign(D0(mo),an),Fn)),ct.current?.defaults(Fn)},[H]);S0e(()=>{se&&(Ft&&H(ae),$e(!1))},[se]);const Ct=Ge.useCallback((...an)=>{an.length===0?le(I):le(vn=>an.filter(Fn=>cle(I,Fn)).reduce((Fn,mo)=>M0(Fn,mo,ib(I,mo)),{...vn})),ct.current?.reset(...an)},[le,I]),He=Ge.useCallback((an,vn)=>{Me(Fn=>{const mo={...Fn,...typeof an=="string"?{[an]:vn}:an};return Se(Object.keys(mo).length>0),ct.current?.setErrors(mo),mo})},[Me,Se]),ut=Ge.useCallback((...an)=>{Me(vn=>{const Fn=Object.keys(vn).reduce((mo,es)=>({...mo,...an.length>0&&!an.includes(es)?{[es]:vn[es]}:{}}),{});return Se(Object.keys(Fn).length>0),ct.current&&(an.length===0?ct.current.setErrors({}):an.forEach(ct.current.forgetError)),Fn})},[Me,Se]),W=Ge.useCallback((...an)=>{Ct(...an),ut(...an)},[Ct,ut]),Wn=an=>(vn,Fn={})=>{rn(an,vn,Fn)},Yt=Ge.useCallback(Wn("get"),[rn]),jn=Ge.useCallback(Wn("post"),[rn]),Cn=Ge.useCallback(Wn("put"),[rn]),No=Ge.useCallback(Wn("patch"),[rn]),Re=Ge.useCallback(Wn("delete"),[rn]),Ve=Ge.useCallback(()=>{K.current&&K.current.cancel()},[]),qe=Ge.useCallback(an=>{Ze.current=an},[]),De={data:ae,setData:yt,isDirty:Ft,errors:me,hasErrors:de,processing:re,progress:it,wasSuccessful:dt,recentlySuccessful:Ae,transform:qe,setDefaults:Qe,reset:Ct,setError:He,clearErrors:ut,resetAndClearErrors:W,submit:rn,get:Yt,post:jn,put:Cn,patch:No,delete:Re,cancel:Ve},Ye=(an,vn)=>(vn(an),an),Tt=Ge.useCallback(an=>lt.includes(an),[lt]),at=Ge.useCallback(an=>an in me,[me]),En=Ge.useCallback(an=>typeof an=="string"?Pt.includes(an):Pt.length>0,[Pt]),wt=(an,vn)=>{if(typeof an=="object"&&!("target"in an)&&(vn=an,an=void 0),an===void 0)ct.current.validate(vn);else{const Fn=O5(an),mo=Mt.current,es=Ze.current(mo);ct.current.validate(Fn,ib(es,Fn),vn)}return De},kt=(...an)=>{if($.current=bH.createWayfinderCallback(...an),!ct.current){const Fn=y0e(mo=>{const{method:es,url:vo}=$.current(),ts=Mt.current,Bo=Ze.current(ts);return mo[es](vo,Bo)},D0(I));ct.current=Fn,Fn.on("validatingChanged",()=>{ce(Fn.validating())}).on("validatedChanged",()=>{F(Fn.valid())}).on("touchedChanged",()=>{je(Fn.touched())}).on("errorsChanged",()=>{const mo=dn.current?Fn.errors():w0e(Fn.errors());Me(mo),Se(Object.keys(mo).length>0),F(Fn.valid())})}const vn=Object.assign(De,{validating:Ce,validator:()=>ct.current,valid:Tt,invalid:at,touched:En,withoutFileValidation:()=>Ye(vn,()=>ct.current?.withoutFileValidation()),touch:(Fn,...mo)=>(Array.isArray(Fn)?ct.current?.touch(Fn):typeof Fn=="string"?ct.current?.touch([Fn,...mo]):ct.current?.touch(Fn),vn),withAllErrors:()=>Ye(vn,()=>dn.current=!0),setValidationTimeout:Fn=>Ye(vn,()=>ct.current?.setTimeout(Fn)),validateFiles:()=>Ye(vn,()=>ct.current?.validateFiles()),validate:wt,setErrors:Fn=>Ye(vn,()=>De.setError(Fn)),forgetError:Fn=>Ye(vn,()=>De.clearErrors(O5(Fn)))});return vn};return De.withPrecognition=kt,$.current?De.withPrecognition($.current):De}var E0e=l=>{typeof tr.startTransition=="function"?tr.startTransition(l):setTimeout(l,0)},Wy=()=>{},A0e=Ge.forwardRef(({action:l="",method:m="get",headers:b={},queryStringArrayFormat:E="brackets",errorBag:D=null,showProgress:$=!0,transform:I=ce=>ce,options:H={},onStart:K=Wy,onProgress:X=Wy,onFinish:ae=Wy,onBefore:le=Wy,onCancel:me=Wy,onSuccess:Me=Wy,onError:de=Wy,onCancelToken:Se=Wy,onSubmitComplete:re=Wy,disableWhileProcessing:ot=!1,resetOnError:it=!1,resetOnSuccess:J=!1,setDefaultsOnSuccess:dt=!1,invalidateCacheTags:Wt=[],validateFiles:Ae=!1,validationTimeout:G=1500,withAllErrors:Ze=!1,children:Ft,...ct},Ce)=>{const ce=()=>{const[Yt,jn]=se();return I(jn)},Pt=x0e({}).withPrecognition(()=>lt,()=>se()[0]).setValidationTimeout(G);Ae&&Pt.validateFiles(),Ze&&Pt.withAllErrors(),Pt.transform(ce);const je=Ge.useRef(void 0),lt=Ge.useMemo(()=>Zy(l)?l.method:m.toLowerCase(),[l,m]),[F,dn]=Ge.useState(!1),Te=Ge.useRef(new FormData),rn=Yt=>new FormData(je.current,Yt),yt=Yt=>Gse(rn(Yt)),se=Yt=>Ite(lt,Zy(l)?l.url:l,yt(Yt),E),$e=Yt=>E0e(()=>dn(Yt.type==="reset"?!1:!$E(yt(),Gse(Te.current)))),Mt=(...Yt)=>(Pt.clearErrors(...Yt),Pt);Ge.useEffect(()=>{Te.current=rn(),Pt.setDefaults(yt());const Yt=["input","change","reset"];return Yt.forEach(jn=>je.current.addEventListener(jn,$e)),()=>{Yt.forEach(jn=>je.current?.removeEventListener(jn,$e))}},[]),Ge.useEffect(()=>{Pt.setValidationTimeout(G)},[G]),Ge.useEffect(()=>{Ae?Pt.validateFiles():Pt.withoutFileValidation()},[Ae]);const Qe=(...Yt)=>{je.current&&c0e(je.current,Te.current,Yt),Pt.reset(...Yt)},Ct=(...Yt)=>{Mt(...Yt),Qe(...Yt)},He=Yt=>{Yt&&(Yt===!0?Qe():Yt.length>0&&Qe(...Yt))},ut=Yt=>{const[jn,Cn]=se(Yt),No={headers:b,queryStringArrayFormat:E,errorBag:D,showProgress:$,invalidateCacheTags:Wt,onCancelToken:Se,onBefore:le,onStart:K,onProgress:X,onFinish:ae,onCancel:me,onSuccess:(...Re)=>{Me(...Re),re({reset:Qe,defaults:W}),He(J),dt===!0&&W()},onError(...Re){de(...Re),He(it)},...H};Pt.transform(()=>I(Cn)),Pt.submit(lt,jn,No),Pt.transform(ce)},W=()=>{Te.current=rn(),dn(!1)},Wn=()=>({errors:Pt.errors,hasErrors:Pt.hasErrors,processing:Pt.processing,progress:Pt.progress,wasSuccessful:Pt.wasSuccessful,recentlySuccessful:Pt.recentlySuccessful,isDirty:F,clearErrors:Mt,resetAndClearErrors:Ct,setError:Pt.setError,reset:Qe,submit:ut,defaults:W,getData:yt,getFormData:rn,validator:()=>Pt.validator(),validating:Pt.validating,valid:Pt.valid,invalid:Pt.invalid,validate:(Yt,jn)=>Pt.validate(...bH.mergeHeadersForValidation(Yt,jn,b)),touch:Pt.touch,touched:Pt.touched});return Ge.useImperativeHandle(Ce,Wn,[Pt,F,ut]),Ge.createElement("form",{...ct,ref:je,action:Zy(l)?l.url:l,method:lt,onSubmit:Yt=>{Yt.preventDefault(),ut(Yt.nativeEvent.submitter)},inert:ot&&Pt.processing&&"true"},typeof Ft=="function"?Ft(Wn()):Ft)});A0e.displayName="InertiaForm";var T0e=function({children:l,title:m}){const b=Ge.useContext(ste),E=Ge.useMemo(()=>b.createProvider(),[b]),D=typeof window>"u";Ge.useEffect(()=>(E.reconnect(),E.update(le(l)),()=>{E.disconnect()}),[E,l,m]);function $(me){return typeof me.type=="string"&&["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(me.type)>-1}function I(me){const Me=Object.keys(me.props).reduce((de,Se)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(Se))return de;const re=String(me.props[Se]);return re===""?de+` ${Se}`:de+` ${Se}="${rhe(re)}"`},"");return`<${String(me.type)}${Me}>`}function H(me){const{children:Me}=me.props;return typeof Me=="string"?Me:Array.isArray(Me)?Me.reduce((de,Se)=>de+K(Se),""):""}function K(me){let Me=I(me);return me.props.children&&(Me+=H(me)),me.props.dangerouslySetInnerHTML&&(Me+=me.props.dangerouslySetInnerHTML.__html),$(me)||(Me+=`</${String(me.type)}>`),Me}function X(me){return tr.cloneElement(me,{[E.preferredAttribute()]:me.props["head-key"]!==void 0?me.props["head-key"]:""})}function ae(me){return K(X(me))}function le(me){const Me=tr.Children.toArray(me).filter(de=>de).map(de=>ae(de));return m&&!Me.find(de=>de.startsWith("<title"))&&Me.push(`<title ${E.preferredAttribute()}>${m}</title>`),Me}return D&&E.update(le(l)),null},l2e=T0e,kee=(l,m)=>l?l&&typeof l=="object"&&"current"in l?l.current:typeof l=="string"?document.querySelector(l):m:m,uH=(l,m,b=null)=>l?typeof l=="function"?l(m):l:b,k0e=Ge.forwardRef(({data:l,buffer:m=0,as:b="div",manual:E=!1,manualAfter:D=0,preserveUrl:$=!1,reverse:I=!1,autoScroll:H,children:K,startElement:X,endElement:ae,itemsElement:le,previous:me,next:Me,loading:de,onlyNext:Se=!1,onlyPrevious:re=!1,...ot},it)=>{const[J,dt]=Ge.useState(null),Wt=Ge.useCallback(at=>dt(at),[]),[Ae,G]=Ge.useState(null),Ze=Ge.useCallback(at=>G(at),[]),[Ft,ct]=Ge.useState(null),Ce=Ge.useCallback(at=>ct(at),[]),[ce,Pt]=Ge.useState(!1),[je,lt]=Ge.useState(!1),[F,dn]=Ge.useState(0),[Te,rn]=Ge.useState(null),[yt,se]=Ge.useState(null),[$e,Mt]=Ge.useState(null);Ge.useEffect(()=>{const at=X?kee(X,J):J;rn(at)},[X,J]),Ge.useEffect(()=>{const at=ae?kee(ae,Ae):Ae;se(at)},[ae,Ae]),Ge.useEffect(()=>{const at=le?kee(le,Ft):Ft;Mt(at)},[le,Ft]);const Qe=Ge.useMemo(()=>D1e($e),[$e]),Ct=Ge.useRef({buffer:m,onlyNext:Se,onlyPrevious:re,reverse:I,preserveUrl:$});Ct.current={buffer:m,onlyNext:Se,onlyPrevious:re,reverse:I,preserveUrl:$};const[He,ut]=Ge.useState(null),W=Ge.useMemo(()=>He?.dataManager,[He]),Wn=Ge.useMemo(()=>He?.elementManager,[He]),Yt=Ge.useCallback(()=>{Qe?Qe.scrollTo({top:Qe.scrollHeight,behavior:"instant"}):window.scrollTo({top:document.body.scrollHeight,behavior:"instant"})},[Qe]);Ge.useEffect(()=>{if(!$e)return;const at=W1e({getPropName:()=>l,inReverseMode:()=>Ct.current.reverse,shouldFetchNext:()=>!Ct.current.onlyPrevious,shouldFetchPrevious:()=>!Ct.current.onlyNext,shouldPreserveUrl:()=>Ct.current.preserveUrl,getTriggerMargin:()=>Ct.current.buffer,getStartElement:()=>Te,getEndElement:()=>yt,getItemsElement:()=>$e,getScrollableParent:()=>Qe,onBeforePreviousRequest:()=>Pt(!0),onBeforeNextRequest:()=>lt(!0),onCompletePreviousRequest:()=>{Pt(!1),dn(at.dataManager.getRequestCount())},onCompleteNextRequest:()=>{lt(!1),dn(at.dataManager.getRequestCount())}});ut(at);const{dataManager:En,elementManager:wt}=at;return dn(En.getRequestCount()),wt.setupObservers(),wt.processServerLoadedElements(En.getLastLoadedPage()),Cn&&wt.enableTriggers(),()=>{at.flush(),ut(null)}},[l,$e,Te,yt,Qe]);const jn=Ge.useMemo(()=>E||D>0&&F>=D,[E,D,F]),Cn=Ge.useMemo(()=>!jn,[jn]);Ge.useEffect(()=>{Cn?Wn?.enableTriggers():Wn?.disableTriggers()},[Cn,Se,re,Te,yt]),Ge.useEffect(()=>{(H!==void 0?H:I)&&Yt()},[Qe]),Ge.useImperativeHandle(it,()=>({fetchNext:W?.fetchNext||(()=>{}),fetchPrevious:W?.fetchPrevious||(()=>{}),hasPrevious:W?.hasPrevious||(()=>!1),hasNext:W?.hasNext||(()=>!1)}),[W]);const No=Cn&&!Se,Re=Cn&&!re,Ve={loadingPrevious:ce,loadingNext:je,hasPrevious:W?.hasPrevious()??!1,hasNext:W?.hasNext()??!1},qe={loading:ce,fetch:W?.fetchPrevious??(()=>{}),autoMode:No,manualMode:!No,hasMore:W?.hasPrevious()??!1,...Ve},De={loading:je,fetch:W?.fetchNext??(()=>{}),autoMode:Re,manualMode:!Re,hasMore:W?.hasNext()??!1,...Ve},Ye={loading:ce||je,loadingPrevious:ce,loadingNext:je},Tt=[];return X||Tt.push(Ge.createElement("div",{ref:Wt},uH(me,qe,ce?uH(de,qe):null))),Tt.push(Ge.createElement(b,{...ot,ref:Ce},typeof K=="function"?K(Ye):K)),ae||Tt.push(Ge.createElement("div",{ref:Ze},uH(Me,De,je?uH(de,De):null))),Ge.createElement(tr.Fragment,{},...I?[...Tt].reverse():Tt)});k0e.displayName="InertiaInfiniteScroll";var _0=()=>{},Zle=Ge.forwardRef(({children:l,as:m="a",data:b={},href:E="",method:D="get",preserveScroll:$=!1,preserveState:I=null,preserveUrl:H=!1,replace:K=!1,only:X=[],except:ae=[],headers:le={},queryStringArrayFormat:me="brackets",async:Me=!1,onClick:de=_0,onCancelToken:Se=_0,onBefore:re=_0,onStart:ot=_0,onProgress:it=_0,onFinish:J=_0,onCancel:dt=_0,onSuccess:Wt=_0,onError:Ae=_0,onPrefetching:G=_0,onPrefetched:Ze=_0,prefetch:Ft=!1,cacheFor:ct=0,cacheTags:Ce=[],viewTransition:ce=!1,...Pt},je)=>{const[lt,F]=Ge.useState(0),dn=Ge.useRef(void 0),Te=Ge.useMemo(()=>Zy(E)?E.method:D.toLowerCase(),[E,D]),rn=Ge.useMemo(()=>typeof m!="string"||m.toLowerCase()!=="a"?m:Te!=="get"?"button":m.toLowerCase(),[m,Te]),yt=Ge.useMemo(()=>Ite(Te,Zy(E)?E.url:E,b,me),[E,Te,b,me]),se=Ge.useMemo(()=>yt[0],[yt]),$e=Ge.useMemo(()=>yt[1],[yt]),Mt=Ge.useMemo(()=>({data:$e,method:Te,preserveScroll:$,preserveState:I??Te!=="get",preserveUrl:H,replace:K,only:X,except:ae,headers:le,async:Me}),[$e,Te,$,I,H,K,X,ae,le,Me]),Qe=Ge.useMemo(()=>({...Mt,viewTransition:ce,onCancelToken:Se,onBefore:re,onStart(Cn){F(No=>No+1),ot(Cn)},onProgress:it,onFinish(Cn){F(No=>No-1),J(Cn)},onCancel:dt,onSuccess:Wt,onError:Ae}),[Mt,ce,Se,re,ot,it,J,dt,Wt,Ae]),Ct=Ge.useMemo(()=>Ft===!0?["hover"]:Ft===!1?[]:Array.isArray(Ft)?Ft:[Ft],Array.isArray(Ft)?Ft:[Ft]),He=Ge.useMemo(()=>ct!==0?ct:Ct.length===1&&Ct[0]==="click"?0:L5.get("prefetch.cacheFor"),[ct,Ct]),ut=Ge.useMemo(()=>()=>{Xc.prefetch(se,{...Mt,onPrefetching:G,onPrefetched:Ze},{cacheFor:He,cacheTags:Ce})},[se,Mt,G,Ze,He,Ce]);Ge.useEffect(()=>()=>{clearTimeout(dn.current)},[]),Ge.useEffect(()=>{Ct.includes("mount")&&setTimeout(()=>ut())},Ct);const W={onClick:Cn=>{de(Cn),cH(Cn)&&(Cn.preventDefault(),Xc.visit(se,Qe))}},Wn={onMouseEnter:()=>{dn.current=window.setTimeout(()=>{ut()},L5.get("prefetch.hoverDelay"))},onMouseLeave:()=>{clearTimeout(dn.current)},onClick:W.onClick},Yt={onMouseDown:Cn=>{cH(Cn)&&(Cn.preventDefault(),ut())},onKeyDown:Cn=>{Kse(Cn)&&(Cn.preventDefault(),ut())},onMouseUp:Cn=>{cH(Cn)&&(Cn.preventDefault(),Xc.visit(se,Qe))},onKeyUp:Cn=>{Kse(Cn)&&(Cn.preventDefault(),Xc.visit(se,Qe))},onClick:Cn=>{de(Cn),cH(Cn)&&Cn.preventDefault()}},jn=Ge.useMemo(()=>rn==="button"?{type:"button"}:rn==="a"||typeof rn!="string"?{href:se}:{},[rn,se]);return Ge.createElement(rn,{...Pt,...jn,ref:je,...Ct.includes("hover")?Wn:Ct.includes("click")?Yt:W,"data-loading":lt>0?"":void 0},l)});Zle.displayName="InertiaLink";var c2e=Zle,u2e=Xc,L5=LE.extend();async function d2e(l,m){for(const b of Array.isArray(l)?l:[l]){const E=m[b];if(!(typeof E>"u"))return typeof E=="function"?E():E}throw new Error(`Page not found: ${l}`)}var dH={},are;function _0e(){if(are)return dH;are=1;var l=Lle();return dH.createRoot=l.createRoot,dH.hydrateRoot=l.hydrateRoot,dH}var f2e=_0e(),O0e=Object.defineProperty,D0e=(l,m,b)=>m in l?O0e(l,m,{enumerable:!0,configurable:!0,writable:!0,value:b}):l[m]=b,_ee=(l,m,b)=>(D0e(l,typeof m!="symbol"?m+"":m,b),b);let P0e=class{constructor(){_ee(this,"current",this.detect()),_ee(this,"handoffState","pending"),_ee(this,"currentId",0)}set(m){this.current!==m&&(this.handoffState="pending",this.currentId=0,this.current=m)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rb=new P0e;function q5(l){var m;return rb.isServer?null:l==null?document:(m=l?.ownerDocument)!=null?m:document}function ite(l){var m,b;return rb.isServer?null:l==null?document:(b=(m=l?.getRootNode)==null?void 0:m.call(l))!=null?b:document}function qle(l){var m,b;return(b=(m=ite(l))==null?void 0:m.activeElement)!=null?b:null}function R0e(l){return qle(l)===l}function YH(l){typeof queueMicrotask=="function"?queueMicrotask(l):Promise.resolve().then(l).catch(m=>setTimeout(()=>{throw m}))}function Xy(){let l=[],m={addEventListener(b,E,D,$){return b.addEventListener(E,D,$),m.add(()=>b.removeEventListener(E,D,$))},requestAnimationFrame(...b){let E=requestAnimationFrame(...b);return m.add(()=>cancelAnimationFrame(E))},nextFrame(...b){return m.requestAnimationFrame(()=>m.requestAnimationFrame(...b))},setTimeout(...b){let E=setTimeout(...b);return m.add(()=>clearTimeout(E))},microTask(...b){let E={current:!0};return YH(()=>{E.current&&b[0]()}),m.add(()=>{E.current=!1})},style(b,E,D){let $=b.style.getPropertyValue(E);return Object.assign(b.style,{[E]:D}),this.add(()=>{Object.assign(b.style,{[E]:$})})},group(b){let E=Xy();return b(E),this.add(()=>E.dispose())},add(b){return l.includes(b)||l.push(b),()=>{let E=l.indexOf(b);if(E>=0)for(let D of l.splice(E,1))D()}},dispose(){for(let b of l.splice(0))b()}};return m}function XH(){let[l]=Ge.useState(Xy);return Ge.useEffect(()=>()=>l.dispose(),[l]),l}let sg=(l,m)=>{rb.isServer?Ge.useEffect(l,m):Ge.useLayoutEffect(l,m)};function WE(l){let m=Ge.useRef(l);return sg(()=>{m.current=l},[l]),m}let Tl=function(l){let m=WE(l);return tr.useCallback((...b)=>m.current(...b),[m])};function G5(l){return Ge.useMemo(()=>l,Object.values(l))}let F0e=Ge.createContext(void 0);function M0e(){return Ge.useContext(F0e)}function lte(...l){return Array.from(new Set(l.flatMap(m=>typeof m=="string"?m.split(" "):[]))).filter(Boolean).join(" ")}function Gy(l,m,...b){if(l in m){let D=m[l];return typeof D=="function"?D(...b):D}let E=new Error(`Tried to handle "${l}" but there is no handler defined. Only defined handlers are: ${Object.keys(m).map(D=>`"${D}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(E,Gy),E}var PH=(l=>(l[l.None=0]="None",l[l.RenderStrategy=1]="RenderStrategy",l[l.Static=2]="Static",l))(PH||{}),EC=(l=>(l[l.Unmount=0]="Unmount",l[l.Hidden=1]="Hidden",l))(EC||{});function h1(){let l=B0e();return Ge.useCallback(m=>N0e({mergeRefs:l,...m}),[l])}function N0e({ourProps:l,theirProps:m,slot:b,defaultTag:E,features:D,visible:$=!0,name:I,mergeRefs:H}){H=H??I0e;let K=Gle(m,l);if($)return fH(K,b,E,I,H);let X=D??0;if(X&2){let{static:ae=!1,...le}=K;if(ae)return fH(le,b,E,I,H)}if(X&1){let{unmount:ae=!0,...le}=K;return Gy(ae?0:1,{0(){return null},1(){return fH({...le,hidden:!0,style:{display:"none"}},b,E,I,H)}})}return fH(K,b,E,I,H)}function fH(l,m={},b,E,D){let{as:$=b,children:I,refName:H="ref",...K}=Oee(l,["unmount","static"]),X=l.ref!==void 0?{[H]:l.ref}:{},ae=typeof I=="function"?I(m):I;"className"in K&&K.className&&typeof K.className=="function"&&(K.className=K.className(m)),K["aria-labelledby"]&&K["aria-labelledby"]===K.id&&(K["aria-labelledby"]=void 0);let le={};if(m){let me=!1,Me=[];for(let[de,Se]of Object.entries(m))typeof Se=="boolean"&&(me=!0),Se===!0&&Me.push(de.replace(/([A-Z])/g,re=>`-${re.toLowerCase()}`));if(me){le["data-headlessui-state"]=Me.join(" ");for(let de of Me)le[`data-${de}`]=""}}if(D5($)&&(Object.keys(PE(K)).length>0||Object.keys(PE(le)).length>0))if(!Ge.isValidElement(ae)||Array.isArray(ae)&&ae.length>1||L0e(ae)){if(Object.keys(PE(K)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${E} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(PE(K)).concat(Object.keys(PE(le))).map(me=>`  - ${me}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(me=>`  - ${me}`).join(`
`)].join(`
`))}else{let me=ae.props,Me=me?.className,de=typeof Me=="function"?(...ot)=>lte(Me(...ot),K.className):lte(Me,K.className),Se=de?{className:de}:{},re=Gle(ae.props,PE(Oee(K,["ref"])));for(let ot in le)ot in re&&delete le[ot];return Ge.cloneElement(ae,Object.assign({},re,le,X,{ref:D($0e(ae),X.ref)},Se))}return Ge.createElement($,Object.assign({},Oee(K,["ref"]),!D5($)&&X,!D5($)&&le),ae)}function B0e(){let l=Ge.useRef([]),m=Ge.useCallback(b=>{for(let E of l.current)E!=null&&(typeof E=="function"?E(b):E.current=b)},[]);return(...b)=>{if(!b.every(E=>E==null))return l.current=b,m}}function I0e(...l){return l.every(m=>m==null)?void 0:m=>{for(let b of l)b!=null&&(typeof b=="function"?b(m):b.current=m)}}function Gle(...l){if(l.length===0)return{};if(l.length===1)return l[0];let m={},b={};for(let E of l)for(let D in E)D.startsWith("on")&&typeof E[D]=="function"?(b[D]!=null||(b[D]=[]),b[D].push(E[D])):m[D]=E[D];if(m.disabled||m["aria-disabled"])for(let E in b)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(E)&&(b[E]=[D=>{var $;return($=D?.preventDefault)==null?void 0:$.call(D)}]);for(let E in b)Object.assign(m,{[E](D,...$){let I=b[E];for(let H of I){if((D instanceof Event||D?.nativeEvent instanceof Event)&&D.defaultPrevented)return;H(D,...$)}}});return m}function rg(l){var m;return Object.assign(Ge.forwardRef(l),{displayName:(m=l.displayName)!=null?m:l.name})}function PE(l){let m=Object.assign({},l);for(let b in m)m[b]===void 0&&delete m[b];return m}function Oee(l,m=[]){let b=Object.assign({},l);for(let E of m)E in b&&delete b[E];return b}function $0e(l){return tr.version.split(".")[0]>="19"?l.props.ref:l.ref}function D5(l){return l===Ge.Fragment||l===Symbol.for("react.fragment")}function L0e(l){return D5(l.type)}let H0e="span";var RH=(l=>(l[l.None=1]="None",l[l.Focusable=2]="Focusable",l[l.Hidden=4]="Hidden",l))(RH||{});function z0e(l,m){var b;let{features:E=1,...D}=l,$={ref:m,"aria-hidden":(E&2)===2?!0:(b=D["aria-hidden"])!=null?b:void 0,hidden:(E&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(E&4)===4&&(E&2)!==2&&{display:"none"}}};return h1()({ourProps:$,theirProps:D,slot:{},defaultTag:H0e,name:"Hidden"})}let cte=rg(z0e);function U0e(l){return typeof l!="object"||l===null?!1:"nodeType"in l}function TC(l){return U0e(l)&&"tagName"in l}function HE(l){return TC(l)&&"accessKey"in l}function AC(l){return TC(l)&&"tabIndex"in l}function V0e(l){return TC(l)&&"style"in l}function W0e(l){return HE(l)&&l.nodeName==="IFRAME"}function j0e(l){return HE(l)&&l.nodeName==="INPUT"}let Kle=Symbol();function Z0e(l,m=!0){return Object.assign(l,{[Kle]:m})}function lb(...l){let m=Ge.useRef(l);Ge.useEffect(()=>{m.current=l},[l]);let b=Tl(E=>{for(let D of m.current)D!=null&&(typeof D=="function"?D(E):D.current=E)});return l.every(E=>E==null||E?.[Kle])?void 0:b}let Lte=Ge.createContext(null);Lte.displayName="DescriptionContext";function Yle(){let l=Ge.useContext(Lte);if(l===null){let m=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(m,Yle),m}return l}function q0e(){let[l,m]=Ge.useState([]);return[l.length>0?l.join(" "):void 0,Ge.useMemo(()=>function(b){let E=Tl($=>(m(I=>[...I,$]),()=>m(I=>{let H=I.slice(),K=H.indexOf($);return K!==-1&&H.splice(K,1),H}))),D=Ge.useMemo(()=>({register:E,slot:b.slot,name:b.name,props:b.props,value:b.value}),[E,b.slot,b.name,b.props,b.value]);return tr.createElement(Lte.Provider,{value:D},b.children)},[m])]}let G0e="p";function K0e(l,m){let b=Ge.useId(),E=M0e(),{id:D=`headlessui-description-${b}`,...$}=l,I=Yle(),H=lb(m);sg(()=>I.register(D),[D,I.register]);let K=G5({...I.slot,disabled:E||!1}),X={ref:H,...I.props,id:D};return h1()({ourProps:X,theirProps:$,slot:K,defaultTag:G0e,name:I.name||"Description"})}let Y0e=rg(K0e),X0e=Object.assign(Y0e,{});var Xle=(l=>(l.Space=" ",l.Enter="Enter",l.Escape="Escape",l.Backspace="Backspace",l.Delete="Delete",l.ArrowLeft="ArrowLeft",l.ArrowUp="ArrowUp",l.ArrowRight="ArrowRight",l.ArrowDown="ArrowDown",l.Home="Home",l.End="End",l.PageUp="PageUp",l.PageDown="PageDown",l.Tab="Tab",l))(Xle||{});let Q0e=Ge.createContext(()=>{});function J0e({value:l,children:m}){return tr.createElement(Q0e.Provider,{value:l},m)}let Qle=class extends Map{constructor(m){super(),this.factory=m}get(m){let b=super.get(m);return b===void 0&&(b=this.factory(m),this.set(m,b)),b}};var eve=Object.defineProperty,tve=(l,m,b)=>m in l?eve(l,m,{enumerable:!0,configurable:!0,writable:!0,value:b}):l[m]=b,nve=(l,m,b)=>(tve(l,m+"",b),b),Jle=(l,m,b)=>{if(!m.has(l))throw TypeError("Cannot "+b)},f1=(l,m,b)=>(Jle(l,m,"read from private field"),b?b.call(l):m.get(l)),Dee=(l,m,b)=>{if(m.has(l))throw TypeError("Cannot add the same private member more than once");m instanceof WeakSet?m.add(l):m.set(l,b)},ire=(l,m,b,E)=>(Jle(l,m,"write to private field"),m.set(l,b),b),tb,x5,E5;let ove=class{constructor(m){Dee(this,tb,{}),Dee(this,x5,new Qle(()=>new Set)),Dee(this,E5,new Set),nve(this,"disposables",Xy()),ire(this,tb,m),rb.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return f1(this,tb)}subscribe(m,b){if(rb.isServer)return()=>{};let E={selector:m,callback:b,current:m(f1(this,tb))};return f1(this,E5).add(E),this.disposables.add(()=>{f1(this,E5).delete(E)})}on(m,b){return rb.isServer?()=>{}:(f1(this,x5).get(m).add(b),this.disposables.add(()=>{f1(this,x5).get(m).delete(b)}))}send(m){let b=this.reduce(f1(this,tb),m);if(b!==f1(this,tb)){ire(this,tb,b);for(let E of f1(this,E5)){let D=E.selector(f1(this,tb));ece(E.current,D)||(E.current=D,E.callback(D))}for(let E of f1(this,x5).get(m.type))E(f1(this,tb),m)}}};tb=new WeakMap,x5=new WeakMap,E5=new WeakMap;function ece(l,m){return Object.is(l,m)?!0:typeof l!="object"||l===null||typeof m!="object"||m===null?!1:Array.isArray(l)&&Array.isArray(m)?l.length!==m.length?!1:Pee(l[Symbol.iterator](),m[Symbol.iterator]()):l instanceof Map&&m instanceof Map||l instanceof Set&&m instanceof Set?l.size!==m.size?!1:Pee(l.entries(),m.entries()):lre(l)&&lre(m)?Pee(Object.entries(l)[Symbol.iterator](),Object.entries(m)[Symbol.iterator]()):!1}function Pee(l,m){do{let b=l.next(),E=m.next();if(b.done&&E.done)return!0;if(b.done||E.done||!Object.is(b.value,E.value))return!1}while(!0)}function lre(l){if(Object.prototype.toString.call(l)!=="[object Object]")return!1;let m=Object.getPrototypeOf(l);return m===null||Object.getPrototypeOf(m)===null}var sve=Object.defineProperty,rve=(l,m,b)=>m in l?sve(l,m,{enumerable:!0,configurable:!0,writable:!0,value:b}):l[m]=b,cre=(l,m,b)=>(rve(l,typeof m!="symbol"?m+"":m,b),b),ave=(l=>(l[l.Push=0]="Push",l[l.Pop=1]="Pop",l))(ave||{});let ive={0(l,m){let b=m.id,E=l.stack,D=l.stack.indexOf(b);if(D!==-1){let $=l.stack.slice();return $.splice(D,1),$.push(b),E=$,{...l,stack:E}}return{...l,stack:[...l.stack,b]}},1(l,m){let b=m.id,E=l.stack.indexOf(b);if(E===-1)return l;let D=l.stack.slice();return D.splice(E,1),{...l,stack:D}}},lve=class tce extends ove{constructor(){super(...arguments),cre(this,"actions",{push:m=>this.send({type:0,id:m}),pop:m=>this.send({type:1,id:m})}),cre(this,"selectors",{isTop:(m,b)=>m.stack[m.stack.length-1]===b,inStack:(m,b)=>m.stack.includes(b)})}static new(){return new tce({stack:[]})}reduce(m,b){return Gy(b.type,ive,m,b)}};const nce=new Qle(()=>lve.new());var Ree={exports:{}},Fee={};var ure;function cve(){if(ure)return Fee;ure=1;var l=MH();function m(K,X){return K===X&&(K!==0||1/K===1/X)||K!==K&&X!==X}var b=typeof Object.is=="function"?Object.is:m,E=l.useSyncExternalStore,D=l.useRef,$=l.useEffect,I=l.useMemo,H=l.useDebugValue;return Fee.useSyncExternalStoreWithSelector=function(K,X,ae,le,me){var Me=D(null);if(Me.current===null){var de={hasValue:!1,value:null};Me.current=de}else de=Me.current;Me=I(function(){function re(Wt){if(!ot){if(ot=!0,it=Wt,Wt=le(Wt),me!==void 0&&de.hasValue){var Ae=de.value;if(me(Ae,Wt))return J=Ae}return J=Wt}if(Ae=J,b(it,Wt))return Ae;var G=le(Wt);return me!==void 0&&me(Ae,G)?(it=Wt,Ae):(it=Wt,J=G)}var ot=!1,it,J,dt=ae===void 0?null:ae;return[function(){return re(X())},dt===null?void 0:function(){return re(dt())}]},[X,ae,le,me]);var Se=E(K,Me[0],Me[1]);return $(function(){de.hasValue=!0,de.value=Se},[Se]),H(Se),Se},Fee}var dre;function uve(){return dre||(dre=1,Ree.exports=cve()),Ree.exports}var dve=uve();function oce(l,m,b=ece){return dve.useSyncExternalStoreWithSelector(Tl(E=>l.subscribe(fve,E)),Tl(()=>l.state),Tl(()=>l.state),Tl(m),b)}function fve(l){return l}function K5(l,m){let b=Ge.useId(),E=nce.get(m),[D,$]=oce(E,Ge.useCallback(I=>[E.selectors.isTop(I,b),E.selectors.inStack(I,b)],[E,b]));return sg(()=>{if(l)return E.actions.push(b),()=>E.actions.pop(b)},[E,l,b]),l?$?D:!0:!1}let ute=new Map,P5=new Map;function fre(l){var m;let b=(m=P5.get(l))!=null?m:0;return P5.set(l,b+1),b!==0?()=>mre(l):(ute.set(l,{"aria-hidden":l.getAttribute("aria-hidden"),inert:l.inert}),l.setAttribute("aria-hidden","true"),l.inert=!0,()=>mre(l))}function mre(l){var m;let b=(m=P5.get(l))!=null?m:1;if(b===1?P5.delete(l):P5.set(l,b-1),b!==1)return;let E=ute.get(l);E&&(E["aria-hidden"]===null?l.removeAttribute("aria-hidden"):l.setAttribute("aria-hidden",E["aria-hidden"]),l.inert=E.inert,ute.delete(l))}function mve(l,{allowed:m,disallowed:b}={}){let E=K5(l,"inert-others");sg(()=>{var D,$;if(!E)return;let I=Xy();for(let K of(D=b?.())!=null?D:[])K&&I.add(fre(K));let H=($=m?.())!=null?$:[];for(let K of H){if(!K)continue;let X=q5(K);if(!X)continue;let ae=K.parentElement;for(;ae&&ae!==X.body;){for(let le of ae.children)H.some(me=>le.contains(me))||I.add(fre(le));ae=ae.parentElement}}return I.dispose},[E,m,b])}function pve(l,m,b){let E=WE(D=>{let $=D.getBoundingClientRect();$.x===0&&$.y===0&&$.width===0&&$.height===0&&b()});Ge.useEffect(()=>{if(!l)return;let D=m===null?null:HE(m)?m:m.current;if(!D)return;let $=Xy();if(typeof ResizeObserver<"u"){let I=new ResizeObserver(()=>E.current(D));I.observe(D),$.add(()=>I.disconnect())}if(typeof IntersectionObserver<"u"){let I=new IntersectionObserver(()=>E.current(D));I.observe(D),$.add(()=>I.disconnect())}return()=>$.dispose()},[m,E,l])}let FH=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(l=>`${l}:not([tabindex='-1'])`).join(","),gve=["[data-autofocus]"].map(l=>`${l}:not([tabindex='-1'])`).join(",");var jy=(l=>(l[l.First=1]="First",l[l.Previous=2]="Previous",l[l.Next=4]="Next",l[l.Last=8]="Last",l[l.WrapAround=16]="WrapAround",l[l.NoScroll=32]="NoScroll",l[l.AutoFocus=64]="AutoFocus",l))(jy||{}),dte=(l=>(l[l.Error=0]="Error",l[l.Overflow=1]="Overflow",l[l.Success=2]="Success",l[l.Underflow=3]="Underflow",l))(dte||{}),hve=(l=>(l[l.Previous=-1]="Previous",l[l.Next=1]="Next",l))(hve||{});function vve(l=document.body){return l==null?[]:Array.from(l.querySelectorAll(FH)).sort((m,b)=>Math.sign((m.tabIndex||Number.MAX_SAFE_INTEGER)-(b.tabIndex||Number.MAX_SAFE_INTEGER)))}function bve(l=document.body){return l==null?[]:Array.from(l.querySelectorAll(gve)).sort((m,b)=>Math.sign((m.tabIndex||Number.MAX_SAFE_INTEGER)-(b.tabIndex||Number.MAX_SAFE_INTEGER)))}var sce=(l=>(l[l.Strict=0]="Strict",l[l.Loose=1]="Loose",l))(sce||{});function yve(l,m=0){var b;return l===((b=q5(l))==null?void 0:b.body)?!1:Gy(m,{0(){return l.matches(FH)},1(){let E=l;for(;E!==null;){if(E.matches(FH))return!0;E=E.parentElement}return!1}})}var wve=(l=>(l[l.Keyboard=0]="Keyboard",l[l.Mouse=1]="Mouse",l))(wve||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",l=>{l.metaKey||l.altKey||l.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",l=>{l.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:l.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qy(l){l?.focus({preventScroll:!0})}let Cve=["textarea","input"].join(",");function Sve(l){var m,b;return(b=(m=l?.matches)==null?void 0:m.call(l,Cve))!=null?b:!1}function xve(l,m=b=>b){return l.slice().sort((b,E)=>{let D=m(b),$=m(E);if(D===null||$===null)return 0;let I=D.compareDocumentPosition($);return I&Node.DOCUMENT_POSITION_FOLLOWING?-1:I&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function R5(l,m,{sorted:b=!0,relativeTo:E=null,skipElements:D=[]}={}){let $=Array.isArray(l)?l.length>0?ite(l[0]):document:ite(l),I=Array.isArray(l)?b?xve(l):l:m&64?bve(l):vve(l);D.length>0&&I.length>1&&(I=I.filter(Me=>!D.some(de=>de!=null&&"current"in de?de?.current===Me:de===Me))),E=E??$?.activeElement;let H=(()=>{if(m&5)return 1;if(m&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),K=(()=>{if(m&1)return 0;if(m&2)return Math.max(0,I.indexOf(E))-1;if(m&4)return Math.max(0,I.indexOf(E))+1;if(m&8)return I.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),X=m&32?{preventScroll:!0}:{},ae=0,le=I.length,me;do{if(ae>=le||ae+le<=0)return 0;let Me=K+ae;if(m&16)Me=(Me+le)%le;else{if(Me<0)return 3;if(Me>=le)return 1}me=I[Me],me?.focus(X),ae+=H}while(me!==qle(me));return m&6&&Sve(me)&&me.select(),2}function rce(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Eve(){return/Android/gi.test(window.navigator.userAgent)}function pre(){return rce()||Eve()}function mH(l,m,b,E){let D=WE(b);Ge.useEffect(()=>{if(!l)return;function $(I){D.current(I)}return document.addEventListener(m,$,E),()=>document.removeEventListener(m,$,E)},[l,m,E])}function ace(l,m,b,E){let D=WE(b);Ge.useEffect(()=>{if(!l)return;function $(I){D.current(I)}return window.addEventListener(m,$,E),()=>window.removeEventListener(m,$,E)},[l,m,E])}const gre=30;function Ave(l,m,b){let E=WE(b),D=Ge.useCallback(function(H,K){if(H.defaultPrevented)return;let X=K(H);if(X===null||!X.getRootNode().contains(X)||!X.isConnected)return;let ae=(function le(me){return typeof me=="function"?le(me()):Array.isArray(me)||me instanceof Set?me:[me]})(m);for(let le of ae)if(le!==null&&(le.contains(X)||H.composed&&H.composedPath().includes(le)))return;return!yve(X,sce.Loose)&&X.tabIndex!==-1&&H.preventDefault(),E.current(H,X)},[E,m]),$=Ge.useRef(null);mH(l,"pointerdown",H=>{var K,X;pre()||($.current=((X=(K=H.composedPath)==null?void 0:K.call(H))==null?void 0:X[0])||H.target)},!0),mH(l,"pointerup",H=>{if(pre()||!$.current)return;let K=$.current;return $.current=null,D(H,()=>K)},!0);let I=Ge.useRef({x:0,y:0});mH(l,"touchstart",H=>{I.current.x=H.touches[0].clientX,I.current.y=H.touches[0].clientY},!0),mH(l,"touchend",H=>{let K={x:H.changedTouches[0].clientX,y:H.changedTouches[0].clientY};if(!(Math.abs(K.x-I.current.x)>=gre||Math.abs(K.y-I.current.y)>=gre))return D(H,()=>AC(H.target)?H.target:null)},!0),ace(l,"blur",H=>D(H,()=>W0e(window.document.activeElement)?window.document.activeElement:null),!0)}function Hte(...l){return Ge.useMemo(()=>q5(...l),[...l])}function ice(l,m,b,E){let D=WE(b);Ge.useEffect(()=>{l=l??window;function $(I){D.current(I)}return l.addEventListener(m,$,E),()=>l.removeEventListener(m,$,E)},[l,m,E])}function Tve(l){return Ge.useSyncExternalStore(l.subscribe,l.getSnapshot,l.getSnapshot)}function kve(l,m){let b=l(),E=new Set;return{getSnapshot(){return b},subscribe(D){return E.add(D),()=>E.delete(D)},dispatch(D,...$){let I=m[D].call(b,...$);I&&(b=I,E.forEach(H=>H()))}}}function _ve(){let l;return{before({doc:m}){var b;let E=m.documentElement,D=(b=m.defaultView)!=null?b:window;l=Math.max(0,D.innerWidth-E.clientWidth)},after({doc:m,d:b}){let E=m.documentElement,D=Math.max(0,E.clientWidth-E.offsetWidth),$=Math.max(0,l-D);b.style(E,"paddingRight",`${$}px`)}}}function Ove(){return rce()?{before({doc:l,d:m,meta:b}){function E(D){for(let $ of b().containers)for(let I of $())if(I.contains(D))return!0;return!1}m.microTask(()=>{var D;if(window.getComputedStyle(l.documentElement).scrollBehavior!=="auto"){let H=Xy();H.style(l.documentElement,"scrollBehavior","auto"),m.add(()=>m.microTask(()=>H.dispose()))}let $=(D=window.scrollY)!=null?D:window.pageYOffset,I=null;m.addEventListener(l,"click",H=>{if(AC(H.target))try{let K=H.target.closest("a");if(!K)return;let{hash:X}=new URL(K.href),ae=l.querySelector(X);AC(ae)&&!E(ae)&&(I=ae)}catch{}},!0),m.group(H=>{m.addEventListener(l,"touchstart",K=>{if(H.dispose(),AC(K.target)&&V0e(K.target))if(E(K.target)){let X=K.target;for(;X.parentElement&&E(X.parentElement);)X=X.parentElement;H.style(X,"overscrollBehavior","contain")}else H.style(K.target,"touchAction","none")})}),m.addEventListener(l,"touchmove",H=>{if(AC(H.target)){if(j0e(H.target))return;if(E(H.target)){let K=H.target;for(;K.parentElement&&K.dataset.headlessuiPortal!==""&&!(K.scrollHeight>K.clientHeight||K.scrollWidth>K.clientWidth);)K=K.parentElement;K.dataset.headlessuiPortal===""&&H.preventDefault()}else H.preventDefault()}},{passive:!1}),m.add(()=>{var H;let K=(H=window.scrollY)!=null?H:window.pageYOffset;$!==K&&window.scrollTo(0,$),I&&I.isConnected&&(I.scrollIntoView({block:"nearest"}),I=null)})})}}:{}}function Dve(){return{before({doc:l,d:m}){m.style(l.documentElement,"overflow","hidden")}}}function hre(l){let m={};for(let b of l)Object.assign(m,b(m));return m}let ME=kve(()=>new Map,{PUSH(l,m){var b;let E=(b=this.get(l))!=null?b:{doc:l,count:0,d:Xy(),meta:new Set,computedMeta:{}};return E.count++,E.meta.add(m),E.computedMeta=hre(E.meta),this.set(l,E),this},POP(l,m){let b=this.get(l);return b&&(b.count--,b.meta.delete(m),b.computedMeta=hre(b.meta)),this},SCROLL_PREVENT(l){let m={doc:l.doc,d:l.d,meta(){return l.computedMeta}},b=[Ove(),_ve(),Dve()];b.forEach(({before:E})=>E?.(m)),b.forEach(({after:E})=>E?.(m))},SCROLL_ALLOW({d:l}){l.dispose()},TEARDOWN({doc:l}){this.delete(l)}});ME.subscribe(()=>{let l=ME.getSnapshot(),m=new Map;for(let[b]of l)m.set(b,b.documentElement.style.overflow);for(let b of l.values()){let E=m.get(b.doc)==="hidden",D=b.count!==0;(D&&!E||!D&&E)&&ME.dispatch(b.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",b),b.count===0&&ME.dispatch("TEARDOWN",b)}});function Pve(l,m,b=()=>({containers:[]})){let E=Tve(ME),D=m?E.get(m):void 0,$=D?D.count>0:!1;return sg(()=>{if(!(!m||!l))return ME.dispatch("PUSH",m,b),()=>ME.dispatch("POP",m,b)},[l,m]),$}function Rve(l,m,b=()=>[document.body]){let E=K5(l,"scroll-lock");Pve(E,m,D=>{var $;return{containers:[...($=D.containers)!=null?$:[],b]}})}function Fve(l=0){let[m,b]=Ge.useState(l),E=Ge.useCallback(K=>b(K),[]),D=Ge.useCallback(K=>b(X=>X|K),[]),$=Ge.useCallback(K=>(m&K)===K,[m]),I=Ge.useCallback(K=>b(X=>X&~K),[]),H=Ge.useCallback(K=>b(X=>X^K),[]);return{flags:m,setFlag:E,addFlag:D,hasFlag:$,removeFlag:I,toggleFlag:H}}var Mve={},vre,bre;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((vre=process==null?void 0:Mve)==null?void 0:vre.NODE_ENV)==="test"&&typeof((bre=Element?.prototype)==null?void 0:bre.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Nve=(l=>(l[l.None=0]="None",l[l.Closed=1]="Closed",l[l.Enter=2]="Enter",l[l.Leave=4]="Leave",l))(Nve||{});function Bve(l){let m={};for(let b in l)l[b]===!0&&(m[`data-${b}`]="");return m}function Ive(l,m,b,E){let[D,$]=Ge.useState(b),{hasFlag:I,addFlag:H,removeFlag:K}=Fve(l&&D?3:0),X=Ge.useRef(!1),ae=Ge.useRef(!1),le=XH();return sg(()=>{var me;if(l){if(b&&$(!0),!m){b&&H(3);return}return(me=E?.start)==null||me.call(E,b),$ve(m,{inFlight:X,prepare(){ae.current?ae.current=!1:ae.current=X.current,X.current=!0,!ae.current&&(b?(H(3),K(4)):(H(4),K(2)))},run(){ae.current?b?(K(3),H(4)):(K(4),H(3)):b?K(1):H(1)},done(){var Me;ae.current&&zve(m)||(X.current=!1,K(7),b||$(!1),(Me=E?.end)==null||Me.call(E,b))}})}},[l,b,m,le]),l?[D,{closed:I(1),enter:I(2),leave:I(4),transition:I(2)||I(4)}]:[b,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function $ve(l,{prepare:m,run:b,done:E,inFlight:D}){let $=Xy();return Hve(l,{prepare:m,inFlight:D}),$.nextFrame(()=>{b(),$.requestAnimationFrame(()=>{$.add(Lve(l,E))})}),$.dispose}function Lve(l,m){var b,E;let D=Xy();if(!l)return D.dispose;let $=!1;D.add(()=>{$=!0});let I=(E=(b=l.getAnimations)==null?void 0:b.call(l).filter(H=>H instanceof CSSTransition))!=null?E:[];return I.length===0?(m(),D.dispose):(Promise.allSettled(I.map(H=>H.finished)).then(()=>{$||m()}),D.dispose)}function Hve(l,{inFlight:m,prepare:b}){if(m!=null&&m.current){b();return}let E=l.style.transition;l.style.transition="none",b(),l.offsetHeight,l.style.transition=E}function zve(l){var m,b;return((b=(m=l.getAnimations)==null?void 0:m.call(l))!=null?b:[]).some(E=>E instanceof CSSTransition&&E.playState!=="finished")}function zte(l,m){let b=Ge.useRef([]),E=Tl(l);Ge.useEffect(()=>{let D=[...b.current];for(let[$,I]of m.entries())if(b.current[$]!==I){let H=E(m,D);return b.current=m,H}},[E,...m])}let QH=Ge.createContext(null);QH.displayName="OpenClosedContext";var F0=(l=>(l[l.Open=1]="Open",l[l.Closed=2]="Closed",l[l.Closing=4]="Closing",l[l.Opening=8]="Opening",l))(F0||{});function JH(){return Ge.useContext(QH)}function Uve({value:l,children:m}){return tr.createElement(QH.Provider,{value:l},m)}function Vve({children:l}){return tr.createElement(QH.Provider,{value:null},l)}function Wve(l){function m(){document.readyState!=="loading"&&(l(),document.removeEventListener("DOMContentLoaded",m))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",m),m())}let xC=[];Wve(()=>{function l(m){if(!AC(m.target)||m.target===document.body||xC[0]===m.target)return;let b=m.target;b=b.closest(FH),xC.unshift(b??m.target),xC=xC.filter(E=>E!=null&&E.isConnected),xC.splice(10)}window.addEventListener("click",l,{capture:!0}),window.addEventListener("mousedown",l,{capture:!0}),window.addEventListener("focus",l,{capture:!0}),document.body.addEventListener("click",l,{capture:!0}),document.body.addEventListener("mousedown",l,{capture:!0}),document.body.addEventListener("focus",l,{capture:!0})});function lce(l){let m=Tl(l),b=Ge.useRef(!1);Ge.useEffect(()=>(b.current=!1,()=>{b.current=!0,YH(()=>{b.current&&m()})}),[m])}let cce=Ge.createContext(!1);function jve(){return Ge.useContext(cce)}function yre(l){return tr.createElement(cce.Provider,{value:l.force},l.children)}function Zve(l){let m=jve(),b=Ge.useContext(dce),[E,D]=Ge.useState(()=>{var $;if(!m&&b!==null)return($=b.current)!=null?$:null;if(rb.isServer)return null;let I=l?.getElementById("headlessui-portal-root");if(I)return I;if(l===null)return null;let H=l.createElement("div");return H.setAttribute("id","headlessui-portal-root"),l.body.appendChild(H)});return Ge.useEffect(()=>{E!==null&&(l!=null&&l.body.contains(E)||l==null||l.body.appendChild(E))},[E,l]),Ge.useEffect(()=>{m||b!==null&&D(b.current)},[b,D,m]),E}let uce=Ge.Fragment,qve=rg(function(l,m){let{ownerDocument:b=null,...E}=l,D=Ge.useRef(null),$=lb(Z0e(me=>{D.current=me}),m),I=Hte(D.current),H=b??I,K=Zve(H),X=Ge.useContext(fte),ae=XH(),le=h1();return lce(()=>{var me;K&&K.childNodes.length<=0&&((me=K.parentElement)==null||me.removeChild(K))}),K?Hle.createPortal(tr.createElement("div",{"data-headlessui-portal":"",ref:me=>{ae.dispose(),X&&me&&ae.add(X.register(me))}},le({ourProps:{ref:$},theirProps:E,slot:{},defaultTag:uce,name:"Portal"})),K):null});function Gve(l,m){let b=lb(m),{enabled:E=!0,ownerDocument:D,...$}=l,I=h1();return E?tr.createElement(qve,{...$,ownerDocument:D,ref:b}):I({ourProps:{ref:b},theirProps:$,slot:{},defaultTag:uce,name:"Portal"})}let Kve=Ge.Fragment,dce=Ge.createContext(null);function Yve(l,m){let{target:b,...E}=l,D={ref:lb(m)},$=h1();return tr.createElement(dce.Provider,{value:b},$({ourProps:D,theirProps:E,defaultTag:Kve,name:"Popover.Group"}))}let fte=Ge.createContext(null);function Xve(){let l=Ge.useContext(fte),m=Ge.useRef([]),b=Tl($=>(m.current.push($),l&&l.register($),()=>E($))),E=Tl($=>{let I=m.current.indexOf($);I!==-1&&m.current.splice(I,1),l&&l.unregister($)}),D=Ge.useMemo(()=>({register:b,unregister:E,portals:m}),[b,E,m]);return[m,Ge.useMemo(()=>function({children:$}){return tr.createElement(fte.Provider,{value:D},$)},[D])]}let Qve=rg(Gve),fce=rg(Yve),Jve=Object.assign(Qve,{Group:fce});function ebe(l,m=typeof document<"u"?document.defaultView:null,b){let E=K5(l,"escape");ice(m,"keydown",D=>{E&&(D.defaultPrevented||D.key===Xle.Escape&&b(D))})}function tbe(){var l;let[m]=Ge.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[b,E]=Ge.useState((l=m?.matches)!=null?l:!1);return sg(()=>{if(!m)return;function D($){E($.matches)}return m.addEventListener("change",D),()=>m.removeEventListener("change",D)},[m]),b}function nbe({defaultContainers:l=[],portals:m,mainTreeNode:b}={}){let E=Tl(()=>{var D,$;let I=q5(b),H=[];for(let K of l)K!==null&&(TC(K)?H.push(K):"current"in K&&TC(K.current)&&H.push(K.current));if(m!=null&&m.current)for(let K of m.current)H.push(K);for(let K of(D=I?.querySelectorAll("html > *, body > *"))!=null?D:[])K!==document.body&&K!==document.head&&TC(K)&&K.id!=="headlessui-portal-root"&&(b&&(K.contains(b)||K.contains(($=b?.getRootNode())==null?void 0:$.host))||H.some(X=>K.contains(X))||H.push(K));return H});return{resolveContainers:E,contains:Tl(D=>E().some($=>$.contains(D)))}}let mce=Ge.createContext(null);function wre({children:l,node:m}){let[b,E]=Ge.useState(null),D=pce(m??b);return tr.createElement(mce.Provider,{value:D},l,D===null&&tr.createElement(cte,{features:RH.Hidden,ref:$=>{var I,H;if($){for(let K of(H=(I=q5($))==null?void 0:I.querySelectorAll("html > *, body > *"))!=null?H:[])if(K!==document.body&&K!==document.head&&TC(K)&&K!=null&&K.contains($)){E(K);break}}}}))}function pce(l=null){var m;return(m=Ge.useContext(mce))!=null?m:l}function obe(){let l=typeof document>"u";return"useSyncExternalStore"in Yse?(m=>m.useSyncExternalStore)(Yse)(()=>()=>{},()=>!1,()=>!l):!1}function ez(){let l=obe(),[m,b]=Ge.useState(rb.isHandoffComplete);return m&&rb.isHandoffComplete===!1&&b(!1),Ge.useEffect(()=>{m!==!0&&b(!0)},[m]),Ge.useEffect(()=>rb.handoff(),[]),l?!1:m}function Ute(){let l=Ge.useRef(!1);return sg(()=>(l.current=!0,()=>{l.current=!1}),[]),l}var A5=(l=>(l[l.Forwards=0]="Forwards",l[l.Backwards=1]="Backwards",l))(A5||{});function sbe(){let l=Ge.useRef(0);return ace(!0,"keydown",m=>{m.key==="Tab"&&(l.current=m.shiftKey?1:0)},!0),l}function gce(l){if(!l)return new Set;if(typeof l=="function")return new Set(l());let m=new Set;for(let b of l.current)TC(b.current)&&m.add(b.current);return m}let rbe="div";var RE=(l=>(l[l.None=0]="None",l[l.InitialFocus=1]="InitialFocus",l[l.TabLock=2]="TabLock",l[l.FocusLock=4]="FocusLock",l[l.RestoreFocus=8]="RestoreFocus",l[l.AutoFocus=16]="AutoFocus",l))(RE||{});function abe(l,m){let b=Ge.useRef(null),E=lb(b,m),{initialFocus:D,initialFocusFallback:$,containers:I,features:H=15,...K}=l;ez()||(H=0);let X=Hte(b.current);ube(H,{ownerDocument:X});let ae=dbe(H,{ownerDocument:X,container:b,initialFocus:D,initialFocusFallback:$});fbe(H,{ownerDocument:X,container:b,containers:I,previousActiveElement:ae});let le=sbe(),me=Tl(it=>{if(!HE(b.current))return;let J=b.current;(dt=>dt())(()=>{Gy(le.current,{[A5.Forwards]:()=>{R5(J,jy.First,{skipElements:[it.relatedTarget,$]})},[A5.Backwards]:()=>{R5(J,jy.Last,{skipElements:[it.relatedTarget,$]})}})})}),Me=K5(!!(H&2),"focus-trap#tab-lock"),de=XH(),Se=Ge.useRef(!1),re={ref:E,onKeyDown(it){it.key=="Tab"&&(Se.current=!0,de.requestAnimationFrame(()=>{Se.current=!1}))},onBlur(it){if(!(H&4))return;let J=gce(I);HE(b.current)&&J.add(b.current);let dt=it.relatedTarget;AC(dt)&&dt.dataset.headlessuiFocusGuard!=="true"&&(hce(J,dt)||(Se.current?R5(b.current,Gy(le.current,{[A5.Forwards]:()=>jy.Next,[A5.Backwards]:()=>jy.Previous})|jy.WrapAround,{relativeTo:it.target}):AC(it.target)&&qy(it.target)))}},ot=h1();return tr.createElement(tr.Fragment,null,Me&&tr.createElement(cte,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:me,features:RH.Focusable}),ot({ourProps:re,theirProps:K,defaultTag:rbe,name:"FocusTrap"}),Me&&tr.createElement(cte,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:me,features:RH.Focusable}))}let ibe=rg(abe),lbe=Object.assign(ibe,{features:RE});function cbe(l=!0){let m=Ge.useRef(xC.slice());return zte(([b],[E])=>{E===!0&&b===!1&&YH(()=>{m.current.splice(0)}),E===!1&&b===!0&&(m.current=xC.slice())},[l,xC,m]),Tl(()=>{var b;return(b=m.current.find(E=>E!=null&&E.isConnected))!=null?b:null})}function ube(l,{ownerDocument:m}){let b=!!(l&8),E=cbe(b);zte(()=>{b||R0e(m?.body)&&qy(E())},[b]),lce(()=>{b&&qy(E())})}function dbe(l,{ownerDocument:m,container:b,initialFocus:E,initialFocusFallback:D}){let $=Ge.useRef(null),I=K5(!!(l&1),"focus-trap#initial-focus"),H=Ute();return zte(()=>{if(l===0)return;if(!I){D!=null&&D.current&&qy(D.current);return}let K=b.current;K&&YH(()=>{if(!H.current)return;let X=m?.activeElement;if(E!=null&&E.current){if(E?.current===X){$.current=X;return}}else if(K.contains(X)){$.current=X;return}if(E!=null&&E.current)qy(E.current);else{if(l&16){if(R5(K,jy.First|jy.AutoFocus)!==dte.Error)return}else if(R5(K,jy.First)!==dte.Error)return;if(D!=null&&D.current&&(qy(D.current),m?.activeElement===D.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}$.current=m?.activeElement})},[D,I,l]),$}function fbe(l,{ownerDocument:m,container:b,containers:E,previousActiveElement:D}){let $=Ute(),I=!!(l&4);ice(m?.defaultView,"focus",H=>{if(!I||!$.current)return;let K=gce(E);HE(b.current)&&K.add(b.current);let X=D.current;if(!X)return;let ae=H.target;HE(ae)?hce(K,ae)?(D.current=ae,qy(ae)):(H.preventDefault(),H.stopPropagation(),qy(X)):qy(D.current)},!0)}function hce(l,m){for(let b of l)if(b.contains(m))return!0;return!1}function vce(l){var m;return!!(l.enter||l.enterFrom||l.enterTo||l.leave||l.leaveFrom||l.leaveTo)||!D5((m=l.as)!=null?m:yce)||tr.Children.count(l.children)===1}let tz=Ge.createContext(null);tz.displayName="TransitionContext";var mbe=(l=>(l.Visible="visible",l.Hidden="hidden",l))(mbe||{});function pbe(){let l=Ge.useContext(tz);if(l===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return l}function gbe(){let l=Ge.useContext(nz);if(l===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return l}let nz=Ge.createContext(null);nz.displayName="NestingContext";function oz(l){return"children"in l?oz(l.children):l.current.filter(({el:m})=>m.current!==null).filter(({state:m})=>m==="visible").length>0}function bce(l,m){let b=WE(l),E=Ge.useRef([]),D=Ute(),$=XH(),I=Tl((Me,de=EC.Hidden)=>{let Se=E.current.findIndex(({el:re})=>re===Me);Se!==-1&&(Gy(de,{[EC.Unmount](){E.current.splice(Se,1)},[EC.Hidden](){E.current[Se].state="hidden"}}),$.microTask(()=>{var re;!oz(E)&&D.current&&((re=b.current)==null||re.call(b))}))}),H=Tl(Me=>{let de=E.current.find(({el:Se})=>Se===Me);return de?de.state!=="visible"&&(de.state="visible"):E.current.push({el:Me,state:"visible"}),()=>I(Me,EC.Unmount)}),K=Ge.useRef([]),X=Ge.useRef(Promise.resolve()),ae=Ge.useRef({enter:[],leave:[]}),le=Tl((Me,de,Se)=>{K.current.splice(0),m&&(m.chains.current[de]=m.chains.current[de].filter(([re])=>re!==Me)),m?.chains.current[de].push([Me,new Promise(re=>{K.current.push(re)})]),m?.chains.current[de].push([Me,new Promise(re=>{Promise.all(ae.current[de].map(([ot,it])=>it)).then(()=>re())})]),de==="enter"?X.current=X.current.then(()=>m?.wait.current).then(()=>Se(de)):Se(de)}),me=Tl((Me,de,Se)=>{Promise.all(ae.current[de].splice(0).map(([re,ot])=>ot)).then(()=>{var re;(re=K.current.shift())==null||re()}).then(()=>Se(de))});return Ge.useMemo(()=>({children:E,register:H,unregister:I,onStart:le,onStop:me,wait:X,chains:ae}),[H,I,E,le,me,ae,X])}let yce=Ge.Fragment,wce=PH.RenderStrategy;function hbe(l,m){var b,E;let{transition:D=!0,beforeEnter:$,afterEnter:I,beforeLeave:H,afterLeave:K,enter:X,enterFrom:ae,enterTo:le,entered:me,leave:Me,leaveFrom:de,leaveTo:Se,...re}=l,[ot,it]=Ge.useState(null),J=Ge.useRef(null),dt=vce(l),Wt=lb(...dt?[J,m,it]:m===null?[]:[m]),Ae=(b=re.unmount)==null||b?EC.Unmount:EC.Hidden,{show:G,appear:Ze,initial:Ft}=pbe(),[ct,Ce]=Ge.useState(G?"visible":"hidden"),ce=gbe(),{register:Pt,unregister:je}=ce;sg(()=>Pt(J),[Pt,J]),sg(()=>{if(Ae===EC.Hidden&&J.current){if(G&&ct!=="visible"){Ce("visible");return}return Gy(ct,{hidden:()=>je(J),visible:()=>Pt(J)})}},[ct,J,Pt,je,G,Ae]);let lt=ez();sg(()=>{if(dt&&lt&&ct==="visible"&&J.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[J,ct,lt,dt]);let F=Ft&&!Ze,dn=Ze&&G&&Ft,Te=Ge.useRef(!1),rn=bce(()=>{Te.current||(Ce("hidden"),je(J))},ce),yt=Tl(ut=>{Te.current=!0;let W=ut?"enter":"leave";rn.onStart(J,W,Wn=>{Wn==="enter"?$?.():Wn==="leave"&&H?.()})}),se=Tl(ut=>{let W=ut?"enter":"leave";Te.current=!1,rn.onStop(J,W,Wn=>{Wn==="enter"?I?.():Wn==="leave"&&K?.()}),W==="leave"&&!oz(rn)&&(Ce("hidden"),je(J))});Ge.useEffect(()=>{dt&&D||(yt(G),se(G))},[G,dt,D]);let $e=!(!D||!dt||!lt||F),[,Mt]=Ive($e,ot,G,{start:yt,end:se}),Qe=PE({ref:Wt,className:((E=lte(re.className,dn&&X,dn&&ae,Mt.enter&&X,Mt.enter&&Mt.closed&&ae,Mt.enter&&!Mt.closed&&le,Mt.leave&&Me,Mt.leave&&!Mt.closed&&de,Mt.leave&&Mt.closed&&Se,!Mt.transition&&G&&me))==null?void 0:E.trim())||void 0,...Bve(Mt)}),Ct=0;ct==="visible"&&(Ct|=F0.Open),ct==="hidden"&&(Ct|=F0.Closed),G&&ct==="hidden"&&(Ct|=F0.Opening),!G&&ct==="visible"&&(Ct|=F0.Closing);let He=h1();return tr.createElement(nz.Provider,{value:rn},tr.createElement(Uve,{value:Ct},He({ourProps:Qe,theirProps:re,defaultTag:yce,features:wce,visible:ct==="visible",name:"Transition.Child"})))}function vbe(l,m){let{show:b,appear:E=!1,unmount:D=!0,...$}=l,I=Ge.useRef(null),H=vce(l),K=lb(...H?[I,m]:m===null?[]:[m]);ez();let X=JH();if(b===void 0&&X!==null&&(b=(X&F0.Open)===F0.Open),b===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[ae,le]=Ge.useState(b?"visible":"hidden"),me=bce(()=>{b||le("hidden")}),[Me,de]=Ge.useState(!0),Se=Ge.useRef([b]);sg(()=>{Me!==!1&&Se.current[Se.current.length-1]!==b&&(Se.current.push(b),de(!1))},[Se,b]);let re=Ge.useMemo(()=>({show:b,appear:E,initial:Me}),[b,E,Me]);sg(()=>{b?le("visible"):!oz(me)&&I.current!==null&&le("hidden")},[b,me]);let ot={unmount:D},it=Tl(()=>{var Wt;Me&&de(!1),(Wt=l.beforeEnter)==null||Wt.call(l)}),J=Tl(()=>{var Wt;Me&&de(!1),(Wt=l.beforeLeave)==null||Wt.call(l)}),dt=h1();return tr.createElement(nz.Provider,{value:me},tr.createElement(tz.Provider,{value:re},dt({ourProps:{...ot,as:Ge.Fragment,children:tr.createElement(Cce,{ref:K,...ot,...$,beforeEnter:it,beforeLeave:J})},theirProps:{},defaultTag:Ge.Fragment,features:wce,visible:ae==="visible",name:"Transition"})))}function bbe(l,m){let b=Ge.useContext(tz)!==null,E=JH()!==null;return tr.createElement(tr.Fragment,null,!b&&E?tr.createElement(mte,{ref:m,...l}):tr.createElement(Cce,{ref:m,...l}))}let mte=rg(vbe),Cce=rg(hbe),Vte=rg(bbe),ybe=Object.assign(mte,{Child:Vte,Root:mte});var wbe=(l=>(l[l.Open=0]="Open",l[l.Closed=1]="Closed",l))(wbe||{}),Cbe=(l=>(l[l.SetTitleId=0]="SetTitleId",l))(Cbe||{});let Sbe={0(l,m){return l.titleId===m.id?l:{...l,titleId:m.id}}},Wte=Ge.createContext(null);Wte.displayName="DialogContext";function sz(l){let m=Ge.useContext(Wte);if(m===null){let b=new Error(`<${l} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,sz),b}return m}function xbe(l,m){return Gy(m.type,Sbe,l,m)}let Cre=rg(function(l,m){let b=Ge.useId(),{id:E=`headlessui-dialog-${b}`,open:D,onClose:$,initialFocus:I,role:H="dialog",autoFocus:K=!0,__demoMode:X=!1,unmount:ae=!1,...le}=l,me=Ge.useRef(!1);H=(function(){return H==="dialog"||H==="alertdialog"?H:(me.current||(me.current=!0,console.warn(`Invalid role [${H}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let Me=JH();D===void 0&&Me!==null&&(D=(Me&F0.Open)===F0.Open);let de=Ge.useRef(null),Se=lb(de,m),re=Hte(de.current),ot=D?0:1,[it,J]=Ge.useReducer(xbe,{titleId:null,descriptionId:null,panelRef:Ge.createRef()}),dt=Tl(()=>$(!1)),Wt=Tl(Mt=>J({type:0,id:Mt})),Ae=ez()?ot===0:!1,[G,Ze]=Xve(),Ft={get current(){var Mt;return(Mt=it.panelRef.current)!=null?Mt:de.current}},ct=pce(),{resolveContainers:Ce}=nbe({mainTreeNode:ct,portals:G,defaultContainers:[Ft]}),ce=Me!==null?(Me&F0.Closing)===F0.Closing:!1;mve(X||ce?!1:Ae,{allowed:Tl(()=>{var Mt,Qe;return[(Qe=(Mt=de.current)==null?void 0:Mt.closest("[data-headlessui-portal]"))!=null?Qe:null]}),disallowed:Tl(()=>{var Mt;return[(Mt=ct?.closest("body > *:not(#headlessui-portal-root)"))!=null?Mt:null]})});let Pt=nce.get(null);sg(()=>{if(Ae)return Pt.actions.push(E),()=>Pt.actions.pop(E)},[Pt,E,Ae]);let je=oce(Pt,Ge.useCallback(Mt=>Pt.selectors.isTop(Mt,E),[Pt,E]));Ave(je,Ce,Mt=>{Mt.preventDefault(),dt()}),ebe(je,re?.defaultView,Mt=>{Mt.preventDefault(),Mt.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),dt()}),Rve(X||ce?!1:Ae,re,Ce),pve(Ae,de,dt);let[lt,F]=q0e(),dn=Ge.useMemo(()=>[{dialogState:ot,close:dt,setTitleId:Wt,unmount:ae},it],[ot,dt,Wt,ae,it]),Te=G5({open:ot===0}),rn={ref:Se,id:E,role:H,tabIndex:-1,"aria-modal":X?void 0:ot===0?!0:void 0,"aria-labelledby":it.titleId,"aria-describedby":lt,unmount:ae},yt=!tbe(),se=RE.None;Ae&&!X&&(se|=RE.RestoreFocus,se|=RE.TabLock,K&&(se|=RE.AutoFocus),yt&&(se|=RE.InitialFocus));let $e=h1();return tr.createElement(Vve,null,tr.createElement(yre,{force:!0},tr.createElement(Jve,null,tr.createElement(Wte.Provider,{value:dn},tr.createElement(fce,{target:de},tr.createElement(yre,{force:!1},tr.createElement(F,{slot:Te},tr.createElement(Ze,null,tr.createElement(lbe,{initialFocus:I,initialFocusFallback:de,containers:Ce,features:se},tr.createElement(J0e,{value:dt},$e({ourProps:rn,theirProps:le,slot:Te,defaultTag:Ebe,features:Abe,visible:ot===0,name:"Dialog"})))))))))))}),Ebe="div",Abe=PH.RenderStrategy|PH.Static;function Tbe(l,m){let{transition:b=!1,open:E,...D}=l,$=JH(),I=l.hasOwnProperty("open")||$!==null,H=l.hasOwnProperty("onClose");if(!I&&!H)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!I)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!H)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!$&&typeof l.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${l.open}`);if(typeof l.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l.onClose}`);return(E!==void 0||b)&&!D.static?tr.createElement(wre,null,tr.createElement(ybe,{show:E,transition:b,unmount:D.unmount},tr.createElement(Cre,{ref:m,...D}))):tr.createElement(wre,null,tr.createElement(Cre,{ref:m,open:E,...D}))}let kbe="div";function _be(l,m){let b=Ge.useId(),{id:E=`headlessui-dialog-panel-${b}`,transition:D=!1,...$}=l,[{dialogState:I,unmount:H},K]=sz("Dialog.Panel"),X=lb(m,K.panelRef),ae=G5({open:I===0}),le=Tl(re=>{re.stopPropagation()}),me={ref:X,id:E,onClick:le},Me=D?Vte:Ge.Fragment,de=D?{unmount:H}:{},Se=h1();return tr.createElement(Me,{...de},Se({ourProps:me,theirProps:$,slot:ae,defaultTag:kbe,name:"Dialog.Panel"}))}let Obe="div";function Dbe(l,m){let{transition:b=!1,...E}=l,[{dialogState:D,unmount:$}]=sz("Dialog.Backdrop"),I=G5({open:D===0}),H={ref:m,"aria-hidden":!0},K=b?Vte:Ge.Fragment,X=b?{unmount:$}:{},ae=h1();return tr.createElement(K,{...X},ae({ourProps:H,theirProps:E,slot:I,defaultTag:Obe,name:"Dialog.Backdrop"}))}let Pbe="h2";function Rbe(l,m){let b=Ge.useId(),{id:E=`headlessui-dialog-title-${b}`,...D}=l,[{dialogState:$,setTitleId:I}]=sz("Dialog.Title"),H=lb(m);Ge.useEffect(()=>(I(E),()=>I(null)),[E,I]);let K=G5({open:$===0}),X={ref:H,id:E};return h1()({ourProps:X,theirProps:D,slot:K,defaultTag:Pbe,name:"Dialog.Title"})}let Fbe=rg(Tbe),Mbe=rg(_be);rg(Dbe);let Nbe=rg(Rbe),h2e=Object.assign(Fbe,{Panel:Mbe,Title:Nbe,Description:X0e});var Mee={exports:{}},Nee,Sre;function Bbe(){if(Sre)return Nee;Sre=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nee=l,Nee}var Bee,xre;function Ibe(){if(xre)return Bee;xre=1;var l=Bbe();function m(){}function b(){}return b.resetWarningCache=m,Bee=function(){function E(I,H,K,X,ae,le){if(le!==l){var me=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw me.name="Invariant Violation",me}}E.isRequired=E;function D(){return E}var $={array:E,bigint:E,bool:E,func:E,number:E,object:E,string:E,symbol:E,any:E,arrayOf:D,element:E,elementType:E,instanceOf:D,node:E,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:b,resetWarningCache:m};return $.PropTypes=$,$},Bee}var Ere;function $be(){return Ere||(Ere=1,Mee.exports=Ibe()()),Mee.exports}var Yn=$be(),pte=function(){return pte=Object.assign||function(l){for(var m,b=1,E=arguments.length;b<E;b++){m=arguments[b];for(var D in m)Object.prototype.hasOwnProperty.call(m,D)&&(l[D]=m[D])}return l},pte.apply(this,arguments)},Sce={onActivate:Yn.func,onAddUndo:Yn.func,onBeforeAddUndo:Yn.func,onBeforeExecCommand:Yn.func,onBeforeGetContent:Yn.func,onBeforeRenderUI:Yn.func,onBeforeSetContent:Yn.func,onBeforePaste:Yn.func,onBlur:Yn.func,onChange:Yn.func,onClearUndos:Yn.func,onClick:Yn.func,onContextMenu:Yn.func,onCommentChange:Yn.func,onCompositionEnd:Yn.func,onCompositionStart:Yn.func,onCompositionUpdate:Yn.func,onCopy:Yn.func,onCut:Yn.func,onDblclick:Yn.func,onDeactivate:Yn.func,onDirty:Yn.func,onDrag:Yn.func,onDragDrop:Yn.func,onDragEnd:Yn.func,onDragGesture:Yn.func,onDragOver:Yn.func,onDrop:Yn.func,onExecCommand:Yn.func,onFocus:Yn.func,onFocusIn:Yn.func,onFocusOut:Yn.func,onGetContent:Yn.func,onHide:Yn.func,onInit:Yn.func,onInput:Yn.func,onKeyDown:Yn.func,onKeyPress:Yn.func,onKeyUp:Yn.func,onLoadContent:Yn.func,onMouseDown:Yn.func,onMouseEnter:Yn.func,onMouseLeave:Yn.func,onMouseMove:Yn.func,onMouseOut:Yn.func,onMouseOver:Yn.func,onMouseUp:Yn.func,onNodeChange:Yn.func,onObjectResizeStart:Yn.func,onObjectResized:Yn.func,onObjectSelected:Yn.func,onPaste:Yn.func,onPostProcess:Yn.func,onPostRender:Yn.func,onPreProcess:Yn.func,onProgressState:Yn.func,onRedo:Yn.func,onRemove:Yn.func,onReset:Yn.func,onSaveContent:Yn.func,onSelectionChange:Yn.func,onSetAttrib:Yn.func,onSetContent:Yn.func,onShow:Yn.func,onSubmit:Yn.func,onUndo:Yn.func,onVisualAid:Yn.func,onSkinLoadError:Yn.func,onThemeLoadError:Yn.func,onModelLoadError:Yn.func,onPluginLoadError:Yn.func,onIconsLoadError:Yn.func,onLanguageLoadError:Yn.func,onScriptsLoad:Yn.func,onScriptsLoadError:Yn.func},Lbe=pte({apiKey:Yn.string,licenseKey:Yn.string,id:Yn.string,inline:Yn.bool,init:Yn.object,initialValue:Yn.string,onEditorChange:Yn.func,value:Yn.string,tagName:Yn.string,tabIndex:Yn.number,cloudChannel:Yn.string,plugins:Yn.oneOfType([Yn.string,Yn.array]),toolbar:Yn.oneOfType([Yn.string,Yn.array]),disabled:Yn.bool,readonly:Yn.bool,textareaName:Yn.string,tinymceScriptSrc:Yn.oneOfType([Yn.string,Yn.arrayOf(Yn.string),Yn.arrayOf(Yn.shape({src:Yn.string,async:Yn.bool,defer:Yn.bool}))]),rollback:Yn.oneOfType([Yn.number,Yn.oneOf([!1])]),scriptLoading:Yn.shape({async:Yn.bool,defer:Yn.bool,delay:Yn.number})},Sce),xce=function(l){var m=l;return m&&m.tinymce?m.tinymce:null},Iee=function(l){return typeof l=="function"},Are=function(l){return l in Sce},Tre=function(l){return l.substr(2)},Hbe=function(l,m,b,E,D,$,I){var H=Object.keys(D).filter(Are),K=Object.keys($).filter(Are),X=H.filter(function(le){return $[le]===void 0}),ae=K.filter(function(le){return D[le]===void 0});X.forEach(function(le){var me=Tre(le),Me=I[me];b(me,Me),delete I[me]}),ae.forEach(function(le){var me=E(l,le),Me=Tre(le);I[Me]=me,m(Me,me)})},zbe=function(l,m,b,E,D){return Hbe(D,l.on.bind(l),l.off.bind(l),function($,I){return function(H){var K;return(K=$(I))===null||K===void 0?void 0:K(H,l)}},m,b,E)},kre=0,Ece=function(l){var m=Date.now(),b=Math.floor(Math.random()*1e9);return kre++,l+"_"+b+kre+String(m)},_re=function(l){return l!==null&&(l.tagName.toLowerCase()==="textarea"||l.tagName.toLowerCase()==="input")},Ore=function(l){return typeof l>"u"||l===""?[]:Array.isArray(l)?l:l.split(" ")},Ube=function(l,m){return Ore(l).concat(Ore(m))},Vbe=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Wbe=function(l){if(!("isConnected"in Node.prototype)){for(var m=l,b=l.parentNode;b!=null;)m=b,b=m.parentNode;return m===l.ownerDocument}return l.isConnected},Dre=function(l,m){l!==void 0&&(l.mode!=null&&typeof l.mode=="object"&&typeof l.mode.set=="function"?l.mode.set(m):l.setMode(m))},jbe=function(l){var m=xce(l);if(!m)throw new Error("tinymce should have been loaded into global scope");return m},Pre=function(l){return l.options&&l.options.isRegistered("disabled")},gte=function(){return gte=Object.assign||function(l){for(var m,b=1,E=arguments.length;b<E;b++){m=arguments[b];for(var D in m)Object.prototype.hasOwnProperty.call(m,D)&&(l[D]=m[D])}return l},gte.apply(this,arguments)},Zbe=function(l,m,b){var E,D,$=l.createElement("script");$.referrerPolicy="origin",$.type="application/javascript",$.id=m.id,$.src=m.src,$.async=(E=m.async)!==null&&E!==void 0?E:!1,$.defer=(D=m.defer)!==null&&D!==void 0?D:!1;var I=function(){$.removeEventListener("load",I),$.removeEventListener("error",H),b(m.src)},H=function(K){$.removeEventListener("load",I),$.removeEventListener("error",H),b(m.src,K)};$.addEventListener("load",I),$.addEventListener("error",H),l.head&&l.head.appendChild($)},qbe=function(l){var m={},b=function(I,H){var K=m[I];K.done=!0,K.error=H;for(var X=0,ae=K.handlers;X<ae.length;X++){var le=ae[X];le(I,H)}K.handlers=[]},E=function(I,H,K){var X=function(it){return K!==void 0?K(it):console.error(it)};if(I.length===0){X(new Error("At least one script must be provided"));return}for(var ae=0,le=!1,me=function(it,J){le||(J?(le=!0,X(J)):++ae===I.length&&H())},Me=0,de=I;Me<de.length;Me++){var Se=de[Me],re=m[Se.src];if(re)re.done?me(Se.src,re.error):re.handlers.push(me);else{var ot=Ece("tiny-");m[Se.src]={id:ot,src:Se.src,done:!1,error:null,handlers:[me]},Zbe(l,gte({id:ot},Se),b)}}},D=function(){for(var I,H=0,K=Object.values(m);H<K.length;H++){var X=K[H],ae=l.getElementById(X.id);ae!=null&&ae.tagName==="SCRIPT"&&((I=ae.parentNode)===null||I===void 0||I.removeChild(ae))}m={}},$=function(){return l};return{loadScripts:E,deleteScripts:D,getDocument:$}},Gbe=function(){var l=[],m=function(D){var $=l.find(function(I){return I.getDocument()===D});return $===void 0&&($=qbe(D),l.push($)),$},b=function(D,$,I,H,K){var X=function(){return m(D).loadScripts($,H,K)};I>0?setTimeout(X,I):X()},E=function(){for(var D=l.pop();D!=null;D=l.pop())D.deleteScripts()};return{loadList:b,reinitialize:E}},Kbe=Gbe(),Ybe=(function(){var l=function(m,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(E[$]=D[$])},l(m,b)};return function(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");l(m,b);function E(){this.constructor=m}m.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)}})(),g4=function(){return g4=Object.assign||function(l){for(var m,b=1,E=arguments.length;b<E;b++){m=arguments[b];for(var D in m)Object.prototype.hasOwnProperty.call(m,D)&&(l[D]=m[D])}return l},g4.apply(this,arguments)},$ee="change keyup compositionend setcontent CommentChange",v2e=(function(l){Ybe(m,l);function m(b){var E,D,$,I=l.call(this,b)||this;return I.rollbackTimer=void 0,I.valueCursor=void 0,I.rollbackChange=function(){var H=I.editor,K=I.props.value;H&&K&&K!==I.currentContent&&H.undoManager.ignore(function(){if(H.setContent(K),I.valueCursor&&(!I.inline||H.hasFocus()))try{H.selection.moveToBookmark(I.valueCursor)}catch{}}),I.rollbackTimer=void 0},I.handleBeforeInput=function(H){if(I.props.value!==void 0&&I.props.value===I.currentContent&&I.editor&&(!I.inline||I.editor.hasFocus()))try{I.valueCursor=I.editor.selection.getBookmark(3)}catch{}},I.handleBeforeInputSpecial=function(H){(H.key==="Enter"||H.key==="Backspace"||H.key==="Delete")&&I.handleBeforeInput(H)},I.handleEditorChange=function(H){var K=I.editor;if(K&&K.initialized){var X=K.getContent();I.props.value!==void 0&&I.props.value!==X&&I.props.rollback!==!1&&(I.rollbackTimer||(I.rollbackTimer=window.setTimeout(I.rollbackChange,typeof I.props.rollback=="number"?I.props.rollback:200))),X!==I.currentContent&&(I.currentContent=X,Iee(I.props.onEditorChange)&&I.props.onEditorChange(X,K))}},I.handleEditorChangeSpecial=function(H){(H.key==="Backspace"||H.key==="Delete")&&I.handleEditorChange(H)},I.initialise=function(H){var K,X,ae;H===void 0&&(H=0);var le=I.elementRef.current;if(le){if(!Wbe(le)){if(H===0)setTimeout(function(){return I.initialise(1)},1);else if(H<100)setTimeout(function(){return I.initialise(H+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var me=jbe(I.view),Me=g4(g4(g4(g4({},I.props.init),{selector:void 0,target:le,disabled:I.props.disabled,readonly:I.props.readonly,inline:I.inline,plugins:Ube((K=I.props.init)===null||K===void 0?void 0:K.plugins,I.props.plugins),toolbar:(X=I.props.toolbar)!==null&&X!==void 0?X:(ae=I.props.init)===null||ae===void 0?void 0:ae.toolbar}),I.props.licenseKey?{license_key:I.props.licenseKey}:{}),{setup:function(de){I.editor=de,I.bindHandlers({}),I.inline&&!_re(le)&&de.once("PostRender",function(Se){de.setContent(I.getInitialValue(),{no_events:!0})}),I.props.init&&Iee(I.props.init.setup)&&I.props.init.setup(de),I.props.disabled&&(Pre(I.editor)?I.editor.options.set("disabled",I.props.disabled):I.editor.mode.set("readonly"))},init_instance_callback:function(de){var Se,re=I.getInitialValue();I.currentContent=(Se=I.currentContent)!==null&&Se!==void 0?Se:de.getContent(),I.currentContent!==re&&(I.currentContent=re,de.setContent(re),de.undoManager.clear(),de.undoManager.add(),de.setDirty(!1)),I.props.init&&Iee(I.props.init.init_instance_callback)&&I.props.init.init_instance_callback(de)}});I.inline||(le.style.visibility=""),_re(le)&&(le.value=I.getInitialValue()),me.init(Me)}},I.id=I.props.id||Ece("tiny-react"),I.elementRef=Ge.createRef(),I.inline=($=(E=I.props.inline)!==null&&E!==void 0?E:(D=I.props.init)===null||D===void 0?void 0:D.inline)!==null&&$!==void 0?$:!1,I.boundHandlers={},I}return Object.defineProperty(m.prototype,"view",{get:function(){var b,E;return(E=(b=this.elementRef.current)===null||b===void 0?void 0:b.ownerDocument.defaultView)!==null&&E!==void 0?E:window},enumerable:!1,configurable:!0}),m.prototype.componentDidUpdate=function(b){var E=this,D,$;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(b),this.editor.initialized)){if(this.currentContent=(D=this.currentContent)!==null&&D!==void 0?D:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==b.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var I=this.editor;I.undoManager.transact(function(){var K;if(!E.inline||I.hasFocus())try{K=I.selection.getBookmark(3)}catch{}var X=E.valueCursor;if(I.setContent(E.props.value),!E.inline||I.hasFocus())for(var ae=0,le=[K,X];ae<le.length;ae++){var me=le[ae];if(me)try{I.selection.moveToBookmark(me),E.valueCursor=me;break}catch{}}})}if(this.props.readonly!==b.readonly){var H=($=this.props.readonly)!==null&&$!==void 0?$:!1;Dre(this.editor,H?"readonly":"design")}this.props.disabled!==b.disabled&&(Pre(this.editor)?this.editor.options.set("disabled",this.props.disabled):Dre(this.editor,this.props.disabled?"readonly":"design"))}},m.prototype.componentDidMount=function(){var b=this,E,D,$,I,H;if(xce(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(D=(E=this.props).onScriptsLoadError)===null||D===void 0||D.call(E,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!(($=this.elementRef.current)===null||$===void 0)&&$.ownerDocument){var K=function(){var ae,le;(le=(ae=b.props).onScriptsLoad)===null||le===void 0||le.call(ae),b.initialise()},X=function(ae){var le,me;(me=(le=b.props).onScriptsLoadError)===null||me===void 0||me.call(le,ae)};Kbe.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(H=(I=this.props.scriptLoading)===null||I===void 0?void 0:I.delay)!==null&&H!==void 0?H:0,K,X)}},m.prototype.componentWillUnmount=function(){var b=this,E=this.editor;E&&(E.off($ee,this.handleEditorChange),E.off(this.beforeInputEvent(),this.handleBeforeInput),E.off("keypress",this.handleEditorChangeSpecial),E.off("keydown",this.handleBeforeInputSpecial),E.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(D){E.off(D,b.boundHandlers[D])}),this.boundHandlers={},E.remove(),this.editor=void 0)},m.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},m.prototype.beforeInputEvent=function(){return Vbe()?"beforeinput SelectionChange":"SelectionChange"},m.prototype.renderInline=function(){var b=this.props.tagName,E=b===void 0?"div":b;return Ge.createElement(E,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},m.prototype.renderIframe=function(){return Ge.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},m.prototype.getScriptSources=function(){var b,E,D=(b=this.props.scriptLoading)===null||b===void 0?void 0:b.async,$=(E=this.props.scriptLoading)===null||E===void 0?void 0:E.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:D,defer:$}]:this.props.tinymceScriptSrc.map(function(X){return typeof X=="string"?{src:X,async:D,defer:$}:X});var I=this.props.cloudChannel,H=this.props.apiKey?this.props.apiKey:"no-api-key",K="https://cdn.tiny.cloud/1/".concat(H,"/tinymce/").concat(I,"/tinymce.min.js");return[{src:K,async:D,defer:$}]},m.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},m.prototype.bindHandlers=function(b){var E=this;if(this.editor!==void 0){zbe(this.editor,b,this.props,this.boundHandlers,function(H){return E.props[H]});var D=function(H){return H.onEditorChange!==void 0||H.value!==void 0},$=D(b),I=D(this.props);!$&&I?(this.editor.on($ee,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):$&&!I&&(this.editor.off($ee,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},m.propTypes=Lbe,m.defaultProps={cloudChannel:"8"},m})(Ge.Component);function Xbe({title:l,titleId:m,...b},E){return Ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:E,"aria-labelledby":m},b),l?Ge.createElement("title",{id:m},l):null,Ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const b2e=Ge.forwardRef(Xbe);function Qbe({title:l,titleId:m,...b},E){return Ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:E,"aria-labelledby":m},b),l?Ge.createElement("title",{id:m},l):null,Ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const y2e=Ge.forwardRef(Qbe);function Jbe({title:l,titleId:m,...b},E){return Ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:E,"aria-labelledby":m},b),l?Ge.createElement("title",{id:m},l):null,Ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const w2e=Ge.forwardRef(Jbe);function eye({title:l,titleId:m,...b},E){return Ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:E,"aria-labelledby":m},b),l?Ge.createElement("title",{id:m},l):null,Ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const C2e=Ge.forwardRef(eye);function tye({title:l,titleId:m,...b},E){return Ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:E,"aria-labelledby":m},b),l?Ge.createElement("title",{id:m},l):null,Ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const S2e=Ge.forwardRef(tye);function nye({title:l,titleId:m,...b},E){return Ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:E,"aria-labelledby":m},b),l?Ge.createElement("title",{id:m},l):null,Ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const x2e=Ge.forwardRef(nye);var Lee={exports:{}},Rre;function oye(){return Rre||(Rre=1,(function(l){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},b=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},E=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},D=function(e,t){return $(function(o,r){return e.eq(t(o),t(r))})},$=function(e){return{eq:e}},I=$(function(e,t){return e===t}),H=I,K=function(e){return $(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],o[i]))return!1;return!0})},X=function(e,t){return D(K(e),function(o){return E(o,t)})},ae=function(e){return $(function(t,o){var r=Object.keys(t),i=Object.keys(o);if(!X(H).eq(r,i))return!1;for(var f=r.length,v=0;v<f;v++){var S=r[v];if(!e.eq(t[S],o[S]))return!1}return!0})},le=$(function(e,t){if(e===t)return!0;var o=m(e),r=m(t);return o!==r?!1:b(o)?e===t:o==="array"?K(le).eq(e,t):o==="object"?ae(le).eq(e,t):!1});const me=Object.getPrototypeOf,Me=(e,t,o)=>o(e,t.prototype)?!0:e.constructor?.name===t.name,de=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Me(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},Se=e=>t=>de(t)===e,re=e=>t=>typeof t===e,ot=e=>t=>e===t,it=(e,t)=>dt(e)&&Me(e,t,(o,r)=>me(o)===r),J=Se("string"),dt=Se("object"),Wt=e=>it(e,Object),Ae=Se("array"),G=ot(null),Ze=re("boolean"),Ft=ot(void 0),ct=e=>e==null,Ce=e=>!ct(e),ce=re("function"),Pt=re("number"),je=(e,t)=>{if(Ae(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},lt=()=>{},F=(e,t)=>(...o)=>e(t.apply(null,o)),dn=(e,t)=>o=>e(t(o)),Te=e=>()=>e,rn=e=>e,yt=(e,t)=>e===t;function se(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const $e=e=>t=>!e(t),Mt=e=>()=>{throw new Error(e)},Qe=e=>e(),Ct=e=>{e()},He=Te(!1),ut=Te(!0);class W{tag;value;static singletonNone=new W(!1);constructor(t,o){this.tag=t,this.value=o}static some(t){return new W(!0,t)}static none(){return W.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?W.some(t(this.value)):W.none()}bind(t){return this.tag?t(this.value):W.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:W.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ce(t)?W.some(t):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Wn=Array.prototype.slice,Yt=Array.prototype.indexOf,jn=Array.prototype.push,Cn=(e,t)=>Yt.call(e,t),No=(e,t)=>{const o=Cn(e,t);return o===-1?W.none():W.some(o)},Re=(e,t)=>Cn(e,t)>-1,Ve=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];if(t(i,o))return!0}return!1},qe=(e,t)=>{const o=e.length,r=new Array(o);for(let i=0;i<o;i++){const f=e[i];r[i]=t(f,i)}return r},De=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];t(i,o)}},Ye=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},Tt=(e,t)=>{const o=[],r=[];for(let i=0,f=e.length;i<f;i++){const v=e[i];(t(v,i)?o:r).push(v)}return{pass:o,fail:r}},at=(e,t)=>{const o=[];for(let r=0,i=e.length;r<i;r++){const f=e[r];t(f,r)&&o.push(f)}return o},En=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const r=[];let i=[];for(let f=0,v=e.length;f<v;f++){const S=e[f],A=t(S);A!==o&&(r.push(i),i=[]),o=A,i.push(S)}return i.length!==0&&r.push(i),r}},wt=(e,t,o)=>(Ye(e,(r,i)=>{o=t(o,r,i)}),o),kt=(e,t,o)=>(De(e,(r,i)=>{o=t(o,r,i)}),o),an=(e,t,o)=>{for(let r=0,i=e.length;r<i;r++){const f=e[r];if(t(f,r))return W.some(f);if(o(f,r))break}return W.none()},vn=(e,t)=>an(e,t,He),Fn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const i=e[o];if(t(i,o))return W.some(o)}return W.none()},mo=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return W.some(o);return W.none()},es=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!Ae(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);jn.apply(t,e[o])}return t},vo=(e,t)=>es(qe(e,t)),ts=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const i=e[o];if(t(i,o)!==!0)return!1}return!0},Bo=e=>{const t=Wn.call(e,0);return t.reverse(),t},ds=(e,t)=>at(e,o=>!Re(t,o)),Ys=(e,t)=>{const o={};for(let r=0,i=e.length;r<i;r++){const f=e[r];o[String(f)]=t(f,r)}return o},Xs=(e,t)=>{const o=Wn.call(e,0);return o.sort(t),o},lr=(e,t)=>t>=0&&t<e.length?W.some(e[t]):W.none(),bt=e=>lr(e,0),Bt=e=>lr(e,e.length-1),po=ce(Array.from)?Array.from:e=>Wn.call(e),rs=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return W.none()},xs=(e,t)=>{const o=[],r=ce(t)?i=>Ve(o,f=>t(f,i)):i=>Re(o,i);for(let i=0,f=e.length;i<f;i++){const v=e[i];r(v)||o.push(v)}return o},sn=Object.keys,Ho=Object.hasOwnProperty,Io=(e,t)=>{const o=sn(e);for(let r=0,i=o.length;r<i;r++){const f=o[r],v=e[f];t(v,f)}},_r=(e,t)=>Hr(e,(o,r)=>({k:r,v:t(o,r)})),Hr=(e,t)=>{const o={};return Io(e,(r,i)=>{const f=t(r,i);o[f.k]=f.v}),o},Mn=e=>(t,o)=>{e[o]=t},qt=(e,t,o,r)=>{Io(e,(i,f)=>{(t(i,f)?o:r)(i,f)})},jt=(e,t)=>{const o={},r={};return qt(e,t,Mn(o),Mn(r)),{t:o,f:r}},to=(e,t)=>{const o={};return qt(e,t,Mn(o),lt),o},qn=(e,t)=>{const o=[];return Io(e,(r,i)=>{o.push(t(r,i))}),o},Co=e=>qn(e,rn),_o=(e,t)=>Jn(e,t)?W.from(e[t]):W.none(),Jn=(e,t)=>Ho.call(e,t),as=(e,t)=>Jn(e,t)&&e[t]!==void 0&&e[t]!==null,qr=(e,t,o=le)=>ae(o).eq(e,t),xa={generate:e=>{if(!Ae(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return De(e,(r,i)=>{const f=sn(r);if(f.length!==1)throw new Error("one and only one name per case");const v=f[0],S=r[v];if(o[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ae(S))throw new Error("case arguments must be an array");t.push(v),o[v]=(...A)=>{const P=A.length;if(P!==S.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+S.length+" ("+S+"), got "+P);return{fold:(...j)=>{if(j.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+j.length);return j[i].apply(null,A)},match:j=>{const Y=sn(j);if(t.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Y.join(","));if(!ts(t,Oe=>Re(Y,Oe)))throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+t.join(", "));return j[v].apply(null,A)},log:j=>{console.log(j,{constructors:t,constructor:v,params:A})}}}}),o}},Kn=e=>{let t=e;return{get:()=>t,set:i=>{t=i}}},ua=e=>{const t=f=>f(e),o=Te(e),r=()=>i,i={tag:!0,inner:e,fold:(f,v)=>v(e),isValue:ut,isError:He,map:f=>Be.value(f(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>W.some(e)};return i},ta=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,i)=>r(e),isValue:He,isError:ut,map:t,mapError:r=>Be.error(r(e)),bind:t,exists:He,forall:ut,getOr:rn,or:rn,getOrThunk:Qe,orThunk:Qe,getOrDie:Mt(String(e)),each:lt,toOptional:W.none};return o},Be={value:ua,error:ta,fromOption:(e,t)=>e.fold(()=>ta(t),ua)},ze=typeof window<"u"?window:Function("return this;")(),et=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},hn=()=>{const e=et(),t=(o,r)=>{let i="";for(let f=o;f<=r;++f){const v=e[f].toString(16).padStart(2,"0");i+=v}return i};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},Po=(e,t,o)=>Math.min(Math.max(e,t),o),go=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let is=0;const Ms=e=>{const o=new Date().getTime(),r=Math.floor(go()*1e9);return is++,e+"_"+r+is+String(o)},$o=()=>window.isSecureContext?window.crypto.randomUUID():hn(),hs=(e,t)=>t,pe=(e,t)=>Wt(e)&&Wt(t)?Gt(e,t):t,Ue=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const i=t[r];for(const f in i)Jn(i,f)&&(o[f]=e(o[f],i[f]))}return o},Gt=Ue(pe),On=Ue(hs),tn=(e,t,o=yt)=>e.exists(r=>o(r,t)),Oo=(e,t,o=yt)=>Dn(e,t,o).getOr(e.isNone()&&t.isNone()),ro=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},Dn=(e,t,o)=>e.isSome()&&t.isSome()?W.some(o(e.getOrDie(),t.getOrDie())):W.none(),Jo=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?W.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):W.none(),ms=e=>e.bind(rn),$s=(e,t)=>e?W.some(t):W.none(),nr=(e,t)=>{let o=t??ze;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},ji=(e,t)=>{const o=e.split(".");return nr(o,t)};xa.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const sa=e=>{const t=[],o=[];return De(e,r=>{r.fold(i=>{t.push(i)},i=>{o.push(i)})}),{errors:t,values:o}},Uu=e=>{const t=Kn(W.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(W.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:S=>{o(),t.set(W.some(S))}}},br=e=>{const t=Kn(W.none()),o=()=>t.get().each(S=>clearInterval(S));return{clear:()=>{o(),t.set(W.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:S=>{o(),t.set(W.some(setInterval(S,e)))}}},Ls=()=>{const e=Uu(lt);return{...e,on:o=>e.get().each(o)}},Sr=(e,t)=>e.substring(t),Mi=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Sc=(e,t)=>Do(e,t)?Sr(e,t.length):e,Gr=(e,t,o=0,r)=>{const i=e.indexOf(t,o);return i!==-1?Ft(r)?!0:i+t.length<=r:!1},Do=(e,t)=>Mi(e,t,0),Ya=(e,t)=>Mi(e,t,e.length-t.length),Ni=e=>t=>t.replace(e,""),Kr=Ni(/^\s+|\s+$/g),Pr=Ni(/^\s+/g),yu=Ni(/\s+$/g),Fr=e=>e.length>0,xc=e=>!Fr(e),Il=(e,t)=>t<=0?"":new Array(t+1).join(e),ff=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?W.none():W.some(o)},An=(e,t)=>{let o=null;return{cancel:()=>{G(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{G(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},t))}}},Yl=(e,t)=>{let o=null;const r=()=>{G(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},t)}}},vi=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},ci="\uFEFF",xr="",Xl="",bi=e=>e===ci,il=e=>e.replace(/\uFEFF/g,""),Ql=e=>{const t={};return De(e,o=>{t[o]={}}),sn(t)},gm=e=>e.length!==void 0,Jc=Array.isArray,pd=e=>{if(Jc(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},gd=(e,t,o)=>{if(!e)return!1;if(o=o||e,gm(e)){for(let r=0,i=e.length;r<i;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Jn(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},eu=(e,t)=>{const o=[];return gd(e,(r,i)=>{o.push(t(r,i,e))}),o},tu=(e,t)=>{const o=[];return gd(e,(r,i)=>{(!t||t(r,i,e))&&o.push(r)}),o},yn=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},Vu=(e,t,o,r)=>{let i=Ft(o)?e[0]:o;for(let f=0;f<e.length;f++)i=t.call(r,i,e[f],f);return i},wu=(e,t,o)=>{for(let r=0,i=e.length;r<i;r++)if(t.call(o,e[r],r,e))return r;return-1},Zi=e=>e[e.length-1],yi=(e,t,o,r)=>{const i=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!i,v=e.isiOS()||e.isAndroid(),S=v||r("(pointer:coarse)"),A=i||!f&&v&&r("(min-device-width:768px)"),P=f||v&&!A,U=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,j=!P&&!A&&!U;return{isiPad:Te(i),isiPhone:Te(f),isTablet:Te(A),isPhone:Te(P),isTouch:Te(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Te(U),isDesktop:Te(j)}},Cu=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},qi=(e,t)=>{const o=Cu(e,t);if(!o)return{major:0,minor:0};const r=i=>Number(t.replace(o,"$"+i));return $l(r(1),r(2))},nu=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Ec():qi(e,o)},Ec=()=>$l(0,0),$l=(e,t)=>({major:e,minor:t}),rr={nu:$l,detect:nu,unknown:Ec},hd=(e,t)=>rs(t.brands,o=>{const r=o.brand.toLowerCase();return vn(e,i=>r===i.brand?.toLowerCase()).map(i=>({current:i.name,version:rr.nu(parseInt(o.version,10),0)}))}),Q=(e,t)=>{const o=String(t).toLowerCase();return vn(e,r=>r.search(o))},be=(e,t)=>Q(e,t).map(o=>{const r=rr.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Ie=(e,t)=>Q(e,t).map(o=>{const r=rr.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Nt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qn=e=>t=>Gr(t,e),Cs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Gr(e,"edge/")&&Gr(e,"chrome")&&Gr(e,"safari")&&Gr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Nt],search:e=>Gr(e,"chrome")&&!Gr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Gr(e,"msie")||Gr(e,"trident")},{name:"Opera",versionRegexes:[Nt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qn("firefox")},{name:"Safari",versionRegexes:[Nt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Gr(e,"safari")||Gr(e,"mobile/"))&&Gr(e,"applewebkit")}],ar=[{name:"Windows",search:Qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Gr(e,"iphone")||Gr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qn("linux"),versionRegexes:[]},{name:"Solaris",search:Qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yr={browsers:Te(Cs),oses:Te(ar)},za="Edge",Gi="Chromium",ee="IE",_e="Opera",Je="Firefox",Et="Safari",wn=()=>Xn({current:void 0,version:rr.unknown()}),Xn=e=>{const t=e.current,o=e.version,r=i=>()=>t===i;return{current:t,version:o,isEdge:r(za),isChromium:r(Gi),isIE:r(ee),isOpera:r(_e),isFirefox:r(Je),isSafari:r(Et)}},Vo={unknown:wn,nu:Xn},Qs="Windows",Bs="iOS",Ki="Android",ra="Linux",vd="macOS",Bf="Solaris",mf="FreeBSD",Ac="ChromeOS",th=()=>ag({current:void 0,version:rr.unknown()}),ag=e=>{const t=e.current,o=e.version,r=i=>()=>t===i;return{current:t,version:o,isWindows:r(Qs),isiOS:r(Bs),isAndroid:r(Ki),isMacOS:r(vd),isLinux:r(ra),isSolaris:r(Bf),isFreeBSD:r(mf),isChromeOS:r(Ac)}},ve={unknown:th,nu:ag},pt={detect:(e,t,o)=>{const r=yr.browsers(),i=yr.oses(),f=t.bind(A=>hd(r,A)).orThunk(()=>be(r,e)).fold(Vo.unknown,Vo.nu),v=Ie(i,e).fold(ve.unknown,ve.nu),S=yi(v,f,e,o);return{browser:f,os:v,deviceType:S}}},Qt=e=>window.matchMedia(e).matches;let xo=vi(()=>pt.detect(window.navigator.userAgent,W.from(window.navigator.userAgentData),Qt));const Es=()=>xo(),Pa=(e,t)=>ji(e,t),Ll=(e,t)=>{const o=Pa(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},wi=Object.getPrototypeOf,Hl=e=>Ll("HTMLElement",e),Wd=e=>{const t=ji("ownerDocument.defaultView",e);return dt(e)&&(Hl(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(wi(e).constructor.name))},zl=window.navigator.userAgent,hm=Es(),Ul=hm.browser,Jl=hm.os,bd=hm.deviceType,kl=zl.indexOf("Windows Phone")!==-1,ps={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ul.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ul.isIE(),windowsPhone:kl,browser:{current:Ul.current,version:Ul.version,isChromium:Ul.isChromium,isEdge:Ul.isEdge,isFirefox:Ul.isFirefox,isIE:Ul.isIE,isOpera:Ul.isOpera,isSafari:Ul.isSafari},os:{current:Jl.current,version:Jl.version,isAndroid:Jl.isAndroid,isChromeOS:Jl.isChromeOS,isFreeBSD:Jl.isFreeBSD,isiOS:Jl.isiOS,isLinux:Jl.isLinux,isMacOS:Jl.isMacOS,isSolaris:Jl.isSolaris,isWindows:Jl.isWindows},deviceType:{isDesktop:bd.isDesktop,isiPad:bd.isiPad,isiPhone:bd.isiPhone,isPhone:bd.isPhone,isTablet:bd.isTablet,isTouch:bd.isTouch,isWebView:bd.isWebView}},sp=/^\s*|\s*$/g,ig=e=>ct(e)?"":(""+e).replace(sp,""),Ua=(e,t)=>t?t==="array"&&Jc(e)?!0:typeof e===t:e!==void 0,cb=(e,t,o={})=>{const r=J(e)?e.split(t||","):e||[];let i=r.length;for(;i--;)o[r[i]]={};return o},nh=Jn,ub=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const i in r)if(Jn(r,i)){const f=r[i];f!==void 0&&(e[i]=f)}}return e},vm=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),gd(e,(i,f)=>t.call(r,i,f,o)===!1?!1:(vm(i,t,o,r),!0)))},pn={trim:ig,isArray:Jc,is:Ua,toArray:pd,makeMap:cb,each:gd,map:eu,grep:tu,inArray:yn,hasOwn:nh,extend:ub,walk:vm,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,i=o.length;r<i&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>Ae(e)?e:e===""?[]:eu(e.split(t||","),ig),_addCacheSuffix:e=>{const t=ps.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Tc=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return rp(r.childNodes[0])},pf=(e,t)=>{const r=(t||document).createElement(e);return rp(r)},ec=(e,t)=>{const r=(t||document).createTextNode(e);return rp(r)},rp=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Pe={fromHtml:Tc,fromTag:pf,fromText:ec,fromDom:rp,fromPoint:(e,t,o)=>W.from(e.dom.elementFromPoint(t,o)).map(rp)},tc=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},jd=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},lg=(e,t,o)=>{const r=e.document.createRange();return tc(r,t),jd(r,o),r},ym=(e,t,o,r,i)=>{const f=e.document.createRange();return f.setStart(t.dom,o),f.setEnd(r.dom,i),f},bl=xa.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),nc=(e,t,o)=>t(Pe.fromDom(o.startContainer),o.startOffset,Pe.fromDom(o.endContainer),o.endOffset),v1=(e,t)=>t.match({domRange:o=>({ltr:Te(o),rtl:W.none}),relative:(o,r)=>({ltr:vi(()=>lg(e,o,r)),rtl:vi(()=>W.some(lg(e,r,o)))}),exact:(o,r,i,f)=>({ltr:vi(()=>ym(e,o,r,i,f)),rtl:vi(()=>W.some(ym(e,i,f,o,r)))})}),b1=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(i=>i.collapsed===!1).map(i=>bl.rtl(Pe.fromDom(i.endContainer),i.endOffset,Pe.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>nc(e,bl.ltr,o)):nc(e,bl.ltr,o)},cg=(e,t)=>{const o=v1(e,t);return b1(e,o)};bl.ltr,bl.rtl;const kc=8,y1=9,ll=11,gf=1,oh=3,_c=(e,t)=>{const o=e.dom;if(o.nodeType!==gf)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},sh=e=>e.nodeType!==gf&&e.nodeType!==y1&&e.nodeType!==ll||e.childElementCount===0,Wu=(e,t)=>{const o=t===void 0?document:t.dom;return sh(o)?[]:qe(o.querySelectorAll(e),Pe.fromDom)},Zd=(e,t)=>{const o=t===void 0?document:t.dom;return sh(o)?W.none():W.from(o.querySelector(e)).map(Pe.fromDom)},_s=(e,t)=>e.dom===t.dom,oc=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},yd=_c,rh=(e,t)=>{const o=[],r=f=>(o.push(f),t(f));let i=t(e);do i=i.bind(r);while(i.isSome());return o},cs=e=>e.dom.nodeName.toLowerCase(),wd=e=>e.dom.nodeType,ei=e=>t=>wd(t)===e,ou=e=>wd(e)===kc||cs(e)==="#comment",sc=e=>da(e)&&Wd(e.dom),da=ei(gf),or=ei(oh),ah=ei(y1),I0=ei(ll),ti=e=>t=>da(t)&&cs(t)===e,Su=e=>Pe.fromDom(e.dom.ownerDocument),xu=e=>ah(e)?e:Su(e),ni=e=>Pe.fromDom(xu(e).dom.documentElement),ju=e=>Pe.fromDom(xu(e).dom.defaultView),Ci=e=>W.from(e.dom.parentNode).map(Pe.fromDom),rc=e=>W.from(e.dom.parentElement).map(Pe.fromDom),cl=(e,t)=>{const o=ce(t)?t:He;let r=e.dom;const i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,v=Pe.fromDom(f);if(i.push(v),o(v)===!0)break;r=f}return i},cr=e=>{const t=o=>at(o,r=>!_s(e,r));return Ci(e).map(fa).map(t).getOr([])},Eu=e=>W.from(e.dom.previousSibling).map(Pe.fromDom),ul=e=>W.from(e.dom.nextSibling).map(Pe.fromDom),dl=e=>Bo(rh(e,Eu)),Bi=e=>rh(e,ul),fa=e=>qe(e.dom.childNodes,Pe.fromDom),Mr=(e,t)=>{const o=e.dom.childNodes;return W.from(o[t]).map(Pe.fromDom)},Si=e=>Mr(e,0),Ra=e=>Mr(e,e.dom.childNodes.length-1),Zu=e=>e.dom.childNodes.length,ih=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Pe.fromDom(t)},ip=e=>I0(e)&&Ce(e.dom.host),oi=e=>Pe.fromDom(e.dom.getRootNode()),lp=e=>ip(e)?e:ih(xu(e)),wm=e=>ip(e)?e:Pe.fromDom(xu(e).dom.body),If=e=>{const t=oi(e);return ip(t)?W.some(t):W.none()},Ao=e=>Pe.fromDom(e.dom.host),w1=e=>{if(Ce(e.target)){const t=Pe.fromDom(e.target);if(da(t)&&xi(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return bt(o)}}return W.from(e.target)},xi=e=>Ce(e.dom.shadowRoot),Ei=(e,t,o,r,i,f,v)=>({target:e,x:t,y:o,stop:r,prevent:i,kill:f,raw:v}),Ai=e=>{const t=Pe.fromDom(w1(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=F(r,o);return Ei(t,e.clientX,e.clientY,o,r,i,e)},zr=(e,t)=>o=>{e(o)&&t(Ai(o))},qd=(e,t,o,r,i)=>{const f=zr(o,r);return e.dom.addEventListener(t,f,i),{unbind:se(Oc,e,t,f,i)}},cp=(e,t,o,r)=>qd(e,t,o,r,!1),Oc=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},Cd=ut,up=(e,t,o)=>cp(e,t,Cd,o),lh=()=>Pe.fromDom(document),ug=(e,t=!1)=>e.dom.focus({preventScroll:t}),qu=e=>{const t=oi(e).dom;return e.dom===t.activeElement},yl=(e=lh())=>W.from(e.dom.activeElement).map(Pe.fromDom),ch=e=>yl(oi(e)).filter(t=>e.dom.contains(t.dom)),ui=(e,t)=>{Ci(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Ii=(e,t)=>{ul(e).fold(()=>{Ci(e).each(i=>{As(i,t)})},r=>{ui(r,t)})},su=(e,t)=>{Si(e).fold(()=>{As(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},As=(e,t)=>{e.dom.appendChild(t.dom)},ac=(e,t)=>{ui(e,t),As(t,e)},$0=(e,t)=>{De(t,o=>{ui(e,o)})},dg=(e,t)=>{De(t,(o,r)=>{const i=r===0?e:t[r-1];Ii(i,o)})},wl=(e,t)=>{De(t,o=>{As(e,o)})},To=(e,t,o)=>{if(J(o)||Ze(o)||Pt(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Nr=(e,t,o)=>{To(e.dom,t,o)},Ti=(e,t)=>{const o=e.dom;Io(t,(r,i)=>{To(o,i,r)})},Ur=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},_l=(e,t)=>W.from(Ur(e,t)),Er=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Hs=(e,t)=>{e.dom.removeAttribute(t)},ma=e=>{const t=e.dom.attributes;return t==null||t.length===0},fs=e=>kt(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Wa=e=>{e.dom.textContent="",De(fa(e),t=>{Is(t)})},Is=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Yi=e=>{const t=fa(e);t.length>0&&dg(e,t),Is(e)},Ea=(e,t)=>Pe.fromDom(e.dom.cloneNode(t)),Rr=e=>Ea(e,!1),Au=e=>Ea(e,!0),Cm=(e,t)=>{const o=Pe.fromTag(t),r=fs(e);return Ti(o,r),o},Gd=(e,t)=>{const o=Cm(e,t);Ii(e,o);const r=fa(e);return wl(o,r),Is(e),o},Sd=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,fa(Pe.fromDom(r))},hf=e=>qe(e,Pe.fromDom),ja=e=>e.dom.innerHTML,Gu=(e,t)=>{const r=Su(e).dom,i=Pe.fromDom(r.createDocumentFragment()),f=Sd(t,r);wl(i,f),Wa(e),As(e,i)},C1=e=>{const t=Pe.fromTag("div"),o=Pe.fromDom(e.dom.cloneNode(!0));return As(t,o),ja(t)},vf=e=>e.style!==void 0&&ce(e.style.getPropertyValue),mr=e=>{const t=or(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return If(Pe.fromDom(t)).fold(()=>o.body.contains(t),dn(mr,Ao))},Kd=(e,t,o)=>{if(!J(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);vf(e)&&e.style.setProperty(t,o)},xd=(e,t)=>{vf(e)&&e.style.removeProperty(t)},ki=(e,t,o)=>{const r=e.dom;Kd(r,t,o)},Ol=(e,t)=>{const o=e.dom;Io(t,(r,i)=>{Kd(o,i,r)})},pa=(e,t)=>{const o=e.dom,i=window.getComputedStyle(o).getPropertyValue(t);return i===""&&!mr(e)?fl(o,t):i},fl=(e,t)=>vf(e)?e.style.getPropertyValue(t):"",Br=(e,t)=>{const o=e.dom,r=fl(o,t);return W.from(r).filter(i=>i.length>0)},Ku=e=>{const t={},o=e.dom;if(vf(o))for(let r=0;r<o.style.length;r++){const i=o.style.item(r);t[i]=o.style[i]}return t},Yu=(e,t)=>{const o=e.dom;xd(o,t),tn(_l(e,"style").map(Kr),"")&&Hs(e,"style")},Ed=e=>e.dom.offsetWidth,Xu=((e,t)=>{const o=(S,A)=>{if(!Pt(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const P=S.dom;vf(P)&&(P.style[e]=A+"px")},r=S=>{const A=t(S);if(A<=0||A===null){const P=pa(S,e);return parseFloat(P)||0}return A},i=r,f=(S,A)=>kt(A,(P,U)=>{const j=pa(S,U),Y=j===void 0?0:parseInt(j,10);return isNaN(Y)?P:P+Y},0);return{set:o,get:r,getOuter:i,aggregate:f,max:(S,A,P)=>{const U=f(S,P);return A>U?A-U:0}}})("height",e=>{const t=e.dom;return mr(e)?t.getBoundingClientRect().height:t.offsetHeight}),S1=e=>Xu.get(e),fg=(e,t)=>({left:e,top:t,translate:(r,i)=>fg(e+r,t+i)}),_i=fg,ru=e=>{const t=e.getBoundingClientRect();return _i(t.left,t.top)},Aa=(e,t)=>e!==void 0?e:t!==void 0?t:0,Dc=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,i=t.documentElement;if(o===e.dom)return _i(o.offsetLeft,o.offsetTop);const f=Aa(r?.pageYOffset,i.scrollTop),v=Aa(r?.pageXOffset,i.scrollLeft),S=Aa(i.clientTop,o.clientTop),A=Aa(i.clientLeft,o.clientLeft);return fp(e).translate(v-A,f-S)},fp=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?_i(r.offsetLeft,r.offsetTop):mr(e)?ru(t):_i(0,0)},uh=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return _i(o,r)},dh=(e,t,o)=>{const i=(o!==void 0?o.dom:document).defaultView;i&&i.scrollTo(e,t)},au=(e,t)=>{Es().browser.isSafari()&&ce(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},L0=(e,t)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+t+" value of a "+t+" node");return r(f).getOr("")},r=f=>e(f)?W.from(f.dom.nodeValue):W.none();return{get:o,getOption:r,set:(f,v)=>{if(!e(f))throw new Error("Can only set raw "+t+" value of a "+t+" node");f.dom.nodeValue=v}}},Ad=(e,t)=>{const r=document.createDocumentFragment();return De(e,i=>{r.appendChild(i.dom)}),Pe.fromDom(r)},ur=L0(or,"text"),Oi=e=>ur.get(e),Qu=e=>ur.getOption(e),x1=(e,t)=>ur.set(e,t),Ju=(e,t)=>{const o=Ur(e,t);return o===void 0||o===""?[]:o.split(" ")},mp=(e,t,o)=>{const i=Ju(e,t).concat([o]);return Nr(e,t,i.join(" ")),!0},E1=(e,t,o)=>{const r=at(Ju(e,t),i=>i!==o);return r.length>0?Nr(e,t,r.join(" ")):Hs(e,t),!1};var Td=(e,t,o,r,i)=>e(o,r)?W.some(o):ce(i)&&i(o)?W.none():t(o,r,i);const Pc=(e,t,o)=>{let r=e.dom;const i=ce(o)?o:He;for(;r.parentNode;){r=r.parentNode;const f=Pe.fromDom(r);if(t(f))return W.some(f);if(i(f))break}return W.none()},wr=(e,t,o)=>Td((i,f)=>f(i),Pc,e,t,o),mg=(e,t)=>{const o=e.dom;return o.parentNode?na(Pe.fromDom(o.parentNode),r=>!_s(e,r)&&t(r)):W.none()},na=(e,t)=>{const o=i=>t(Pe.fromDom(i));return vn(e.dom.childNodes,o).map(Pe.fromDom)},kd=(e,t)=>{const o=r=>{for(let i=0;i<r.childNodes.length;i++){const f=Pe.fromDom(r.childNodes[i]);if(t(f))return W.some(f);const v=o(r.childNodes[i]);if(v.isSome())return v}return W.none()};return o(e.dom)},Za=(e,t,o)=>Pc(e,r=>_c(r,t),o),ed=(e,t)=>Zd(t,e),Xi=(e,t,o)=>Td((i,f)=>_c(i,f),Za,e,t,o),_d=e=>e.dom.classList!==void 0,bf=e=>Ju(e,"class"),iu=(e,t)=>mp(e,"class",t),yf=(e,t)=>E1(e,"class",t),A1=(e,t)=>Re(bf(e),t)?yf(e,t):iu(e,t),ic=(e,t)=>{_d(e)?e.dom.classList.add(t):iu(e,t)},Cl=e=>{(_d(e)?e.dom.classList:bf(e)).length===0&&Hs(e,"class")},aa=(e,t)=>{_d(e)?e.dom.classList.remove(t):yf(e,t),Cl(e)},Di=(e,t)=>{const o=_d(e)?e.dom.classList.toggle(t):A1(e,t);return Cl(e),o},pg=(e,t)=>_d(e)&&e.dom.classList.contains(t),Tu=(e,t)=>{De(t,o=>{ic(e,o)})},Od=(e,t)=>{De(t,o=>{aa(e,o)})},gg=e=>Xi(e,"[contenteditable]"),ku=(e,t=!1)=>mr(e)?e.dom.isContentEditable:gg(e).fold(Te(t),o=>T1(o)==="true"),T1=e=>e.dom.contentEditable,R=(e,t)=>{e.dom.contentEditable=t?"true":"false"},B=(e,t,o)=>at(cl(e,o),t),ne=(e,t)=>at(fa(e),t),we=(e,t)=>{let o=[];return De(fa(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(we(r,t))}),o},Ke=(e,t,o)=>B(e,r=>_c(r,t),o),Ot=(e,t)=>Wu(t,e),xn=(e,t,o)=>Pc(e,t,o).isSome(),no=(e,t)=>mg(e,t).isSome(),Ko=(e,t)=>kd(e,t).isSome(),vs=(e,t)=>xn(e,se(_s,t)),Ss=(e,t,o)=>Za(e,t,o).isSome(),Yr=(e,t,o)=>Xi(e,t,o).isSome(),qa=e=>ce(e)?e:He,lc=(e,t,o)=>{let r=e.dom;const i=qa(o);for(;r.parentNode;){r=r.parentNode;const f=Pe.fromDom(r),v=t(f);if(v.isSome())return v;if(i(f))break}return W.none()},lu=(e,t,o)=>{const r=t(e),i=qa(o);return r.orThunk(()=>i(e)?W.none():lc(e,t,i))},Dd=e=>Qu(e).filter(t=>t.trim().length!==0||t.indexOf(xr)>-1).isSome(),Dl=e=>sc(e)&&Ur(e,"contenteditable")==="false",si=["img","br"],di=e=>Dd(e)||Re(si,cs(e))||Dl(e),$i=e=>kd(e,di),wf={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},Yd=xa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fh=(e,t,o,r)=>e.fold(t,o,r),cc=e=>e.fold(rn,rn,rn),k1=Yd.before,Ws=Yd.on,wa=Yd.after,Ir={before:k1,on:Ws,after:wa,cata:fh,getStart:cc},Ta=xa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lf=e=>Ta.exact(e.start,e.soffset,e.finish,e.foffset),Sm=e=>e.match({domRange:t=>Pe.fromDom(t.startContainer),relative:(t,o)=>Ir.getStart(t),exact:(t,o,r,i)=>t}),pp=Ta.domRange,hg=Ta.relative,fb=Ta.exact,Hf=e=>{const t=Sm(e);return ju(t)},mh=wf.create,xm={domRange:pp,relative:hg,exact:fb,exactFromRange:Lf,getWin:Hf,range:mh},Qy=(e,t,o)=>W.from(e.caretPositionFromPoint?.(t,o)).bind(r=>{if(r.offsetNode===null)return W.none();const i=e.createRange();return i.setStart(r.offsetNode,r.offset),i.collapse(),W.some(i)}),Pi=(e,t,o)=>W.from(e.caretRangeFromPoint?.(t,o)),fi=(e,t,o)=>e.caretPositionFromPoint?Qy(e,t,o):e.caretRangeFromPoint?Pi(e,t,o):W.none(),Xd=(e,t,o)=>{const r=e.document;return fi(r,t,o).map(i=>wf.create(Pe.fromDom(i.startContainer),i.startOffset,Pe.fromDom(i.endContainer),i.endOffset))},zf=(e,t)=>{const o=cs(e);return o==="input"?Ir.after(e):Re(["br","img"],o)?t===0?Ir.before(e):Ir.after(e):Ir.on(e,t)},ph=(e,t)=>{const o=e.fold(Ir.before,zf,Ir.after),r=t.fold(Ir.before,zf,Ir.after);return xm.relative(o,r)},ml=(e,t,o,r)=>{const i=zf(e,t),f=zf(o,r);return xm.relative(i,f)},H0=e=>e.match({domRange:t=>{const o=Pe.fromDom(t.startContainer),r=Pe.fromDom(t.endContainer);return ml(o,t.startOffset,r,t.endOffset)},relative:ph,exact:ml}),Uf=e=>{const t=xm.getWin(e).dom,o=(i,f,v,S)=>ym(t,i,f,v,S),r=H0(e);return cg(t,r).match({ltr:o,rtl:o})},_1=(e,t,o)=>Xd(e,t,o),_u=e=>{const t=e===void 0?window:e;return Es().browser.isFirefox()?W.none():W.from(t.visualViewport)},z0=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),cu=e=>{const t=e===void 0?window:e,o=t.document,r=uh(Pe.fromDom(o));return _u(t).fold(()=>{const i=t.document.documentElement,f=i.clientWidth,v=i.clientHeight;return z0(r.left,r.top,f,v)},i=>z0(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height))};class Fa{rootNode;node;constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,i){if(t){if(!i&&t[o])return t[o];if(t!==this.rootNode){let f=t[r];if(f)return f;for(let v=t.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(f=v[r],f)return f}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const i=t.parentNode;if(i&&i!==this.rootNode)return i}}}const O1=/^[ \t\r\n]*$/,vg=e=>O1.test(e),mb=e=>{for(const t of e)if(!bi(t))return!1;return!0},pb=e=>" \f	\v".indexOf(e)!==-1,gb=e=>e===`
`||e==="\r",Jy=(e,t)=>t<e.length&&t>=0?gb(e[t]):!1,U0=(e,t=4,o=!0,r=!0)=>{const i=Il(" ",t),f=e.replace(/\t/g,i);return kt(f,(S,A)=>pb(A)||A===xr?S.pcIsSpace||S.str===""&&o||S.str.length===f.length-1&&r||Jy(f,S.str.length+1)?{pcIsSpace:!1,str:S.str+xr}:{pcIsSpace:!0,str:S.str+" "}:{pcIsSpace:gb(A),str:S.str+A},{pcIsSpace:!1,str:""}).str},bg=e=>t=>!!t&&t.nodeType===e,D1=e=>!!e&&!Object.getPrototypeOf(e),_n=bg(1),Vl=e=>_n(e)&&sc(Pe.fromDom(e)),_C=e=>_n(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Rc=e=>{const t=e.toLowerCase();return o=>Ce(o)&&o.nodeName.toLowerCase()===t},Pd=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Re(t,r)}return!1}},td=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(_n(r)){const i=r.ownerDocument.defaultView;if(i)for(let f=0;f<o.length;f++){const v=i.getComputedStyle(r,null);if((v?v.getPropertyValue(e):null)===o[f])return!0}}return!1}},hb=e=>t=>_n(t)&&t.hasAttribute(e),Cf=e=>_n(e)&&e.hasAttribute("data-mce-bogus"),e2=e=>_n(e)&&e.getAttribute("data-mce-bogus")==="all",Fc=e=>_n(e)&&e.tagName==="TABLE",vb=e=>t=>!!(Vl(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Ou=Pd(["textarea","input"]),fn=bg(3),P1=bg(4),Ri=bg(7),bs=bg(8),Vf=bg(9),yg=bg(11),ka=Rc("br"),nd=Rc("img"),gh=Rc("a"),Du=vb("true"),sr=vb("false"),Qi=e=>Vl(e)&&e.isContentEditable&&Ce(e.parentElement)&&!e.parentElement.isContentEditable,wg=Pd(["td","th"]),V0=Pd(["td","th","caption"]),W0=Rc("template"),od=Pd(["video","audio","object","embed"]),hh=Rc("li"),Cg=Rc("details"),t2=Rc("summary"),j0="uc-video",vh=e=>e.nodeName.toLowerCase()===j0,Z0={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},bh=(e,t,o)=>{const r=Pe.fromDom(t),i=Pe.fromDom(e),f=o.getWhitespaceElements();return xn(i,S=>Jn(f,cs(S)),se(_s,r))},bb=e=>_n(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),n2=(e,t)=>_n(e)&&Jn(t.getNonEmptyElements(),e.nodeName),R1=hb("data-mce-bookmark"),q0=e=>rc(Pe.fromDom(e)).exists(t=>!ku(t)),F1=(e,t,o)=>vg(e.data)&&!bh(e,t,o),OC=(e,t,o,r)=>fn(e)&&!F1(e,t,o)&&(!r.includeZwsp||!mb(e.data)),Mc=(e,t,o,r)=>ce(r.isContent)&&r.isContent(t)||n2(t,e)||R1(t)||bb(t)||OC(t,o,e,r)||sr(t)||Du(t)&&q0(t),bo=(e,t,o)=>{const r={...Z0,...o};if(r.checkRootAsContent&&Mc(e,t,t,r))return!1;let i=t.firstChild,f=0;if(!i)return!0;const v=new Fa(i,t);do{if(r.skipBogus&&_n(i)){const S=i.getAttribute("data-mce-bogus");if(S){i=v.next(S==="all");continue}}if(bs(i)){i=v.next(!0);continue}if(ka(i)){f++,i=v.next();continue}if(Mc(e,i,t,r))return!1;i=v.next()}while(i);return f<=1},_a=(e,t,o)=>bo(e,t.dom,{checkRootAsContent:!0,...o}),sd=(e,t,o)=>Mc(e,t,t,{includeZwsp:Z0.includeZwsp,...o}),o2=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},gp=e=>o2(e)!=="html",hp=e=>gp(e.nodeName),G0=e=>o2(e.nodeName),vp=["svg","math"],yh=()=>{const e=Ls(),t=()=>e.get().map(G0).getOr("html");return{track:i=>(hp(i)?e.set(i):e.get().exists(f=>!f.contains(i))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Fi="data-mce-block",s2=e=>at(sn(e),t=>!/[A-Z]/.test(t)),yb=e=>qe(s2(e),t=>{const o=CSS.escape(t);return`${o}:`+qe(vp,r=>`not(${r} ${o})`).join(":")}).join(","),ia=(e,t)=>Ce(t.querySelector(e))?(t.setAttribute(Fi,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Fi),!1),Xa=(e,t)=>{const o=yb(e.getTransparentElements()),r=yb(e.getBlockElements());return at(t.querySelectorAll(o),i=>ia(r,i))},Nc=(e,t,o)=>{const r=o?"lastChild":"firstChild";for(let i=t[r];i;i=i[r])if(bo(e,i,{checkRootAsContent:!0})){i.parentNode?.removeChild(i);return}},qo=(e,t,o)=>{const r=document.createRange(),i=t.parentNode;if(i){r.setStartBefore(t),r.setEndBefore(o);const f=r.extractContents();Nc(e,f,!0),r.setStartAfter(o),r.setEndAfter(t);const v=r.extractContents();Nc(e,v,!1),bo(e,f,{checkRootAsContent:!0})||i.insertBefore(f,t),bo(e,o,{checkRootAsContent:!0})||i.insertBefore(o,t),bo(e,v,{checkRootAsContent:!0})||i.insertBefore(v,t),i.removeChild(t)}},pl=(e,t,o)=>{const r=e.getBlockElements(),i=Pe.fromDom(t),f=S=>cs(S)in r,v=S=>_s(S,i);De(hf(o),S=>{Pc(S,f,v).each(A=>{const P=ne(S,U=>f(U)&&!e.isValidChild(cs(A),cs(U)));if(P.length>0){const U=rc(A);De(P,j=>{Pc(j,f,v).each(Y=>{qo(e,Y.dom,j.dom)})}),U.each(j=>Xa(e,j.dom))}})})},Em=(e,t,o)=>{De([...o,...Ma(e,t)?[t]:[]],r=>De(Ot(Pe.fromDom(r),r.nodeName.toLowerCase()),i=>{Rd(e,i.dom)&&Yi(i)}))},Ji=(e,t)=>{const o=Xa(e,t);pl(e,t,o),Em(e,t,o)},Bc=(e,t)=>{if(wh(e,t)){const o=yb(e.getBlockElements());ia(o,t)}},bp=(e,t,o)=>{const r=f=>_s(f,Pe.fromDom(t)),i=cl(Pe.fromDom(o),r);lr(i,i.length-2).filter(da).fold(()=>Ji(e,t),f=>Ji(e,f.dom))},Jt=e=>e.hasAttribute(Fi),uc=(e,t)=>Jn(e.getTransparentElements(),t),wh=(e,t)=>_n(t)&&uc(e,t.nodeName),Ma=(e,t)=>wh(e,t)&&Jt(t),Rd=(e,t)=>wh(e,t)&&!Jt(t),Ic=(e,t)=>t.type===1&&uc(e,t.name)&&J(t.attr(Fi)),wb=Es().browser,mi=e=>vn(e,da),Qd=e=>wb.isFirefox()&&cs(e)==="table"?mi(fa(e)).filter(t=>cs(t)==="caption").bind(t=>mi(Bi(t)).map(o=>{const r=o.dom.offsetTop,i=t.dom.offsetTop,f=t.dom.offsetHeight;return r<=i?-f:0})).getOr(0):0,el=(e,t)=>e.children&&Re(e.children,t),pr=(e,t,o)=>{let r=0,i=0;const f=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&pa(Pe.fromDom(e),"position")==="static"){const S=t.getBoundingClientRect();return r=S.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,i=S.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:i}}let v=t;for(;v&&v!==o&&v.nodeType&&!el(v,o);){const S=v;r+=S.offsetLeft||0,i+=S.offsetTop||0,v=S.offsetParent}for(v=t.parentNode;v&&v!==o&&v.nodeType&&!el(v,o);)r-=v.scrollLeft||0,i-=v.scrollTop||0,v=v.parentNode;i+=Qd(Pe.fromDom(t))}return{x:r,y:i}},Jd=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":ce(o)?o(e):void 0},uu=(e,t={})=>{let o=0;const r={},i=Pe.fromDom(e),f=xu(i),v=rt=>{t.referrerPolicy=rt},S=rt=>{t.contentCssCors=rt},A=rt=>{t.crossOrigin=rt},P=rt=>{As(lp(i),rt)},U=rt=>{const ft=lp(i);ed(ft,"#"+rt).each(Is)},j=rt=>_o(r,rt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Y=rt=>new Promise((ft,Lt)=>{let on;const In=pn._addCacheSuffix(rt),fo=j(In);r[In]=fo,fo.count++;const $t=(Zo,Ks)=>{De(Zo,Ct),fo.status=Ks,fo.passed=[],fo.failed=[],on&&(on.onload=null,on.onerror=null,on=null)},At=()=>$t(fo.passed,2),Ht=()=>$t(fo.failed,3);if(ft&&fo.passed.push(ft),Lt&&fo.failed.push(Lt),fo.status===1)return;if(fo.status===2){At();return}if(fo.status===3){Ht();return}fo.status=1;const Bn=Pe.fromTag("link",f.dom);Ti(Bn,{rel:"stylesheet",type:"text/css",id:fo.id});const jo=Jd(rt,t);jo!==void 0&&Nr(Bn,"crossOrigin",jo),t.referrerPolicy&&Nr(Bn,"referrerpolicy",t.referrerPolicy),on=Bn.dom,on.onload=At,on.onerror=Ht,P(Bn),Nr(Bn,"href",In)}),ie=(rt,ft)=>{const Lt=j(rt);r[rt]=Lt,Lt.count++;const on=Pe.fromTag("style",f.dom);Ti(on,{rel:"stylesheet",type:"text/css",id:Lt.id,"data-mce-key":rt}),on.dom.innerHTML=ft,P(on)},Oe=rt=>Promise.allSettled(qe(rt,Lt=>Y(Lt).then(Te(Lt)))).then(Lt=>{const on=Tt(Lt,In=>In.status==="fulfilled");return on.fail.length>0?Promise.reject(qe(on.fail,In=>In.reason)):qe(on.pass,In=>In.value)}),ge=rt=>{const ft=pn._addCacheSuffix(rt);_o(r,ft).each(Lt=>{--Lt.count===0&&(delete r[ft],U(Lt.id))})};return{load:Y,loadRawCss:ie,loadAll:Oe,unload:ge,unloadRawCss:rt=>{_o(r,rt).each(ft=>{--ft.count===0&&(delete r[rt],U(ft.id))})},unloadAll:rt=>{De(rt,ft=>{ge(ft)})},_setReferrerPolicy:v,_setContentCssCors:S,_setCrossOrigin:A}},ef=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=oi(o).dom;return W.from(e.get(f)).getOrThunk(()=>{const v=uu(f,r);return e.set(f,v),v})}}})(),Cb=e=>e.nodeName.toLowerCase()==="span",Fd=(e,t)=>Ce(e)&&(sd(t,e)||t.isInline(e.nodeName.toLowerCase())),M1=(e,t,o)=>{const r=new Fa(e,t).prev(!1),i=new Fa(e,t).next(!1),f=Ft(r)||Fd(r,o),v=Ft(i)||Fd(i,o);return f&&v},$c=e=>Cb(e)&&e.getAttribute("data-mce-type")==="bookmark",r2=(e,t,o)=>fn(e)&&e.data.length>0&&M1(e,t,o),ht=e=>_n(e)?e.childNodes.length>0:!1,Lc=e=>yg(e)||Vf(e),Sg=(e,t,o,r)=>{const i=r||t;if(_n(t)&&$c(t))return t;const f=t.childNodes;for(let v=f.length-1;v>=0;v--)Sg(e,f[v],o,i);if(_n(t)){const v=t.childNodes;v.length===1&&$c(v[0])&&t.parentNode?.insertBefore(v[0],t)}return!Lc(t)&&!sd(o,t)&&!ht(t)&&!r2(t,i,o)&&e.remove(t),t},Ar=pn.makeMap,Zs=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Or=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Os=/[<>&\"\']/g,dc=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Pl={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Md={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Li={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Am=e=>{const t=Pe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Tm=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let i=0;i<r.length;i+=2){const f=String.fromCharCode(parseInt(r[i],t));if(!Md[f]){const v="&"+r[i+1]+";";o[f]=v,o[v]=f}}return o}else return},Ch=Tm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Wf=(e,t)=>e.replace(t?Zs:Or,o=>Md[o]||o),jf=e=>(""+e).replace(Os,t=>Md[t]||t),Pu=(e,t)=>e.replace(t?Zs:Or,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Md[o]||"&#"+o.charCodeAt(0)+";"),N1=(e,t,o)=>{const r=o||Ch;return e.replace(t?Zs:Or,i=>Md[i]||r[i]||i)},fc={encodeRaw:Wf,encodeAllRaw:jf,encodeNumeric:Pu,encodeNamed:N1,getEncodeFunc:(e,t)=>{const o=Tm(t)||Ch,r=(v,S)=>v.replace(S?Zs:Or,A=>Md[A]!==void 0?Md[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),i=(v,S)=>N1(v,S,o),f=Ar(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?t?i:N1:f.numeric?Pu:Wf},decode:e=>e.replace(dc,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Pl[o]||String.fromCharCode(o)):Li[t]||Ch[t]||Am(t))},Ga=(e,t)=>(e=pn.trim(e),e?e.split(t||" "):[]),Ru=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),yp=e=>dt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",tl=e=>{const t=o=>Ae(o)?qe(o,t):yp(o)?new RegExp(o.source,o.flags):dt(o)?_r(o,t):o;return t(e)},km=e=>{const t=/^(~)?(.+)$/;return vo(Ga(e,","),o=>{const r=t.exec(o);if(r){const f=r[1]==="~"?"span":"div",v=r[2];return[{cloneName:f,name:v}]}else return[]})},Qa=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),xh=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},Hc=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=xh(e),i=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:i(t),phrasingContent:i(o),flowContent:i(r)})},Fu={html4:vi(()=>Hc("html4")),html5:vi(()=>Hc("html5")),"html5-strict":vi(()=>Hc("html5-strict"))},zc=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:i}=Fu[e]();return t==="blocks"?W.some(o):t==="phrasing"?W.some(r):t==="flow"?W.some(i):W.none()},Ka=e=>{const t=Qa(e),{phrasingContent:o,flowContent:r}=xh(e),i={},f=(A,P,U)=>{i[A]={attributes:Ys(P,Te({})),attributesOrder:P,children:Ys(U,Te({}))}},v=(A,P="",U="")=>{const j=Ga(U),Y=Ga(A);let ie=Y.length;const Oe=[...t,...Ga(P)];for(;ie--;)f(Y[ie],Oe.slice(),j)},S=(A,P)=>{const U=Ga(A),j=Ga(P);let Y=U.length;for(;Y--;){const ie=i[U[Y]];for(let Oe=0,ge=j.length;Oe<ge;Oe++)ie.attributes[j[Oe]]={},ie.attributesOrder.push(j[Oe])}};return e!=="html5-strict"&&(De(Ga("acronym applet basefont big font strike tt"),U=>{v(U,"",o)}),De(Ga("center dir isindex noframes"),U=>{v(U,"",r)})),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset property"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),v("dd div","",r),v("address dt caption","",e==="html4"?o:r),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),v("blockquote","cite",r),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",r),v("dl","","dt dd"),v("a","href target rel media hreflang type",e==="html4"?o:r),v("q","cite",o),v("ins del","cite datetime",r),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",r),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),v("param","name value"),v("map","name",[r,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",r),v("th","colspan rowspan headers scope abbr",r),v("form","accept-charset action autocomplete enctype method name novalidate target",r),v("fieldset","disabled form name",[r,"legend"].join(" ")),v("label","form for",o),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[r,"li"].join(" ")),v("noscript","",r),e!=="html4"&&(v("wbr"),v("ruby","",[o,"rt rp"].join(" ")),v("figcaption","",r),v("mark rt rp bdi","",o),v("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),v("canvas","width height",r),v("data","value",o),v("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[r,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[o,"option"].join(" ")),v("article section nav aside main header footer","",r),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[r,"figcaption"].join(" ")),v("time","datetime",o),v("dialog","open",r),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",o),v("progress","value max",o),v("meter","value min max low high optimum",o),v("details","open",[r,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(S("script","language xml:space"),S("style","xml:space"),S("object","declare classid code codebase codetype archive standby align border hspace vspace"),S("embed","align name hspace vspace"),S("param","valuetype type"),S("a","charset name rev shape coords"),S("br","clear"),S("applet","codebase archive code object alt name width height align hspace vspace"),S("img","name longdesc align border hspace vspace"),S("iframe","longdesc frameborder marginwidth marginheight scrolling align"),S("font basefont","size color face"),S("input","usemap align"),S("select"),S("textarea"),S("h1 h2 h3 h4 h5 h6 div p legend caption","align"),S("ul","type compact"),S("li","type"),S("ol dl menu dir","compact"),S("pre","width xml:space"),S("hr","align noshade size width"),S("isindex","prompt"),S("table","summary width frame rules cellspacing cellpadding align bgcolor"),S("col","width align char charoff valign"),S("colgroup","width align char charoff valign"),S("thead","align char charoff valign"),S("tr","align char charoff valign bgcolor"),S("th","axis align char charoff valign nowrap bgcolor width height"),S("form","accept"),S("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),S("tfoot","align char charoff valign"),S("tbody","align char charoff valign"),S("area","nohref"),S("body","background bgcolor text link vlink alink")),e!=="html4"&&(S("input button select textarea","autofocus"),S("input textarea","placeholder"),S("a","download"),S("link script img","crossorigin"),S("img","loading"),S("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&De([i.video,i.audio],A=>{delete A.children.audio,delete A.children.video}),De(Ga("a form meter progress dfn"),A=>{i[A]&&delete i[A].children[A]}),delete i.caption.children.table,delete i.script,i},du=e=>e==="-"?"remove":"add",Hi=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return W.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},wp=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return vo(Ga(e,","),o=>{const r=t.exec(o);if(r){const i=r[1],f=i?du(i):"replace",v=r[2],S=vo(Ga(r[3],"|"),A=>Hi(A).toArray());return[{operation:f,name:v,validChildren:S}]}else return[]})},_m=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:f}=t;return De(Ga(e,"|"),v=>{const S=o.exec(v);if(S){const A={},P=S[1],U=S[2].replace(/[\\:]:/g,":"),j=S[3],Y=S[4];if(P==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(U),A.required=!0),P==="-"){delete i[U],f.splice(pn.inArray(f,U),1);return}if(j&&(j==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:U,value:Y}),A.defaultValue=Y):j==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:U,value:Y}),A.forcedValue=Y):j==="<"&&(A.validValues=pn.makeMap(Y,"?"))),r.test(U)){const ie=A;t.attributePatterns=t.attributePatterns||[],ie.pattern=Ru(U),t.attributePatterns.push(ie)}else i[U]||f.push(U),i[U]=A}})},Sb=(e,t)=>{Io(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},K0=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return vo(Ga(t,","),r=>{const i=o.exec(r);if(i){const f=i[1],v=i[2],S=i[3],A=i[4],P=i[5],U={attributes:{},attributesOrder:[]};if(e.each(j=>Sb(j,U)),f==="#"?U.paddEmpty=!0:f==="-"&&(U.removeEmpty=!0),A==="!"&&(U.removeEmptyAttrs=!0),P&&_m(P,U),S&&(U.outputName=v),v==="@")if(e.isNone())e=W.some(U);else return[];return[S?{name:v,element:U,aliasName:S}:{name:v,element:U}]}else return[]})},fu={},Eh=pn.makeMap,$r=pn.each,Cp=pn.extend,Sf=pn.explode,tf=(e,t={})=>{const o=Eh(e," ",Eh(e.toUpperCase()," "));return Cp(o,t)},B1=e=>tf("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Zf=(e,t)=>{if(e){const o={};return J(e)&&(e={"*":e}),$r(e,(r,i)=>{o[i]=o[i.toUpperCase()]=t==="map"?Eh(r,/[, ]/):Sf(r,/[, ]/)}),o}else return},gl=(e={})=>{const t={},o={};let r=[];const i={},f={},v={},S=(Lo,er,al)=>{const Da=e[Lo];if(Da)return Eh(Da,/[, ]/,Eh(Da.toUpperCase(),/[, ]/));{let Jr=fu[Lo];return Jr||(Jr=tf(er,al),fu[Lo]=Jr),Jr}},A=e.schema??"html5",P=Ka(A);e.verify_html===!1&&(e.valid_elements="*[*]");const U=Zf(e.valid_styles),j=Zf(e.invalid_styles,"map"),Y=Zf(e.valid_classes,"map"),ie=S("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Oe=S("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ge=S("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ke=S("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),nt="td th iframe video audio object script code",rt=S("non_empty_elements",nt+" pre svg textarea summary",ge),ft=S("move_caret_before_on_enter_elements",nt+" table",ge),Lt="h1 h2 h3 h4 h5 h6",on=S("text_block_elements",Lt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),In=S("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",on),fo=S("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),$t=S("transparent_elements","a ins del canvas map"),At=S("wrap_block_elements","pre "+Lt);$r("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Lo=>{f[Lo]=new RegExp("</"+Lo+"[^>]*>","gi")});const Ht=Lo=>{const er=W.from(t["@"]),al=/[*?+]/;De(K0(er,Lo??""),({name:Da,element:Jr,aliasName:Wi})=>{if(Wi&&(t[Wi]=Jr),al.test(Da)){const Nf=Jr;Nf.pattern=Ru(Da),r.push(Nf)}else t[Da]=Jr})},Bn=Lo=>{r=[],De(sn(t),er=>{delete t[er]}),Ht(Lo)},jo=(Lo,er)=>{delete fu.text_block_elements,delete fu.block_elements;const al=er.extends?!md(er.extends):!1,Da=er.extends;if(o[Lo]=Da?o[Da]:{},i[Lo]=Da??Lo,rt[Lo.toUpperCase()]={},rt[Lo]={},al||(In[Lo.toUpperCase()]={},In[Lo]={}),Da&&!t[Lo]&&t[Da]){const Jr=tl(t[Da]);delete Jr.removeEmptyAttrs,delete Jr.removeEmpty,t[Lo]=Jr}else t[Lo]={attributesOrder:[],attributes:{}};if(Ae(er.attributes)){const Jr=Nf=>{Wi.attributesOrder.push(Nf),Wi.attributes[Nf]={}},Wi=t[Lo]??{};delete Wi.attributesDefault,delete Wi.attributesForced,delete Wi.attributePatterns,delete Wi.attributesRequired,Wi.attributesOrder=[],Wi.attributes={},De(er.attributes,Nf=>{const zd=Qa(A);Hi(Nf).each(({preset:np,name:T0})=>{np?T0==="global"&&De(zd,Jr):Jr(T0)})}),t[Lo]=Wi}if(Ze(er.padEmpty)){const Jr=t[Lo]??{};Jr.paddEmpty=er.padEmpty,t[Lo]=Jr}if(Ae(er.children)){const Jr={},Wi=zd=>{Jr[zd]={}},Nf=zd=>{zc(A,zd).each(np=>{De(np,Wi)})};De(er.children,zd=>{Hi(zd).each(({preset:np,name:T0})=>{np?Nf(T0):Wi(T0)})}),o[Lo]=Jr}Da&&Io(o,(Jr,Wi)=>{Jr[Da]&&(o[Wi]=Jr=Cp({},o[Wi]),Jr[Lo]=Jr[Da])})},Zo=Lo=>{De(km(Lo??""),({name:er,cloneName:al})=>{jo(er,{extends:al})})},Ks=(Lo,er)=>{v[Lo]=er},Lr=Lo=>{dt(Lo)?Io(Lo,(er,al)=>{const Da=er.componentUrl;J(Da)&&Ks(al,Da),jo(al,er)}):J(Lo)&&Zo(Lo)},ya=Lo=>{De(wp(Lo??""),({operation:er,name:al,validChildren:Da})=>{const Jr=er==="replace"?{"#comment":{}}:o[al],Wi=zd=>{er==="remove"?delete Jr[zd]:Jr[zd]={}},Nf=zd=>{zc(A,zd).each(np=>{De(np,Wi)})};De(Da,({preset:zd,name:np})=>{zd?Nf(np):Wi(np)}),o[al]=Jr})},La=Lo=>{const er=t[Lo];if(er)return er;let al=r.length;for(;al--;){const Da=r[al];if(Da.pattern.test(Lo))return Da}},wc=()=>{e.valid_elements?(Bn(e.valid_elements),$r(P,(Lo,er)=>{o[er]=Lo.children})):($r(P,(Lo,er)=>{t[er]={attributes:Lo.attributes,attributesOrder:Lo.attributesOrder},o[er]=Lo.children}),$r(Ga("strong/b em/i"),Lo=>{const er=Ga(Lo,"/");t[er[1]].outputName=er[0]}),$r(fo,(Lo,er)=>{t[er]&&(e.padd_empty_block_inline_children&&(t[er].paddInEmptyBlock=!0),t[er].removeEmpty=!0)}),$r(Ga("ol ul blockquote a table tbody"),Lo=>{t[Lo]&&(t[Lo].removeEmpty=!0)}),$r(Ga("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Lo=>{t[Lo]&&(t[Lo].paddEmpty=!0)}),$r(Ga("span"),Lo=>{t[Lo].removeEmptyAttrs=!0})),delete t.svg,Lr(e.custom_elements),ya(e.valid_children),Ht(e.extended_valid_elements),ya("+ol[ul|ol],+ul[ul|ol]"),$r({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Lo,er)=>{t[er]&&(t[er].parentsRequired=Ga(Lo))}),e.invalid_elements&&$r(Sf(e.invalid_elements),Lo=>{t[Lo]&&delete t[Lo]}),La("span")||Ht("span[!data-mce-type|*]")},Ff=Te(U),Un=Te(j),Eo=Te(Y),Dr=Te(ke),vr=Te(In),Yc=Te(on),Vt=Te(fo),Tn=Te(Object.seal(ge)),oo=Te(Oe),Vs=Te(rt),Ps=Te(ft),Zr=Te(ie),Mf=Te($t),Xp=Te(At),tp=Te(Object.seal(f)),dm=(Lo,er)=>{const al=o[Lo.toLowerCase()];return!!(al&&al[er.toLowerCase()])},Jv=(Lo,er)=>{const al=La(Lo);if(al)if(er){if(al.attributes[er])return!0;const Da=al.attributePatterns;if(Da){let Jr=Da.length;for(;Jr--;)if(Da[Jr].pattern.test(er))return!0}}else return!0;return!1},md=Lo=>Jn(vr(),Lo),uf=Lo=>!Do(Lo,"#")&&Jv(Lo)&&!md(Lo),A0=Lo=>Jn(Xp(),Lo)||uf(Lo),bC=Te(i),i4=Te(v);return wc(),{type:A,children:o,elements:t,getValidStyles:Ff,getValidClasses:Eo,getBlockElements:vr,getInvalidStyles:Un,getVoidElements:Tn,getTextBlockElements:Yc,getTextInlineElements:Vt,getBoolAttrs:Dr,getElementRule:La,getSelfClosingElements:oo,getNonEmptyElements:Vs,getMoveCaretBeforeOnEnterElements:Ps,getWhitespaceElements:Zr,getTransparentElements:Mf,getSpecialElements:tp,getComponentUrls:i4,isValidChild:dm,isValid:Jv,isBlock:md,isInline:uf,isWrapper:A0,getCustomElements:bC,addValidElements:Ht,setValidElements:Bn,addCustomElements:Lr,addValidChildren:ya}},qf=e=>({value:Ah(e)}),Ah=e=>Sc(e,"#").toUpperCase(),Y0=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},I1=e=>{const t=Y0(e.red)+Y0(e.green)+Y0(e.blue);return qf(t)},$1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,xf=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,a2=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),Sp=(e,t,o,r)=>{const i=parseInt(e,10),f=parseInt(t,10),v=parseInt(o,10),S=parseFloat(r);return a2(i,f,v,S)},X0=e=>$1.test(e)?"rgb":xf.test(e)?"rgba":"other",ai=e=>{const t=$1.exec(e);if(t!==null)return W.some(Sp(t[1],t[2],t[3],"1"));const o=xf.exec(e);return o!==null?W.some(Sp(o[1],o[2],o[3],o[4])):W.none()},Ef=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,rd=e=>ai(e).map(I1).map(t=>"#"+t.value).getOr(e),Om=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,f={};let v,S;const A=ci;t&&(v=t.getValidStyles(),S=t.getInvalidStyles());const P=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let j=0;j<P.length;j++)f[P[j]]=A+j,f[A+j]=P[j];const U={parse:j=>{const Y={};let ie=!1;const Oe=e.url_converter,ge=e.url_converter_scope||U,ke=($t,At,Ht)=>{const Bn=Y[$t+"-top"+At];if(!Bn)return;const jo=Y[$t+"-right"+At];if(!jo)return;const Zo=Y[$t+"-bottom"+At];if(!Zo)return;const Ks=Y[$t+"-left"+At];if(!Ks)return;const Lr=[Bn,jo,Zo,Ks];let ya=Lr.length-1;for(;ya--&&Lr[ya]===Lr[ya+1];);ya>-1&&Ht||(Y[$t+At]=ya===-1?Lr[0]:Lr.join(" "),delete Y[$t+"-top"+At],delete Y[$t+"-right"+At],delete Y[$t+"-bottom"+At],delete Y[$t+"-left"+At])},nt=$t=>{const At=Y[$t];if(!At)return;const Ht=At.indexOf(",")>-1?[At]:At.split(" ");let Bn=Ht.length;for(;Bn--;)if(Ht[Bn]!==Ht[0])return!1;return Y[$t]=Ht[0],!0},rt=($t,At,Ht,Bn)=>{nt(At)&&nt(Ht)&&nt(Bn)&&(Y[$t]=Y[At]+" "+Y[Ht]+" "+Y[Bn],delete Y[At],delete Y[Ht],delete Y[Bn])},ft=$t=>(ie=!0,f[$t]),Lt=($t,At)=>(ie&&($t=$t.replace(/\uFEFF[0-9]/g,Ht=>f[Ht])),At||($t=$t.replace(/\\([\'\";:])/g,"$1")),$t),on=$t=>String.fromCharCode(parseInt($t.slice(1),16)),In=$t=>$t.replace(/\\[0-9a-f]+/gi,on),fo=($t,At,Ht,Bn,jo,Zo)=>{if(jo=jo||Zo,jo)return jo=Lt(jo),"'"+jo.replace(/\'/g,"\\'")+"'";if(At=Lt(At||Ht||Bn||""),!e.allow_script_urls){const Ks=At.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ks)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ks))return""}return Oe&&(At=Oe.call(ge,At,"style")),"url('"+At.replace(/\'/g,"\\'")+"')"};if(j){j=j.replace(/[\u0000-\u001F]/g,""),j=j.replace(/\\[\"\';:\uFEFF]/g,ft).replace(/\"[^\"]+\"|\'[^\']+\'/g,At=>At.replace(/[;:]/g,ft));let $t;for(;$t=r.exec(j);){r.lastIndex=$t.index+$t[0].length;let At=$t[1].replace(i,"").toLowerCase(),Ht=$t[2].replace(i,"");if(At&&Ht){if(At=In(At),Ht=In(Ht),At.indexOf(A)!==-1||At.indexOf('"')!==-1||!e.allow_script_urls&&(At==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ht)))continue;At==="font-weight"&&Ht==="700"?Ht="bold":(At==="color"||At==="background-color")&&(Ht=Ht.toLowerCase()),X0(Ht)==="rgb"&&ai(Ht).each(Bn=>{Ht=rd(Ef(Bn)).toLowerCase()}),Ht=Ht.replace(o,fo),Y[At]=ie?Lt(Ht,!0):Ht}}ke("border","",!0),ke("border","-width"),ke("border","-color"),ke("border","-style"),ke("padding",""),ke("margin",""),rt("border","border-width","border-style","border-color"),Y.border==="medium none"&&delete Y.border,Y["border-image"]==="none"&&delete Y["border-image"]}return Y},serialize:(j,Y)=>{let ie="";const Oe=(ke,nt)=>{const rt=nt[ke];if(rt)for(let ft=0,Lt=rt.length;ft<Lt;ft++){const on=rt[ft],In=j[on];In&&(ie+=(ie.length>0?" ":"")+on+": "+In+";")}},ge=(ke,nt)=>{if(!S||!nt)return!0;let rt=S["*"];return rt&&rt[ke]?!1:(rt=S[nt],!(rt&&rt[ke]))};return Y&&v?(Oe("*",v),Oe(Y,v)):Io(j,(ke,nt)=>{ke&&ge(nt,Y)&&(ie+=(ie.length>0?" ":"")+nt+": "+ke+";")}),ie}};return U},i2={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},L1=e=>e instanceof Event||ce(e.initEvent),Q0=e=>e.isDefaultPrevented===ut||e.isDefaultPrevented===He,l2=e=>ct(e.preventDefault)||L1(e),ad=(e,t)=>{const o=t??{};for(const r in e)Jn(i2,r)||(o[r]=e[r]);return Ce(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ce(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Ce(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Th=(e,t,o,r)=>{const i=ad(t,r);return i.type=e,ct(i.target)&&(i.target=i.srcElement??o),l2(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=ut,ce(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=ut,ce(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=ut,i.stopPropagation()},Q0(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?ut:He,i.isPropagationStopped=i.cancelBubble===!0?ut:He,i.isImmediatePropagationStopped=He)),i},J0="mce-data-",Af=/^(?:mouse|contextmenu)|click/,id=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},Tf=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},Dm=e=>Ce(e)&&Af.test(e.type),Pm=(e,t)=>{const o=Th(e.type,e,document,t);if(Dm(e)&&Ft(e.pageX)&&!Ft(e.clientX)){const r=o.target.ownerDocument||document,i=r.documentElement,f=r.body,v=o;v.pageX=e.clientX+(i&&i.scrollLeft||f&&f.scrollLeft||0)-(i&&i.clientLeft||f&&f.clientLeft||0),v.pageY=e.clientY+(i&&i.scrollTop||f&&f.scrollTop||0)-(i&&i.clientTop||f&&f.clientTop||0)}return o},ev=(e,t,o)=>{const r=e.document,i={type:"ready"};if(o.domLoaded){t(i);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,v=()=>{Tf(e,"DOMContentLoaded",v),Tf(e,"load",v),o.domLoaded||(o.domLoaded=!0,t(i)),e=null};f()?v():id(e,"DOMContentLoaded",v),o.domLoaded||id(e,"load",v)};class kh{static Event=new kh;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=J0+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,i){const f=this;let v;const S=window,A=Y=>{f.executeHandlers(Pm(Y||S.event),P)};if(!t||fn(t)||bs(t))return r;let P;t[f.expando]?P=t[f.expando]:(P=f.count++,t[f.expando]=P,f.events[P]={}),i=i||t;const U=o.split(" ");let j=U.length;for(;j--;){let Y=U[j],ie=A,Oe=!1,ge=!1;if(Y==="DOMContentLoaded"&&(Y="ready"),f.domLoaded&&Y==="ready"&&t.readyState==="complete"){r.call(i,Pm({type:Y}));continue}!f.hasFocusIn&&(Y==="focusin"||Y==="focusout")&&(Oe=!0,ge=Y==="focusin"?"focus":"blur",ie=ke=>{const nt=Pm(ke||S.event);nt.type=nt.type==="focus"?"focusin":"focusout",f.executeHandlers(nt,P)}),v=f.events[P][Y],v?Y==="ready"&&f.domLoaded?r(Pm({type:Y})):v.push({func:r,scope:i}):(f.events[P][Y]=v=[{func:r,scope:i}],v.fakeName=ge,v.capture=Oe,v.nativeHandler=ie,Y==="ready"?ev(t,ie,f):id(t,ge||Y,ie,Oe))}return t=v=null,r}unbind(t,o,r){if(!t||fn(t)||bs(t))return this;const i=t[this.expando];if(i){let f=this.events[i];if(o){const v=o.split(" ");let S=v.length;for(;S--;){const A=v[S],P=f[A];if(P){if(r){let U=P.length;for(;U--;)if(P[U].func===r){const j=P.nativeHandler,Y=P.fakeName,ie=P.capture,Oe=P.slice(0,U).concat(P.slice(U+1));Oe.nativeHandler=j,Oe.fakeName=Y,Oe.capture=ie,f[A]=Oe}}(!r||P.length===0)&&(delete f[A],Tf(t,P.fakeName||A,P.nativeHandler,P.capture))}}}else Io(f,(v,S)=>{Tf(t,v.fakeName||S,v.nativeHandler,v.capture)}),f={};for(const v in f)if(Jn(f,v))return this;delete this.events[i];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||fn(t)||bs(t))return this;const i=Pm({type:o,target:t},r);do{const f=t[this.expando];f&&this.executeHandlers(i,f),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return this}clean(t){if(!t||fn(t)||bs(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],i=r&&r[t.type];if(i)for(let f=0,v=i.length;f<v;f++){const S=i[f];if(S&&S.func.call(S.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}const Wl=pn.each,DC=pn.grep,tv="data-mce-style",nv=pn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),xg=(e,t,o)=>{ct(o)||o===""?Hs(e,t):Nr(e,t,o)},H1=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),xp=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const f=i.nodeType;t&&fn(i)&&(f===r||!i.data.length)||(o++,r=f)}return o},ov=(e,t)=>{const o=Ur(t,"style"),r=e.serialize(e.parse(o),cs(t));xg(t,tv,r)},z1=(e,t)=>Pt(e)?Jn(nv,t)?e+"":e+"px":e,sv=(e,t,o)=>{const r=H1(t);ct(o)||o===""?Yu(e,r):ki(e,r,z1(o,r))},rv=(e,t,o)=>{const r=t.keep_values,i={set:(v,S,A)=>{const P=Pe.fromDom(v);ce(t.url_converter)&&Ce(S)&&(S=t.url_converter.call(t.url_converter_scope||o(),String(S),A,v));const U="data-mce-"+A;xg(P,U,S),xg(P,A,S)},get:(v,S)=>{const A=Pe.fromDom(v);return Ur(A,"data-mce-"+S)||Ur(A,S)}},f={style:{set:(v,S)=>{const A=Pe.fromDom(v);r&&xg(A,tv,S),Hs(A,"style"),J(S)&&Ol(A,e.parse(S))},get:v=>{const S=Pe.fromDom(v),A=Ur(S,tv)||Ur(S,"style");return e.serialize(e.parse(A),cs(S))}}};return r&&(f.href=f.src=i),f},Ns=(e,t={})=>{const o={},r=window,i={};let f=0;const v=!0,S=!0,A=ef.forElement(Pe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:vt=>{const _t=t.crossOrigin;if(ce(_t))return _t(vt,"stylesheet")}}),P=[],U=t.schema?t.schema:gl({}),j=Om({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Y=t.ownEvents?new kh:kh.Event,ie=U.getBlockElements(),Oe=vt=>J(vt)?Jn(ie,vt):_n(vt)&&(Jn(ie,vt.nodeName)||Ma(U,vt)),ge=vt=>vt&&e&&J(vt)?e.getElementById(vt):vt,ke=vt=>{const _t=ge(vt);return Ce(_t)?Pe.fromDom(_t):null},nt=(vt,_t,Zn="")=>{let kn;const Yo=ke(vt);if(Ce(Yo)&&da(Yo)){const Cr=rH[_t];Cr&&Cr.get?kn=Cr.get(Yo.dom,_t):kn=Ur(Yo,_t)}return Ce(kn)?kn:Zn},rt=vt=>{const _t=ge(vt);return ct(_t)?[]:_t.attributes},ft=(vt,_t,Zn)=>{Eo(vt,kn=>{if(_n(kn)){const Yo=Pe.fromDom(kn),Cr=Zn===""?null:Zn,Al=Ur(Yo,_t),k0=rH[_t];k0&&k0.set?k0.set(Yo.dom,Cr,_t):xg(Yo,_t,Cr),Al!==Cr&&t.onSetAttrib&&t.onSetAttrib({attrElm:Yo.dom,attrName:_t,attrValue:Cr})}})},Lt=(vt,_t)=>vt.cloneNode(_t),on=()=>t.root_element||e.body,In=vt=>{const _t=cu(vt);return{x:_t.x,y:_t.y,w:_t.width,h:_t.height}},fo=(vt,_t)=>pr(e.body,ge(vt),_t),$t=(vt,_t,Zn)=>{Eo(vt,kn=>{const Yo=Pe.fromDom(kn);sv(Yo,_t,Zn),t.update_styles&&ov(j,Yo)})},At=(vt,_t)=>{Eo(vt,Zn=>{const kn=Pe.fromDom(Zn);Io(_t,(Yo,Cr)=>{sv(kn,Cr,Yo)}),t.update_styles&&ov(j,kn)})},Ht=(vt,_t,Zn)=>{const kn=ge(vt);if(!(ct(kn)||!Vl(kn)&&!_C(kn)))return Zn?pa(Pe.fromDom(kn),H1(_t)):(_t=_t.replace(/-(\D)/g,(Yo,Cr)=>Cr.toUpperCase()),_t==="float"&&(_t="cssFloat"),kn.style?kn.style[_t]:void 0)},Bn=vt=>{const _t=ge(vt);if(!_t)return{w:0,h:0};let Zn=Ht(_t,"width"),kn=Ht(_t,"height");return(!Zn||Zn.indexOf("px")===-1)&&(Zn="0"),(!kn||kn.indexOf("px")===-1)&&(kn="0"),{w:parseInt(Zn,10)||_t.offsetWidth||_t.clientWidth,h:parseInt(kn,10)||_t.offsetHeight||_t.clientHeight}},jo=vt=>{const _t=ge(vt),Zn=fo(_t),kn=Bn(_t);return{x:Zn.x,y:Zn.y,w:kn.w,h:kn.h}},Zo=(vt,_t)=>{if(!vt)return!1;const Zn=Ae(vt)?vt:[vt];return Ve(Zn,kn=>_c(Pe.fromDom(kn),_t))},Ks=(vt,_t,Zn,kn)=>{const Yo=[];let Cr=ge(vt);kn=kn===void 0;const Al=Zn||(on().nodeName!=="BODY"?on().parentNode:null);if(J(_t))if(_t==="*")_t=_n;else{const k0=_t;_t=d1=>Zo(d1,k0)}for(;Cr&&!(Cr===Al||ct(Cr.nodeType)||Vf(Cr)||yg(Cr));){if(!_t||_t(Cr))if(kn)Yo.push(Cr);else return[Cr];Cr=Cr.parentNode}return kn?Yo:null},Lr=(vt,_t,Zn)=>{const kn=Ks(vt,_t,Zn,!1);return kn&&kn.length>0?kn[0]:null},ya=(vt,_t,Zn)=>{let kn=_t;if(vt){J(_t)&&(kn=Yo=>Zo(Yo,_t));for(let Yo=vt[Zn];Yo;Yo=Yo[Zn])if(ce(kn)&&kn(Yo))return Yo}return null},La=(vt,_t)=>ya(vt,_t,"nextSibling"),wc=(vt,_t)=>ya(vt,_t,"previousSibling"),Ff=vt=>ce(vt.querySelectorAll),Un=(vt,_t)=>{const Zn=ge(_t)??t.root_element??e;return Ff(Zn)?po(Zn.querySelectorAll(vt)):[]},Eo=function(vt,_t,Zn){const kn=Zn??this;if(Ae(vt)){const Yo=[];return Wl(vt,(Cr,Al)=>{const k0=ge(Cr);k0&&Yo.push(_t.call(kn,k0,Al))}),Yo}else{const Yo=ge(vt);return Yo?_t.call(kn,Yo):!1}},Dr=(vt,_t)=>{Eo(vt,Zn=>{Io(_t,(kn,Yo)=>{ft(Zn,Yo,kn)})})},vr=(vt,_t)=>{Eo(vt,Zn=>{const kn=Pe.fromDom(Zn);Gu(kn,_t)})},Yc=(vt,_t,Zn,kn,Yo)=>Eo(vt,Cr=>{const Al=J(_t)?e.createElement(_t):_t;return Ce(Zn)&&Dr(Al,Zn),kn&&(!J(kn)&&kn.nodeType?Al.appendChild(kn):J(kn)&&vr(Al,kn)),Yo?Al:Cr.appendChild(Al)}),Vt=(vt,_t,Zn)=>Yc(e.createElement(vt),vt,_t,Zn,!0),Tn=fc.decode,oo=fc.encodeAllRaw,Vs=(vt,_t,Zn="")=>{let kn="<"+vt;for(const Yo in _t)as(_t,Yo)&&(kn+=" "+Yo+'="'+oo(_t[Yo])+'"');return xc(Zn)&&Jn(U.getVoidElements(),vt)?kn+" />":kn+">"+Zn+"</"+vt+">"},Ps=vt=>{const _t=e.createElement("div"),Zn=e.createDocumentFragment();Zn.appendChild(_t),vt&&(_t.innerHTML=vt);let kn;for(;kn=_t.firstChild;)Zn.appendChild(kn);return Zn.removeChild(_t),Zn},Zr=(vt,_t)=>Eo(vt,Zn=>{const kn=Pe.fromDom(Zn);return _t&&De(fa(kn),Yo=>{or(Yo)&&Yo.dom.length===0?Is(Yo):ui(kn,Yo)}),Is(kn),kn.dom}),Mf=vt=>Eo(vt,_t=>{const Zn=_t.attributes;for(let kn=Zn.length-1;kn>=0;kn--)_t.removeAttributeNode(Zn.item(kn))}),Xp=vt=>j.parse(vt),tp=(vt,_t)=>j.serialize(vt,_t),dm=vt=>{if(wC!==Ns.DOM&&e===document){if(o[vt])return;o[vt]=!0}let _t=e.getElementById("mceDefaultStyles");if(!_t){_t=e.createElement("style"),_t.id="mceDefaultStyles",_t.type="text/css";const Zn=e.head;Zn.firstChild?Zn.insertBefore(_t,Zn.firstChild):Zn.appendChild(_t)}_t.styleSheet?_t.styleSheet.cssText+=vt:_t.appendChild(e.createTextNode(vt))},Jv=vt=>{vt||(vt=""),De(vt.split(","),_t=>{i[_t]=!0,A.load(_t).catch(lt)})},md=(vt,_t,Zn)=>{Eo(vt,kn=>{if(_n(kn)){const Yo=Pe.fromDom(kn),Cr=_t.split(" ");De(Cr,Al=>{Ce(Zn)?(Zn?ic:aa)(Yo,Al):Di(Yo,Al)})}})},uf=(vt,_t)=>{md(vt,_t,!0)},A0=(vt,_t)=>{md(vt,_t,!1)},bC=(vt,_t)=>{const Zn=ke(vt),kn=_t.split(" ");return Ce(Zn)&&ts(kn,Yo=>pg(Zn,Yo))},i4=vt=>{Eo(vt,_t=>Yu(Pe.fromDom(_t),"display"))},Lo=vt=>{Eo(vt,_t=>ki(Pe.fromDom(_t),"display","none"))},er=vt=>{const _t=ke(vt);return Ce(_t)&&tn(Br(_t,"display"),"none")},al=vt=>(vt||"mce_")+f++,Da=vt=>{const _t=ke(vt);return Ce(_t)?_n(_t.dom)?_t.dom.outerHTML:C1(_t):""},Jr=(vt,_t)=>{Eo(vt,Zn=>{_n(Zn)&&(Zn.outerHTML=_t)})},Wi=(vt,_t)=>{const Zn=ge(_t);return Eo(vt,kn=>{const Yo=Zn?.parentNode,Cr=Zn?.nextSibling;return Yo&&(Cr?Yo.insertBefore(kn,Cr):Yo.appendChild(kn)),kn})},Nf=(vt,_t,Zn)=>Eo(_t,kn=>{const Yo=Ae(_t)?vt.cloneNode(!0):vt;return Zn&&Wl(DC(kn.childNodes),Cr=>{Yo.appendChild(Cr)}),kn.parentNode?.replaceChild(Yo,kn),kn}),zd=(vt,_t)=>{if(vt.nodeName!==_t.toUpperCase()){const Zn=Vt(_t);return Wl(rt(vt),kn=>{ft(Zn,kn.nodeName,nt(vt,kn.nodeName))}),Nf(Zn,vt,!0),Zn}else return vt},np=(vt,_t)=>{let Zn=vt;for(;Zn;){let kn=_t;for(;kn&&Zn!==kn;)kn=kn.parentNode;if(Zn===kn)break;Zn=Zn.parentNode}return!Zn&&vt.ownerDocument?vt.ownerDocument.documentElement:Zn},T0=(vt,_t,Zn)=>Wt(_t)?bo(U,vt,{...Zn,isContent:Yo=>{const Cr=Yo.nodeName.toLowerCase();return!!_t[Cr]}}):bo(U,vt,Zn),l4=()=>e.createRange(),c4=(vt,_t,Zn)=>{let kn=l4(),Yo,Cr;if(vt&&_t&&vt.parentNode&&_t.parentNode){const Al=vt.parentNode;return kn.setStart(Al,xp(vt)),kn.setEnd(_t.parentNode,xp(_t)),Yo=kn.extractContents(),kn=l4(),kn.setStart(_t.parentNode,xp(_t)+1),kn.setEnd(Al,xp(vt)+1),Cr=kn.extractContents(),Al.insertBefore(Sg(wC,Yo,U),vt),Zn?Al.insertBefore(Zn,vt):Al.insertBefore(_t,vt),Al.insertBefore(Sg(wC,Cr,U),vt),Zr(vt),Zn||_t}else return},DE=(vt,_t,Zn,kn)=>{if(Ae(vt)){let Yo=vt.length;const Cr=[];for(;Yo--;)Cr[Yo]=DE(vt[Yo],_t,Zn,kn);return Cr}else return t.collect&&(vt===e||vt===r)&&P.push([vt,_t,Zn,kn]),Y.bind(vt,_t,Zn,kn||wC)},u1=(vt,_t,Zn)=>{if(Ae(vt)){let kn=vt.length;const Yo=[];for(;kn--;)Yo[kn]=u1(vt[kn],_t,Zn);return Yo}else{if(P.length>0&&(vt===e||vt===r)){let kn=P.length;for(;kn--;){const[Yo,Cr,Al]=P[kn];vt===Yo&&(!_t||_t===Cr)&&(!Zn||Zn===Al)&&Y.unbind(Yo,Cr,Al)}}return Y.unbind(vt,_t,Zn)}},yC=(vt,_t,Zn)=>Y.dispatch(vt,_t,Zn),m5=(vt,_t,Zn)=>Y.dispatch(vt,_t,Zn),u4=vt=>{if(vt&&Vl(vt)){const _t=vt.getAttribute("data-mce-contenteditable");return _t&&_t!=="inherit"?_t:vt.contentEditable!=="inherit"?vt.contentEditable:null}else return null},wC={doc:e,settings:t,win:r,files:i,stdMode:v,boxModel:S,styleSheetLoader:A,boundEvents:P,styles:j,schema:U,events:Y,isBlock:Oe,root:null,clone:Lt,getRoot:on,getViewPort:In,getRect:jo,getSize:Bn,getParent:Lr,getParents:Ks,get:ge,getNext:La,getPrev:wc,select:Un,is:Zo,add:Yc,create:Vt,createHTML:Vs,createFragment:Ps,remove:Zr,setStyle:$t,getStyle:Ht,setStyles:At,removeAllAttribs:Mf,setAttrib:ft,setAttribs:Dr,getAttrib:nt,getPos:fo,parseStyle:Xp,serializeStyle:tp,addStyle:dm,loadCSS:Jv,addClass:uf,removeClass:A0,hasClass:bC,toggleClass:md,show:i4,hide:Lo,isHidden:er,uniqueId:al,setHTML:vr,getOuterHTML:Da,setOuterHTML:Jr,decode:Tn,encode:oo,insertAfter:Wi,replace:Nf,rename:zd,findCommonAncestor:np,run:Eo,getAttribs:rt,isEmpty:T0,createRng:l4,nodeIndex:xp,split:c4,bind:DE,unbind:u1,fire:m5,dispatch:yC,getContentEditable:u4,getContentEditableParent:vt=>{const _t=on();let Zn=null;for(let kn=vt;kn&&kn!==_t&&(Zn=u4(kn),Zn===null);kn=kn.parentNode);return Zn},isEditable:vt=>{if(Ce(vt)){const _t=_n(vt)?vt:vt.parentElement;return Ce(_t)&&Vl(_t)&&ku(Pe.fromDom(_t))}else return!1},destroy:()=>{if(P.length>0){let vt=P.length;for(;vt--;){const[_t,Zn,kn]=P[vt];Y.unbind(_t,Zn,kn)}}Io(i,(vt,_t)=>{A.unload(_t),delete i[_t]})},isChildOf:(vt,_t)=>vt===_t||_t.contains(vt),dumpRng:vt=>"startContainer: "+vt.startContainer.nodeName+", startOffset: "+vt.startOffset+", endContainer: "+vt.endContainer.nodeName+", endOffset: "+vt.endOffset},rH=rv(j,t,Te(wC));return wC};Ns.DOM=Ns(document),Ns.nodeIndex=xp;const _h=Ns.DOM,zs=0,mu=1,Ep=2,Ap=3;class dr{static ScriptLoader=new dr;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(t={}){this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,r)=>{const i=_h,f=document;let v;const S=()=>{i.remove(U),v&&(v.onerror=v.onload=v=null)},A=()=>{S(),o()},P=()=>{S(),r("Failed to load script: "+t)},U=i.uniqueId();v=f.createElement("script"),v.id=U,v.type="text/javascript",v.src=pn._addCacheSuffix(t),this.settings.referrerPolicy&&i.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy);const j=this.settings.crossOrigin;if(ce(j)){const Y=j(t);Y!==void 0&&i.setAttrib(v,"crossorigin",Y)}v.onload=A,v.onerror=P,(f.head||f.body).appendChild(v)})}isDone(t){return this.states[t]===Ep}markDone(t){this.states[t]=Ep}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=zs),new Promise((i,f)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:i,reject:f})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(A,P)=>{_o(o.scriptLoadedCallbacks,P).each(U=>{De(U,j=>j[A](P))}),delete o.scriptLoadedCallbacks[P]},i=A=>{const P=at(A,U=>U.status==="rejected");return P.length>0?Promise.reject(vo(P,({reason:U})=>Ae(U)?U:[U])):Promise.resolve()},f=A=>Promise.allSettled(qe(A,P=>o.states[P]===Ep?(r("resolve",P),Promise.resolve()):o.states[P]===Ap?(r("reject",P),Promise.reject(P)):(o.states[P]=mu,o.loadScript(P).then(()=>{o.states[P]=Ep,r("resolve",P);const U=o.queue;return U.length>0?(o.queue=[],f(U).then(i)):Promise.resolve()},()=>(o.states[P]=Ap,r("reject",P),Promise.reject(P)))))),v=A=>(o.loading=!0,f(A).then(P=>{o.loading=!1;const U=o.queueLoadedCallbacks.shift();return W.from(U).each(Ct),i(P)})),S=Ql(t);return o.loading?new Promise((A,P)=>{o.queueLoadedCallbacks.push(()=>{v(S).then(A,P)})}):v(S)}getScriptAttributes(t){const o={};this.settings.referrerPolicy&&(o.referrerpolicy=this.settings.referrerPolicy);const r=this.settings.crossOrigin;if(ce(r)){const i=r(t);J(i)&&(o.crossorigin=i)}return o}}const Oh=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},c2=e=>dt(e)&&Jn(e,"raw"),av=e=>Ae(e)&&e.length>1,u={},p=Kn("en"),x=()=>_o(u,p.get()),Nn={getData:()=>_r(u,e=>({...e})),setCode:e=>{e&&p.set(e)},getCode:()=>p.get(),add:(e,t)=>{let o=u[e];o||(u[e]=o={});const r=qe(sn(t),i=>i.toLowerCase());Io(t,(i,f)=>{const v=f.toLowerCase();v!==f&&Oh(r,v)?(Jn(t,v)||(o[v]=i),o[f]=i):o[v]=i})},translate:e=>{const t=x().getOr({}),o=S=>ce(S)?Object.prototype.toString.call(S):r(S)?"":""+S,r=S=>S===""||S===null||S===void 0,i=S=>{const A=o(S);return Jn(t,A)?o(t[A]):_o(t,A.toLowerCase()).map(o).getOr(A)},f=S=>S.replace(/{context:\w+}$/,""),v=S=>S.replaceAll("...",Xl);if(r(e))return"";if(c2(e))return v(o(e.raw));if(av(e)){const S=e.slice(1),A=i(e[0]).replace(/\{([0-9]+)\}/g,(P,U)=>Jn(S,U)?o(S[U]):P);return v(f(A))}return v(f(i(e)))},isRtl:()=>x().bind(e=>_o(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Jn(u,e)},Pn=()=>{const e=[],t={},o={},r=[],i=(ge,ke)=>{const nt=at(r,rt=>rt.name===ge&&rt.state===ke);De(nt,rt=>rt.resolve())},f=ge=>Jn(t,ge),v=ge=>Jn(o,ge),S=ge=>{if(o[ge])return o[ge].instance},A=(ge,ke)=>{const nt=Nn.getCode(),rt=","+(ke||"")+",";!nt||ke&&rt.indexOf(","+nt+",")===-1||dr.ScriptLoader.add(t[ge]+"/langs/"+nt+".js")},P=(ge,ke)=>{Pn.languageLoad!==!1&&(f(ge)?A(ge,ke):Oe(ge,"loaded").then(()=>A(ge,ke)))},U=(ge,ke)=>(e.push(ke),o[ge]={instance:ke},i(ge,"added"),ke),j=ge=>{delete t[ge],delete o[ge]},Y=(ge,ke)=>J(ke)?J(ge)?{prefix:"",resource:ke,suffix:""}:{prefix:ge.prefix,resource:ke,suffix:ge.suffix}:ke,ie=(ge,ke)=>{if(t[ge])return Promise.resolve();let nt=J(ke)?ke:ke.prefix+ke.resource+ke.suffix;nt.indexOf("/")!==0&&nt.indexOf("://")===-1&&(nt=Pn.baseURL+"/"+nt),t[ge]=nt.substring(0,nt.lastIndexOf("/"));const rt=()=>(i(ge,"loaded"),Promise.resolve());return o[ge]?rt():dr.ScriptLoader.add(nt).then(rt)},Oe=(ge,ke="added")=>ke==="added"&&v(ge)||ke==="loaded"&&f(ge)?Promise.resolve():new Promise(nt=>{r.push({name:ge,state:ke,resolve:nt})});return{items:e,urls:t,lookup:o,get:S,requireLangPack:P,add:U,remove:j,createUrl:Y,load:ie,waitFor:Oe}};Pn.languageLoad=!0,Pn.baseURL="",Pn.PluginManager=Pn(),Pn.ThemeManager=Pn(),Pn.ModelManager=Pn();const Ln=Te("mce-annotation"),Ro=Te("data-mce-annotation"),zo=Te("data-mce-annotation-uid"),ns=Te("data-mce-annotation-active"),pi=Te("data-mce-annotation-classes"),Zt=Te("data-mce-annotation-attrs"),St=e=>t=>_s(t,e),Kt=(e,t)=>{const o=e.selection.getRng(),r=Pe.fromDom(o.startContainer),i=Pe.fromDom(e.getBody()),f=t.fold(()=>"."+Ln(),A=>`[${Ro()}="${A}"]`),v=Mr(r,o.startOffset).getOr(r);return Xi(v,f,St(i)).bind(A=>_l(A,`${zo()}`).bind(P=>_l(A,`${Ro()}`).map(U=>{const j=Ts(e,P);return{uid:P,name:U,elements:j}})))},lo=e=>da(e)&&pg(e,Ln()),gs=(e,t)=>Er(e,"data-mce-bogus")||Ss(e,'[data-mce-bogus="all"]',St(t)),Ts=(e,t)=>{const o=Pe.fromDom(e.getBody()),r=Ot(o,`[${zo()}="${t}"]`);return at(r,i=>!gs(i,o))},ys=(e,t)=>{const o=Pe.fromDom(e.getBody()),r=Ot(o,`[${Ro()}="${t}"]`),i={};return De(r,f=>{if(!gs(f,o)){const v=Ur(f,zo()),S=_o(i,v).getOr([]);i[v]=S.concat([f])}}),i},js=(e,t)=>{const o=Kn({}),r=()=>({listeners:[],previous:Ls()}),i=(j,Y)=>{f(j,ie=>(Y(ie),ie))},f=(j,Y)=>{const ie=o.get(),Oe=_o(ie,j).getOrThunk(r),ge=Y(Oe);ie[j]=ge,o.set(ie)},v=(j,Y,ie)=>{i(j,Oe=>{De(Oe.listeners,ge=>ge(!0,j,{uid:Y,nodes:qe(ie,ke=>ke.dom)}))})},S=j=>{i(j,Y=>{De(Y.listeners,ie=>ie(!1,j))})},A=(j,Y)=>{De(Ts(e,j),ie=>{Y?Nr(ie,ns(),"true"):Hs(ie,ns())})},P=Yl(()=>{const j=Xs(t.getNames());De(j,Y=>{f(Y,ie=>{const Oe=ie.previous.get();return Kt(e,W.some(Y)).fold(()=>{Oe.each(ge=>{S(Y),ie.previous.clear(),A(ge,!1)})},({uid:ge,name:ke,elements:nt})=>{tn(Oe,ge)||(Oe.each(rt=>A(rt,!1)),v(ke,ge,nt),ie.previous.set(ge),A(ge,!0))}),{previous:ie.previous,listeners:ie.listeners}})})},30);return e.on("remove",()=>{P.cancel()}),e.on("NodeChange",()=>{P.throttle()}),{addListener:(j,Y)=>{f(j,ie=>({previous:ie.previous,listeners:ie.listeners.concat([Y])}))}}},hl=(e,t)=>{const o=Ro(),r=f=>W.from(f.attr(o)).bind(t.lookup),i=f=>{f.attr(zo(),null),f.attr(Ro(),null),f.attr(ns(),null);const v=W.from(f.attr(Zt())).map(U=>U.split(",")).getOr([]),S=W.from(f.attr(pi())).map(U=>U.split(",")).getOr([]);De(v,U=>f.attr(U,null));const A=f.attr("class")?.split(" ")??[],P=ds(A,[Ln()].concat(S));f.attr("class",P.length>0?P.join(" "):null),f.attr(pi(),null),f.attr(Zt(),null)};e.serializer.addTempAttr(ns()),e.serializer.addAttributeFilter(o,f=>{for(const v of f)r(v).each(S=>{S.persistent===!1&&(v.name==="span"?v.unwrap():i(v))})})},oa=()=>{const e={};return{register:(i,f)=>{e[i]={name:i,settings:f}},lookup:i=>_o(e,i).map(f=>f.settings),getNames:()=>sn(e)}},Rm=(e,t,o=He)=>{const r=new Fa(e,t),i=f=>{let v;do v=r[f]();while(v&&!fn(v)&&!o(v));return W.from(v).filter(fn)};return{current:()=>W.from(r.current()).filter(fn),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},Gf=(e,t)=>{const o=t||(v=>e.isBlock(v)||ka(v)||sr(v)),r=(v,S,A,P)=>{if(fn(v)){const U=P(v,S,v.data);if(U!==-1)return W.some({container:v,offset:U})}return A().bind(U=>r(U.container,U.offset,A,P))};return{backwards:(v,S,A,P)=>{const U=Rm(v,P??e.getRoot(),o);return r(v,S,()=>U.prev().map(j=>({container:j,offset:j.length})),A).getOrNull()},forwards:(v,S,A,P)=>{const U=Rm(v,P??e.getRoot(),o);return r(v,S,()=>U.next().map(j=>({container:j,offset:0})),A).getOrNull()}}},u2=["td","th"],jE=["thead","tbody","tfoot"],x4=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],E4=["li","dd","dt"],ZE=["ul","ol","dl"],PC=["pre","script","textarea","style"],Tp=e=>{let t;return o=>(t=t||Ys(e,ut),Jn(t,cs(o)))},qE=e=>cs(e)==="table",Kf=e=>da(e)&&cs(e)==="br",pu=Tp(x4),kf=Tp(ZE),Mu=Tp(E4),d2=Tp(jE),U1=Tp(u2),f2=Tp(PC),RC=e=>{const t=[];let o=e.dom;for(;o;)t.push(Pe.fromDom(o)),o=o.lastChild;return t},A4=e=>{const t=Ot(e,"br"),o=at(RC(e).slice(-1),Kf);t.length===o.length&&De(o,Is)},Dh=()=>{const e=Pe.fromTag("br");return Nr(e,"data-mce-bogus","1"),e},Ph=e=>{Wa(e),As(e,Dh())},FC=(e,t)=>{Ra(e).each(o=>{Eu(o).each(r=>{t.isBlock(cs(e))&&Kf(o)&&t.isBlock(cs(r))&&Is(o)})})},Sl=ci,xb=bi,ld=il,m2=e=>e.insertContent(Sl,{preserve_zwsp:!0}),Xr=_n,Fm=fn,Eg=e=>(Fm(e)&&(e=e.parentNode),Xr(e)&&e.hasAttribute("data-mce-caret")),Mm=e=>Fm(e)&&xb(e.data),nf=e=>Eg(e)||Mm(e),p2=e=>e.firstChild!==e.lastChild||!ka(e.firstChild),GE=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Sl),i=e.parentNode;if(t){const f=e.previousSibling;if(Fm(f)){if(nf(f))return f;if(Rh(f))return f.splitText(f.data.length-1)}i?.insertBefore(r,e)}else{const f=e.nextSibling;if(Fm(f)){if(nf(f))return f;if(Nd(f))return f.splitText(1),f}e.nextSibling?i?.insertBefore(r,e.nextSibling):i?.appendChild(r)}return r},Ag=e=>{const t=e.container();return fn(t)?t.data.charAt(e.offset())===Sl||e.isAtStart()&&Mm(t.previousSibling):!1},V1=e=>{const t=e.container();return fn(t)?t.data.charAt(e.offset()-1)===Sl||e.isAtEnd()&&Mm(t.nextSibling):!1},MC=(e,t,o)=>{const i=(t.ownerDocument??document).createElement(e);i.setAttribute("data-mce-caret",o?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Dh().dom);const f=t.parentNode;return o?f?.insertBefore(i,t):t.nextSibling?f?.insertBefore(i,t.nextSibling):f?.appendChild(i),i},Nd=e=>Fm(e)&&e.data[0]===Sl,Rh=e=>Fm(e)&&e.data[e.data.length-1]===Sl,mc=e=>{const t=e.getElementsByTagName("br"),o=t[t.length-1];Cf(o)&&o.parentNode?.removeChild(o)},Yf=e=>e&&e.hasAttribute("data-mce-caret")?(mc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,g2=e=>Eg(e.startContainer),W1=Math.round,Fh=e=>e?{left:W1(e.left),top:W1(e.top),bottom:W1(e.bottom),right:W1(e.right),width:W1(e.width),height:W1(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Eb=(e,t)=>(e=Fh(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),NC=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,h2=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,j1=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:h2(t.top-e.bottom,e,t)},Mh=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:h2(t.bottom-e.top,e,t),BC=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,Ab=e=>kt(e,(t,o)=>t.fold(()=>W.some(o),r=>{const i=Math.min(o.left,r.left),f=Math.min(o.top,r.top),v=Math.max(o.right,r.right),S=Math.max(o.bottom,r.bottom);return W.some({top:f,right:v,bottom:S,left:i,width:v-i,height:S-f})}),W.none()),IC=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-i)*(o-i))},KE=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),xl=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},Nh=(e,t)=>{if(_n(e)&&e.hasChildNodes()){const o=e.childNodes,r=Po(t,0,o.length-1);return o[r]}else return e},Bh=(e,t)=>{if(!(t<0&&_n(e)&&e.hasChildNodes()))return Nh(e,t)},YE=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),v2=e=>J(e)&&e.charCodeAt(0)>=768&&YE.test(e),$C=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},Tb=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},b2=Du,XE=sr,T4=ka,kb=fn,vl=Pd(["script","style","textarea"]),nl=Pd(["img","input","textarea","hr","iframe","video","audio","object","embed"]),pc=Pd(["table"]),jl=nf,Ba=e=>jl(e)?!1:kb(e)?!vl(e.parentNode):nl(e)||T4(e)||pc(e)||iv(e),ol=e=>_n(e)&&e.getAttribute("unselectable")==="true",iv=e=>!ol(e)&&XE(e),LC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(iv(o))return!1;if(b2(o))return!0}return!0},HC=e=>iv(e)?!kt(po(e.getElementsByTagName("*")),(t,o)=>t||b2(o),!1):!1,QE=e=>nl(e)||HC(e),y2=(e,t)=>Ba(e)&&LC(e,t),zC=_n,UC=Ba,w2=td("display","block table"),VC=td("float","left right"),lv=Tb(zC,UC,$e(VC)),JE=$e(td("white-space","pre pre-line pre-wrap")),_b=fn,Nm=ka,C2=Ns.nodeIndex,Ob=Bh,cv=e=>e?e.createRange():Ns.DOM.createRng(),Z1=e=>J(e)&&/[\r\n\t ]/.test(e),Db=e=>!!e.setStart&&!!e.setEnd,S2=e=>{const t=e.startContainer,o=e.startOffset;if(Z1(e.toString())&&JE(t.parentNode)&&fn(t)){const r=t.data;if(Z1(r[o-1])||Z1(r[o+1]))return!0}return!1},Pb=e=>{const t=e.ownerDocument,o=cv(t),r=t.createTextNode(xr),i=e.parentNode;i.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=Fh(o.getBoundingClientRect());return i.removeChild(r),f},x2=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===o&&fn(o)&&r===0&&i===1){const f=e.cloneRange();return f.setEndAfter(o),Nu(f)}else return null},q1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Nu=e=>{let t;const o=e.getClientRects();return o.length>0?t=Fh(o[0]):t=Fh(e.getBoundingClientRect()),!Db(e)&&Nm(e)&&q1(t)?Pb(e):q1(t)&&Db(e)?x2(e)??t:t},Uc=(e,t)=>{const o=Eb(e,t);return o.width=1,o.right=o.left+1,o},uv=e=>{const t=[],o=v=>{v.height!==0&&(t.length>0&&NC(v,t[t.length-1])||t.push(v))},r=(v,S)=>{const A=cv(v.ownerDocument);if(S<v.data.length){if(v2(v.data[S]))return;if(v2(v.data[S-1])&&(A.setStart(v,S),A.setEnd(v,S+1),!S2(A))){o(Uc(Nu(A),!1));return}}S>0&&(A.setStart(v,S-1),A.setEnd(v,S),S2(A)||o(Uc(Nu(A),!1))),S<v.data.length&&(A.setStart(v,S),A.setEnd(v,S+1),S2(A)||o(Uc(Nu(A),!0)))},i=e.container(),f=e.offset();if(_b(i))return r(i,f),t;if(zC(i))if(e.isAtEnd()){const v=Ob(i,f);_b(v)&&r(v,v.data.length),lv(v)&&!Nm(v)&&o(Uc(Nu(v),!1))}else{const v=Ob(i,f);if(_b(v)&&r(v,0),lv(v)&&e.isAtEnd())return o(Uc(Nu(v),!1)),t;const S=Ob(e.container(),e.offset()-1);lv(S)&&!Nm(S)&&(w2(S)||w2(v)||!lv(v))&&o(Uc(Nu(S),!1)),lv(v)&&o(Uc(Nu(v),!0))}return t},It=(e,t,o)=>{const r=()=>(_b(e),t===0),i=()=>_b(e)?t>=e.data.length:t>=e.childNodes.length,f=()=>{const U=cv(e.ownerDocument);return U.setStart(e,t),U.setEnd(e,t),U},v=()=>(o||(o=uv(It(e,t))),o),S=()=>v().length>0,A=U=>U&&e===U.container()&&t===U.offset(),P=U=>Ob(e,U?t-1:t);return{container:Te(e),offset:Te(t),toRange:f,getClientRects:v,isVisible:S,isAtStart:r,isAtEnd:i,isEqual:A,getNode:P}};It.fromRangeStart=e=>It(e.startContainer,e.startOffset),It.fromRangeEnd=e=>It(e.endContainer,e.endOffset),It.after=e=>It(e.parentNode,C2(e)+1),It.before=e=>It(e.parentNode,C2(e)),It.isAbove=(e,t)=>Dn(bt(t.getClientRects()),Bt(e.getClientRects()),j1).getOr(!1),It.isBelow=(e,t)=>Dn(Bt(t.getClientRects()),bt(e.getClientRects()),Mh).getOr(!1),It.isAtStart=e=>e?e.isAtStart():!1,It.isAtEnd=e=>e?e.isAtEnd():!1,It.isTextPosition=e=>e?fn(e.container()):!1,It.isElementPosition=e=>!It.isTextPosition(e);const Rb=(e,t)=>{fn(t)&&t.data.length===0&&e.remove(t)},k4=(e,t,o)=>{t.insertNode(o),Rb(e,o.previousSibling),Rb(e,o.nextSibling)},Bu=(e,t,o)=>{const r=W.from(o.firstChild),i=W.from(o.lastChild);t.insertNode(o),r.each(f=>Rb(e,f.previousSibling)),i.each(f=>Rb(e,f.nextSibling))},dv=(e,t,o)=>{yg(o)?Bu(e,t,o):k4(e,t,o)},Bm=fn,WC=Cf,jC=Ns.nodeIndex,G1=e=>{const t=e.parentNode;return WC(t)?G1(t):t},Fb=e=>e?Vu(e.childNodes,(t,o)=>(WC(o)&&o.nodeName!=="BR"?t=t.concat(Fb(o)):t.push(o),t),[]):[],Tg=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&Bm(o);)t+=o.data.length;return t},E2=e=>t=>e===t,_4=e=>{let t,o;t=Fb(G1(e)),o=wu(t,E2(e),e),t=t.slice(0,o+1);const r=Vu(t,(i,f,v)=>(Bm(f)&&Bm(t[v-1])&&i++,i),0);return t=tu(t,Pd([e.nodeName])),o=wu(t,E2(e),e),o-r},Vc=e=>(Bm(e)?"text()":e.nodeName.toLowerCase())+"["+_4(e)+"]",Im=(e,t,o)=>{const r=[];for(let i=t.parentNode;i&&i!==e;i=i.parentNode)r.push(i);return r},Bd=(e,t)=>{let o=[],r=t.container(),i=t.offset(),f;if(Bm(r))f=Tg(r,i);else{const S=r.childNodes;i>=S.length?(f="after",i=S.length-1):f="before",r=S[i]}o.push(Vc(r));let v=Im(e,r);return v=tu(v,$e(Cf)),o=o.concat(eu(v,S=>Vc(S))),o.reverse().join("/")+","+f},O4=(e,t,o)=>{let r=Fb(e);return r=tu(r,(i,f)=>!Bm(i)||!Bm(r[f-1])),r=tu(r,Pd([t])),r[o]},fv=(e,t)=>{let o=e,r=0;for(;Bm(o);){const i=o.data.length;if(t>=r&&t<=r+i){e=o,t=t-r;break}if(!Bm(o.nextSibling)){e=o,t=i;break}r+=i,o=o.nextSibling}return Bm(e)&&t>e.data.length&&(t=e.data.length),It(e,t)},eA=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),i=o.length>1?o[1]:"before",f=Vu(r,(v,S)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return A?(A[1]==="text()"&&(A[1]="#text"),O4(v,A[1],parseInt(A[2],10))):null},e);if(!f)return null;if(!Bm(f)&&f.parentNode){let v;return i==="after"?v=jC(f)+1:v=jC(f),It(f.parentNode,v)}return fv(f,parseInt(i,10))},A2=sr,D4=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let i=t.previousSibling;i&&fn(i);i=i.previousSibling)r+=e(i.data).length;return r},tA=(e,t,o,r,i)=>{const f=i?r.startContainer:r.endContainer;let v=i?r.startOffset:r.endOffset;const S=[],A=e.getRoot();if(fn(f))S.push(o?D4(t,f,v):v);else{let P=0;const U=f.childNodes;v>=U.length&&U.length&&(P=1,v=Math.max(0,U.length-1)),S.push(e.nodeIndex(U[v],o)+P)}for(let P=f;P&&P!==A;P=P.parentNode)S.push(e.nodeIndex(P,o));return S},Ds=(e,t,o,r)=>{const i=t.dom,f=tA(i,e,o,r,!0),v=t.isForward(),S=g2(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:f,forward:v,...S};{const A=tA(i,e,o,r,!1);return{start:f,end:A,forward:v,...S}}},So=(e,t,o)=>{let r=0;return pn.each(e.select(t),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===o)return!1;r++;return}}),r},mv=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(_n(o)&&o.nodeName==="TR"){const i=o.childNodes;o=i[Math.min(t?r:r-1,i.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},T2=e=>(mv(e,!0),mv(e,!1),e),k2=(e,t)=>{if(_n(e)&&(e=Nh(e,t),A2(e)))return e;if(nf(e)){fn(e)&&Eg(e)&&(e=e.parentNode);let o=e.previousSibling;if(A2(o)||(o=e.nextSibling,A2(o)))return o}},P4=e=>k2(e.startContainer,e.startOffset)||k2(e.endContainer,e.endOffset),ZC=(e,t,o)=>{const r=o.getNode(),i=o.getRng();if(r.nodeName==="IMG"||A2(r)){const v=r.nodeName;return{name:v,index:So(o.dom,v,r)}}const f=P4(i);if(f){const v=f.tagName;return{name:v,index:So(o.dom,v,f)}}return Ds(e,o,t,i)},Oa=e=>{const t=e.getRng();return{start:Bd(e.dom.getRoot(),It.fromRangeStart(t)),end:Bd(e.dom.getRoot(),It.fromRangeEnd(t)),forward:e.isForward()}},_2=e=>({rng:e.getRng(),forward:e.isForward()}),O2=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},qC=(e,t)=>{const o=e.dom;let r=e.getRng();const i=o.uniqueId(),f=e.isCollapsed(),v=e.getNode(),S=v.nodeName,A=e.isForward();if(S==="IMG")return{name:S,index:So(o,S,v)};const P=T2(r.cloneRange());if(!f){P.collapse(!1);const j=O2(o,i+"_end",t);dv(o,P,j)}r=T2(r),r.collapse(!0);const U=O2(o,i+"_start",t);return dv(o,r,U),e.moveToBookmark({id:i,keep:!0,forward:A}),{id:i,forward:A}},zt=(e,t,o=!1)=>t===2?ZC(ld,o,e):t===3?Oa(e):t?_2(e):qC(e,!1),pv=se(ZC,rn,!0),K1=e=>e===1,kp=e=>e===-1;var Xf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Xf||(Xf={}));const _p=(e,t,o)=>e.stype===Xf.Error?t(e.serror):o(e.svalue),gv=e=>{const t=[],o=[];return De(e,r=>{_p(r,i=>o.push(i),i=>t.push(i))}),{values:t,errors:o}},Y1=(e,t)=>e.stype===Xf.Error?{stype:Xf.Error,serror:t(e.serror)}:e,R4=(e,t)=>e.stype===Xf.Value?{stype:Xf.Value,svalue:t(e.svalue)}:e,hv=(e,t)=>e.stype===Xf.Value?t(e.svalue):e,ga=(e,t)=>e.stype===Xf.Error?t(e.serror):e,Qf=e=>({stype:Xf.Value,svalue:e}),GC=e=>({stype:Xf.Error,serror:e}),Wc={fromResult:e=>e.fold(GC,Qf),toResult:e=>_p(e,Be.error,Be.value),svalue:Qf,partition:gv,serror:GC,bind:hv,bindError:ga,map:R4,mapError:Y1,fold:_p},nA=e=>dt(e)&&sn(e).length>100?" removed due to size":JSON.stringify(e,null,2),KC=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Te("... (only showing first ten failures)")}]):e;return qe(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},oA=(e,t)=>Wc.serror([{path:e,getErrorInfo:t}]),F4=(e,t,o)=>oA(e,()=>'Could not find valid *required* value for "'+t+'" in '+nA(o)),M4=(e,t)=>oA(e,Te(t)),YC=e=>{const t=(r,i)=>Wc.bindError(e(i),f=>M4(r,f)),o=Te("val");return{extract:t,toString:o}},sA=YC(Wc.svalue),bn=Te(sA),XC=(e,t)=>YC(o=>{const r=typeof o;return e(o)?Wc.svalue(o):Wc.serror(`Expected type: ${t} but got: ${r}`)}),Zl=XC(Pt,"number"),QC=XC(J,"string"),JC=XC(ce,"function"),eS=()=>({tag:"required",process:{}}),N4=e=>({tag:"defaultedThunk",process:e}),Wo=e=>N4(Te(e)),rA=()=>({tag:"option",process:{}}),aA=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),B4=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},I4=(e,t)=>Wc.svalue(Gt(t,On.apply(void 0,e))),iA=e=>F(Wc.serror,es)(e),lA={consolidateObj:(e,t)=>{const o=Wc.partition(e);return o.errors.length>0?iA(o.errors):I4(o.values,t)},consolidateArr:e=>{const t=Wc.partition(e);return t.errors.length>0?iA(t.errors):Wc.svalue(t.values)}},$4=(e,t,o,r)=>_o(t,o).fold(()=>F4(e,o,t),r),Go=(e,t,o,r)=>{const i=_o(e,t).getOrThunk(()=>o(e));return r(i)},tS=(e,t,o)=>o(_o(e,t)),kg=(e,t,o,r)=>{const i=_o(e,t).map(f=>f===!0?o(e):f);return r(i)},_f=(e,t,o,r,i)=>{const f=S=>i.extract(t.concat([r]),S),v=S=>S.fold(()=>Wc.svalue(W.none()),A=>{const P=i.extract(t.concat([r]),A);return Wc.map(P,W.some)});switch(e.tag){case"required":return $4(t,o,r,f);case"defaultedThunk":return Go(o,r,e.process,f);case"option":return tS(o,r,v);case"defaultedOptionThunk":return kg(o,r,e.process,v);case"mergeWithThunk":return Go(o,r,Te({}),S=>{const A=Gt(e.process(o),S);return f(A)})}},D2=(e,t,o)=>{const r={},i=[];for(const f of o)B4(f,(v,S,A,P)=>{const U=_f(A,e,t,v,P);Wc.fold(U,j=>{i.push(...j)},j=>{r[S]=j})},(v,S)=>{r[v]=S(t)});return i.length>0?Wc.serror(i):Wc.svalue(r)},Iu=e=>({extract:(r,i)=>D2(r,i,e),toString:()=>`obj{
`+qe(e,i=>B4(i,(f,v,S,A)=>f+" -> "+A.toString(),(f,v)=>"state("+f+")")).join(`
`)+"}"}),vv=e=>({extract:(r,i)=>{const f=qe(i,(v,S)=>e.extract(r.concat(["["+S+"]"]),v));return lA.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),Mb=F(vv,Iu),P2=e=>YC(t=>e(t).fold(Wc.serror,Wc.svalue)),bv=(e,t,o)=>{const r=t.extract([e],o);return Wc.mapError(r,i=>({input:o,errors:i}))},yv=(e,t,o)=>Wc.toResult(bv(e,t,o)),Op=e=>`Errors: 
`+KC(e.errors).join(`
`)+`

Input object: `+nA(e.input),sl=aA,_g=e=>sl(e,e,eS(),bn()),cA=(e,t)=>sl(e,e,eS(),t),nS=e=>cA(e,QC),uA=e=>cA(e,JC),L4=(e,t)=>sl(e,e,eS(),vv(t)),Gs=e=>sl(e,e,rA(),bn()),Jf=(e,t)=>sl(e,e,rA(),t),$h=e=>Jf(e,QC),X5=e=>Jf(e,JC),wv=(e,t)=>sl(e,e,Wo(t),bn()),Js=(e,t,o)=>sl(e,e,Wo(t),o),H4=(e,t)=>Js(e,t,Zl),z4=(e,t,o)=>Js(e,t,vv(o)),Q5=e=>e.type==="inline-command"||e.type==="inline-format",J5=e=>e.type==="block-command"||e.type==="block-format",Nb=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,U4=e=>{const t=r=>Be.error({message:r,pattern:e}),o=(r,i,f)=>{if(e.format!==void 0){let v;if(Ae(e.format)){if(!ts(e.format,J))return t(r+" pattern has non-string items in the `format` array");v=e.format}else if(J(e.format))v=[e.format];else return t(r+" pattern has non-string `format` parameter");return Be.value(i(v))}else return e.cmd!==void 0?J(e.cmd)?Be.value(f(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!dt(e))return t("Raw pattern is not an object");if(!J(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!J(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,i=e.end;return i.length===0&&(i=r,r=""),o("Inline",f=>({type:"inline-format",start:r,end:i,format:f}),(f,v)=>({type:"inline-command",start:r,end:i,cmd:f,value:v}))}else{if(e.replacement!==void 0)return J(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Be.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const r=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",i=>({type:"block-format",start:e.start,format:i[0],trigger:r}),(i,f)=>({type:"block-command",start:e.start,cmd:i,value:f,trigger:r}))}}},V4=e=>at(e,J5),Bb=e=>at(e,Q5),W4=(e,t)=>({inlinePatterns:Bb(e),blockPatterns:V4(e),dynamicPatternsLookup:t}),Ib=(e,t)=>({...e,blockPatterns:at(e.blockPatterns,o=>Nb(o,t))}),dA=e=>{const t=sa(qe(e,U4));return De(t.errors,o=>console.error(o.message,o.pattern)),t.values},j4=e=>t=>{const o=e(t);return dA(o)},R2=(e,t)=>e.dispatch("PreProcess",t),oS=(e,t)=>e.dispatch("PostProcess",t),sS=e=>{e.dispatch("remove")},fA=e=>{e.dispatch("detach")},Z4=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},mA=(e,t,o,r,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:i})},rS=(e,t,o,r,i)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:i})},pA=e=>{e.dispatch("PreInit")},fr=e=>{e.dispatch("PostRender")},gA=e=>{e.dispatch("Init")},aS=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},F2=(e,t,o)=>{e.dispatch(t,o)},Og=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},iS=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},q4=(e,t)=>e.dispatch("BeforeSetContent",t),hA=(e,t)=>e.dispatch("SetContent",t),Cv=(e,t)=>e.dispatch("BeforeGetContent",t),vA=(e,t)=>e.dispatch("GetContent",t),$b=(e,t)=>{e.dispatch("AutocompleterStart",t)},Lb=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},lS=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},Lh=e=>{e.dispatch("AutocompleterEnd")},bA=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),yA=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),wA=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),CA=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),eM=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),SA=e=>e.dispatch("CloseActiveTooltips"),M2=Es().deviceType,N2=M2.isTouch(),Hb=Ns.DOM,B2=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return kt(t,(o,r)=>{const i=r.split("="),f=i[0],v=i.length>1?i[1]:f;return o[Kr(f)]=Kr(v),o},{})},I2=e=>it(e,RegExp),Gn=e=>t=>t.options.get(e),Hh=e=>J(e)||dt(e),Dp=(e,t="")=>o=>{const r=J(o);if(r)if(o.indexOf("=")!==-1){const i=B2(o);return{value:_o(i,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},zb=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:Te(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:Dp(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Dp(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:r=>{const i=J(r)&&Fr(r);return i?{value:r,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:r=>{const i=Re(["block","linebreak","invert","default"],r);return i?{value:r,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:r=>Ze(r)?{valid:!0,value:r}:J(r)?{valid:!0,value:r}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:r=>{const i=r===!1||J(r)||je(r,J);return i?J(r)?{value:qe(r.split(","),Kr),valid:i}:Ae(r)?{value:r,valid:i}:r===!1?{value:[],valid:i}:{value:r,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Vb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:r=>{const i=J(r)||je(r,J);return i?{value:Ae(r)?r:qe(r.split(","),Kr),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:r=>{const i=Ze(r)||J(r);return i?r===!1||M2.isiPhone()||M2.isiPad()?{value:"",valid:i}:{value:r===!0?"table,img,figure.image,div,video,iframe":r,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!N2}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:r=>r===!1||J(r)||ce(r),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:r=>{const i=r===!1||J(r);return i?{value:r===!1?"":r,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:r=>Ze(r)?(e.initialized&&tm(e)!==r&&Promise.resolve().then(()=>{eM(e,r)}),{valid:!0,value:r}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:r=>{const i=je(r,J);return i?{value:r,valid:i}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Hh}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Hh}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Hh}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Hh}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:r=>J(r)||r===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:r=>je(r,dt)||r===!1?{value:dA(r===!1?[]:r),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:r=>ce(r)?{value:j4(r),valid:!0}:{valid:!1,message:"Must be a single function"},default:r=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:r=>je(r,I2)?{value:r,valid:!0}:I2(r)?{value:[r],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:r=>{const i=Re(["inherited","collapsed","expanded"],r);return i?{value:r,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:r=>{const i=Re(["inherited","collapsed","expanded"],r);return i?{value:r,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:r=>r===void 0?{valid:!0,value:void 0}:ce(r)?{valid:!0,value:r}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}});const o=Mb([nS("mimeType"),L4("extensions",P2(r=>J(r)?Be.value(r):Be.error("Extensions must be an array of strings")))]);t("documents_file_types",{processor:r=>yv("documents_file_types",o,r).fold(i=>({valid:!1,message:"Must be a non-empty array of objects matching the configuration schema: https://www.tiny.cloud/docs/tinymce/latest/uploadcare-documents/#documents-file-types"}),i=>({valid:!0,value:i}))}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Nn.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Hb.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:r=>{const i=Pt(r);if(i){if(r<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:r,valid:i}}else return{valid:!1,message:"Must be a number"}}})},xA=Gn("iframe_attrs"),cS=Gn("doctype"),uS=Gn("document_base_url"),EA=Gn("body_id"),AA=Gn("body_class"),TA=Gn("content_security_policy"),$2=Gn("br_in_pre"),rl=Gn("forced_root_block"),em=Gn("forced_root_block_attrs"),L2=Gn("newline_behavior"),kA=Gn("br_newline_selector"),_A=Gn("no_newline_selector"),OA=Gn("keep_styles"),H2=Gn("end_container_on_empty_block"),dS=Gn("automatic_uploads"),DA=Gn("images_reuse_filename"),PA=Gn("images_replace_blob_uris"),Ub=Gn("icons"),fS=Gn("icons_url"),z2=Gn("images_upload_url"),mS=Gn("images_upload_base_path"),G4=Gn("images_upload_credentials"),RA=Gn("images_upload_handler"),FA=Gn("content_css_cors"),U2=Gn("referrer_policy"),X1=Gn("crossorigin"),MA=Gn("language"),NA=Gn("language_url"),V2=Gn("indent_use_margin"),K4=Gn("indentation"),Y4=Gn("content_css"),Q1=Gn("content_style"),pS=Gn("font_css"),X4=Gn("directionality"),Q4=Gn("inline_boundaries_selector"),BA=Gn("object_resizing"),J4=Gn("resize_img_proportional"),gS=Gn("placeholder"),W2=Gn("event_root"),hS=Gn("service_message"),Pp=Gn("theme"),IA=Gn("theme_url"),j2=Gn("model"),e_=Gn("model_url"),zh=Gn("inline_boundaries"),t_=Gn("formats"),n_=Gn("preview_styles"),tM=Gn("format_empty_lines"),nM=Gn("format_noneditable_selector"),Sv=Gn("custom_ui_selector"),Vb=Gn("inline"),vS=Gn("hidden_input"),o_=Gn("submit_patch"),s_=Gn("add_form_submit_trigger"),Z2=Gn("add_unload_trigger"),$A=Gn("custom_undo_redo_levels"),LA=Gn("disable_nodechange"),Wb=Gn("readonly"),q2=Gn("editable_root"),bS=Gn("content_css_cors"),jb=Gn("plugins"),yS=Gn("external_plugins"),r_=Gn("block_unsupported_drop"),Zb=Gn("visual"),HA=Gn("visual_table_class"),G2=Gn("visual_anchor_class"),K2=Gn("iframe_aria_text"),J1=Gn("setup"),a_=Gn("init_instance_callback"),Rp=Gn("urlconverter_callback"),i_=Gn("auto_focus"),zA=Gn("browser_spellcheck"),l_=Gn("protect"),oM=Gn("paste_block_drop"),Y2=Gn("paste_data_images"),c_=Gn("paste_preprocess"),u_=Gn("paste_postprocess"),d_=Gn("newdocument_content"),wS=Gn("paste_webkit_styles"),f_=Gn("paste_remove_styles_if_webkit"),UA=Gn("paste_merge_formats"),CS=Gn("smart_paste"),m_=Gn("paste_as_text"),p_=Gn("paste_tab_spaces"),SS=Gn("allow_html_data_urls"),VA=Gn("text_patterns"),ho=Gn("text_patterns_lookup"),qb=Gn("noneditable_class"),WA=Gn("editable_class"),g_=Gn("noneditable_regexp"),xS=Gn("preserve_cdata"),Gb=Gn("highlight_on_focus"),X2=Gn("xss_sanitization"),Kb=Gn("init_content_sync"),xv=e=>e.options.isSet("text_patterns_lookup"),ES=e=>pn.explode(e.options.get("font_size_style_values")),AS=e=>pn.explode(e.options.get("font_size_classes")),jA=e=>e.options.get("encoding")==="xml",TS=e=>pn.explode(e.options.get("images_file_types")),ZA=Gn("table_tab_navigation"),Ev=Gn("details_initial_state"),Dg=Gn("details_serialized_state"),Av=Gn("sandbox_iframes"),Pg=e=>e.options.get("sandbox_iframes_exclusions"),Rg=Gn("convert_unsafe_embeds"),qA=Gn("license_key"),Yb=Gn("api_key"),tm=Gn("disabled"),GA=Gn("user_id"),KA=Gn("fetch_users"),kS=Gn("lists_indent_on_tab"),_S=e=>W.from(e.options.get("list_max_depth")),YA=_n,XA=fn,h_=e=>{const t=e.parentNode;t&&t.removeChild(e)},QA=e=>{const t=ld(e);return{count:e.length-t.length,text:t}},e0=e=>{let t;for(;(t=e.data.lastIndexOf(Sl))!==-1;)e.deleteData(t,1)},OS=(e,t)=>(t0(e),t),JA=(e,t)=>{const o=QA(e.data.substr(0,t.offset())),r=QA(e.data.substr(t.offset()));return(o.text+r.text).length>0?(e0(e),It(e,t.offset()-o.count)):t},DS=(e,t)=>{const o=t.container(),r=No(po(o.childNodes),e).map(i=>i<t.offset()?It(o,t.offset()-1):t).getOr(t);return t0(e),r},PS=(e,t)=>XA(e)&&t.container()===e?JA(e,t):OS(e,t),RS=(e,t)=>t.container()===e.parentNode?DS(e,t):OS(e,t),v_=(e,t)=>It.isTextPosition(t)?PS(e,t):RS(e,t),t0=e=>{YA(e)&&nf(e)&&(p2(e)?e.removeAttribute("data-mce-caret"):h_(e)),XA(e)&&(e0(e),e.data.length===0&&h_(e))},n0=sr,Q2=od,J2=wg,eT="*[contentEditable=false],video,audio,embed,object",b_=(e,t,o)=>{const r=Eb(t.getBoundingClientRect(),o);let i,f;if(e.tagName==="BODY"){const S=e.ownerDocument.documentElement;i=e.scrollLeft||S.scrollLeft,f=e.scrollTop||S.scrollTop}else{const S=e.getBoundingClientRect();i=e.scrollLeft-S.left,f=e.scrollTop-S.top}r.left+=i,r.right+=i,r.top+=f,r.bottom+=f,r.width=1;let v=t.offsetWidth-t.clientWidth;return v>0&&(o&&(v*=-1),r.left+=v,r.right+=v),r},tT=e=>{const t=Ot(Pe.fromDom(e),eT);for(let o=0;o<t.length;o++){const r=t[o].dom;let i=r.previousSibling;if(Rh(i)){const f=i.data;f.length===1?i.parentNode?.removeChild(i):i.deleteData(f.length-1,1)}i=r.nextSibling,Nd(i)&&(i.data.length===1?i.parentNode?.removeChild(i):i.deleteData(0,1))}},Xo=(e,t,o,r)=>{const i=Ls();let f,v;const S=rl(e),A=e.dom,P=(ge,ke)=>{let nt;if(U(),J2(ke))return null;if(o(ke)){const rt=MC(S,ke,ge),ft=b_(t,ke,ge);A.setStyle(rt,"top",ft.top),A.setStyle(rt,"caret-color","transparent"),v=rt;const Lt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(Lt,{...ft}),A.add(t,Lt),i.set({caret:Lt,element:ke,before:ge}),ge&&A.addClass(Lt,"mce-visual-caret-before"),j(),nt=ke.ownerDocument.createRange(),nt.setStart(rt,0),nt.setEnd(rt,0)}else return v=GE(ke,ge),nt=ke.ownerDocument.createRange(),of(v.nextSibling)?(nt.setStart(v,0),nt.setEnd(v,0)):(nt.setStart(v,1),nt.setEnd(v,1)),nt;return nt},U=()=>{tT(t),v&&(t0(v),v=null),i.on(ge=>{A.remove(ge.caret),i.clear()}),f&&(clearInterval(f),f=void 0)},j=()=>{f=window.setInterval(()=>{i.on(ge=>{r()?A.toggleClass(ge.caret,"mce-visual-caret-hidden"):A.addClass(ge.caret,"mce-visual-caret-hidden")})},500)},Y=()=>{i.on(ge=>{const ke=b_(t,ge.element,ge.before);A.setStyles(ge.caret,{...ke})})},ie=()=>clearInterval(f),Oe=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:i.isSet,show:P,hide:U,getCss:Oe,reposition:Y,destroy:ie}},ew=()=>ps.browser.isFirefox(),of=e=>n0(e)||Q2(e),Xb=e=>(of(e)||Fc(e)&&ew())&&rc(Pe.fromDom(e)).exists(ku),y_=Du,tw=sr,w_=od,FS=td("display","block table table-cell table-row table-caption list-item"),MS=nf,Qb=Eg,Lm=_n,Tv=fn,C_=Ba,o0=(e,t)=>{let o;for(;o=e(t);)if(!Qb(o))return o;return null},Jb=(e,t,o,r,i)=>{const f=new Fa(e,r),v=tw(e)||Qb(e);let S;if(kp(t)){if(v&&(S=o0(f.prev.bind(f),!0),o(S)))return S;for(;S=o0(f.prev.bind(f),i);)if(o(S))return S}if(K1(t)){if(v&&(S=o0(f.next.bind(f),!0),o(S)))return S;for(;S=o0(f.next.bind(f),i);)if(o(S))return S}return null},nw=(e,t)=>{const o=i=>y_(i.dom),r=i=>i.dom===t;return Pc(Pe.fromDom(e),o,r).map(i=>i.dom).getOr(t)},El=e=>_n(e)&&pa(Pe.fromDom(e),"position")==="absolute",S_=(e,t)=>e.parentNode!==t,NS=(e,t)=>tw(e)&&El(e)&&S_(e,t),Uh=(e,t)=>{for(;e&&e!==t;){if(FS(e)&&!NS(e,t))return e;e=e.parentNode}return null},Fp=(e,t,o)=>Uh(e.container(),o)===Uh(t.container(),o),BS=(e,t)=>{if(!t)return W.none();const o=t.container(),r=t.offset();return Lm(o)?W.from(o.childNodes[r+e]):W.none()},nT=(e,t)=>{const r=(t.ownerDocument??document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},x_=(e,t,o)=>Uh(t,e)===Uh(o,e),ow=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let i=o;for(;i&&i!==t;){let f=i[r];if(f&&MS(f)&&(f=f[r]),tw(f)||w_(f)){if(x_(t,f,i))return f;break}if(C_(f))break;i=i.parentNode}return null},ey=se(nT,!0),Vh=se(nT,!1),sw=(e,t,o)=>{let r;const i=se(ow,!0,t),f=se(ow,!1,t),v=o.startContainer,S=o.startOffset;if(Eg(v)){const A=Tv(v)?v.parentNode:v,P=A.getAttribute("data-mce-caret");if(P==="before"&&(r=A.nextSibling,Xb(r)))return ey(r);if(P==="after"&&(r=A.previousSibling,Xb(r)))return Vh(r)}if(!o.collapsed)return o;if(fn(v)){if(MS(v)){if(e===1){if(r=f(v),r)return ey(r);if(r=i(v),r)return Vh(r)}if(e===-1){if(r=i(v),r)return Vh(r);if(r=f(v),r)return ey(r)}return o}if(Rh(v)&&S>=v.data.length-1)return e===1&&(r=f(v),r)?ey(r):o;if(Nd(v)&&S<=1)return e===-1&&(r=i(v),r)?Vh(r):o;if(S===v.data.length)return r=f(v),r?ey(r):o;if(S===0)return r=i(v),r?Vh(r):o}return o},rw=(e,t)=>BS(e?0:-1,t).filter(tw),Wh=(e,t,o)=>{const r=sw(e,t,o);return e===-1?It.fromRangeStart(r):It.fromRangeEnd(r)},ty=e=>W.from(e.getNode()).map(Pe.fromDom),IS=e=>W.from(e.getNode(!0)).map(Pe.fromDom),aw=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},Hm=(e,t)=>{const o=Fp(e,t);return!o&&ka(e.getNode())?!0:o},oT=sr,Mp=fn,$S=_n,iw=ka,kv=Ba,ny=QE,lw=y2,E_=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},sT=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,cw=(e,t)=>{if(K1(e)){if(kv(t.previousSibling)&&!Mp(t.previousSibling))return It.before(t);if(Mp(t))return It(t,0)}if(kp(e)){if(kv(t.nextSibling)&&!Mp(t.nextSibling))return It.after(t);if(Mp(t))return It(t,t.data.length)}return kp(e)?iw(t)?It.before(t):It.after(t):It.before(t)},A_=(e,t)=>{const o=t.nextSibling;return o&&kv(o)?Mp(o)?It(o,0):It.before(o):LS(1,It.after(t),e)},LS=(e,t,o)=>{let r,i,f,v;if(!$S(o)||!t)return null;if(t.isEqual(It.after(o))&&o.lastChild){if(v=It.after(o.lastChild),kp(e)&&kv(o.lastChild)&&$S(o.lastChild))return iw(o.lastChild)?It.before(o.lastChild):v}else v=t;const S=v.container();let A=v.offset();if(Mp(S)){if(kp(e)&&A>0)return It(S,--A);if(K1(e)&&A<S.length)return It(S,++A);r=S}else{if(kp(e)&&A>0&&(i=sT(S,A-1),kv(i)))return!ny(i)&&(f=Jb(i,e,lw,i),f)?Mp(f)?It(f,f.data.length):It.after(f):Mp(i)?It(i,i.data.length):It.before(i);if(K1(e)&&A<S.childNodes.length&&(i=sT(S,A),kv(i)))return iw(i)?A_(o,i):!ny(i)&&(f=Jb(i,e,lw,i),f)?Mp(f)?It(f,0):It.before(f):Mp(i)?It(i,0):It.after(i);r=i||v.getNode()}if(r&&(K1(e)&&v.isAtEnd()||kp(e)&&v.isAtStart())&&(r=Jb(r,e,ut,o,!0),lw(r,o)))return cw(e,r);i=r&&Jb(r,e,lw,o);const P=Zi(at(E_(S,o),oT));return P&&(!i||!P.contains(i))?(K1(e)?v=It.after(P):v=It.before(P),v):i?cw(e,i):null},zm=e=>({next:t=>LS(1,t,e),prev:t=>LS(-1,t,e)}),HS=(e,t,o)=>{const r=e?It.before(o):It.after(o);return sf(e,t,r)},T_=e=>ka(e)?It.before(e):It.after(e),rT=e=>It.isTextPosition(e)?e.offset()===0:Ba(e.getNode()),aT=e=>{if(It.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Ba(e.getNode(!0))},iT=(e,t)=>!It.isTextPosition(e)&&!It.isTextPosition(t)&&e.getNode()===t.getNode(!0),k_=e=>!It.isTextPosition(e)&&ka(e.getNode()),Ca=(e,t,o)=>e?!iT(t,o)&&!k_(t)&&aT(t)&&rT(o):!iT(o,t)&&rT(t)&&aT(o),sf=(e,t,o)=>{const r=zm(t);return W.from(e?r.next(o):r.prev(o))},_v=(e,t,o)=>sf(e,t,o).bind(r=>Fp(o,r,t)&&Ca(e,o,r)?sf(e,t,r):W.some(r)),d=(e,t,o,r)=>_v(e,t,o).bind(i=>r(i)?d(e,t,i,r):W.some(i)),h=(e,t)=>{const o=e?t.firstChild:t.lastChild;return fn(o)?W.some(It(o,e?0:o.data.length)):o?Ba(o)?W.some(e?It.before(o):T_(o)):HS(e,t,o):W.none()},C=se(sf,!0),T=se(sf,!1),M=se(h,!0),V=se(h,!1),te="_mce_caret",ue=e=>_n(e)&&e.id===te,xe=(e,t)=>{let o=t;for(;o&&o!==e;){if(ue(o))return o;o=o.parentNode}return null},We=e=>J(e.start),gt=e=>Jn(e,"rng"),ln=e=>Jn(e,"id"),zn=e=>Jn(e,"name"),$n=e=>pn.isArray(e.start),co=e=>!zn(e)&&Ze(e.forward)?e.forward:!0,Ut=(e,t)=>(_n(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),cn=(e,t)=>{const o=W.from(eA(e.getRoot(),t.start)),r=W.from(eA(e.getRoot(),t.end));return Dn(o,r,(i,f)=>{const v=e.createRng();return v.setStart(i.container(),i.offset()),v.setEnd(f.container(),f.offset()),{range:v,forward:co(t)}})},Fo=(e,t)=>{const r=(e.ownerDocument??document).createTextNode(Sl);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},us=e=>!e.hasChildNodes(),eo=(e,t)=>V(e).fold(He,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),Tr=(e,t,o)=>us(t)&&xe(e,t)?(Fo(t,o),!0):!1,kr=(e,t,o,r)=>{const i=o[t?"start":"end"],f=e.getRoot();if(i){let v=f,S=i[0];for(let A=i.length-1;v&&A>=1;A--){const P=v.childNodes;if(Tr(f,v,r))return!0;if(i[A]>P.length-1)return Tr(f,v,r)?!0:eo(v,r);v=P[i[A]]}fn(v)&&(S=Math.min(i[0],v.data.length)),_n(v)&&(S=Math.min(i[0],v.childNodes.length)),t?r.setStart(v,S):r.setEnd(v,S)}return!0},os=e=>fn(e)&&e.data.length>0,zi=(e,t,o)=>{const r=e.get(o.id+"_"+t),i=r?.parentNode,f=o.keep;if(r&&i){let v,S;if(t==="start"?f?r.hasChildNodes()?(v=r.firstChild,S=1):os(r.nextSibling)?(v=r.nextSibling,S=0):os(r.previousSibling)?(v=r.previousSibling,S=r.previousSibling.data.length):(v=i,S=e.nodeIndex(r)+1):(v=i,S=e.nodeIndex(r)):f?r.hasChildNodes()?(v=r.firstChild,S=1):os(r.previousSibling)?(v=r.previousSibling,S=r.previousSibling.data.length):(v=i,S=e.nodeIndex(r)):(v=i,S=e.nodeIndex(r)),!f){const A=r.previousSibling,P=r.nextSibling;pn.each(pn.grep(r.childNodes),j=>{fn(j)&&(j.data=j.data.replace(/\uFEFF/g,""))});let U;for(;U=e.get(o.id+"_"+t);)e.remove(U,!0);if(fn(P)&&fn(A)&&!ps.browser.isOpera()){const j=A.data.length;A.appendData(P.data),e.remove(P),v=A,S=j}}return W.some(It(v,S))}else return W.none()},Of=(e,t)=>{const o=e.createRng();return kr(e,!0,t,o)&&kr(e,!1,t,o)?W.some({range:o,forward:co(t)}):W.none()},Fg=(e,t)=>{const o=zi(e,"start",t),r=zi(e,"end",t);return Dn(o,r.or(o),(i,f)=>{const v=e.createRng();return v.setStart(Ut(e,i.container()),i.offset()),v.setEnd(Ut(e,f.container()),f.offset()),{range:v,forward:co(t)}})},jh=(e,t)=>W.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),s0=(e,t)=>{const o=e.dom;if(t){if($n(t))return Of(o,t);if(We(t))return cn(o,t);if(ln(t))return Fg(o,t);if(zn(t))return jh(o,t);if(gt(t))return W.some({range:t.rng,forward:co(t)})}return W.none()},Vr=(e,t,o)=>zt(e,t,o),$u=(e,t)=>{s0(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},ii=e=>_n(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",gu=(e=>t=>e===t)(xr),rf=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,gc=e=>!rf(e)&&!gu(e)&&!bi(e),uw=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},oy=e=>vo(e,t=>{const o=xl(t);return o?[Pe.fromDom(o)]:[]}),Mg=e=>uw(e).length>1,hu=e=>at(oy(e),U1),__=e=>Ot(e,"td[data-mce-selected],th[data-mce-selected]"),lT=(e,t)=>{const o=__(t);return o.length>0?o:hu(e)},so=e=>lT(uw(e.selection.getSel()),Pe.fromDom(e.getBody())),cd=(e,t)=>Za(e,"table",t),O_=e=>{const t=e.startContainer,o=e.startOffset;return fn(t)?o===0?W.some(Pe.fromDom(t)):W.none():W.from(t.childNodes[o]).map(Pe.fromDom)},dw=e=>{const t=e.endContainer,o=e.endOffset;return fn(t)?o===t.data.length?W.some(Pe.fromDom(t)):W.none():W.from(t.childNodes[o-1]).map(Pe.fromDom)},cT=e=>Si(e).fold(Te([e]),t=>[e].concat(cT(t))),r0=e=>Ra(e).fold(Te([e]),t=>cs(t)==="br"?Eu(t).map(o=>[e].concat(r0(o))).getOr([]):[e].concat(r0(t))),D_=(e,t)=>Dn(O_(t),dw(t),(o,r)=>{const i=vn(cT(e),se(_s,o)),f=vn(r0(e),se(_s,r));return i.isSome()&&f.isSome()}).getOr(!1),uT=(e,t,o,r)=>{const i=o,f=new Fa(o,i),v=to(e.schema.getMoveCaretBeforeOnEnterElements(),(A,P)=>!Re(["td","th","table"],P.toLowerCase()));let S=o;do{if(fn(S)&&pn.trim(S.data).length!==0){r?t.setStart(S,0):t.setEnd(S,S.data.length);return}if(v[S.nodeName]){r?t.setStartBefore(S):S.nodeName==="BR"?t.setEndBefore(S):t.setEndAfter(S);return}}while(S=r?f.next():f.prev());i.nodeName==="BODY"&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},zS=e=>{const t=e.selection.getSel();return Ce(t)&&t.rangeCount>0},US=(e,t)=>{const o=so(e);o.length>0?De(o,r=>{const i=r.dom,f=e.dom.createRng();f.setStartBefore(i),f.setEndAfter(i),t(f,!0)}):t(e.selection.getRng(),!1)},dT=(e,t,o)=>{const r=qC(e,t);o(r),e.moveToBookmark(r)},VS=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),az=e=>VS(e,Vl),iz=e=>VS(e,fn),lz=e=>VS(e,gh),WS=e=>Pt(e?.nodeType),jS=e=>_n(e)&&!ii(e)&&!ue(e)&&!Cf(e),sM=(e,t)=>{if(jS(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},rM=(e,t,o)=>{const{selection:r,dom:i}=e,f=r.getNode(),v=sr(f);dT(r,!0,()=>{t()}),v&&sr(f)&&i.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&aM(i,r)},aM=(e,t)=>{const o=t.getRng(),{startContainer:r,startOffset:i}=o,f=t.getNode();if(!sM(e,f)&&_n(r)){const v=r.childNodes,S=e.getRoot();let A;if(i<v.length){const P=v[i];A=new Fa(P,e.getParent(P,e.isBlock)??S)}else{const P=v[v.length-1];A=new Fa(P,e.getParent(P,e.isBlock)??S),A.next(!0)}for(let P=A.current();P;P=A.next()){if(e.getContentEditable(P)==="false")return;if(fn(P)&&!P_(P)){o.setStart(P,0),t.setRng(o);return}}}},iM=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(_n(e)||!P_(e))return e}},ZS=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ma(e,t),fw=(e,t,o)=>e.schema.isValidChild(t,o),P_=(e,t=!1)=>{if(Ce(e)&&fn(e)){const o=t?e.data.replace(/ /g,""):e.data;return vg(o)}else return!1},cz=e=>Ce(e)&&fn(e)&&e.length===0,uz=(e,t)=>{const o="[data-mce-cef-wrappable]",r=nM(e),i=xc(r)?o:`${o},${r}`;return _c(Pe.fromDom(t),i)},lM=(e,t)=>{const o=e.dom;return jS(t)&&o.getContentEditable(t)==="false"&&uz(e,t)&&o.select('[contenteditable="true"]',t).length===0},a0=(e,t)=>ce(e)?e(t):(Ce(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),qS=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),fT=(e,t)=>{if(ct(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=rd(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},GS=(e,t,o)=>{const r=e.getStyle(t,o);return fT(r,o)},cM=(e,t)=>{let o;return e.getParent(t,r=>_n(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},mT=(e,t,o)=>e.getParents(t,o,e.getRoot()),R_=(e,t,o)=>{const r=e.formatter.get(t);return Ce(r)&&Ve(r,o)},pT=(e,t)=>R_(e,t,r=>{const i=f=>ce(f)||f.length>1&&f.charAt(0)==="%";return Ve(["styles","attributes"],f=>_o(r,f).exists(v=>{const S=Ae(v)?v:Co(v);return Ve(S,i)}))}),uM=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],i=f=>to(f,(v,S)=>Ve(r,A=>A===S));return R_(e,t,f=>{const v=i(f);return R_(e,o,S=>{const A=i(S);return qr(v,A)})})},Ng=e=>as(e,"block"),dz=e=>Ng(e)&&e.wrapper===!0,fz=e=>Ng(e)&&e.wrapper!==!0,Np=e=>as(e,"selector"),jc=e=>as(e,"inline"),jte=e=>Np(e)&&jc(e)&&tn(_o(e,"mixed"),!0),F_=e=>Np(e)&&e.expand!==!1&&!jc(e),Zte=e=>{const t=[];let o=e;for(;o;){if(fn(o)&&o.data!==Sl||o.childNodes.length>1)return[];_n(o)&&t.push(o),o=o.firstChild}return t},dM=e=>Zte(e).length>0,M_=e=>ue(e.dom)&&dM(e.dom),KS=ii,fM=mT,Ia=P_,N_=ZS,gT=e=>ka(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,YS=(e,t)=>{let o=t;for(;o;){if(_n(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},Zh=(e,t,o,r)=>{const i=t.data;if(e){for(let f=o;f>0;f--)if(r(i.charAt(f-1)))return f}else for(let f=o;f<i.length;f++)if(r(i.charAt(f)))return f;return-1},hT=(e,t,o)=>Zh(e,t,o,r=>gu(r)||rf(r)),mw=(e,t,o)=>Zh(e,t,o,gc),B_=(e,t,o,r,i,f)=>{let v;const S=e.getParent(o,j=>Qi(j)||e.isBlock(j)),A=Ce(S)?S:t,P=(j,Y,ie)=>{const Oe=Gf(e),ge=i?Oe.backwards:Oe.forwards;return W.from(ge(j,Y,(ke,nt)=>KS(ke.parentNode)?-1:(v=ke,ie(i,ke,nt)),A))};return P(o,r,hT).bind(j=>f?P(j.container,j.offset+(i?-1:0),mw):W.some(j)).orThunk(()=>v?W.some({container:v,offset:i?0:v.length}):W.none())},mM=(e,t,o,r,i)=>{const f=r[i];fn(r)&&xc(r.data)&&f&&(r=f);const v=fM(e,r);for(let S=0;S<v.length;S++)for(let A=0;A<t.length;A++){const P=t[A];if(!(Ce(P.collapsed)&&P.collapsed!==o.collapsed)&&Np(P)&&e.is(v[S],P.selector))return v[S]}return r},pM=(e,t,o,r)=>{let i=o;const f=e.getRoot(),v=t[0];if(Ng(v)&&(i=v.wrapper?null:e.getParent(o,v.block,f)),!i){const S=e.getParent(o,"LI,TD,TH,SUMMARY")??f;i=e.getParent(fn(o)?o.parentNode:o,A=>A!==f&&N_(e.schema,A),S)}if(i&&Ng(v)&&v.wrapper&&(i=fM(e,i,"ul,ol").reverse()[0]||i),!i)for(i=o;i&&i[r]&&!e.isBlock(i[r])&&(i=i[r],!qS(i,"br")););return i||o},I_=(e,t,o,r)=>{const i=o.parentNode;return Ce(o[r])?!1:i===t||ct(i)||e.isBlock(i)?!0:I_(e,t,i,r)},vT=(e,t,o,r,i,f)=>{let v=o;const S=i?"previousSibling":"nextSibling",A=e.getRoot();if(fn(o)&&!Ia(o)&&(i?r>0:r<o.data.length))return o;for(;v;){if(Qi(v))return o;if(!t[0].block_expand&&e.isBlock(v))return f?v:o;for(let P=v[S];P;P=P[S]){const U=fn(P)&&!I_(e,A,P,S);if(!KS(P)&&!gT(P)&&!Ia(P,U))return v}if(v===A||v.parentNode===A){o=v;break}v=v.parentNode}return o},bT=e=>KS(e.parentNode)||KS(e),qh=(e,t,o,r={})=>{const{includeTrailingSpace:i=!1,expandToBlock:f=!0}=r,v=e.getParent(t.commonAncestorContainer,ie=>Qi(ie)),S=Ce(v)?v:e.getRoot();let{startContainer:A,startOffset:P,endContainer:U,endOffset:j}=t;const Y=o[0];return _n(A)&&A.hasChildNodes()&&(A=Nh(A,P),fn(A)&&(P=0)),_n(U)&&U.hasChildNodes()&&(U=Nh(U,t.collapsed?j:j-1),fn(U)&&(j=U.data.length)),A=YS(e,A),U=YS(e,U),bT(A)&&(A=KS(A)?A:A.parentNode,t.collapsed?A=A.previousSibling||A:A=A.nextSibling||A,fn(A)&&(P=t.collapsed?A.length:0)),bT(U)&&(U=KS(U)?U:U.parentNode,t.collapsed?U=U.nextSibling||U:U=U.previousSibling||U,fn(U)&&(j=t.collapsed?0:U.length)),t.collapsed&&(B_(e,S,A,P,!0,i).each(({container:ge,offset:ke})=>{A=ge,P=ke}),B_(e,S,U,j,!1,i).each(({container:ge,offset:ke})=>{U=ge,j=ke})),(jc(Y)||Y.block_expand)&&((!jc(Y)||!fn(A)||P===0)&&(A=vT(e,o,A,P,!0,f)),(!jc(Y)||!fn(U)||j===U.data.length)&&(U=vT(e,o,U,j,!1,f))),F_(Y)&&(A=mM(e,o,t,A,"previousSibling"),U=mM(e,o,t,U,"nextSibling")),(Ng(Y)||Np(Y))&&(A=pM(e,o,A,"previousSibling"),U=pM(e,o,U,"nextSibling"),Ng(Y)&&(e.isBlock(A)||(A=vT(e,o,A,P,!0,f),fn(A)&&(P=0)),e.isBlock(U)||(U=vT(e,o,U,j,!1,f),fn(U)&&(j=U.data.length)))),_n(A)&&A.parentNode&&(P=e.nodeIndex(A),A=A.parentNode),_n(U)&&U.parentNode&&(j=e.nodeIndex(U)+1,U=U.parentNode),{startContainer:A,startOffset:P,endContainer:U,endOffset:j}},Bp=(e,t,o)=>{const r=t.startOffset,i=Nh(t.startContainer,r),f=t.endOffset,v=Nh(t.endContainer,f-1),S=ge=>{const ke=ge[0];fn(ke)&&ke===i&&r>=ke.data.length&&ge.splice(0,1);const nt=ge[ge.length-1];return f===0&&ge.length>0&&nt===v&&fn(nt)&&ge.splice(ge.length-1,1),ge},A=(ge,ke,nt)=>{const rt=[];for(;ge&&ge!==nt;ge=ge[ke])rt.push(ge);return rt},P=(ge,ke)=>e.getParent(ge,nt=>nt.parentNode===ke,ke),U=(ge,ke,nt)=>{const rt=nt?"nextSibling":"previousSibling";for(let ft=ge,Lt=ft.parentNode;ft&&ft!==ke;ft=Lt){Lt=ft.parentNode;const on=A(ft===ge?ft:ft[rt],rt);on.length&&(nt||on.reverse(),o(S(on)))}};if(i===v)return o(S([i]));const j=e.findCommonAncestor(i,v)??e.getRoot();if(e.isChildOf(i,v))return U(i,j,!0);if(e.isChildOf(v,i))return U(v,j);const Y=P(i,j)||i,ie=P(v,j)||v;U(i,Y,!0);const Oe=A(Y===i?Y:Y.nextSibling,"nextSibling",ie===v?ie.nextSibling:ie);Oe.length&&o(S(Oe)),U(v,ie)},sy=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],gM=e=>or(e)&&Oi(e)===Sl,mz=(e,t,o,r)=>rc(t).fold(()=>"skipping",i=>r==="br"||gM(t)?"valid":lo(t)?"existing":ue(t.dom)?"caret":Ve(sy,f=>_c(t,f))?"valid-block":!fw(e,o,r)||!fw(e,cs(i),o)?"invalid-child":"valid"),pz=(e,t)=>{const o=qh(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},hM=(e,t,o,r,i,f)=>{const{uid:v=t,...S}=o;ic(e,Ln()),Nr(e,`${zo()}`,v),Nr(e,`${Ro()}`,r);const{attributes:A={},classes:P=[]}=i(v,S);if(Ti(e,A),Tu(e,P),f){P.length>0&&Nr(e,`${pi()}`,P.join(","));const U=sn(A);U.length>0&&Nr(e,`${Zt()}`,U.join(","))}},gz=e=>{aa(e,Ln()),Hs(e,`${zo()}`),Hs(e,`${Ro()}`),Hs(e,`${ns()}`);const t=_l(e,`${Zt()}`).map(r=>r.split(",")).getOr([]),o=_l(e,`${pi()}`).map(r=>r.split(",")).getOr([]);De(t,r=>Hs(e,r)),Od(e,o),Hs(e,`${pi()}`),Hs(e,`${Zt()}`)},vM=(e,t,o,r,i)=>{const f=Pe.fromTag("span",e);return hM(f,t,o,r,i,!1),f},hz=(e,t,o,r,i,f)=>{const v=[],S=vM(e.getDoc(),o,f,r,i),A=Ls(),P=()=>{A.clear()},U=()=>A.get().getOrThunk(()=>{const Oe=Rr(S);return v.push(Oe),A.set(Oe),Oe}),j=Oe=>{De(Oe,Y)},Y=Oe=>{switch(mz(e,Oe,"span",cs(Oe))){case"invalid-child":{P();const ke=fa(Oe);j(ke),P();break}case"valid-block":{P(),hM(Oe,o,f,r,i,!0);break}case"valid":{const ke=U();ac(Oe,ke);break}}},ie=Oe=>{const ge=qe(Oe,Pe.fromDom);j(ge)};return Bp(e.dom,t,Oe=>{P(),ie(Oe)}),v},bM=(e,t,o,r)=>{e.undoManager.transact(()=>{const i=e.selection,f=i.getRng(),v=so(e).length>0,S=Ms("mce-annotation");if(f.collapsed&&!v&&pz(e,f),i.getRng().collapsed&&!v){const A=vM(e.getDoc(),S,r,t,o.decorate);Gu(A,xr),i.getRng().insertNode(A.dom),i.select(A.dom)}else dT(i,!1,()=>{US(e,A=>{hz(e,A,S,t,o.decorate,r)})})})},yM=e=>{const t=oa();hl(e,t);const o=js(e,t),r=ti("span"),i=f=>{De(f,v=>{r(v)?Yi(v):gz(v)})};return{register:(f,v)=>{t.register(f,v)},annotate:(f,v)=>{t.lookup(f).each(S=>{bM(e,f,S,v)})},annotationChanged:(f,v)=>{o.addListener(f,v)},remove:f=>{Kt(e,W.some(f)).each(({elements:v})=>{const S=e.selection.getBookmark();i(v),e.selection.moveToBookmark(S)})},removeAll:f=>{const v=e.selection.getBookmark();Io(ys(e,f),(S,A)=>{i(S)}),e.selection.moveToBookmark(v)},getAll:f=>{const v=ys(e,f);return _r(v,S=>qe(S,A=>A.dom))}}},pw=e=>({getBookmark:se(Vr,e),moveToBookmark:se($u,e)});pw.isBookmarkNode=ii;const wM=(e,t,o)=>o.collapsed?!1:Ve(o.getClientRects(),r=>BC(r,e,t)),vz=(e,t)=>{const o=or(t)?Oi(t).length:fa(t).length+1;return e>o?o:e<0?0:e},bz=e=>xm.range(e.start,vz(e.soffset,e.start),e.finish,vz(e.foffset,e.finish)),hc=(e,t)=>!D1(t.dom)&&(oc(e,t)||_s(e,t)),XS=e=>t=>hc(e,t.start)&&hc(e,t.finish),vu=e=>e.inline||ps.browser.isFirefox(),Ip=e=>xm.range(Pe.fromDom(e.startContainer),e.startOffset,Pe.fromDom(e.endContainer),e.endOffset),yz=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?W.none():W.from(t.getRangeAt(0))).map(Ip)},CM=e=>{const t=ju(e);return yz(t.dom).filter(XS(e))},wz=(e,t)=>W.from(t).filter(XS(e)).map(bz),$_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),W.some(t)}catch{return W.none()}},yT=e=>{const t=vu(e)?CM(Pe.fromDom(e.getBody())):W.none();e.bookmark=t.isSome()?t:e.bookmark},wT=e=>(e.bookmark?e.bookmark:W.none()).bind(o=>wz(Pe.fromDom(e.getBody()),o)).bind($_),Cz=e=>{wT(e).each(t=>e.selection.setRng(t))},SM={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},nm=(e,t)=>(Pt(t)||(t=0),window.setTimeout(e,t)),Id=(e,t)=>(Pt(t)||(t=0),window.setInterval(e,t)),$p={setEditorTimeout:(e,t,o)=>nm(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=Id(()=>{e.removed?window.clearInterval(r):t()},o);return r}},Bg=e=>e.type==="nodechange"&&e.selectionChange,L_=(e,t)=>{const o=()=>{t.throttle()};Ns.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Ns.DOM.unbind(document,"mouseup",o)})},Sz=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},xz=(e,t)=>{Sz(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Bg(o)||yT(e)})},xM=e=>{const t=An(()=>{yT(e)},0);e.on("init",()=>{e.inline&&L_(e,t),xz(e,t)}),e.on("remove",()=>{t.cancel()})};let gw;const CT=Ns.DOM,Ez=e=>_n(e)&&SM.isEditorUIElement(e),QS=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},ST=(e,t)=>{const o=Sv(e);return CT.getParent(t,i=>Ez(i)||(o?e.dom.is(i,o):!1))!==null},H_=e=>{try{const t=oi(Pe.fromDom(e.getElement()));return yl(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},Az=(e,t)=>{const o=t.editor;xM(o);const r=(i,f)=>{if(Gb(i)&&i.inline!==!0){const v=Pe.fromDom(i.getContainer());f(v,"tox-edit-focus")}};o.on("focusin",()=>{const i=e.focusedEditor;QS(H_(o))&&r(o,ic),i!==o&&(i&&i.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:i}),o.focus(!0))}),o.on("focusout",()=>{$p.setEditorTimeout(o,()=>{const i=e.focusedEditor;(!QS(H_(o))||i!==o)&&r(o,aa),!ST(o,H_(o))&&i===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),gw||(gw=i=>{const f=e.activeEditor;f&&w1(i).each(v=>{const S=v;S.ownerDocument===document&&S!==document.body&&!ST(f,S)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},CT.bind(document,"focusin",gw))},Tz=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&gw&&(CT.unbind(document,"focusin",gw),gw=null)},EM=e=>{e.on("AddEditor",se(Az,e)),e.on("RemoveEditor",se(Tz,e))},z_=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),AM=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,U_=e=>e.collapsed?W.from(Nh(e.startContainer,e.startOffset)).map(Pe.fromDom):W.none(),kz=(e,t)=>U_(t).bind(o=>d2(o)?W.some(o):oc(e,o)?W.none():W.some(e)),_z=(e,t)=>{kz(Pe.fromDom(e.getBody()),t).bind(o=>M(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},V_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Oz=e=>qu(e)||ch(e).isSome(),TM=e=>Ce(e.iframeElement)&&qu(Pe.fromDom(e.iframeElement)),Dz=e=>{const t=e.getBody();return t&&Oz(Pe.fromDom(t))},Pz=e=>{const t=oi(Pe.fromDom(e.getElement()));return yl(t).filter(o=>!QS(o.dom)&&ST(e,o.dom)).isSome()},hw=e=>e.inline?Dz(e):TM(e),kM=e=>hw(e)||Pz(e),Gte=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const i=v=>{wT(v).each(S=>{v.selection.setRng(S),r=S})};!hw(e)&&e.hasEditableRoot()&&i(e);const f=z_(e,t.getNode());if(f&&e.dom.isChildOf(f,o)){AM(e,f)||V_(o),V_(f),e.hasEditableRoot()||i(e),_z(e,r),xT(e);return}e.inline||(ps.browser.isOpera()||V_(o),e.getWin().focus()),(ps.browser.isFirefox()||e.inline)&&(V_(o),_z(e,r)),xT(e)},xT=e=>e.editorManager.setActive(e),_M=(e,t)=>{e.removed||(t?xT(e):Gte(e))},Hn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Hn.metaKeyPressed(e),metaKeyPressed:e=>ps.os.isMacOS()||ps.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},ry="data-mce-selected",Rz=`table,img,figure.image,hr,video,span.mce-preview-object,details,${j0}`,Fz=Math.abs,W_=Math.round,OM={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Mz=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Nz=(e,t)=>{const o=t.dom,r=t.getDoc(),i=document,f=t.getBody();let v,S,A,P,U,j,Y,ie,Oe,ge,ke,nt,rt,ft,Lt;const on=Vt=>Ce(Vt)&&(nd(Vt)||o.is(Vt,"figure.image")),In=Vt=>od(Vt)||o.hasClass(Vt,"mce-preview-object"),fo=(Vt,Tn)=>{if(Mz(Vt)){const oo=Vt.touches[0];return on(Vt.target)&&!wM(oo.clientX,oo.clientY,Tn)}else return on(Vt.target)&&!wM(Vt.clientX,Vt.clientY,Tn)},$t=Vt=>{const Tn=Vt.target;fo(Vt,t.selection.getRng())&&!Vt.isDefaultPrevented()&&t.selection.select(Tn)},At=Vt=>o.hasClass(Vt,"mce-preview-object")&&Ce(Vt.firstElementChild)?[Vt,Vt.firstElementChild]:o.is(Vt,"figure.image")?[Vt.querySelector("img")]:[Vt],Ht=Vt=>{const Tn=BA(t);return!Tn||t.mode.isReadOnly()||Vt.getAttribute("data-mce-resize")==="false"||Vt===t.getBody()?!1:o.hasClass(Vt,"mce-preview-object")&&Ce(Vt.firstElementChild)?_c(Pe.fromDom(Vt.firstElementChild),Tn):_c(Pe.fromDom(Vt),Tn)},Bn=(Vt,Tn)=>{if(In(Tn))return Vt.create("img",{src:ps.transparentSrc});if(Fc(Tn)){const Vs=Do(P.name,"n")?bt:Bt,Ps=Tn.cloneNode(!0);return Vs(Vt.select("tr",Ps)).each(Zr=>{const Mf=Vt.select("td,th",Zr);Vt.setStyle(Zr,"height",null),De(Mf,Xp=>Vt.setStyle(Xp,"height",null))}),Ps}else return Tn.cloneNode(!0)},jo=(Vt,Tn,oo)=>{Vt[Tn]=oo;const Vs=400;if(Vt.width>Vs&&!(Tn==="width"&&oo<Vs))Vt[Tn]=oo,o.setStyle(Vt,Tn,oo);else{const Ps=Tn==="height"?Vs*(ge??1):Vs;Vt[Tn]=Ps,o.setStyle(Vt,Tn,Ps)}},Zo=(Vt,Tn,oo)=>{if(Ce(oo)){const Vs=At(Vt);De(Vs,Ps=>{vh(Ps)?jo(Ps,Tn,oo):Ps.style[Tn]||!t.schema.isValid(Ps.nodeName.toLowerCase(),Tn)?o.setStyle(Ps,Tn,oo):o.setAttrib(Ps,Tn,""+oo)})}},Ks=(Vt,Tn,oo)=>{Zo(Vt,"width",Tn),Zo(Vt,"height",oo)},Lr=Vt=>{let Tn,oo,Vs,Ps,Zr;Tn=Vt.screenX-j,oo=Vt.screenY-Y,nt=Tn*P[2]+ie,rt=oo*P[3]+Oe,nt=nt<5?5:nt,rt=rt<5?5:rt,(on(v)||In(v)||vh(v))&&J4(t)!==!1?Vs=!Hn.modifierPressed(Vt):Vs=Hn.modifierPressed(Vt),Vs&&(Fz(Tn)>Fz(oo)?(rt=W_(nt*ge),nt=W_(rt/ge)):(nt=W_(rt/ge),rt=W_(nt*ge))),Ks(S,nt,rt),Ps=P.startPos.x+Tn,Zr=P.startPos.y+oo,Ps=Ps>0?Ps:0,Zr=Zr>0?Zr:0,o.setStyles(A,{left:Ps,top:Zr,display:"block"}),A.innerHTML=nt+" &times; "+rt,Tn=f.scrollWidth-ft,oo=f.scrollHeight-Lt,Tn+oo!==0&&o.setStyles(A,{left:Ps-Tn,top:Zr-oo}),ke||(mA(t,v,ie,Oe,"corner-"+P.name),ke=!0)},ya=()=>{const Vt=ke;ke=!1,Vt&&(Zo(v,"width",nt),Zo(v,"height",rt)),o.unbind(r,"mousemove",Lr),o.unbind(r,"mouseup",ya),i!==r&&(o.unbind(i,"mousemove",Lr),o.unbind(i,"mouseup",ya)),o.remove(S),o.remove(A),o.remove(U),La(v),Vt&&(rS(t,v,nt,rt,"corner-"+P.name),o.setAttrib(v,"style",o.getAttrib(v,"style"))),t.nodeChanged()},La=Vt=>{Dr();const Tn=o.getPos(Vt,f),oo=Tn.x,Vs=Tn.y,Ps=Vt.getBoundingClientRect(),Zr=Ps.width||Ps.right-Ps.left,Mf=Ps.height||Ps.bottom-Ps.top;v!==Vt&&(Ff(),v=Vt,nt=rt=0);const Xp=t.dispatch("ObjectSelected",{target:Vt});Ht(Vt)&&!Xp.isDefaultPrevented()?Io(OM,(tp,dm)=>{const Jv=uf=>{const A0=At(v)[0];j=uf.screenX,Y=uf.screenY,ie=A0.clientWidth,Oe=A0.clientHeight,ge=Oe/ie,P=tp,P.name=dm,P.startPos={x:Zr*tp[0]+oo,y:Mf*tp[1]+Vs},ft=f.scrollWidth,Lt=f.scrollHeight,U=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(U,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),S=Bn(o,v),o.addClass(S,"mce-clonedresizable"),o.setAttrib(S,"data-mce-bogus","all"),S.contentEditable="false",o.setStyles(S,{left:oo,top:Vs,margin:0}),Ks(S,Zr,Mf),S.removeAttribute(ry),f.appendChild(S),o.bind(r,"mousemove",Lr),o.bind(r,"mouseup",ya),i!==r&&(o.bind(i,"mousemove",Lr),o.bind(i,"mouseup",ya)),A=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ie+" &times; "+Oe)};let md=o.get("mceResizeHandle"+dm);md&&o.remove(md),md=o.add(f,"div",{id:"mceResizeHandle"+dm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+dm+"-resize; margin:0; padding:0"}),o.bind(md,"mousedown",uf=>{uf.stopImmediatePropagation(),uf.preventDefault(),Jv(uf)}),tp.elm=md,o.setStyles(md,{left:Zr*tp[0]+oo-md.offsetWidth/2,top:Mf*tp[1]+Vs-md.offsetHeight/2})}):Ff(!1)},wc=An(La,0),Ff=(Vt=!0)=>{wc.cancel(),Dr(),v&&Vt&&v.removeAttribute(ry),Io(OM,(Tn,oo)=>{const Vs=o.get("mceResizeHandle"+oo);Vs&&(o.unbind(Vs),o.remove(Vs))})},Un=(Vt,Tn)=>o.isChildOf(Vt,Tn),Eo=Vt=>{if(ke||t.removed||t.composing)return;const Tn=Vt.type==="mousedown"?Vt.target:e.getNode(),oo=Xi(Pe.fromDom(Tn),Rz).map(Ps=>Ps.dom).filter(Ps=>o.isEditable(Ps.parentElement)||Ps.nodeName==="IMG"&&o.isEditable(Ps)).getOrUndefined(),Vs=Ce(oo)?o.getAttrib(oo,ry,"1"):"1";if(De(o.select(`img[${ry}],hr[${ry}]`),Ps=>{Ps.removeAttribute(ry)}),Ce(oo)&&Un(oo,f)&&kM(t)){vr();const Ps=e.getStart(!0);if(Un(Ps,oo)&&Un(e.getEnd(!0),oo)){o.setAttrib(oo,ry,Vs),wc.throttle(oo);return}}Ff()},Dr=()=>{Io(OM,Vt=>{Vt.elm&&(o.unbind(Vt.elm),delete Vt.elm)})},vr=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{vr(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Eo),t.on("keyup compositionend",Vt=>{v&&v.nodeName==="TABLE"&&Eo(Vt)}),t.on("hide blur",Ff),t.on("contextmenu longpress",$t,!0)}),t.on("remove",Dr),{isResizable:Ht,showResizeRect:La,hideResizeRect:Ff,updateResizeRect:Eo,destroy:()=>{wc.cancel(),v=S=U=null}}},DM=(e,t,o)=>{const r=ju(Pe.fromDom(o));return _1(r.dom,e,t).map(i=>{const f=o.createRange();return f.setStart(i.start.dom,i.soffset),f.setEnd(i.finish.dom,i.foffset),f}).getOrUndefined()},i0=(e,t)=>Ce(e)&&Ce(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Bz=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},j_=(e,t,o)=>Bz(e,t,o)!==null,PM=(e,t,o)=>j_(e,t,r=>r.nodeName===o),RM=(e,t)=>nf(e)&&!j_(e,t,ue),Z_=(e,t,o)=>{const r=t.parentNode;if(r){const i=new Fa(t,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=i[o?"prev":"next"]();)if(ka(f))return!0}return!1},q_=(e,t)=>e.previousSibling?.nodeName===t,Kte=(e,t)=>{let o=t;for(;o&&o!==e;){if(sr(o))return!0;o=o.parentNode}return!1},G_=(e,t,o,r,i)=>{const f=e.getRoot(),v=e.schema.getNonEmptyElements(),S=i.parentNode;let A,P;if(!S)return W.none();const U=e.getParent(S,e.isBlock)||f;if(r&&ka(i)&&t&&e.isEmpty(U))return W.some(It(S,e.nodeIndex(i)));const j=new Fa(i,U);for(;P=j[r?"prev":"next"]();){if(e.getContentEditableParent(P)==="false"||RM(P,f))return W.none();if(fn(P)&&P.data.length>0)return PM(P,f,"A")?W.none():W.some(It(P,r?P.data.length:0));if(e.isBlock(P)||v[P.nodeName.toLowerCase()])return W.none();A=P}return bs(A)?W.none():o&&A?W.some(It(A,0)):W.none()},Iz=(e,t,o,r)=>{const i=e.getRoot();let f,v=!1,S=o?r.startContainer:r.endContainer,A=o?r.startOffset:r.endOffset;const P=_n(S)&&A===S.childNodes.length,U=e.schema.getNonEmptyElements();let j=o;if(nf(S))return W.none();if(_n(S)&&A>S.childNodes.length-1&&(j=!1),Vf(S)&&(S=i,A=0),S===i){if(j&&(f=S.childNodes[A>0?A-1:0],f&&(nf(f)||U[f.nodeName]||Fc(f))))return W.none();if(S.hasChildNodes()){if(A=Math.min(!j&&A>0?A-1:A,S.childNodes.length-1),S=S.childNodes[A],A=fn(S)&&P?S.data.length:0,!t&&S===i.lastChild&&Fc(S)||Kte(i,S)||nf(S)||Cg(S))return W.none();if(S.hasChildNodes()&&!Fc(S)){f=S;const Y=new Fa(S,i);do{if(sr(f)||nf(f)){v=!1;break}if(fn(f)&&f.data.length>0){A=j?0:f.data.length,S=f,v=!0;break}if(U[f.nodeName.toLowerCase()]&&!V0(f)){A=e.nodeIndex(f),S=f.parentNode,j||A++,v=!0;break}}while(f=j?Y.next():Y.prev())}}}return t&&(fn(S)&&A===0&&G_(e,P,t,!0,S).each(Y=>{S=Y.container(),A=Y.offset(),v=!0}),_n(S)&&(f=S.childNodes[A],f||(f=S.childNodes[A-1]),f&&ka(f)&&!q_(f,"A")&&!Z_(e,f,!1)&&!Z_(e,f,!0)&&G_(e,P,t,!0,f).each(Y=>{S=Y.container(),A=Y.offset(),v=!0}))),j&&!t&&fn(S)&&A===S.data.length&&G_(e,P,t,!1,S).each(Y=>{S=Y.container(),A=Y.offset(),v=!0}),v&&S?W.some(It(S,A)):W.none()},ET=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),i=It.fromRangeStart(t);return Iz(e,o,!0,r).each(f=>{(!o||!It.isAbove(i,f))&&r.setStart(f.container(),f.offset())}),o||Iz(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),i0(t,r)?W.none():W.some(r)},AT=(e,t)=>e.splitText(t),vw=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset;if(t===r&&fn(t)){if(o>0&&o<t.data.length)if(r=AT(t,o),t=r.previousSibling,i>o){i=i-o;const f=AT(r,i).previousSibling;t=r=f,i=f.data.length,o=0}else i=0}else if(fn(t)&&o>0&&o<t.data.length&&(t=AT(t,o),o=0),fn(r)&&i>0&&i<r.data.length){const f=AT(r,i).previousSibling;r=f,i=f.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:i}},Ig=e=>({walk:(f,v)=>Bp(e,f,v),split:vw,expand:(f,v={type:"word"})=>{if(v.type==="word"){const S=qh(e,f,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),A=e.createRng();return A.setStart(S.startContainer,S.startOffset),A.setEnd(S.endContainer,S.endOffset),A}return f},normalize:f=>ET(e,f).fold(He,v=>(f.setStart(v.startContainer,v.startOffset),f.setEnd(v.endContainer,v.endOffset),!0))});Ig.compareRanges=i0,Ig.getCaretRangeFromPoint=DM,Ig.getSelectedNode=xl,Ig.getNode=Nh;const $z=(e,t)=>e.view(t).fold(Te([]),r=>{const i=e.owner(r),f=$z(e,i);return[r].concat(f)}),Yte=(e,t)=>{const o=t.owner(e);return $z(t,o)};var Qte=Object.freeze({__proto__:null,view:e=>(e.dom===document?W.none():W.from(e.dom.defaultView?.frameElement)).map(Pe.fromDom),owner:e=>xu(e)});const Lz=e=>{const t=lh(),o=uh(t),r=Yte(e,Qte),i=fp(e),f=wt(r,(v,S)=>{const A=fp(S);return{left:v.left+A.left,top:v.top+A.top}},{left:0,top:0});return _i(f.left+i.left+o.left,f.top+i.top+o.top)},TT=e=>cs(e)==="textarea",Hz=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),FM=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},Jte=(e,t)=>{const o=fa(e);if(o.length===0||TT(e))return{element:e,offset:t};if(t<o.length&&!TT(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return TT(r)?{element:e,offset:t}:cs(r)==="img"?{element:r,offset:1}:or(r)?{element:r,offset:Oi(r).length}:{element:r,offset:fa(r).length}}},MM=(e,t)=>{const o=Dc(e),r=S1(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},NM=(e,t)=>{const o=Jte(e,t),r=Pe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Sl+"</span>");return ui(o.element,r),MM(r,()=>Is(r))},zz=e=>MM(Pe.fromDom(e),lt),BM=(e,t,o,r)=>{Vz(e,(i,f)=>Uz(e,t,o,r),o)},IM=(e,t,o,r,i)=>{const f={elm:r.element.dom,alignToTop:i};if(Hz(e,f))return;const v=uh(t).top;o(e,t,v,r,i),FM(e,f)},Uz=(e,t,o,r)=>{const i=Pe.fromDom(e.getBody()),f=Pe.fromDom(e.getDoc());Ed(i);const v=NM(Pe.fromDom(o.startContainer),o.startOffset);IM(e,f,t,v,r),v.cleanup()},$M=(e,t,o,r)=>{const i=Pe.fromDom(e.getDoc());IM(e,i,o,zz(t),r)},Vz=(e,t,o)=>{const r=o.startContainer,i=o.startOffset,f=o.endContainer,v=o.endOffset;t(Pe.fromDom(r),Pe.fromDom(f));const S=e.dom.createRng();S.setStart(r,i),S.setEnd(f,v),e.selection.setRng(o)},K_=(e,t,o,r,i)=>{const f=t.pos,v=30;if(r)dh(f.left,Math.max(0,f.top-v),i);else{const S=f.top-o+t.height+v;dh(-e.getBody().getBoundingClientRect().left,S,i)}},LM=(e,t,o,r,i,f)=>{const v=r+o,S=i.pos.top,A=i.bottom,P=A-S>=r;S<o?K_(e,i,r,f!==!1,t):S>v?K_(e,i,r,P?f!==!1:f===!0,t):A>v&&!P&&K_(e,i,r,f===!0,t)},HM=(e,t,o,r,i)=>{const f=ju(t).dom.innerHeight;LM(e,t,o,f,r,i)},zM=(e,t,o,r,i)=>{const f=ju(t).dom.innerHeight;LM(e,t,o,f,r,i);const v=Lz(r.element),S=cu(window);v.top<S.y?au(r.element,i!==!1):v.top>S.bottom&&au(r.element,i===!0)},Wz=(e,t,o)=>BM(e,HM,t,o),jz=(e,t,o)=>$M(e,t,HM,o),Zz=(e,t,o)=>BM(e,zM,t,o),qz=(e,t,o)=>$M(e,t,zM,o),Vn=(e,t,o)=>{(e.inline?jz:qz)(e,t,o)},om=(e,t,o)=>{(e.inline?Wz:Zz)(e,t,o)},Gz=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),UM=(e,t,o,r,i)=>{const f=o?t.startContainer:t.endContainer,v=o?t.startOffset:t.endOffset;return W.from(f).map(Pe.fromDom).map(S=>!r||!t.collapsed?Mr(S,i(S,v)).getOr(S):S).bind(S=>da(S)?W.some(S):Ci(S).filter(da)).map(S=>S.dom).getOr(e)},kT=(e,t,o=!1)=>UM(e,t,!0,o,(r,i)=>Math.min(Zu(r),i)),Y_=(e,t,o=!1)=>UM(e,t,!1,o,(r,i)=>i>0?i-1:i),X_=(e,t)=>{const o=e;for(;e&&fn(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},Q_=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const i=t.startOffset,f=t.endOffset;let v=t.commonAncestorContainer;t.collapsed||(o===r&&f-i<2&&o.hasChildNodes()&&(v=o.childNodes[i]),fn(o)&&fn(r)&&(o.length===i?o=X_(o.nextSibling,!0):o=o.parentNode,f===0?r=X_(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(v=o)));const S=fn(v)?v.parentNode:v;return Vl(S)?S:e},Kz=(e,t,o,r)=>{const i=[],f=e.getRoot(),v=e.getParent(o||kT(f,t,t.collapsed),e.isBlock),S=e.getParent(r||Y_(f,t,t.collapsed),e.isBlock);if(v&&v!==f&&i.push(v),v&&S&&v!==S){let A;const P=new Fa(v,f);for(;(A=P.next())&&A!==S;)e.isBlock(A)&&i.push(A)}return S&&v!==S&&S!==f&&i.push(S),i},VM=(e,t,o)=>W.from(t).bind(r=>W.from(r.parentNode).map(i=>{const f=e.nodeIndex(r),v=e.createRng();return v.setStart(i,f),v.setEnd(i,f+1),o&&(uT(e,v,r,!0),uT(e,v,r,!1)),v})),J_=(e,t)=>qe(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),Yz={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_T=(e,t,o)=>{const r=o?"lastChild":"firstChild",i=o?"prev":"next";if(e[r])return e[r];if(e!==t){let f=e[i];if(f)return f;for(let v=e.parent;v&&v!==t;v=v.parent)if(f=v[i],f)return f}},Xz=e=>{const t=e.value??"";if(!vg(t))return!1;const o=e.parent;return!(o&&(o.name!=="span"||o.attr("style"))&&/^[ ]+$/.test(t))},WM=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class vc{static create(t,o){const r=new vc(t,Yz[t]||1);return o&&Io(o,(i,f)=>{r.attr(f,i)}),r}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!J(t))return Ce(t)&&Io(t,(f,v)=>{r.attr(v,f)}),r;const i=r.attributes;if(i){if(o!==void 0){if(o===null){if(t in i.map){delete i.map[t];let f=i.length;for(;f--;)if(i[f].name===t)return i.splice(f,1),r}return r}if(t in i.map){let f=i.length;for(;f--;)if(i[f].name===t){i[f].value=o;break}}else i.push({name:t,value:o});return i.map[t]=o,r}return i.map[t]}}clone(){const t=this,o=new vc(t.name,t.type),r=t.attributes;if(r){const i=[];i.map={};for(let f=0,v=r.length;f<v;f++){const S=r[f];S.name!=="id"&&(i[i.length]={name:S.name,value:S.value},i.map[S.name]=S.value)}o.attributes=i}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,i=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):i&&(i.next=r),o.lastChild===t?(o.lastChild=i,i&&(i.next=null)):r&&(r.prev=i),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const i=o.parent||this;return r?(o===i.firstChild?i.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===i.lastChild?i.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=i,t}getAll(t){const o=this,r=[];for(let i=o.firstChild;i;i=_T(i,o))i.name===t&&r.push(i);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let i=t.firstChild;i;i=_T(i,t))o.push(i);let r=o.length;for(;r--;){const i=o[r];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){const i=this;let f=i.firstChild;if(WM(i))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(t[f.name]||WM(f))return!1}if(f.type===8||f.type===3&&!Xz(f)||f.type===3&&f.parent&&o[f.parent.name]&&vg(f.value??"")||r&&r(f))return!1}while(f=_T(f,i));return!0}walk(t){return _T(this,null,t)}}const Qz=pn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),jM=e=>J(e.nodeValue)&&e.nodeValue.includes(Sl),ZM=e=>`${e.length===0?"":`${qe(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Jz=(e,t)=>t.querySelectorAll(ZM(e)),qM=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>jM(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),eO=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(jM(t)){const o=t.parentNode;return o&&Jn(Qz,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),OT=e=>qM(e).nextNode()!==null,eU=e=>eO(e).nextNode()!==null,tU=(e,t)=>t.querySelector(ZM(e))!==null,nU=(e,t)=>{De(Jz(e,t),o=>{const r=Pe.fromDom(o);Ur(r,"data-mce-bogus")==="all"?Is(r):De(e,i=>{Er(r,i)&&Hs(r,i)})})},GM=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},oU=F(GM,qM),sU=F(GM,eO),KM=(e,t)=>{const o=[{condition:se(tU,t),action:se(nU,t)},{condition:OT,action:oU},{condition:eU,action:sU}];let r=e,i=!1;return De(o,({condition:f,action:v})=>{f(r)&&(i||(r=e.cloneNode(!0),i=!0),v(r))}),r},YM=e=>{const t=Ot(e,"[data-mce-bogus]");De(t,o=>{Ur(o,"data-mce-bogus")==="all"?Is(o):Kf(o)?(ui(o,Pe.fromText(ci)),Is(o)):Yi(o)})},XM=e=>{const t=Ot(e,"input");De(t,o=>{Hs(o,"name")})},rU=(e,t)=>{const o=rl(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},aU=(e,t)=>{const o=e.getDoc(),r=oi(Pe.fromDom(e.getBody())),i=Pe.fromTag("div",o);Nr(i,"data-mce-bogus","all"),Ol(i,{position:"fixed",left:"-9999999px",top:"0"}),Gu(i,t.innerHTML),YM(i),XM(i);const f=wm(r);As(f,i);const v=ld(i.dom.innerText);return Is(i),v},iU=(e,t,o)=>{let r;return t.format==="raw"?r=pn.trim(ld(KM(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=aU(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=rU(e,e.serializer.serialize(o,t)),t.format!=="text"&&!f2(Pe.fromDom(o))&&J(r)?pn.trim(r):r},lU=(e,t)=>W.from(e.getBody()).fold(Te(t.format==="tree"?new vc("body",11):""),o=>iU(e,t,o)),QM=pn.makeMap,tO=e=>{const t=[];e=e||{};const o=e.indent,r=QM(e.indent_before||""),i=QM(e.indent_after||""),f=fc.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format!=="xhtml";return{start:(S,A,P)=>{if(o&&r[S]&&t.length>0){const U=t[t.length-1];U.length>0&&U!==`
`&&t.push(`
`)}if(t.push("<",S),A)for(let U=0,j=A.length;U<j;U++){const Y=A[U];t.push(" ",Y.name,'="',f(Y.value,!0),'"')}if(!P||v?t[t.length]=">":t[t.length]=" />",P&&o&&i[S]&&t.length>0){const U=t[t.length-1];U.length>0&&U!==`
`&&t.push(`
`)}},end:S=>{let A;t.push("</",S,">"),o&&i[S]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(S,A)=>{S.length>0&&(t[t.length]=A?S:f(S))},cdata:S=>{t.push("<![CDATA[",S,"]]>")},comment:S=>{t.push("<!--",S,"-->")},pi:(S,A)=>{A?t.push("<?",S," ",f(A),"?>"):t.push("<?",S,"?>"),o&&t.push(`
`)},doctype:S=>{t.push("<!DOCTYPE",S,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Ov=(e={},t=gl())=>{const o=tO(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const f=e.validate,v={3:A=>{o.text(A.value??"",A.raw)},8:A=>{o.comment(A.value??"")},7:A=>{o.pi(A.name,A.value)},10:A=>{o.doctype(A.value??"")},4:A=>{o.cdata(A.value??"")},11:A=>{let P=A;if(P=P.firstChild)do S(P);while(P=P.next)}};o.reset();const S=A=>{const P=v[A.type];if(P)P(A);else{const U=A.name,j=U in t.getVoidElements();let Y=A.attributes;if(f&&Y&&Y.length>1){const ie=[];ie.map={};const Oe=t.getElementRule(A.name);if(Oe){for(let ge=0,ke=Oe.attributesOrder.length;ge<ke;ge++){const nt=Oe.attributesOrder[ge];if(nt in Y.map){const rt=Y.map[nt];ie.map[nt]=rt,ie.push({name:nt,value:rt})}}for(let ge=0,ke=Y.length;ge<ke;ge++){const nt=Y[ge].name;if(!(nt in ie.map)){const rt=Y.map[nt];ie.map[nt]=rt,ie.push({name:nt,value:rt})}}Y=ie}}if(o.start(U,Y,j),gp(U))J(A.value)&&o.text(A.value,!0),o.end(U);else if(!j){let ie=A.firstChild;if(ie){(U==="pre"||U==="textarea")&&ie.type===3&&ie.value?.[0]===`
`&&o.text(`
`,!0);do S(ie);while(ie=ie.next)}o.end(U)}}};return i.type===1&&!e.inner?S(i):i.type===3?v[3](i):v[11](i),o.getContent()}}},JM=new Set;De(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{JM.add(t)});const JS=new Set;De(["background-color"],t=>{JS.add(t)});const Dv=["font","text-decoration","text-emphasis"],DT=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),bw=(e,t)=>sn(DT(e,t)),cU=e=>JM.has(e),uU=e=>JS.has(e),eN=(e,t)=>Ve(bw(e,t),o=>cU(o)),tN=(e,t)=>eN(e,t)&&Ve(bw(e,t),o=>uU(o)),dU=e=>at(e,t=>Ve(Dv,o=>Do(t,o))),fU=(e,t,o)=>{const r=bw(e,t),i=bw(e,o),f=v=>{const S=e.getStyle(t,v)??"",A=e.getStyle(o,v)??"";return Fr(S)&&Fr(A)&&S!==A};return Ve(r,v=>{const S=A=>Ve(A,P=>P===v);if(!S(i)&&S(Dv)){const A=dU(i);return Ve(A,f)}else return f(v)})},nO=(e,t,o)=>W.from(o.container()).filter(fn).exists(r=>{const i=e?0:-1;return t(r.data.charAt(o.offset()+i))}),oO=se(nO,!0,rf),PT=se(nO,!1,rf),mU=e=>{const t=e.container();return fn(t)&&(t.data.length===0||xb(t.data)&&pw.isBookmarkNode(t.parentNode))},Pv=(e,t)=>o=>BS(e?0:-1,o).filter(t).isSome(),nN=e=>nd(e)&&pa(Pe.fromDom(e),"display")==="block",sO=e=>sr(e)&&!e2(e),rO=Pv(!0,nN),oN=Pv(!1,nN),ex=Pv(!0,od),tx=Pv(!1,od),nx=Pv(!0,Fc),aO=Pv(!1,Fc),l0=Pv(!0,sO),Gh=Pv(!1,sO),sN=e=>e.slice(0,-1),pU=(e,t,o)=>oc(t,e)?sN(cl(e,r=>o(r)||_s(r,t))):[],rN=(e,t)=>pU(e,t,He),Lp=(e,t)=>[e].concat(rN(e,t)),RT=(e,t,o)=>d(e,t,o,mU),aN=e=>t=>e.isBlock(cs(t)),iO=(e,t,o)=>vn(Lp(Pe.fromDom(t.container()),e),aN(o)),lO=(e,t,o,r)=>RT(e,t.dom,o).forall(i=>iO(t,o,r).fold(()=>!Fp(i,o,t.dom),f=>!Fp(i,o,t.dom)&&oc(f,Pe.fromDom(i.container())))),cO=(e,t,o,r)=>iO(t,o,r).fold(()=>RT(e,t.dom,o).forall(i=>!Fp(i,o,t.dom)),i=>RT(e,i.dom,o).isNone()),FT=se(cO,!1),uO=se(cO,!0),iN=se(lO,!1),lN=se(lO,!0),cN=e=>ty(e).exists(Kf),MT=(e,t,o,r)=>{const i=at(Lp(Pe.fromDom(o.container()),t),v=>r.isBlock(cs(v))),f=bt(i).getOr(t);return sf(e,f.dom,o).filter(cN)},dO=(e,t,o)=>ty(t).exists(Kf)||MT(!0,e,t,o).isSome(),NT=(e,t,o)=>IS(t).exists(Kf)||MT(!1,e,t,o).isSome(),uN=se(MT,!1),gU=se(MT,!0),dN=e=>It.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),fN=(e,t,o)=>{const r=at(Lp(Pe.fromDom(t.container()),e),i=>o.isBlock(cs(i)));return bt(r).getOr(e)},mN=(e,t,o)=>dN(t)?PT(t):PT(t)||T(fN(e,t,o).dom,t).exists(PT),pN=(e,t,o)=>dN(t)?oO(t):oO(t)||C(fN(e,t,o).dom,t).exists(oO),hU=e=>Re(["pre","pre-wrap"],e),BT=e=>ty(e).bind(t=>wr(t,da)).exists(t=>hU(pa(t,"white-space"))),ene=(e,t)=>T(e.dom,t).isNone(),tne=(e,t)=>C(e.dom,t).isNone(),vU=(e,t,o)=>ene(e,t)||tne(e,t)||FT(e,t,o)||uO(e,t,o)||NT(e,t,o)||dO(e,t,o),nne=e=>Ce(e)&&sr(e)&&FS(e),gN=(e,t)=>o=>nne(new Fa(o,e)[t]()),Lu=(e,t)=>{const o=C(e.dom,t).getOr(t),r=gN(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},bU=(e,t)=>{const o=T(e.dom,t).getOr(t),r=gN(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},yU=(e,t,o)=>BT(t)?!1:vU(e,t,o)||mN(e,t,o)||pN(e,t,o),ox=(e,t,o)=>BT(t)?!1:FT(e,t,o)||iN(e,t,o)||NT(e,t,o)||mN(e,t,o)||bU(e,t),wU=e=>{const t=e.container(),o=e.offset();return fn(t)&&o<t.data.length?It(t,o+1):e},Hu=(e,t,o)=>BT(t)?!1:uO(e,t,o)||lN(e,t,o)||dO(e,t,o)||pN(e,t,o)||Lu(e,t),hN=(e,t,o)=>ox(e,t,o)||Hu(e,wU(t),o),vN=(e,t)=>gu(e.charAt(t)),CU=(e,t)=>rf(e.charAt(t)),SU=e=>{const t=e.container();return fn(t)&&Gr(t.data,xr)},xU=e=>{const t=e.split("");return qe(t,(o,r)=>gu(o)&&r>0&&r<t.length-1&&gc(t[r-1])&&gc(t[r+1])?" ":o).join("")},EU=(e,t,o,r)=>{const i=t.data,f=It(t,0);return!o&&vN(i,0)&&!hN(e,f,r)?(t.data=" "+i.slice(1),!0):o&&CU(i,0)&&ox(e,f,r)?(t.data=xr+i.slice(1),!0):!1},AU=e=>{const t=e.data,o=xU(t);return o!==t?(e.data=o,!0):!1},af=(e,t,o,r)=>{const i=t.data,f=It(t,i.length-1);return!o&&vN(i,i.length-1)&&!hN(e,f,r)?(t.data=i.slice(0,-1)+" ",!0):o&&CU(i,i.length-1)&&Hu(e,f,r)?(t.data=i.slice(0,-1)+xr,!0):!1},bN=(e,t,o)=>{const r=t.container();if(!fn(r))return W.none();if(SU(t)){const i=EU(e,r,!1,o)||AU(r)||af(e,r,!1,o);return $s(i,t)}else if(hN(e,t,o)){const i=EU(e,r,!0,o)||af(e,r,!0,o);return $s(i,t)}else return W.none()},yN=e=>{const t=Pe.fromDom(e.getBody());e.selection.isCollapsed()&&bN(t,It.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},wN=(e,t,o,r)=>{if(o===0)return;const i=Pe.fromDom(e),f=Pc(i,P=>r.isBlock(cs(P))).getOr(i),v=e.data.slice(t,t+o),S=t+o>=e.data.length&&Hu(f,It(e,e.data.length),r),A=t===0&&ox(f,It(e,0),r);e.replaceData(t,o,U0(v,4,A,S))},IT=(e,t,o)=>{const r=e.data.slice(t),i=r.length-Pr(r).length;wN(e,t,i,o)},$T=(e,t,o)=>{const r=e.data.slice(0,t),i=r.length-yu(r).length;wN(e,t-i,i,o)},LT=(e,t,o,r,i=!0)=>{const f=yu(e.data).length,v=i?e:t,S=i?t:e;return i?v.appendData(S.data):v.insertData(0,S.data),Is(Pe.fromDom(S)),r&&IT(v,f,o),v},TU=(e,t)=>{const o=e.container(),r=e.offset();return!It.isTextPosition(e)&&o===t.parentNode&&r>It.before(t).offset()},kU=(e,t)=>TU(t,e)?It(t.container(),t.offset()-1):t,_U=e=>fn(e)?It(e,0):It.before(e),OU=e=>fn(e)?It(e,e.data.length):It.after(e),fO=e=>Ba(e.previousSibling)?W.some(OU(e.previousSibling)):e.previousSibling?V(e.previousSibling):W.none(),CN=e=>Ba(e.nextSibling)?W.some(_U(e.nextSibling)):e.nextSibling?M(e.nextSibling):W.none(),SN=(e,t)=>W.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>T(e,It.before(o))).orThunk(()=>C(e,It.after(t))),DU=(e,t)=>C(e,It.after(t)).orThunk(()=>T(e,It.before(t))),one=(e,t)=>fO(t).orThunk(()=>CN(t)).orThunk(()=>SN(e,t)),PU=(e,t)=>CN(t).orThunk(()=>fO(t)).orThunk(()=>DU(e,t)),RU=(e,t,o)=>e?PU(t,o):one(t,o),sne=(e,t,o)=>RU(e,t,o).map(se(kU,o)),xN=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},ir=e=>t=>t.dom===e,sx=(e,t)=>t&&Jn(e.schema.getBlockElements(),cs(t)),c0=(e,t,o)=>{if(_a(e,t)){const r=Pe.fromHtml('<br data-mce-bogus="1">');return o?De(fa(t),i=>{M_(i)||Is(i)}):Wa(t),As(t,r),W.some(It.before(r.dom))}else return W.none()},ay=(e,t,o,r)=>{const i=Eu(e).filter(or),f=ul(e).filter(or);return Is(e),Jo(i,f,t,(v,S,A)=>{const P=v.dom,U=S.dom,j=P.data.length;return LT(P,U,o,r),A.container()===U?It(P,j):A}).orThunk(()=>(r&&(i.each(v=>$T(v.dom,v.dom.length,o)),f.each(v=>IT(v.dom,0,o))),t))},HT=(e,t)=>Jn(e.schema.getTextInlineElements(),cs(t)),Kh=(e,t,o,r=!0,i=!1)=>{const f=sne(t,e.getBody(),o.dom),v=Pc(o,se(sx,e),ir(e.getBody())),S=ay(o,f,e.schema,HT(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(A=>c0(e.schema,A,i)).fold(()=>{r&&xN(e,t,S)},A=>{r&&xN(e,t,W.some(A))})},mO=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,EN=e=>mO.test(e),iy=(e,t)=>_c(Pe.fromDom(t),Q4(e))&&!Ma(e.schema,t)&&e.dom.isEditable(t),pO=e=>Ns.DOM.getStyle(e,"direction",!0)==="rtl"||EN(e.textContent??""),AN=(e,t,o)=>at(Ns.DOM.getParents(o.container(),"*",t),e),Rv=(e,t,o)=>{const r=AN(e,t,o);return W.from(r[r.length-1])},FU=(e,t,o)=>{const r=Uh(t,e),i=Uh(o,e);return Ce(r)&&r===i},MU=e=>Ag(e)||V1(e),Vm=(e,t)=>{const o=t.container(),r=t.offset();return e?Mm(o)?fn(o.nextSibling)?It(o.nextSibling,0):It.after(o):Ag(t)?It(o,r+1):t:Mm(o)?fn(o.previousSibling)?It(o.previousSibling,o.previousSibling.data.length):It.before(o):V1(t)?It(o,r-1):t},TN=se(Vm,!0),kN=se(Vm,!1),gO=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},_N=e=>{e.execCommand("delete")},hO=e=>gO(e,"Delete"),NU=e=>gO(e,"ForwardDelete"),rne=e=>t=>tn(Ci(t),e,_s),BU=e=>pu(e)||Mu(e),vO=(e,t)=>oc(e,t)?wr(t,BU,rne(e)):W.none(),ON=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},DN=(e,t,o)=>Dn(M(o),V(o),(r,i)=>{const f=Vm(!0,r),v=Vm(!1,i),S=Vm(!1,t);return e?C(o,S).exists(A=>A.isEqual(v)&&t.isEqual(f)):T(o,S).exists(A=>A.isEqual(f)&&t.isEqual(v))}).getOr(!0),PN=e=>(ou(e)?Eu(e):Ra(e)).bind(PN).orThunk(()=>W.some(e)),IU=(e,t,o,r=!0)=>{t.deleteContents();const i=PN(o).getOr(o),f=Pe.fromDom(e.dom.getParent(i.dom,e.dom.isBlock)??o.dom);if(f.dom===e.getBody()?ON(e,r):_a(e.schema,f,{checkRootAsContent:!1})&&(Ph(f),r&&e.selection.setCursorLocation(f.dom,0)),!_s(o,f)){const v=tn(Ci(f),o)?[]:cr(f);De(v.concat(fa(o)),S=>{!_s(S,f)&&!oc(S,f)&&_a(e.schema,S)&&Is(S)})}},$U=e=>t=>_s(e,t),ud=e=>Ot(e,"td,th"),LU=(e,t)=>cd(Pe.fromDom(e),t),HU=e=>Dn(e.startTable,e.endTable,(t,o)=>{const r=Ko(t,f=>_s(f,o)),i=Ko(o,f=>_s(f,t));return!r&&!i?e:{...e,startTable:r?W.none():e.startTable,endTable:i?W.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),RN=e=>HU(e),ane=(e,t)=>{const o=LU(e.startContainer,t),r=LU(e.endContainer,t),i=o.isSome(),f=r.isSome(),v=Dn(o,r,_s).getOr(!1);return RN({startTable:o,endTable:r,isStartInTable:i,isEndInTable:f,isSameTable:v,isMultiTable:!v&&i&&f})},bO=(e,t)=>({start:e,end:t}),zU=(e,t,o)=>({rng:e,table:t,cells:o}),rx=xa.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),yw=(e,t)=>Xi(Pe.fromDom(e),"td,th",t),UU=e=>!_s(e.start,e.end),FN=(e,t)=>cd(e.start,t).bind(o=>cd(e.end,t).bind(r=>$s(_s(o,r),o))),VU=(e,t)=>!UU(e)&&FN(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),la=(e,t)=>{const o=yw(e.startContainer,t),r=yw(e.endContainer,t);return Dn(o,r,bO)},WU=e=>t=>cd(t,e).bind(o=>Bt(ud(o)).map(r=>bO(t,r))),jU=e=>t=>cd(t,e).bind(o=>bt(ud(o)).map(r=>bO(r,t))),ly=e=>t=>FN(t,e).map(o=>zU(t,o,ud(o))),yO=(e,t,o,r)=>{if(o.collapsed||!e.forall(UU))return W.none();if(t.isSameTable){const i=e.bind(ly(r));return W.some({start:i,end:i})}else{const i=yw(o.startContainer,r),f=yw(o.endContainer,r),v=i.bind(WU(r)).bind(ly(r)),S=f.bind(jU(r)).bind(ly(r));return W.some({start:v,end:S})}},MN=(e,t)=>Fn(e,o=>_s(o,t)),wO=e=>Dn(MN(e.cells,e.rng.start),MN(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),ZU=(e,t,o)=>e.exists(r=>VU(r,o)&&D_(r.start,t)),CO=(e,t)=>{const{startTable:o,endTable:r}=t,i=e.cloneRange();return o.each(f=>i.setStartAfter(f.dom)),r.each(f=>i.setEndBefore(f.dom)),i},qU=(e,t,o,r)=>yO(e,t,o,r).bind(({start:i,end:f})=>i.or(f)).bind(i=>{const{isSameTable:f}=t,v=wO(i).getOr([]);if(f&&i.cells.length===v.length)return W.some(rx.fullTable(i.table));if(v.length>0){if(f)return W.some(rx.partialTable(v,W.none()));{const S=CO(o,t);return W.some(rx.partialTable(v,W.some({...t,rng:S})))}}else return W.none()}),ine=(e,t,o,r)=>yO(e,t,o,r).bind(({start:i,end:f})=>{const v=i.bind(wO).getOr([]),S=f.bind(wO).getOr([]);if(v.length>0&&S.length>0){const A=CO(o,t);return W.some(rx.multiTable(v,S,A))}else return W.none()}),lne=(e,t)=>{const o=$U(e),r=la(t,o),i=ane(t,o);return ZU(r,t,o)?r.map(f=>rx.singleCellTable(t,f.start)):i.isMultiTable?ine(r,i,t,o):qU(r,i,t,o)},NN=e=>De(e,t=>{Hs(t,"contenteditable"),Ph(t)}),GU=(e,t)=>W.from(e.dom.getParent(t,e.dom.isBlock)).map(Pe.fromDom),KU=(e,t,o)=>{o.each(r=>{t?Is(r):(Ph(r),e.selection.setCursorLocation(r.dom,0))})},SO=(e,t,o,r)=>{const i=o.cloneRange();r?(i.setStart(o.startContainer,o.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(o.endContainer,o.endOffset)),zT(e,i,t,!1).each(f=>f())},xO=e=>{const t=so(e),o=Pe.fromDom(e.selection.getNode());wg(o.dom)&&_a(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ve(t,r=>_s(r,o))&&Nr(o,"data-mce-selected","1")},BN=(e,t,o)=>W.some(()=>{const r=e.selection.getRng(),i=o.bind(({rng:f,isStartInTable:v})=>{const S=GU(e,v?f.endContainer:f.startContainer);f.deleteContents(),KU(e,v,S.filter(se(_a,e.schema)));const A=v?t[0]:t[t.length-1];return SO(e,A,r,v),_a(e.schema,A)?W.none():W.some(v?t.slice(1):t.slice(0,-1))}).getOr(t);NN(i),xO(e)}),Us=(e,t,o,r)=>W.some(()=>{const i=e.selection.getRng(),f=t[0],v=o[o.length-1];SO(e,f,i,!0),SO(e,v,i,!1);const S=_a(e.schema,f)?t:t.slice(1),A=_a(e.schema,v)?o:o.slice(0,-1);NN(S.concat(A)),r.deleteContents(),xO(e)}),zT=(e,t,o,r=!0)=>W.some(()=>{IU(e,t,o,r)}),ax=(e,t)=>W.some(()=>Kh(e,!1,t)),ix=(e,t,o)=>lne(t,o).bind(r=>r.fold(se(zT,e),se(ax,e),se(BN,e),se(Us,e))),lx=(e,t)=>EO(e,t),cx=(e,t,o,r)=>$N(t,r).fold(()=>ix(e,t,o),i=>lx(e,i)),IN=(e,t,o)=>{const r=Pe.fromDom(e.getBody()),i=e.selection.getRng();return o.length!==0?BN(e,o,W.none()):cx(e,r,i,t)},YU=(e,t)=>vn(Lp(t,e),U1),$N=(e,t)=>vn(Lp(t,e),ti("caption")),cne=(e,t,o,r,i)=>_v(o,e.getBody(),i).bind(f=>YU(t,Pe.fromDom(f.getNode())).bind(v=>_s(v,r)?W.none():W.some(lt))),EO=(e,t)=>W.some(()=>{Ph(t),e.selection.setCursorLocation(t.dom,0)}),XU=(e,t,o,r)=>M(e.dom).bind(i=>V(e.dom).map(f=>t?o.isEqual(i)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(i))).getOr(!0),une=(e,t)=>EO(e,t),QU=(e,t,o)=>$N(e,Pe.fromDom(o.getNode())).fold(()=>W.some(lt),r=>$s(!_s(r,t),lt)),JU=(e,t,o,r,i)=>_v(o,e.getBody(),i).fold(()=>W.some(lt),f=>XU(r,o,i,f)?une(e,r):QU(t,r,f)),dne=(e,t,o,r)=>{const i=It.fromRangeStart(e.selection.getRng());return YU(o,r).bind(f=>_a(e.schema,f,{checkRootAsContent:!1})?EO(e,f):cne(e,o,t,f,i))},eV=(e,t,o,r)=>{const i=It.fromRangeStart(e.selection.getRng());return _a(e.schema,r)?EO(e,r):JU(e,o,t,r,i)},ha=(e,t)=>e?nx(t):aO(t),fne=(e,t)=>{const o=It.fromRangeStart(e.selection.getRng());return ha(t,o)||sf(t,e.getBody(),o).exists(r=>ha(t,r))},mne=(e,t,o)=>{const r=Pe.fromDom(e.getBody());return $N(r,o).fold(()=>dne(e,t,r,o).orThunk(()=>$s(fne(e,t),lt)),i=>eV(e,t,r,i))},AO=(e,t)=>{const o=Pe.fromDom(e.selection.getStart(!0)),r=so(e);return e.selection.isCollapsed()&&r.length===0?mne(e,t,o):IN(e,o,r)},$g=(e,t)=>{let o=t;for(;o&&o!==e;){if(Du(o)||sr(o))return o;o=o.parentNode}return null},tV=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],nV=pn.each,Lg=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,v)=>{if(f.nodeName!==v.nodeName||f.nodeType!==v.nodeType)return!1;const S=P=>{const U={};return nV(t.getAttribs(P),j=>{const Y=j.nodeName.toLowerCase();Y!=="style"&&!i(Y)&&(U[Y]=t.getAttrib(P,Y))}),U},A=(P,U)=>{for(const j in P)if(Jn(P,j)){const Y=U[j];if(Ft(Y)||P[j]!==Y)return!1;delete U[j]}for(const j in U)if(Jn(U,j))return!1;return!0};return _n(f)&&_n(v)&&(!A(S(f),S(v))||!A(t.parseStyle(t.getAttrib(f,"style")),t.parseStyle(t.getAttrib(v,"style"))))?!1:!ii(f)&&!ii(v)},i=f=>Ve(tV,v=>Do(f,v))||o.has(f);return{compare:r,isAttributeInternal:i}},gr=(e,t)=>{if(fn(e))return{container:e,offset:t};const o=Ig.getNode(e,t);return fn(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&fn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&fn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},ql=e=>{const t=e.cloneRange(),o=gr(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=gr(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},sm=Ns.DOM,oV=()=>sm.create("span",{"data-mce-type":"bookmark"}),LN=(e,t,o)=>{if(_n(e)){const r=o();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[t]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:t}},HN=(e,t)=>{const o=r=>{let i=r.parentNode?.firstChild,f=0;for(;i;){if(i===r)return f;(!_n(i)||i.getAttribute("data-mce-type")!=="bookmark")&&f++,i=i.nextSibling}return-1};if(_n(e)&&Ce(e.parentNode)){const r=e;t=o(e),e=e.parentNode,sm.remove(r),!e.hasChildNodes()&&sm.isBlock(e)&&e.appendChild(sm.create("br"))}return{container:e,offset:t}},zN=(e,t,o,r)=>{const i=sm.createRng();return i.setStart(e,t),i.setEnd(o,r),ql(i)},Yh=(e,t=oV)=>{const{container:o,offset:r}=LN(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:o,startOffset:r};{const{container:i,offset:f}=LN(e.endContainer,e.endOffset,t);return{startContainer:o,startOffset:r,endContainer:i,endOffset:f}}},Wm=e=>{const{container:t,offset:o}=HN(e.startContainer,e.startOffset);if(!Ft(e.endContainer)&&!Ft(e.endOffset)){const{container:r,offset:i}=HN(e.endContainer,e.endOffset);return zN(t,o,r,i)}else return zN(t,o,t,o)},TO=(e,t,o,r)=>{if(pn.each(o.styles,(i,f)=>{e.setStyle(t,f,a0(i,r))}),o.styles){const i=e.getAttrib(t,"style");i&&e.setAttrib(t,"data-mce-style",i)}},cy=(e,t,o,r,i)=>{const f=e.dom;ce(o.onformat)&&o.onformat(t,o,r,i),TO(f,t,o,r),pn.each(o.attributes,(v,S)=>{f.setAttrib(t,S,a0(v,r))}),pn.each(o.classes,v=>{const S=a0(v,r);f.hasClass(t,S)||f.addClass(t,S)})},sV=e=>!Ae(e.attributes)&&!Ae(e.styles),kO=qS,UN=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let i=0;i<r.length;i++){const f=r[i];if(Np(f)&&f.inherit===!1&&e.dom.is(t,f.selector))return!0}return!1},UT=(e,t,o,r,i)=>{const f=e.dom.getRoot();if(t===f)return!1;const v=e.dom.getParent(t,S=>UN(e,S,o)?!0:S.parentNode===f||!!jm(e,S,o,r,!0));return!!jm(e,v,o,r,i)},VT=(e,t,o)=>jc(o)&&kO(t,o.inline)||Ng(o)&&kO(t,o.block)?!0:Np(o)?_n(t)&&e.is(t,o.selector):!1,VN=(e,t,o,r,i,f)=>{const v=o[r],S=r==="attributes";if(ce(o.onmatch))return o.onmatch(t,o,r);if(v){if(gm(v)){for(let A=0;A<v.length;A++)if(S?e.getAttrib(t,v[A]):GS(e,t,v[A]))return!0}else for(const A in v)if(Jn(v,A)){const P=S?e.getAttrib(t,A):GS(e,t,A),U=a0(v[A],f),j=ct(P)||xc(P);if(j&&ct(U))continue;if(i&&j&&!o.exact||(!i||o.exact)&&!kO(P,fT(U,A)))return!1}}return!0},jm=(e,t,o,r,i)=>{const f=e.formatter.get(o),v=e.dom;if(f&&_n(t))for(let S=0;S<f.length;S++){const A=f[S];if(VT(e.dom,t,A)&&VN(v,t,A,"attributes",i,r)&&VN(v,t,A,"styles",i,r)){const P=A.classes;if(P){for(let U=0;U<P.length;U++)if(!e.dom.hasClass(t,a0(P[U],r)))return}return A}}},_O=(e,t,o,r,i)=>{if(r)return UT(e,r,t,o,i);if(r=e.selection.getNode(),UT(e,r,t,o,i))return!0;const f=e.selection.getStart();return!!(f!==r&&UT(e,f,t,o,i))},OO=(e,t,o)=>{const r=[],i={},f=e.selection.getStart();return e.dom.getParent(f,v=>{for(let S=0;S<t.length;S++){const A=t[S];!i[A]&&jm(e,v,A,o)&&(i[A]=!0,r.push(A))}},e.dom.getRoot()),r},WN=(e,t)=>{const o=i=>_s(i,Pe.fromDom(e.getBody())),r=(i,f)=>jm(e,i.dom,f)?W.some(f):W.none();return W.from(e.selection.getStart(!0)).bind(i=>lu(Pe.fromDom(i),f=>rs(t,v=>r(f,v)),o)).getOrNull()},DO=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const i=e.selection.getStart(),f=mT(r,i);for(let v=o.length-1;v>=0;v--){const S=o[v];if(!Np(S))return!0;for(let A=f.length-1;A>=0;A--)if(r.is(f[A],S.selector))return!0}}return!1},pne=(e,t,o)=>kt(o,(r,i)=>{const f=pT(e,i);return e.formatter.matchNode(t,i,{},f)?r.concat([i]):r},[]),Rl=Sl,rV=(e,t)=>e.importNode(t,!0),aV=e=>{if(e){const t=new Fa(e,e);for(let o=t.current();o;o=t.next())if(fn(o))return o}return null},PO=e=>{const t=Pe.fromTag("span");return Ti(t,{id:te,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&As(t,Pe.fromText(Rl)),t},iV=e=>{const t=aV(e);return t&&t.data.charAt(0)===Rl&&t.deleteData(0,1),t},RO=(e,t,o)=>{const r=e.dom,i=e.selection;if(dM(t))Kh(e,!1,Pe.fromDom(t),o,!0);else{const f=i.getRng(),v=r.getParent(t,r.isBlock),S=f.startContainer,A=f.startOffset,P=f.endContainer,U=f.endOffset,j=iV(t);r.remove(t,!0),S===j&&A>0&&f.setStart(j,A-1),P===j&&U>0&&f.setEnd(j,U-1),v&&r.isEmpty(v)&&Ph(Pe.fromDom(v)),i.setRng(f)}},FO=(e,t,o)=>{const r=e.dom,i=e.selection;if(t)RO(e,t,o);else if(t=xe(e.getBody(),i.getStart()),!t)for(;t=r.get(te);)RO(e,t,o)},jN=(e,t,o)=>{const r=e.dom,i=r.getParent(o,se(ZS,e.schema));i&&r.isEmpty(i)?o.parentNode?.replaceChild(t,o):(A4(Pe.fromDom(o)),r.isEmpty(o)?o.parentNode?.replaceChild(t,o):r.insertAfter(t,o))},ww=(e,t)=>(e.appendChild(t),t),ZN=(e,t)=>{const o=wt(e,(i,f)=>ww(i,f.cloneNode(!1)),t),r=o.ownerDocument??document;return ww(o,r.createTextNode(Rl))},qN=(e,t,o,r,i,f)=>{const v=e.formatter,S=e.dom,A=at(sn(v.get()),j=>j!==r&&!Gr(j,"removeformat")),P=pne(e,o,A);if(at(P,j=>!uM(e,j,r)).length>0){const j=o.cloneNode(!1);return S.add(t,j),v.remove(r,i,j,f),S.remove(j),W.some(j)}else return W.none()},GN=e=>x1(e,Oi(e).replace(new RegExp(`${xr}$`)," ")),Fv=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&Eu(Pe.fromDom(t)).each(r=>{or(r)?GN(r):kd(r,i=>or(i)).each(i=>{or(i)&&GN(i)})})};e.once("input",r=>{r.data&&!rf(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},KN=(e,t,o)=>{let r;const i=e.selection,f=e.formatter.get(t);if(!f)return;const v=i.getRng();let S=v.startOffset;const P=v.startContainer.nodeValue;r=xe(e.getBody(),i.getStart());const U=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(P&&S>0&&S<P.length&&U.test(P.charAt(S))&&U.test(P.charAt(S-1))){const j=i.getBookmark();v.collapse(!0);let Y=qh(e.dom,v,f);Y=vw(Y),e.formatter.apply(t,o,Y),i.moveToBookmark(j)}else{let j=r?aV(r):null;(!r||j?.data!==Rl)&&(r=rV(e.getDoc(),PO(!0).dom),j=r.firstChild,v.insertNode(r),S=1,Fv(e,r)),e.formatter.apply(t,o,r),i.setCursorLocation(j,S)}},YN=(e,t,o,r)=>{const i=e.dom,f=e.selection;let v=!1;const S=e.formatter.get(t);if(!S)return;const A=f.getRng(),P=A.startContainer,U=A.startOffset;let j=P;fn(P)&&(U!==P.data.length&&(v=!0),j=j.parentNode);const Y=[];let ie;for(;j;){if(jm(e,j,t,o,r)){ie=j;break}j.nextSibling&&(v=!0),Y.push(j),j=j.parentNode}if(ie)if(v){const Oe=f.getBookmark();A.collapse(!0);let ge=qh(i,A,S,{includeTrailingSpace:!0});ge=vw(ge),e.formatter.remove(t,o,ge,r),f.moveToBookmark(Oe)}else{const Oe=xe(e.getBody(),ie),ge=Ce(Oe)?i.getParents(ie.parentNode,ut,Oe):[],ke=PO(!1).dom;jN(e,ke,Oe??ie);const nt=qN(e,ke,ie,t,o,r),rt=ZN([...Y,...nt.toArray(),...ge],ke);Oe&&RO(e,Oe,Ce(Oe)),f.setCursorLocation(rt,1),Fv(e,ke),i.isEmpty(ie)&&i.remove(ie)}},XN=(e,t,o)=>{const r=e.selection,i=e.getBody();FO(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===Rl&&FO(e,xe(i,r.getStart()),!0),(t===37||t===39)&&FO(e,xe(i,r.getStart()),!0)},QN=e=>fn(e)&&Ya(e.data,xr),JN=e=>{e.on("mouseup keydown",t=>{XN(e,t.keyCode,QN(e.selection.getRng().endContainer))})},e6=e=>{const t=PO(!1),o=ZN(e,t.dom);return{caretContainer:t,caretPosition:It(o,0)}},MO=(e,t)=>{const{caretContainer:o,caretPosition:r}=e6(t);return ui(Pe.fromDom(e),o),Is(Pe.fromDom(e)),r},lV=(e,t)=>{const{caretContainer:o,caretPosition:r}=e6(t);return e.insertNode(o.dom),r},t6=(e,t)=>{if(ue(t.dom))return!1;const o=e.schema.getTextInlineElements();return Jn(o,cs(t))&&!ue(t.dom)&&!Cf(t.dom)},n6=["fontWeight","fontStyle","color","fontSize","fontFamily"],cV=e=>dt(e.styles)&&Ve(sn(e.styles),t=>Re(n6,t)),uV=e=>vn(e,t=>jc(t)&&t.inline==="span"&&cV(t)),dV=(e,t)=>{const o=e.get(t);return Ae(o)?uV(o):W.none()},NO=(e,t)=>T(t,It.fromRangeStart(e)).isNone(),o6=(e,t)=>C(t,It.fromRangeEnd(e)).exists(o=>!ka(o.getNode())||C(t,o).isSome())===!1,fV=e=>t=>hh(t)&&e.isEditable(t),s6=(e,t)=>qe(e.getSelectedBlocks(),(o,r)=>r===0&&t(o)?e.dom.getParent(o,hh)??o:o),BO=e=>{if(e.isCollapsed())return[];const t=e.getRng(),o=s6(e,r=>NO(t,r)&&!hh(r));if(o.length===1)return NO(t,o[0])&&o6(t,o[0])?o:[];{const r=bt(o).filter(v=>NO(t,v)).toArray(),i=Bt(o).filter(v=>o6(t,v)).toArray(),f=o.slice(1,-1);return r.concat(f).concat(i)}},IO=e=>at(BO(e),fV(e.dom)),r6=e=>at(s6(e,t=>!hh(t)),fV(e.dom)),a6=pn.each,$O=e=>_n(e)&&!ii(e)&&!ue(e)&&!Cf(e),i6=(e,t)=>{for(let o=e;o;o=o[t]){if(fn(o)&&Fr(o.data))return e;if(_n(o)&&!ii(o))return o}return e},l6=(e,t,o)=>{const r=Lg(e),i=Vl(t)&&e.dom.isEditable(t),f=Vl(o)&&e.dom.isEditable(o);if(i&&f){const v=i6(t,"previousSibling"),S=i6(o,"nextSibling");if(r.compare(v,S)){for(let A=v.nextSibling;A&&A!==S;){const P=A;A=A.nextSibling,v.appendChild(P)}return e.dom.remove(S),pn.each(pn.grep(S.childNodes),A=>{v.appendChild(A)}),v}}return o},c6=(e,t,o,r)=>{if(r&&t.merge_siblings!==!1){const i=l6(e,iM(r),r)??r;l6(e,i,iM(i,!0))}},mV=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";a6(e.select(r,o),i=>{$O(i)&&e.isEditable(i)&&a6(t.styles,(f,v)=>{e.setStyle(i,v,"")})})}},LO=(e,t,o)=>{a6(e.childNodes,r=>{$O(r)&&(t(r)&&o(r),r.hasChildNodes()&&LO(r,t,o))})},pV=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},HO=(e,t)=>o=>!!(o&&GS(e,o,t)),u6=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),pV(e,r)},uy=xa.generate([{keep:[]},{rename:["name"]},{removed:[]}]),u0=/^(src|href|style)$/,zO=pn.each,ux=qS,gV=e=>/^(TR|TH|TD)$/.test(e.nodeName),d6=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),UO=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],i=t[o?"startOffset":"endOffset"];if(_n(r)){const f=r.childNodes.length-1;!o&&i&&i--,r=r.childNodes[i>f?f:i]}return fn(r)&&o&&i>=r.data.length&&(r=new Fa(r,e.getBody()).next()||r),fn(r)&&!o&&i===0&&(r=new Fa(r,e.getBody()).prev()||r),r},VO=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return gV(e)&&r?e.nodeName==="TR"&&r[o]||r:e},WT=(e,t,o,r)=>{const i=e.create(o,r);return t.parentNode?.insertBefore(i,t),i.appendChild(t),i},WO=(e,t,o,r,i)=>{const f=Pe.fromDom(t),v=Pe.fromDom(e.create(r,i)),S=o?Bi(f):dl(f);return wl(v,S),o?(ui(f,v),su(v,f)):(Ii(f,v),As(v,f)),v.dom},hV=(e,t)=>t.links&&e.nodeName==="A",f6=(e,t,o)=>{const r=t.parentNode;let i;const f=e.dom,v=rl(e);Ng(o)&&r===f.getRoot()&&(!o.list_block||!ux(t,o.list_block))&&De(po(t.childNodes),S=>{fw(e,v,S.nodeName.toLowerCase())?i?i.appendChild(S):(i=WT(f,S,v),f.setAttribs(i,em(e))):i=null}),!(jte(o)&&!ux(o.inline,t))&&f.remove(t,!0)},m6=(e,t,o)=>Pt(e)?{name:t,value:null}:{name:e,value:a0(t,o)},p6=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},g6=(e,t,o,r,i)=>{let f=!1;zO(o.styles,(v,S)=>{const{name:A,value:P}=m6(S,v,r),U=fT(P,A);(o.remove_similar||G(P)||!_n(i)||ux(GS(e,i,A),U))&&e.setStyle(t,A,""),f=!0}),f&&p6(e,t)},dy=(e,t,o)=>{t==="removeformat"?De(r6(e.selection),r=>{De(n6,i=>e.dom.setStyle(r,i,"")),p6(e.dom,r)}):dV(e.formatter,t).each(r=>{De(r6(e.selection),i=>g6(e.dom,i,r,o,null))})},jT=(e,t,o,r,i)=>{const f=e.dom,v=Lg(e),S=e.schema;if(jc(t)&&uc(S,t.inline)&&Ma(S,r)&&r.parentElement===e.getBody())return f6(e,r,t),uy.removed();if(!t.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!VT(f,r,t)&&!hV(r,t))return uy.keep();const A=r,P=t.preserve_attributes;if(jc(t)&&t.remove==="all"&&Ae(P)){const U=at(f.getAttribs(A),j=>Re(P,j.name.toLowerCase()));if(f.removeAllAttribs(A),De(U,j=>f.setAttrib(A,j.name,j.value)),U.length>0)return uy.rename("span")}if(t.remove!=="all"){g6(f,A,t,o,i),zO(t.attributes,(j,Y)=>{const{name:ie,value:Oe}=m6(Y,j,o);if(t.remove_similar||G(Oe)||!_n(i)||ux(f.getAttrib(i,ie),Oe)){if(ie==="class"){const ge=f.getAttrib(A,ie);if(ge){let ke="";if(De(ge.split(/\s+/),nt=>{/mce\-\w+/.test(nt)&&(ke+=(ke?" ":"")+nt)}),ke){f.setAttrib(A,ie,ke);return}}}if(u0.test(ie)&&A.removeAttribute("data-mce-"+ie),ie==="style"&&Pd(["li"])(A)&&f.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ie),f.setStyle(A,"list-style-type","none");return}ie==="class"&&A.removeAttribute("className"),A.removeAttribute(ie)}}),zO(t.classes,j=>{j=a0(j,o),(!_n(i)||f.hasClass(i,j))&&f.removeClass(A,j)});const U=f.getAttribs(A);for(let j=0;j<U.length;j++){const Y=U[j].nodeName;if(!v.isAttributeInternal(Y))return uy.keep()}}return t.remove!=="none"?(f6(e,A,t),uy.removed()):uy.keep()},vV=(e,t,o,r,i)=>{let f;return t.parentNode&&De(mT(e.dom,t.parentNode).reverse(),v=>{if(!f&&_n(v)&&v.id!=="_start"&&v.id!=="_end"){const S=jm(e,v,o,r,i);S&&S.split!==!1&&(f=v)}}),f},bV=(e,t,o,r)=>jT(e,t,o,r,r).fold(Te(r),i=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,i)),Te(null)),jO=(e,t,o,r,i,f,v,S)=>{let A,P;const U=e.dom;if(o){const j=o.parentNode;for(let Y=r.parentNode;Y&&Y!==j;Y=Y.parentNode){let ie=U.clone(Y,!1);for(let Oe=0;Oe<t.length&&(ie=bV(e,t[Oe],S,ie),ie!==null);Oe++);ie&&(A&&ie.appendChild(A),P||(P=ie),A=ie)}(!v.mixed||!U.isBlock(o))&&(r=U.split(o,r)??r),A&&P&&(i.parentNode?.insertBefore(A,i),P.appendChild(i),jc(v)&&c6(e,v,S,A))}return r},yV=(e,t,o,r,i)=>{const f=e.formatter.get(t),v=f[0],S=e.dom,A=e.selection,P=ge=>{const ke=vV(e,ge,t,o,i);return jO(e,f,ke,ge,ge,!0,v,o)},U=ge=>ii(ge)&&_n(ge)&&(ge.id==="_start"||ge.id==="_end"),j=ge=>Ve(f,ke=>dx(e,ke,o,ge,ge)),Y=ge=>{const ke=po(ge.childNodes),rt=j(ge)||Ve(f,on=>VT(S,ge,on)),ft=ge.parentNode;if(!rt&&Ce(ft)&&F_(v)&&j(ft),v.deep&&ke.length)for(let on=0;on<ke.length;on++)Y(ke[on]);De(["underline","line-through","overline"],on=>{_n(ge)&&e.dom.getStyle(ge,"text-decoration")===on&&ge.parentNode&&cM(S,ge.parentNode)===on&&dx(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:on}},void 0,ge)})},ie=ge=>{const ke=S.get(ge?"_start":"_end");if(ke){let nt=ke[ge?"firstChild":"lastChild"];return U(nt)&&(nt=nt[ge?"firstChild":"lastChild"]),fn(nt)&&nt.data.length===0&&(nt=ge?ke.previousSibling||ke.nextSibling:ke.nextSibling||ke.previousSibling),S.remove(ke,!0),nt}else return null},Oe=ge=>{let ke,nt,rt=qh(S,ge,f,{includeTrailingSpace:ge.collapsed});if(v.split){if(rt=vw(rt),ke=UO(e,rt,!0),nt=UO(e,rt),ke!==nt){if(ke=VO(ke,!0),nt=VO(nt,!1),d6(S,ke,nt)){const Lt=W.from(ke.firstChild).getOr(ke);P(WO(S,Lt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ie(!0);return}if(d6(S,nt,ke)){const Lt=W.from(nt.lastChild).getOr(nt);P(WO(S,Lt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ie(!1);return}ke=WT(S,ke,"span",{id:"_start","data-mce-type":"bookmark"}),nt=WT(S,nt,"span",{id:"_end","data-mce-type":"bookmark"});const ft=S.createRng();ft.setStartAfter(ke),ft.setEndBefore(nt),Bp(S,ft,Lt=>{De(Lt,on=>{!ii(on)&&!ii(on.parentNode)&&P(on)})}),P(ke),P(nt),ke=ie(!0),nt=ie()}else ke=nt=P(ke);rt.startContainer=ke.parentNode?ke.parentNode:ke,rt.startOffset=S.nodeIndex(ke),rt.endContainer=nt.parentNode?nt.parentNode:nt,rt.endOffset=S.nodeIndex(nt)+1}Bp(S,rt,ft=>{De(ft,Y)})};if(r){if(WS(r)){const ge=S.createRng();ge.setStartBefore(r),ge.setEndAfter(r),Oe(ge)}else Oe(r);iS(e,t,r,o);return}!A.isCollapsed()||!jc(v)||so(e).length?(rM(e,()=>US(e,Oe),ge=>jc(v)&&_O(e,t,o,ge)),e.nodeChanged()):YN(e,t,o,i),dy(e,t,o),iS(e,t,r,o)},ZT=(e,t,o,r,i)=>{(r||e.selection.isEditable())&&yV(e,t,o,r,i)},h6=(e,t,o,r)=>jT(e,t,o,r).fold(()=>W.some(r),i=>W.some(e.dom.rename(r,i)),W.none),dx=(e,t,o,r,i)=>jT(e,t,o,r,i).fold(He,f=>(e.dom.rename(r,f),!0),ut),v6=["fontsize","subscript","superscript"],qT=["strikethrough",...v6],wV=(e,t,o)=>Ce(e.matchNode(t.dom,o,{},o==="fontsize")),GT=(e,t)=>Ve(v6,o=>wV(e,t,o)),CV=e=>Re(qT,e),b6=(e,t,o,r,i)=>{const f=cl(t,e).filter(da);return mo(f,o).map(v=>{const S=f[v],A=r(S),P=[...i(Rr(S)).toArray(),...vo(f.slice(0,v),U=>o(U)?i(U).toArray():[Rr(U)])];return{container:S,innerWrapper:A,outerWrappers:P}})},y6=(e,t,o,r)=>{De(fa(e),i=>{da(i)&&o(i)&&r(i).isNone()&&Yi(i)}),De(fa(e),i=>As(t,i)),su(e,t)},w6=(e,t)=>{if(t.length>0){const o=t[t.length-1];ui(e,o);const r=kt(t.slice(0,t.length-1),(i,f)=>(As(i,f),f),o);As(r,e)}},SV=(e,t,o,r,i)=>{const f=v=>_s(Pe.fromDom(e.getRoot()),v)||e.isBlock(v.dom);De(t,v=>{b6(f,v,o,r,i).each(({container:S,innerWrapper:A,outerWrappers:P})=>{e.split(S.dom,v.dom),y6(v,A,o,i),w6(v,P)})})},ZO=(e,t,o)=>{const r=S=>Ce(jm(e,S.dom,t)),i=S=>{const A=Pe.fromTag(cs(S)),P=jm(e,S.dom,t,{});return Ce(P)&&sV(P)&&cy(e,A.dom,P),A},f=S=>{const A=jm(e,S.dom,t,{});return Ce(A)?h6(e,A,{},S.dom).map(Pe.fromDom):W.some(S)},v=Yh(e.selection.getRng());SV(e.dom,o,r,i,f),e.selection.setRng(Wm(v))},xV=(e,t)=>vo(t,o=>{const r=we(o,i=>GT(e,i));return GT(e,o)?[o,...r]:r}),EV=(e,t,o)=>{if(CV(t)){const r=xV(e.formatter,o);ZO(e,"strikethrough",r)}},AV=(e,t)=>{const o=at(t,r=>GT(e.formatter,r));ZO(e,"strikethrough",o)},lf=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),C6=e=>e.name==="summary",TV=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},qO=(e,t,o,r)=>{const i=o.name;for(let f=0,v=e.length;f<v;f++){const S=e[f];if(S.name===i){const A=r.nodes[i];A?A.nodes.push(o):r.nodes[i]={filter:S,nodes:[o]}}}if(o.attributes)for(let f=0,v=t.length;f<v;f++){const S=t[f],A=S.name;if(A in o.attributes.map){const P=r.attributes[A];P?P.nodes.push(o):r.attributes[A]={filter:S,nodes:[o]}}}},kV=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&TV(o,i=>{qO(e,t,i,r)}),r},S6=(e,t)=>{const o=(r,i)=>{Io(r,f=>{const v=po(f.nodes);De(f.filter.callbacks,S=>{for(let A=v.length-1;A>=0;A--){const P=v[A];(!(i?P.attr(f.filter.name)!==void 0:P.name===f.filter.name)||ct(P.parent))&&v.splice(A,1)}v.length>0&&S(v,f.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},x6=(e,t,o,r={})=>{const i=kV(e,t,o);S6(i,r)},Mv=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const f=new vc("br",1);t.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new vc("#text",3)).value=xr},Cw=e=>_V(e,"#text")&&e?.firstChild?.value===xr,_V=(e,t)=>{const o=e?.firstChild;return Ce(o)&&o===e.lastChild&&o.name===t},OV=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,fx=(e,t,o,r)=>r.isEmpty(t,o,i=>OV(e,i)),Hg=(e,t)=>Ce(e)&&(t(e)||e.name==="br"),DV=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return W.from(t)},PV=e=>{const t=[];for(let o=e.firstChild;Ce(o);o=o.walk())t.push(o);return t},Sw=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const i of r)o&&!t.isValidChild(o.name,i.name)&&Sw(i,t,o);e.unwrap()}},E6=(e,t,o,r=lt)=>{const i=t.getTextBlockElements(),f=t.getNonEmptyElements(),v=t.getWhitespaceElements(),S=pn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,P=U=>U!==o&&!S[U.name];for(let U=0;U<e.length;U++){const j=e[U];let Y,ie,Oe;if(!j.parent||A.has(j))continue;if(i[j.name]&&j.parent.name==="li"){let ke=j.next;for(;ke&&i[ke.name];){ke.name="li",A.add(ke),j.parent.insert(ke,j.parent);ke=ke.next}j.unwrap();continue}const ge=[j];for(Y=j.parent;Y&&!t.isValidChild(Y.name,j.name)&&P(Y);Y=Y.parent)ge.push(Y);if(Y&&ge.length>1)if(mx(t,j,Y))Sw(j,t);else{ge.reverse(),ie=ge[0].clone(),r(ie);let ke=ie;for(let nt=0;nt<ge.length-1;nt++){t.isValidChild(ke.name,ge[nt].name)&&nt>0?(Oe=ge[nt].clone(),r(Oe),ke.append(Oe)):Oe=ke;for(let rt=ge[nt].firstChild;rt&&rt!==ge[nt+1];){const ft=rt.next;Oe.append(rt),rt=ft}ke=Oe}fx(t,f,v,ie)?Y.insert(j,ge[0],!0):(Y.insert(ie,ge[0],!0),Y.insert(j,ie)),Y=ge[0],(fx(t,f,v,Y)||_V(Y,"br"))&&Y.empty().remove()}else if(j.parent){if(j.name==="li"){let ke=j.prev;if(ke&&(ke.name==="ul"||ke.name==="ol")){ke.append(j);continue}if(ke=j.next,ke&&(ke.name==="ul"||ke.name==="ol")&&ke.firstChild){ke.insert(j,ke.firstChild,!0);continue}const nt=new vc("ul",1);r(nt),j.wrap(nt);continue}if(t.isValidChild(j.parent.name,"div")&&t.isValidChild("div",j.name)){const ke=new vc("div",1);r(ke),j.wrap(ke)}else Sw(j,t)}}},GO=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},mx=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&GO(o,"a")?!0:C6(o)&&lf(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,A6=(e,t,o,r)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(o,r),i},RV=e=>{const t=It.fromRangeStart(e),o=It.fromRangeEnd(e),r=e.commonAncestorContainer;return sf(!1,r,o).map(i=>!Fp(t,o,r)&&Fp(t,i,r)?A6(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},KO=e=>e.collapsed?e:RV(e),d0=pn.explode,T6=()=>{const e={};return{addFilter:(i,f)=>{De(d0(i),v=>{Jn(e,v)||(e[v]={name:v,callbacks:[]}),e[v].callbacks.push(f)})},getFilters:()=>Co(e),removeFilter:(i,f)=>{De(d0(i),v=>{if(Jn(e,v))if(Ce(f)){const S=e[v],A=at(S.callbacks,P=>P!==f);A.length>0?S.callbacks=A:delete e[v]}else delete e[v]})}}},FV=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),MV=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),Rs=(e,t)=>{De(t,o=>{e.attr(o,null)})},NV=(e,t,o)=>{e.addNodeFilter("font",r=>{De(r,i=>{const f=t.parse(i.attr("style")),v=i.attr("color"),S=i.attr("face"),A=i.attr("size");v&&(f.color=v),S&&(f["font-family"]=S),A&&ff(A).each(P=>{f["font-size"]=o[P-1]}),i.name="span",i.attr("style",t.serialize(f)),Rs(i,["color","face","size"])})})},BV=(e,t,o)=>{e.addNodeFilter("strike",r=>{const i=t.type!=="html4";De(r,f=>{if(i)f.name="s";else{const v=o.parse(f.attr("style"));v["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(v))}})})},k6=(e,t,o)=>{const r=Om();t.convert_fonts_to_spans&&NV(e,r,pn.explode(t.font_size_legacy_values??"")),BV(e,o,r)},IV=(e,t,o)=>{t.inline_styles&&k6(e,t,o)},$V=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Ui=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},LV=e=>{try{return decodeURIComponent(e)}catch{return e}},YO=e=>{const[t,...o]=e.split(","),r=o.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const f=i[2]===";base64",v=LV(r),S=f?Ui(v):v;return W.some({type:i[1],data:S,base64Encoded:f})}else return W.none()},_6=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return W.none()}const i=new Uint8Array(r.length);for(let f=0;f<i.length;f++)i[f]=r.charCodeAt(f);return W.some(new Blob([i],{type:e}))},HV=e=>new Promise((t,o)=>{YO(e).bind(({type:r,data:i,base64Encoded:f})=>_6(r,i,f)).fold(()=>o("Invalid data URI"),t)}),Ja=e=>Do(e,"blob:")?$V(e):Do(e,"data:")?HV(e):Promise.reject("Unknown URI format"),XO=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{o(r.error?.message)},r.readAsDataURL(e)});let O6=0;const zV=e=>"blobid"+O6++,QO=(e,t,o)=>YO(e).bind(({data:r,type:i,base64Encoded:f})=>{if(t&&!f)return W.none();{const v=f?r:btoa(r);return o(v,i)}}),D6=(e,t,o)=>{const r=e.create(zV(),t,o);return e.add(r),r},Xh=(e,t,o=!1)=>QO(t,o,(r,i)=>W.from(e.getByData(r,i)).orThunk(()=>_6(i,r).map(f=>D6(e,f,r)))),JO=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Do(t,"blob:")){const r=e.getByUri(t);return Ce(r)?Promise.resolve(r):Ja(t).then(i=>XO(i).then(f=>QO(f,!1,v=>W.some(D6(e,i,v))).getOrThunk(o)))}else return Do(t,"data:")?Xh(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},UV=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,VV=e=>W.from(e.match(UV)).bind(t=>lr(t,1)).map(t=>Do(t,"www.")?t.substring(4):t),KT=(e,t)=>{W.from(e.attr("src")).bind(VV).forall(o=>!Re(t,o))&&e.attr("sandbox","")},eD=(e,t)=>Do(e,`${t}/`),WV=e=>Ft(e)?"iframe":eD(e,"image")?"img":eD(e,"video")?"video":eD(e,"audio")?"audio":"iframe",Fl=({type:e,src:t,width:o,height:r}={},i,f)=>{const v=WV(e),S=new vc(v,1);return S.attr(v==="audio"?{src:t}:{src:t,width:o,height:r}),(v==="audio"||v==="video")&&S.attr("controls",""),v==="iframe"&&i&&KT(S,f),S},jV=e=>Ce(e.attr("data-mce-bogus")),Nv=e=>e.attr("src")===ps.transparentSrc||Ce(e.attr("data-mce-placeholder")),ZV=(e,t)=>{const{blob_cache:o}=t;if(o){const r=i=>{const f=i.attr("src");Nv(i)||jV(i)||ct(f)||Xh(o,f,!0).each(v=>{i.attr("src",v.blobUri())})};e.addAttributeFilter("src",i=>De(i,r))}},qV=(e,t)=>{const o=e.schema;e.addAttributeFilter("href",v=>{let S=v.length;const A=U=>U.split(" ").filter(Y=>Y.length>0).concat(["noopener"]).sort().join(" "),P=U=>{const j=U?pn.trim(U):"";return/\b(noopener)\b/g.test(j)?j:A(j)};if(!t.allow_unsafe_link_target)for(;S--;){const U=v[S];U.name==="a"&&U.attr("target")==="_blank"&&U.attr("rel",P(U.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let S=v.length,A,P,U,j;for(;S--;)if(j=v[S],j.name==="a"&&j.firstChild&&!j.attr("href"))for(U=j.parent,A=j.lastChild;A&&U;)P=A.prev,U.insert(A,j),A=P}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let S=v.length,A,P;for(;S--;)if(A=v[S],P=A.parent,P&&(P.name==="ul"||P.name==="ol"))if(A.prev&&A.prev.name==="li")A.prev.append(A);else{const U=new vc("li",1);U.attr("style","list-style-type: none"),A.wrap(U)}});const r=o.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",v=>{let S=v.length;for(;S--;){const A=v[S],P=A.attr("class")??"",U=pn.explode(P," ");let j="";for(let Y=0;Y<U.length;Y++){const ie=U[Y];let Oe=!1,ge=r["*"];ge&&ge[ie]&&(Oe=!0),ge=r[A.name],!Oe&&ge&&ge[ie]&&(Oe=!0),Oe&&(j&&(j+=" "),j+=ie)}j.length||(j=null),A.attr("class",j)}}),ZV(e,t);const i=t.sandbox_iframes??!1,f=xs(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>De(v,S=>{S.replace(Fl({type:S.attr("type"),src:S.name==="object"?S.attr("data"):S.attr("src"),width:S.attr("width"),height:S.attr("height")},i,f))})),i&&e.addNodeFilter("iframe",v=>De(v,S=>KT(S,f)))};const{entries:P6,setPrototypeOf:R6,isFrozen:GV,getPrototypeOf:KV,getOwnPropertyDescriptor:YV}=Object;let{freeze:Df,seal:Hp,create:px}=Object,{apply:tD,construct:nD}=typeof Reflect<"u"&&Reflect;Df||(Df=function(t){return t}),Hp||(Hp=function(t){return t}),tD||(tD=function(t,o,r){return t.apply(o,r)}),nD||(nD=function(t,o){return new t(...o)});const oD=dd(Array.prototype.forEach),gx=dd(Array.prototype.lastIndexOf),F6=dd(Array.prototype.pop),fy=dd(Array.prototype.push),XV=dd(Array.prototype.splice),YT=dd(String.prototype.toLowerCase),sD=dd(String.prototype.toString),M6=dd(String.prototype.match),zg=dd(String.prototype.replace),my=dd(String.prototype.indexOf),XT=dd(String.prototype.trim),rm=dd(Object.prototype.hasOwnProperty),Zc=dd(RegExp.prototype.test),Ug=QT(TypeError);function dd(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return tD(e,t,r)}}function QT(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return nD(e,o)}}function ca(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YT;R6&&R6(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const f=o(i);f!==i&&(GV(t)||(t[r]=f),i=f)}e[i]=!0}return e}function rD(e){for(let t=0;t<e.length;t++)rm(e,t)||(e[t]=null);return e}function Vg(e){const t=px(null);for(const[o,r]of P6(e))rm(e,o)&&(Array.isArray(r)?t[o]=rD(r):r&&typeof r=="object"&&r.constructor===Object?t[o]=Vg(r):t[o]=r);return t}function xw(e,t){for(;e!==null;){const r=YV(e,t);if(r){if(r.get)return dd(r.get);if(typeof r.value=="function")return dd(r.value)}e=KV(e)}function o(){return null}return o}const aD=Df(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bv=Df(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),JT=Df(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N6=Df(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ek=Df(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tk=Df(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),iD=Df(["#text"]),lD=Df(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),nk=Df(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cD=Df(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zp=Df(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Iv=Hp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Up=Hp(/<%[\w\W]*|[\w\W]*%>/gm),QV=Hp(/\$\{[\w\W]*/gm),JV=Hp(/^data-[\-\w.\u00B7-\uFFFF]+$/),eW=Hp(/^aria-[\-\w]+$/),B6=Hp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tW=Hp(/^(?:\w+script|data):/i),nW=Hp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I6=Hp(/^html$/i),oW=Hp(/^[a-z][.\w]*(-[.\w]+)+$/i);var $6=Object.freeze({__proto__:null,ARIA_ATTR:eW,ATTR_WHITESPACE:nW,CUSTOM_ELEMENT:oW,DATA_ATTR:JV,DOCTYPE_NAME:I6,ERB_EXPR:Up,IS_ALLOWED_URI:B6,IS_SCRIPT_OR_DATA:tW,MUSTACHE_EXPR:Iv,TMPLIT_EXPR:QV});const hx={element:1,text:3,progressingInstruction:7,comment:8,document:9},sW=function(){return typeof window>"u"?null:window},rW=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";o&&o.hasAttribute(i)&&(r=o.getAttribute(i));const f="dompurify"+(r?"#"+r:"");try{return t.createPolicy(f,{createHTML(v){return v},createScriptURL(v){return v}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},ok=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function sk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sW();const t=qs=>sk(qs);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==hx.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const r=o,i=r.currentScript,{DocumentFragment:f,HTMLTemplateElement:v,Node:S,Element:A,NodeFilter:P,NamedNodeMap:U=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:j,DOMParser:Y,trustedTypes:ie}=e,Oe=A.prototype,ge=xw(Oe,"cloneNode"),ke=xw(Oe,"remove"),nt=xw(Oe,"nextSibling"),rt=xw(Oe,"childNodes"),ft=xw(Oe,"parentNode");if(typeof v=="function"){const qs=o.createElement("template");qs.content&&qs.content.ownerDocument&&(o=qs.content.ownerDocument)}let Lt,on="";const{implementation:In,createNodeIterator:fo,createDocumentFragment:$t,getElementsByTagName:At}=o,{importNode:Ht}=r;let Bn=ok();t.isSupported=typeof P6=="function"&&typeof ft=="function"&&In&&In.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:jo,ERB_EXPR:Zo,TMPLIT_EXPR:Ks,DATA_ATTR:Lr,ARIA_ATTR:ya,IS_SCRIPT_OR_DATA:La,ATTR_WHITESPACE:wc,CUSTOM_ELEMENT:Ff}=$6;let{IS_ALLOWED_URI:Un}=$6,Eo=null;const Dr=ca({},[...aD,...Bv,...JT,...ek,...iD]);let vr=null;const Yc=ca({},[...lD,...nk,...cD,...zp]);let Vt=Object.seal(px(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tn=null,oo=null,Vs=!0,Ps=!0,Zr=!1,Mf=!0,Xp=!1,tp=!0,dm=!1,Jv=!1,md=!1,uf=!1,A0=!1,bC=!1,i4=!0,Lo=!1;const er="user-content-";let al=!0,Da=!1,Jr={},Wi=null;const Nf=ca({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zd=null;const np=ca({},["audio","video","img","source","image","track"]);let T0=null;const l4=ca({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),c4="http://www.w3.org/1998/Math/MathML",DE="http://www.w3.org/2000/svg",u1="http://www.w3.org/1999/xhtml";let yC=u1,m5=!1,u4=null;const Hne=ca({},[c4,DE,u1],sD);let p5=ca({},["mi","mo","mn","ms","mtext"]),g5=ca({},["annotation-xml"]);const zne=ca({},["title","style","font","a","script"]);let d4=null;const wC=["application/xhtml+xml","text/html"],rH="text/html";let vt=null,_t=null;const Zn=o.createElement("form"),kn=function(Dt){return Dt instanceof RegExp||Dt instanceof Function},Yo=function(){let Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_t&&_t===Dt)){if((!Dt||typeof Dt!="object")&&(Dt={}),Dt=Vg(Dt),d4=wC.indexOf(Dt.PARSER_MEDIA_TYPE)===-1?rH:Dt.PARSER_MEDIA_TYPE,vt=d4==="application/xhtml+xml"?sD:YT,Eo=rm(Dt,"ALLOWED_TAGS")?ca({},Dt.ALLOWED_TAGS,vt):Dr,vr=rm(Dt,"ALLOWED_ATTR")?ca({},Dt.ALLOWED_ATTR,vt):Yc,u4=rm(Dt,"ALLOWED_NAMESPACES")?ca({},Dt.ALLOWED_NAMESPACES,sD):Hne,T0=rm(Dt,"ADD_URI_SAFE_ATTR")?ca(Vg(l4),Dt.ADD_URI_SAFE_ATTR,vt):l4,zd=rm(Dt,"ADD_DATA_URI_TAGS")?ca(Vg(np),Dt.ADD_DATA_URI_TAGS,vt):np,Wi=rm(Dt,"FORBID_CONTENTS")?ca({},Dt.FORBID_CONTENTS,vt):Nf,Tn=rm(Dt,"FORBID_TAGS")?ca({},Dt.FORBID_TAGS,vt):Vg({}),oo=rm(Dt,"FORBID_ATTR")?ca({},Dt.FORBID_ATTR,vt):Vg({}),Jr=rm(Dt,"USE_PROFILES")?Dt.USE_PROFILES:!1,Vs=Dt.ALLOW_ARIA_ATTR!==!1,Ps=Dt.ALLOW_DATA_ATTR!==!1,Zr=Dt.ALLOW_UNKNOWN_PROTOCOLS||!1,Mf=Dt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Xp=Dt.SAFE_FOR_TEMPLATES||!1,tp=Dt.SAFE_FOR_XML!==!1,dm=Dt.WHOLE_DOCUMENT||!1,uf=Dt.RETURN_DOM||!1,A0=Dt.RETURN_DOM_FRAGMENT||!1,bC=Dt.RETURN_TRUSTED_TYPE||!1,md=Dt.FORCE_BODY||!1,i4=Dt.SANITIZE_DOM!==!1,Lo=Dt.SANITIZE_NAMED_PROPS||!1,al=Dt.KEEP_CONTENT!==!1,Da=Dt.IN_PLACE||!1,Un=Dt.ALLOWED_URI_REGEXP||B6,yC=Dt.NAMESPACE||u1,p5=Dt.MATHML_TEXT_INTEGRATION_POINTS||p5,g5=Dt.HTML_INTEGRATION_POINTS||g5,Vt=Dt.CUSTOM_ELEMENT_HANDLING||{},Dt.CUSTOM_ELEMENT_HANDLING&&kn(Dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vt.tagNameCheck=Dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Dt.CUSTOM_ELEMENT_HANDLING&&kn(Dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vt.attributeNameCheck=Dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Dt.CUSTOM_ELEMENT_HANDLING&&typeof Dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vt.allowCustomizedBuiltInElements=Dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xp&&(Ps=!1),A0&&(uf=!0),Jr&&(Eo=ca({},iD),vr=[],Jr.html===!0&&(ca(Eo,aD),ca(vr,lD)),Jr.svg===!0&&(ca(Eo,Bv),ca(vr,nk),ca(vr,zp)),Jr.svgFilters===!0&&(ca(Eo,JT),ca(vr,nk),ca(vr,zp)),Jr.mathMl===!0&&(ca(Eo,ek),ca(vr,cD),ca(vr,zp))),Dt.ADD_TAGS&&(Eo===Dr&&(Eo=Vg(Eo)),ca(Eo,Dt.ADD_TAGS,vt)),Dt.ADD_ATTR&&(vr===Yc&&(vr=Vg(vr)),ca(vr,Dt.ADD_ATTR,vt)),Dt.ADD_URI_SAFE_ATTR&&ca(T0,Dt.ADD_URI_SAFE_ATTR,vt),Dt.FORBID_CONTENTS&&(Wi===Nf&&(Wi=Vg(Wi)),ca(Wi,Dt.FORBID_CONTENTS,vt)),al&&(Eo["#text"]=!0),dm&&ca(Eo,["html","head","body"]),Eo.table&&(ca(Eo,["tbody"]),delete Tn.tbody),Dt.TRUSTED_TYPES_POLICY){if(typeof Dt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ug('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Dt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ug('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Lt=Dt.TRUSTED_TYPES_POLICY,on=Lt.createHTML("")}else Lt===void 0&&(Lt=rW(ie,i)),Lt!==null&&typeof on=="string"&&(on=Lt.createHTML(""));Df&&Df(Dt),_t=Dt}},Cr=ca({},[...Bv,...JT,...N6]),Al=ca({},[...ek,...tk]),k0=function(Dt){let ko=ft(Dt);(!ko||!ko.tagName)&&(ko={namespaceURI:yC,tagName:"template"});const Fs=YT(Dt.tagName),Cc=YT(ko.tagName);return u4[Dt.namespaceURI]?Dt.namespaceURI===DE?ko.namespaceURI===u1?Fs==="svg":ko.namespaceURI===c4?Fs==="svg"&&(Cc==="annotation-xml"||p5[Cc]):!!Cr[Fs]:Dt.namespaceURI===c4?ko.namespaceURI===u1?Fs==="math":ko.namespaceURI===DE?Fs==="math"&&g5[Cc]:!!Al[Fs]:Dt.namespaceURI===u1?ko.namespaceURI===DE&&!g5[Cc]||ko.namespaceURI===c4&&!p5[Cc]?!1:!Al[Fs]&&(zne[Fs]||!Cr[Fs]):!!(d4==="application/xhtml+xml"&&u4[Dt.namespaceURI]):!1},d1=function(Dt){fy(t.removed,{element:Dt});try{ft(Dt).removeChild(Dt)}catch{ke(Dt)}},f4=function(Dt,ko){try{fy(t.removed,{attribute:ko.getAttributeNode(Dt),from:ko})}catch{fy(t.removed,{attribute:null,from:ko})}if(ko.removeAttribute(Dt),Dt==="is")if(uf||A0)try{d1(ko)}catch{}else try{ko.setAttribute(Dt,"")}catch{}},Une=function(Dt){let ko=null,Fs=null;if(md)Dt="<remove></remove>"+Dt;else{const Ud=M6(Dt,/^[\r\n\t ]+/);Fs=Ud&&Ud[0]}d4==="application/xhtml+xml"&&yC===u1&&(Dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Dt+"</body></html>");const Cc=Lt?Lt.createHTML(Dt):Dt;if(yC===u1)try{ko=new Y().parseFromString(Cc,d4)}catch{}if(!ko||!ko.documentElement){ko=In.createDocument(yC,"template",null);try{ko.documentElement.innerHTML=m5?on:Cc}catch{}}const fm=ko.body||ko.documentElement;return Dt&&Fs&&fm.insertBefore(o.createTextNode(Fs),fm.childNodes[0]||null),yC===u1?At.call(ko,dm?"html":"body")[0]:dm?ko.documentElement:fm},Vne=function(Dt){return fo.call(Dt.ownerDocument||Dt,Dt,P.SHOW_ELEMENT|P.SHOW_COMMENT|P.SHOW_TEXT|P.SHOW_PROCESSING_INSTRUCTION|P.SHOW_CDATA_SECTION,null)},vJ=function(Dt){return Dt instanceof j&&(typeof Dt.nodeName!="string"||typeof Dt.textContent!="string"||typeof Dt.removeChild!="function"||!(Dt.attributes instanceof U)||typeof Dt.removeAttribute!="function"||typeof Dt.setAttribute!="function"||typeof Dt.namespaceURI!="string"||typeof Dt.insertBefore!="function"||typeof Dt.hasChildNodes!="function")},Wne=function(Dt){return typeof S=="function"&&Dt instanceof S};function Uy(qs,Dt,ko){oD(qs,Fs=>{Fs.call(t,Dt,ko,_t)})}const jne=function(Dt){let ko=null;if(Uy(Bn.beforeSanitizeElements,Dt,null),vJ(Dt))return d1(Dt),!0;const Fs=vt(Dt.nodeName);if(Uy(Bn.uponSanitizeElement,Dt,{tagName:Fs,allowedTags:Eo}),tp&&Dt.hasChildNodes()&&!Wne(Dt.firstElementChild)&&Zc(/<[/\w!]/g,Dt.innerHTML)&&Zc(/<[/\w!]/g,Dt.textContent)||Dt.nodeType===hx.progressingInstruction||tp&&Dt.nodeType===hx.comment&&Zc(/<[/\w]/g,Dt.data))return d1(Dt),!0;if(!Eo[Fs]||Tn[Fs]){if(!Tn[Fs]&&qne(Fs)&&(Vt.tagNameCheck instanceof RegExp&&Zc(Vt.tagNameCheck,Fs)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Fs)))return!1;if(al&&!Wi[Fs]){const Cc=ft(Dt)||Dt.parentNode,fm=rt(Dt)||Dt.childNodes;if(fm&&Cc){const Ud=fm.length;for(let Qp=Ud-1;Qp>=0;--Qp){const Vy=ge(fm[Qp],!0);Vy.__removalCount=(Dt.__removalCount||0)+1,Cc.insertBefore(Vy,nt(Dt))}}}return d1(Dt),!0}return Dt instanceof A&&!k0(Dt)||(Fs==="noscript"||Fs==="noembed"||Fs==="noframes")&&Zc(/<\/no(script|embed|frames)/i,Dt.innerHTML)?(d1(Dt),!0):(Xp&&Dt.nodeType===hx.text&&(ko=Dt.textContent,oD([jo,Zo,Ks],Cc=>{ko=zg(ko,Cc," ")}),Dt.textContent!==ko&&(fy(t.removed,{element:Dt.cloneNode()}),Dt.textContent=ko)),Uy(Bn.afterSanitizeElements,Dt,null),!1)},Zne=function(Dt,ko,Fs){if(i4&&(ko==="id"||ko==="name")&&(Fs in o||Fs in Zn))return!1;if(!(Ps&&!oo[ko]&&Zc(Lr,ko))){if(!(Vs&&Zc(ya,ko))){if(!vr[ko]||oo[ko]){if(!(qne(Dt)&&(Vt.tagNameCheck instanceof RegExp&&Zc(Vt.tagNameCheck,Dt)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Dt))&&(Vt.attributeNameCheck instanceof RegExp&&Zc(Vt.attributeNameCheck,ko)||Vt.attributeNameCheck instanceof Function&&Vt.attributeNameCheck(ko))||ko==="is"&&Vt.allowCustomizedBuiltInElements&&(Vt.tagNameCheck instanceof RegExp&&Zc(Vt.tagNameCheck,Fs)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Fs))))return!1}else if(!T0[ko]){if(!Zc(Un,zg(Fs,wc,""))){if(!((ko==="src"||ko==="xlink:href"||ko==="href")&&Dt!=="script"&&my(Fs,"data:")===0&&zd[Dt])){if(!(Zr&&!Zc(La,zg(Fs,wc,"")))){if(Fs)return!1}}}}}}return!0},qne=function(Dt){return Dt!=="annotation-xml"&&M6(Dt,Ff)},Gne=function(Dt){Uy(Bn.beforeSanitizeAttributes,Dt,null);const{attributes:ko}=Dt;if(!ko||vJ(Dt))return;const Fs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:vr,forceKeepAttr:void 0};let Cc=ko.length;for(;Cc--;){const fm=ko[Cc],{name:Ud,namespaceURI:Qp,value:Vy}=fm,h5=vt(Ud),bJ=Vy;let mm=Ud==="value"?bJ:XT(bJ);if(Fs.attrName=h5,Fs.attrValue=mm,Fs.keepAttr=!0,Fs.forceKeepAttr=void 0,Uy(Bn.uponSanitizeAttribute,Dt,Fs),mm=Fs.attrValue,Lo&&(h5==="id"||h5==="name")&&(f4(Ud,Dt),mm=er+mm),tp&&Zc(/((--!?|])>)|<\/(style|title)/i,mm)){f4(Ud,Dt);continue}if(Fs.forceKeepAttr)continue;if(!Fs.keepAttr){f4(Ud,Dt);continue}if(!Mf&&Zc(/\/>/i,mm)){f4(Ud,Dt);continue}Xp&&oD([jo,Zo,Ks],Yne=>{mm=zg(mm,Yne," ")});const Kne=vt(Dt.nodeName);if(!Zne(Kne,h5,mm)){f4(Ud,Dt);continue}if(Lt&&typeof ie=="object"&&typeof ie.getAttributeType=="function"&&!Qp)switch(ie.getAttributeType(Kne,h5)){case"TrustedHTML":{mm=Lt.createHTML(mm);break}case"TrustedScriptURL":{mm=Lt.createScriptURL(mm);break}}if(mm!==bJ)try{Qp?Dt.setAttributeNS(Qp,Ud,mm):Dt.setAttribute(Ud,mm),vJ(Dt)?d1(Dt):F6(t.removed)}catch{f4(Ud,Dt)}}Uy(Bn.afterSanitizeAttributes,Dt,null)},kce=function qs(Dt){let ko=null;const Fs=Vne(Dt);for(Uy(Bn.beforeSanitizeShadowDOM,Dt,null);ko=Fs.nextNode();)Uy(Bn.uponSanitizeShadowNode,ko,null),jne(ko),Gne(ko),ko.content instanceof f&&qs(ko.content);Uy(Bn.afterSanitizeShadowDOM,Dt,null)};return t.sanitize=function(qs){let Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ko=null,Fs=null,Cc=null,fm=null;if(m5=!qs,m5&&(qs="<!-->"),typeof qs!="string"&&!Wne(qs))if(typeof qs.toString=="function"){if(qs=qs.toString(),typeof qs!="string")throw Ug("dirty is not a string, aborting")}else throw Ug("toString is not a function");if(!t.isSupported)return qs;if(Jv||Yo(Dt),t.removed=[],typeof qs=="string"&&(Da=!1),Da){if(qs.nodeName){const Vy=vt(qs.nodeName);if(!Eo[Vy]||Tn[Vy])throw Ug("root node is forbidden and cannot be sanitized in-place")}}else if(qs instanceof S)ko=Une("<!---->"),Fs=ko.ownerDocument.importNode(qs,!0),Fs.nodeType===hx.element&&Fs.nodeName==="BODY"||Fs.nodeName==="HTML"?ko=Fs:ko.appendChild(Fs);else{if(!uf&&!Xp&&!dm&&qs.indexOf("<")===-1)return Lt&&bC?Lt.createHTML(qs):qs;if(ko=Une(qs),!ko)return uf?null:bC?on:""}ko&&md&&d1(ko.firstChild);const Ud=Vne(Da?qs:ko);for(;Cc=Ud.nextNode();)jne(Cc),Gne(Cc),Cc.content instanceof f&&kce(Cc.content);if(Da)return qs;if(uf){if(A0)for(fm=$t.call(ko.ownerDocument);ko.firstChild;)fm.appendChild(ko.firstChild);else fm=ko;return(vr.shadowroot||vr.shadowrootmode)&&(fm=Ht.call(r,fm,!0)),fm}let Qp=dm?ko.outerHTML:ko.innerHTML;return dm&&Eo["!doctype"]&&ko.ownerDocument&&ko.ownerDocument.doctype&&ko.ownerDocument.doctype.name&&Zc(I6,ko.ownerDocument.doctype.name)&&(Qp="<!DOCTYPE "+ko.ownerDocument.doctype.name+`>
`+Qp),Xp&&oD([jo,Zo,Ks],Vy=>{Qp=zg(Qp,Vy," ")}),Lt&&bC?Lt.createHTML(Qp):Qp},t.setConfig=function(){let qs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yo(qs),Jv=!0},t.clearConfig=function(){_t=null,Jv=!1},t.isValidAttribute=function(qs,Dt,ko){_t||Yo({});const Fs=vt(qs),Cc=vt(Dt);return Zne(Fs,Cc,ko)},t.addHook=function(qs,Dt){typeof Dt=="function"&&fy(Bn[qs],Dt)},t.removeHook=function(qs,Dt){if(Dt!==void 0){const ko=gx(Bn[qs],Dt);return ko===-1?void 0:XV(Bn[qs],ko,1)[0]}return F6(Bn[qs])},t.removeHooks=function(qs){Bn[qs]=[]},t.removeAllHooks=function(){Bn=ok()},t}var rk=sk();const L6=pn.each,aW=pn.trim,H6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],z6={ftp:21,http:80,https:443,mailto:25},uD=["img","video"],U6=(e,t)=>Ce(e)?!e:Ce(t)?!Re(uD,t):!0,V6=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},ak=(e,t,o)=>{const r=V6(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?U6(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Vp{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(r[0]);return i&&(o=i[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const i=fc.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!ak(r,i,o)}}static getDocumentBaseUrl(t){let o;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?o=t.href??"":o=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(t,o={}){t=aW(t),this.settings=o;const r=o.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){i.source=t;return}const f=t.indexOf("//")===0;if(t.indexOf("/")===0&&!f&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const S=r?r.path:new Vp(document.location.href).directory;if(r?.protocol==="")t="//mce_host"+i.toAbsPath(S,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(S,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const v=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);v&&L6(H6,(S,A)=>{let P=v[A];P&&(P=P.replace(/\(mce_at\)/g,"@@")),i[S]=P}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),!i.port&&i.host==="mce_host"&&(i.port=r.port),(!i.host||i.host==="mce_host")&&(i.host=r.host),i.source=""),f&&(i.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new Vp(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),i=o.getURI();if(r===i||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===i)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(t,o){const r=new Vp(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?z6[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,i="",f,v;const S=t.substring(0,t.lastIndexOf("/")).split("/"),A=o.split("/");if(S.length>=A.length){for(f=0,v=S.length;f<v;f++)if(f>=A.length||S[f]!==A[f]){r=f+1;break}}if(S.length<A.length){for(f=0,v=A.length;f<v;f++)if(f>=S.length||S[f]!==A[f]){r=f+1;break}}if(r===1)return o;for(f=0,v=S.length-(r-1);f<v;f++)i+="../";for(f=r-1,v=A.length;f<v;f++)f!==r-1?i+="/"+A[f]:i+=A[f];return i}toAbsPath(t,o){let r=0;const i=/\/$/.test(o)?"/":"",f=t.split("/"),v=o.split("/"),S=[];L6(f,j=>{j&&S.push(j)});const A=[];for(let j=v.length-1;j>=0;j--)if(!(v[j].length===0||v[j]===".")){if(v[j]===".."){r++;continue}if(r>0){r--;continue}A.push(v[j])}const P=S.length-r;let U;return P<=0?U=Bo(A).join("/"):U=S.slice(0,P).join("/")+"/"+Bo(A).join("/"),U.indexOf("/")!==0&&(U="/"+U),i&&U.lastIndexOf("/")!==U.length-1&&(U+=i),U}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const iW=pn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Wp="data-mce-type";let Zm=0;const vx=(e,t,o,r,i)=>{const f=t.validate,v=o.getSpecialElements();e.nodeType===kc&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&J(e.nodeValue)&&(e.nodeValue=FV(e.nodeValue)));const S=i?.tagName??e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Ce(i)&&(i.allowedTags[S]=!0);return}if(e.nodeType!==gf||S==="body")return;const A=Pe.fromDom(e),P=Er(A,Wp),U=Ur(A,"data-mce-bogus");if(!P&&J(U)){U==="all"?Is(A):Yi(A);return}const j=o.getElementRule(S);if(f&&!j){Jn(v,S)?Is(A):Yi(A);return}else Ce(i)&&(i.allowedTags[S]=!0);if(f&&j&&!P){if(De(j.attributesForced??[],Y=>{Nr(A,Y.name,Y.value==="{$uid}"?`mce_${Zm++}`:Y.value)}),De(j.attributesDefault??[],Y=>{Er(A,Y.name)||Nr(A,Y.name,Y.value==="{$uid}"?`mce_${Zm++}`:Y.value)}),j.attributesRequired&&!Ve(j.attributesRequired,Y=>Er(A,Y))){Yi(A);return}if(j.removeEmptyAttrs&&ma(A)){Yi(A);return}j.outputName&&j.outputName!==S&&Gd(A,j.outputName)}},W6=(e,t,o,r,i)=>{const f=e.tagName.toLowerCase(),{attrName:v,attrValue:S}=i;i.keepAttr=bx(t,o,r,f,v,S),i.keepAttr?(i.allowedAttributes[v]=!0,fD(v,o,e.nodeName)&&(i.attrValue=v),t.allow_svg_data_urls&&Do(S,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):dD(e,v)&&(i.forceKeepAttr=!0)},bx=(e,t,o,r,i,f)=>o!=="html"&&!gp(r)?!0:!(i in iW&&ak(e,f,r))&&(!e.validate||t.isValid(r,i)||Do(i,"data-")||Do(i,"aria-")),dD=(e,t)=>e.hasAttribute(Wp)&&(t==="id"||t==="class"||t==="style"),fD=(e,t,o)=>e in t.getBoolAttrs()&&!Jn(t.getCustomElements(),o.toLowerCase()),j6=(e,t,o,r)=>{const{attributes:i}=e;for(let f=i.length-1;f>=0;f--){const v=i[f],S=v.name,A=v.value;!bx(t,o,r,e.tagName.toLowerCase(),S,A)&&!dD(e,S)?e.removeAttribute(S):fD(S,o,e.nodeName)&&e.setAttribute(S,S)}},Z6=(e,t,o)=>{const r=rk();return r.addHook("uponSanitizeElement",(i,f)=>{vx(i,e,t,o.track(i),f)}),r.addHook("uponSanitizeAttribute",(i,f)=>{W6(i,e,t,o.current(),f)}),r},q6=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},G6=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};rk().sanitize(e,o)},ik=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=rk(),i=t.allow_mathml_annotation_encodings,f=Ae(i)&&i.length>0,v=A=>{const P=A.getAttribute("encoding");return f&&J(P)&&Re(i,P)},S=(A,P)=>f&&P==="semantics"?W.some(!0):P==="annotation"?W.some(_n(A)&&v(A)):Ae(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(P)?W.from(!0):W.none();r.addHook("uponSanitizeElement",(A,P)=>{const U=P.tagName??A.nodeName.toLowerCase();S(A,U).each(Y=>{P.allowedTags[U]=Y,!Y&&t.sanitize&&_n(A)&&A.remove()})}),r.addHook("uponSanitizeAttribute",(A,P)=>{Ae(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(P.attrName)&&(P.forceKeepAttr=!0)}),r.sanitize(e,o)},mD=e=>t=>{const o=G0(t);if(o==="svg")G6(t);else if(o==="math")ik(t,e);else throw new Error("Not a namespace element")},lW=(e,t)=>{const o=yh();if(e.sanitize){const r=Z6(e,t,o);return{sanitizeHtmlElement:(f,v)=>{r.sanitize(f,q6(e,v)),r.removed=[],o.reset()},sanitizeNamespaceElement:mD(e)}}else return{sanitizeHtmlElement:(f,v)=>{const S=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=S.nextNode();){const P=o.track(A);vx(A,e,t,P),_n(A)&&j6(A,e,t,P)}o.reset()},sanitizeNamespaceElement:lt}},K6=["script","style","template","param","meta","title","link"],Y6=pn.makeMap,X6=pn.extend,pD=(e,t,o,r,i)=>{const f=e.name,v=f in o&&f!=="title"&&f!=="textarea"&&f!=="noscript",S=t.childNodes;for(let A=0,P=S.length;A<P;A++){const U=S[A],j=new vc(U.nodeName.toLowerCase(),U.nodeType);if(_n(U)){const Y=U.attributes;for(let ie=0,Oe=Y.length;ie<Oe;ie++){const ge=Y[ie];j.attr(ge.name,ge.value)}gp(j.name)&&(r(U),j.value=U.innerHTML)}else fn(U)?(j.value=U.data,v&&(j.raw=!0)):bs(U)?j.value=i?MV(U.data):U.data:(P1(U)||Ri(U))&&(j.value=U.data);if(W0(U)){const Y=vc.create("#text");Y.value=U.innerHTML,Y.raw=!0,j.append(Y)}else gp(j.name)||pD(j,U,o,r,i);e.append(j)}},cW=(e,t,o)=>{const r=[];for(let i=e,f=i;i;f=i,i=i.walk()){const v=i;De(t,S=>S(v)),ct(v.parent)&&v!==e?i=f:r.push(v)}for(let i=r.length-1;i>=0;i--){const f=r[i];De(o,v=>v(f))}},uW=(e,t,o,r)=>{const i=o.validate,f=t.getNonEmptyElements(),v=t.getWhitespaceElements(),S=X6(Y6(K6),t.getBlockElements()),A=B1(t),P=/[ \t\r\n]+/g,U=/^[ \t\r\n]+/,j=/[ \t\r\n]+$/,Y=rt=>{let ft=rt.parent;for(;Ce(ft);){if(ft.name in v)return!0;ft=ft.parent}return!1},ie=rt=>{let ft=rt;for(;Ce(ft);){if(ft.name in A)return fx(t,f,v,ft);ft=ft.parent}return!1},Oe=rt=>rt.name in S||Ic(t,rt)||gp(rt.name)&&rt.parent===e,ge=(rt,ft)=>{const Lt=ft?rt.prev:rt.next;return Ce(Lt)||ct(rt.parent)?!1:Oe(rt.parent)&&(rt.parent!==e||r.isRootContent===!0)};return[rt=>{if(rt.type===3&&!Y(rt)){let ft=rt.value??"";ft=ft.replace(P," "),(Hg(rt.prev,Oe)||ge(rt,!0))&&(ft=ft.replace(U,"")),ft.length===0||ft===" "&&rt.prev&&rt.prev.type===kc&&rt.next&&rt.next.type===kc?rt.remove():rt.value=ft}},rt=>{if(rt.type===1){const ft=t.getElementRule(rt.name);if(i&&ft){const Lt=fx(t,f,v,rt);ft.paddInEmptyBlock&&Lt&&ie(rt)?Mv(o,r,Oe,rt):ft.removeEmpty&&Lt?Oe(rt)?rt.remove():rt.unwrap():ft.paddEmpty&&(Lt||Cw(rt))&&Mv(o,r,Oe,rt)}}else if(rt.type===3&&!Y(rt)){let ft=rt.value??"";(rt.next&&Oe(rt.next)||ge(rt,!1))&&(ft=ft.replace(j,"")),ft.length===0?rt.remove():rt.value=ft}}]},gD=(e,t)=>{const o=t.forced_root_block??e.forced_root_block;return o===!1?"":o===!0?"p":o},Q6=' xmlns="http://www.w3.org/1999/xhtml"',Ew=(e={},t=gl())=>{const o=T6(),r=T6(),i={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},f=new DOMParser,v=lW(i,t),S=(ft,Lt,on="html",In=!1)=>{const fo=on==="xhtml",$t=fo?"application/xhtml+xml":"text/html",At=Jn(t.getSpecialElements(),Lt.toLowerCase()),Ht=At?`<${Lt}>${ft}</${Lt}>`:ft,Bn=()=>/^[\s]*<head/i.test(ft)||/^[\s]*<html/i.test(ft)||/^[\s]*<!DOCTYPE/i.test(ft)?`<html${fo?Q6:""}>${Ht}</html>`:fo?`<html${Q6}><head></head><body>${Ht}</body></html>`:`<body>${Ht}</body>`,jo=f.parseFromString(Bn(),$t),Zo=In?jo.documentElement:jo.body;return v.sanitizeHtmlElement(Zo,$t),At?Zo.firstChild:Zo},A=o.addFilter,P=o.getFilters,U=o.removeFilter,j=r.addFilter,Y=r.getFilters,ie=r.removeFilter,Oe=(ft,Lt)=>{mx(t,ft)&&Lt.push(ft)},ge=(ft,Lt)=>{const on=J(Lt.attr(Wp)),In=Lt.type===1&&!Jn(ft,Lt.name)&&!Ic(t,Lt)&&!gp(Lt.name);return Lt.type===3||In&&!on},ke=(ft,Lt)=>{const on=X6(Y6(K6),t.getBlockElements()),In=/^[ \t\r\n]+/,fo=/[ \t\r\n]+$/;let $t=ft.firstChild,At=null;const Ht=Bn=>{Bn&&($t=Bn.firstChild,$t&&$t.type===3&&($t.value=$t.value?.replace(In,"")),$t=Bn.lastChild,$t&&$t.type===3&&($t.value=$t.value?.replace(fo,"")))};if(t.isValidChild(ft.name,Lt.toLowerCase())){for(;$t;){const Bn=$t.next;ge(on,$t)?(At||(At=new vc(Lt,1),At.attr(i.forced_root_block_attrs),ft.insert(At,$t)),At.append($t)):(Ht(At),At=null),$t=Bn}Ht(At)}},rt={schema:t,addAttributeFilter:j,getAttributeFilters:Y,removeAttributeFilter:ie,addNodeFilter:A,getNodeFilters:P,removeNodeFilter:U,parse:(ft,Lt={})=>{const on=i.validate,In=(Lt.context??i.root_name)==="#document",fo=Lt.context??(In?"html":i.root_name),$t=S(ft,fo,Lt.format,In);Ji(t,$t);const At=new vc(fo,11);pD(At,$t,t.getSpecialElements(),v.sanitizeNamespaceElement,i.sanitize&&i.allow_html_in_comments),$t.innerHTML="";const[Ht,Bn]=uW(At,t,i,Lt),jo=[],Zo=on?La=>Oe(La,jo):lt,Ks={nodes:{},attributes:{}},Lr=La=>qO(P(),Y(),La,Ks);cW(At,[Ht,Lr],[Bn,Zo]),jo.reverse(),on&&jo.length>0&&(Lt.context?Lt.invalid=!0:E6(jo,t,At,Lr));const ya=gD(i,Lt);return ya&&(At.name==="body"||Lt.isRootContent)&&ke(At,ya),Lt.invalid||S6(Ks,Lt),At}};return qV(rt,i),IV(rt,i,t),rt},lk=e=>e instanceof vc,dW=e=>lk(e)?Ov({validate:!1}).serialize(e):e,J6=(e,t,o)=>{const r=dW(e),i=t(r);if(i.isDefaultPrevented())return i;if(lk(e))if(i.content!==r){const f=Ew({validate:!1,forced_root_block:!1,...o}).parse(i.content,{context:e.name});return{...i,content:f}}else return{...i,content:e};else return i},eB=e=>({sanitize:X2(e),sandbox_iframes:Av(e),sandbox_iframes_exclusions:Pg(e)}),tB=(e,t)=>{if(t.no_events)return Be.value(t);{const o=Cv(e,t);return o.isDefaultPrevented()?Be.error(vA(e,{content:"",...o}).content):Be.value(o)}},yx=(e,t,o)=>o.no_events?t:J6(t,i=>vA(e,{...o,content:i}),eB(e)).content,wx=(e,t)=>{if(t.no_events)return Be.value(t);{const o=J6(t.content,r=>q4(e,{...t,content:r}),eB(e));return o.isDefaultPrevented()?(hA(e,o),Be.error(void 0)):Be.value(o)}},hD=(e,t,o)=>{o.no_events||hA(e,{...o,content:t})},fW="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),mW=["content_css_cors"],pW="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),vD=[{name:"export",replacedWith:"Export to PDF"}],nB=(e,t)=>{const o=at(t,r=>Jn(e,r));return Xs(o)},gW=e=>{const t=nB(e,fW),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Xs(t)},bD=e=>nB(e,mW),oB=(e,t)=>{const o=pn.makeMap(e.plugins," "),i=at(t,f=>Jn(o,f));return Xs(i)},hW=e=>oB(e,pW),vW=e=>oB(e,vD.map(t=>t.name)),bW=(e,t)=>{const o=gW(e),r=hW(t),i=r.length>0,f=o.length>0,v=t.theme==="mobile";if(i||f||v){const A=v?`

Themes:
- mobile`:"",P=i?`

Plugins:
- ${r.join(`
- `)}`:"",U=f?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+A+P+U)}},yW=e=>vn(vD,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),wW=(e,t)=>{const o=bD(e),r=vW(t),i=r.length>0,f=o.length>0;if(i||f){const S=i?`

Plugins:
- ${r.map(yW).join(`
- `)}`:"",A=f?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+S+A)}},CW=(e,t)=>{bW(e,t),wW(e,t)},ck={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},Cx=e=>{console.warn(ck[e],new Error().stack)},sB=e=>e.dom.length===0?(Is(e),W.none()):W.some(e),SW=(e,t)=>e.filter(o=>pw.isBookmarkNode(o.dom)).bind(t?ul:Eu),uk=(e,t,o,r,i)=>{const f=e.dom,v=t.dom,S=r?f.length:v.length;r?(LT(f,v,i,!1,!r),o.setStart(v,S)):(LT(v,f,i,!1,!r),o.setEnd(v,S))},xW=(e,t,o)=>{Ci(e).each(r=>{const i=e.dom;t&&ox(r,It(i,0),o)?IT(i,0,o):!t&&Hu(r,It(i,i.length),o)&&$T(i,i.length,o)})},rB=(e,t,o,r,i)=>{e.bind(f=>((r?$T:IT)(f.dom,r?f.dom.length:0,i),t.filter(or).map(S=>uk(f,S,o,r,i)))).orThunk(()=>SW(t,r).or(t).filter(or).map(v=>xW(v,r,i)))},EW=(e,t,o)=>{const r=W.from(t.firstChild).map(Pe.fromDom),i=W.from(t.lastChild).map(Pe.fromDom);e.deleteContents(),e.insertNode(t);const f=r.bind(Eu).filter(or).bind(sB),v=i.bind(ul).filter(or).bind(sB);rB(f,r,e,!0,o),rB(v,i,e,!1,o),e.collapse(!1)},AW=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),TW=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Ov({validate:!1},e.schema).serialize(f)}else return t.content},dk=(e,t,o={})=>{const r=AW(o,t);wx(e,r).each(i=>{const f=TW(e,i),v=e.selection.getRng();EW(v,v.createContextualFragment(f),e.schema),e.selection.setRng(v),om(e,v),hD(e,f,i)})},kW=(e,t,o={})=>{Cx("selectionSetContent"),dk(e,t,o)},_W=e=>Ce(e.firstChild)&&e.firstChild===e.lastChild,OW=e=>e.name==="br"||e.value===xr,DW=(e,t)=>e.getBlockElements()[t.name]&&_W(t)&&OW(t.firstChild),PW=(e,t)=>{const o=e.getNonEmptyElements();return Ce(t)&&(t.isEmpty(o)||DW(e,t))},gne=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),PW(e,r)&&(r=r?.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},jp=e=>{const t=e.firstChild,o=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode?.removeChild(t),o&&o.id==="mce_marker"&&o.parentNode?.removeChild(o),e},aB=(e,t,o)=>{const r=t.serialize(o),i=e.createFragment(r);return jp(i)},RW=e=>at(e?.childNodes??[],t=>t.nodeName==="LI"),iB=e=>e.data===xr||ka(e),FW=e=>Ce(e?.firstChild)&&e.firstChild===e.lastChild&&iB(e.firstChild),MW=e=>!e.firstChild||FW(e),hne=e=>e.length>0&&MW(e[e.length-1])?e.slice(0,-1):e,qc=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},NW=(e,t)=>!!qc(e,t),yD=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},lB=(e,t)=>{const o=It.before(e),i=zm(t).next(o);return i?i.toRange():null},Sx=(e,t)=>{const o=It.after(e),i=zm(t).prev(o);return i?i.toRange():null},BW=(e,t,o,r)=>{const i=yD(e,r),f=e.parentNode;return f&&(f.insertBefore(i[0],e),pn.each(t,v=>{f.insertBefore(v,e)}),f.insertBefore(i[1],e),f.removeChild(e)),Sx(t[t.length-1],o)},IW=(e,t,o)=>{const r=e.parentNode;return r&&pn.each(t,i=>{r.insertBefore(i,e)}),lB(e,o)},$W=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),Sx(t[0],o)),LW=(e,t,o,r)=>{const i=aB(t,e,r),f=qc(t,o.startContainer),v=hne(RW(i.firstChild)),S=1,A=2,P=t.getRoot(),U=j=>{const Y=It.fromRangeStart(o),ie=zm(t.getRoot()),ge=(j===S?ie.prev(Y):ie.next(Y))?.getNode();return ge?qc(t,ge)!==f:!0};return f?U(S)?IW(f,v,P):U(A)?$W(f,v,P,t):BW(f,v,P,o):null},HW=["pre"],cB=(e,t,o,r)=>{const i=t.firstChild,f=t.lastChild,v=f.attr("data-mce-type")==="bookmark"?f.prev:f,S=i===v,A=Re(HW,i.name);if(S&&A){const P=i.attr("contenteditable")!=="false",U=e.getParent(o,e.isBlock)?.nodeName.toLowerCase()===i.name,j=W.from($g(r,o)).forall(Du);return P&&U&&j}else return!1},wD=wg,uB=(e,t,o)=>{if(Ce(o)){const r=e.getParent(t.endContainer,wD);return o===r&&D_(Pe.fromDom(o),t)}else return!1},dB=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&ka(o[0])||o.length===0}else return!1},zW=(e,t,o)=>{o.getAttribute("data-mce-bogus")==="all"?o.parentNode?.insertBefore(e.dom.createFragment(t),o):dB(e.dom,o)?e.dom.setHTML(o,t):dk(e,t,{no_events:!0})},UW=(e,t,o)=>{W.from(e.getParent(t,"td,th")).map(Pe.fromDom).each(r=>FC(r,o))},VW=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const i=e.getBody(),f=Lg(e),v="*[data-mce-fragment]",S=r.select(v);pn.each(S,A=>{const P=Y=>Ce(o[Y.nodeName.toLowerCase()]),U=Y=>Y.childNodes.length===1;if((Y=>!(eN(r,Y)||tN(r,Y)))(A)&&P(A)&&U(A)){const Y=bw(r,A),ie=(nt,rt)=>ts(nt,ft=>Re(rt,ft)),Oe=nt=>U(A)&&r.is(nt,v)&&P(nt)&&(nt.nodeName===A.nodeName&&ie(Y,bw(r,nt))||Oe(nt.children[0])),ge=nt=>Ce(nt)&&nt!==i&&(f.compare(A,nt)||ge(nt.parentElement)),ke=nt=>Ce(nt)&&nt!==i&&r.is(nt,v)&&(fU(r,A,nt)||ke(nt.parentElement));(Oe(A.children[0])||ge(A.parentElement)&&!ke(A.parentElement))&&r.remove(A,!0)}}),AV(e,hf(S))}},WW=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},jW=e=>{pn.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},fk=e=>!!e.getAttribute("data-mce-fragment"),fB=(e,t)=>Ce(t)&&!e.schema.getVoidElements()[t.nodeName],mB=(e,t)=>{let o;const r=e.dom,i=e.selection;if(!t)return;i.scrollIntoView(t);const f=$g(e.getBody(),t);if(f&&r.getContentEditable(f)==="false"){r.remove(t),i.select(f);return}let v=r.createRng();const S=t.previousSibling;if(fn(S)){v.setStart(S,S.nodeValue?.length??0);const U=t.nextSibling;fn(U)&&(S.appendData(U.data),U.parentNode?.removeChild(U))}else v.setStartBefore(t),v.setEndBefore(t);const A=U=>{let j=It.fromRangeStart(U);return j=zm(e.getBody()).next(j),j?.toRange()},P=r.getParent(t,r.isBlock);if(r.remove(t),P&&r.isEmpty(P)){const U=wD(P);Wa(Pe.fromDom(P)),v.setStart(P,0),v.setEnd(P,0),!U&&!fk(P)&&(o=A(v))?(v=o,r.remove(P)):r.add(P,r.create("br",U?{}:{"data-mce-bogus":"1"}))}i.setRng(v)},ZW=e=>{const t=e.dom,o=KO(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,wD);uB(t,o,r)?zT(e,o,Pe.fromDom(r)):lz(o)||iz(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},pB=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return W.some(t);return W.none()},qW=(e,t,o)=>Ve(o.children(),lf)&&e.getParent(t,e.isBlock)?.nodeName==="SUMMARY",GW=(e,t,o)=>{const r=e.selection,i=e.dom,f=e.parser,v=o.merge,S=Ov({validate:!0},e.schema),A='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=ld(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,A);let P=r.getRng();const U=P.startContainer,j=e.getBody();U===j&&r.isCollapsed()&&i.isBlock(j.firstChild)&&fB(e,j.firstChild)&&i.isEmpty(j.firstChild)&&(P=i.createRng(),P.setStart(j.firstChild,0),P.setEnd(j.firstChild,0),r.setRng(P)),r.isCollapsed()||ZW(e);const Y=r.getNode(),ie={context:Y.nodeName.toLowerCase(),data:o.data,insert:!0},Oe=f.parse(t,ie);if(o.paste===!0&&gne(e.schema,Oe)&&NW(i,Y))return P=LW(S,i,r.getRng(),Oe),P&&r.setRng(P),t;o.paste===!0&&cB(i,Oe,Y,e.getBody())&&Oe.firstChild?.unwrap(),WW(Oe);let ge=Oe.lastChild;if(ge&&ge.attr("id")==="mce_marker"){const ke=ge;for(ge=ge.prev;ge&&ge.name!=="table";ge=ge.walk(!0))if(ge.type===3||!i.isBlock(ge.name)){ge.parent&&e.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(ke,ge,ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Y),!ie.invalid&&!qW(i,Y,Oe))t=S.serialize(Oe),zW(e,t,Y);else{dk(e,A);let ke=r.getNode(),nt;const rt=e.getBody();for(Vf(ke)?ke=nt=rt:nt=ke;nt&&nt!==rt;)ke=nt,nt=nt.parentNode;t=ke===rt?rt.innerHTML:i.getOuterHTML(ke);const ft=f.parse(t),Lt=pB(ft),on=Lt.bind(DV).getOr(ft);Lt.each($t=>$t.replace(Oe));const In=PV(Oe);Oe.unwrap();const fo=at(In,$t=>mx(e.schema,$t));E6(fo,e.schema,on),x6(f.getNodeFilters(),f.getAttributeFilters(),ft),t=S.serialize(ft),ke===rt?i.setHTML(rt,t):i.setOuterHTML(ke,t)}return VW(e,v),mB(e,i.get("mce_marker")),jW(e.getBody()),UW(i,r.getStart(),e.schema),bp(e.schema,e.getBody(),r.getStart()),t},KW=e=>{hw(e)&&M(e.getBody()).each(t=>{const o=t.getNode(),r=Fc(o)?M(o).getOr(t):t;e.selection.setRng(r.toRange())})},xx=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&KW(e)},CD=(e,t,o,r)=>{if(o=ld(o),o.length===0||/^\s+$/.test(o)){const i='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+i+"</li>");const f=rl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),f.toLowerCase())?(o=i,o=e.dom.createHTML(f,em(e),o)):o||(o=i),xx(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Ov({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const i=f2(Pe.fromDom(t))?o:pn.trim(o);return xx(e,i,r.no_selection),{content:i,html:i}}},YW=(e,t,o,r)=>{x6(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const i=Ov({validate:!1},e.schema).serialize(o),f=ld(f2(Pe.fromDom(t))?i:pn.trim(i));return xx(e,f,r.no_selection),{content:o,html:f}},SD=(e,t,o)=>W.from(e.getBody()).map(r=>lk(t)?YW(e,r,t,o):CD(e,r,t,o)).getOr({content:t,html:lk(o.content)?"":o.content}),Ex={},gB=Pd(["pre"]),XW=(e,t)=>{Ex[e]||(Ex[e]=[]),Ex[e].push(t)},QW=(e,t)=>{Jn(Ex,e)&&De(Ex[e],o=>{o(t)})};XW("pre",e=>{const t=e.selection.getRng(),o=i=>f=>{const v=f.previousSibling;return gB(v)&&Re(i,v)},r=(i,f)=>{const v=Pe.fromDom(f),S=xu(v).dom;Is(v),wl(Pe.fromDom(i),[Pe.fromTag("br",S),Pe.fromTag("br",S),...fa(v)])};if(!t.collapsed){const i=e.selection.getSelectedBlocks(),f=at(at(i,gB),o(i));De(f,v=>{r(v.previousSibling,v)})}});const hB=pn.each,JW=(e,t,o,r)=>{const i=f=>{if(Vl(f)&&_n(f.parentNode)&&e.isEditable(f)){const v=cM(e,f.parentNode);e.getStyle(f,"color")&&v?e.setStyle(f,"text-decoration",v):e.getStyle(f,"text-decoration")===v&&e.setStyle(f,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(pn.walk(r,i,"childNodes"),i(r))},vB=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const i=HO(e,"fontSize");LO(r,f=>i(f)&&e.isEditable(f),u6(e,"backgroundColor",a0(t.styles.backgroundColor,o)))}},ej=(e,t,o,r)=>{if(jc(t)&&(t.inline==="sub"||t.inline==="sup")){const i=HO(e,"fontSize");LO(r,v=>i(v)&&e.isEditable(v),u6(e,"fontSize",""));const f=at(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(f,!0)}},tj=(e,t,o,r)=>{hB(t,i=>{jc(i)&&hB(e.dom.select(i.inline,r),f=>{$O(f)&&dx(e,i,o,f,i.exact?f:null)}),mV(e.dom,i,r)})},nj=(e,t,o,r,i)=>{const f=i.parentNode;jm(e,f,o,r)&&dx(e,t,r,i)||t.merge_with_parents&&f&&e.dom.getParent(f,v=>jm(e,v,o,r)?(dx(e,t,r,i),!0):!1)},oj=pn.each,sj=(e,t,o,r)=>{if(tM(e)&&jc(t)&&o.parentNode){const i=B1(e.schema),f=no(Pe.fromDom(o),v=>ue(v.dom));return as(i,r)&&bo(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},rj=(e,t,o,r)=>{const i=e.formatter.get(t),f=i[0],v=!r&&e.selection.isCollapsed(),S=e.dom,A=e.selection,P=(ie,Oe)=>{let ge=!1;return oj(ie,ke=>Np(ke)?S.getContentEditable(Oe)==="false"&&!ke.ceFalseOverride||Ce(ke.collapsed)&&ke.collapsed!==v?!0:S.is(Oe,ke.selector)&&!ue(Oe)?(cy(e,Oe,ke,o,Oe),ge=!0,!1):!0:!1),ge},U=ie=>{if(J(ie)){const Oe=S.create(ie);return cy(e,Oe,f,o,r),Oe}else return null},j=(ie,Oe,ge)=>{const ke=[];let nt=!0;const rt=f.inline||f.block,ft=U(rt),Lt=fo=>dz(f)&&jm(e,fo,t,o),on=(fo,$t,At)=>{const Ht=fz(f)&&ZS(e.schema,fo)&&fw(e,$t,rt);return At&&Ht},In=(fo,$t,At,Ht)=>{const Bn=fo.nodeName.toLowerCase(),jo=fw(e,rt,Bn)&&fw(e,$t,rt),Zo=!ge&&fn(fo)&&xb(fo.data),Ks=ue(fo),Lr=!jc(f)||!ie.isBlock(fo);return(At||Ht)&&jo&&!Zo&&!Ks&&Lr};Bp(ie,Oe,fo=>{let $t;const At=Ht=>{let Bn=!1,jo=nt,Zo=!1;const Ks=Ht.parentNode,Lr=Ks.nodeName.toLowerCase(),ya=ie.getContentEditable(Ht);Ce(ya)&&(jo=nt,nt=ya==="true",Bn=!0,Zo=lM(e,Ht));const La=nt&&!Bn;if(ka(Ht)&&!sj(e,f,Ht,Lr)){$t=null,Ng(f)&&ie.remove(Ht);return}if(Lt(Ht)){$t=null;return}if(on(Ht,Lr,La)){const wc=ie.rename(Ht,rt);cy(e,wc,f,o,Ht),ke.push(wc),$t=null;return}if(Np(f)){let wc=P(i,Ht);if(!wc&&Ce(Ks)&&F_(f)&&(wc=P(i,Ks)),!jc(f)||wc){$t=null;return}}Ce(ft)&&In(Ht,Lr,La,Zo)?($t||($t=ie.clone(ft,!1),Ks.insertBefore($t,Ht),ke.push($t)),Zo&&Bn&&(nt=jo),$t.appendChild(Ht)):($t=null,De(po(Ht.childNodes),At),Bn&&(nt=jo),$t=null)};De(fo,At)}),f.links===!0&&De(ke,fo=>{const $t=At=>{At.nodeName==="A"&&cy(e,At,f,o,r),De(po(At.childNodes),$t)};$t(fo)}),EV(e,t,hf(ke)),De(ke,fo=>{const $t=Bn=>{let jo=0;return De(Bn.childNodes,Zo=>{!cz(Zo)&&!ii(Zo)&&jo++}),jo},At=Bn=>vn(Bn.childNodes,jS).filter(Zo=>ie.getContentEditable(Zo)!=="false"&&VT(ie,Zo,f)).map(Zo=>{const Ks=ie.clone(Zo,!1);return cy(e,Ks,f,o,Bn),ie.replace(Ks,Bn,!0),ie.remove(Zo,!0),Ks}).getOr(Bn),Ht=$t(fo);if((ke.length>1||!ie.isBlock(fo))&&Ht===0){ie.remove(fo,!0);return}(jc(f)||Ng(f)&&f.wrapper)&&(!f.exact&&Ht===1&&(fo=At(fo)),tj(e,i,o,fo),nj(e,f,t,o,fo),vB(ie,f,o,fo),JW(ie,f,o,fo),ej(ie,f,o,fo),c6(e,f,o,fo))})},Y=WS(r)?r:A.getNode();if(S.getContentEditable(Y)==="false"&&!lM(e,Y)){r=Y,P(i,r),Og(e,t,r,o);return}if(f){if(r)if(WS(r)){if(!P(i,r)){const ie=S.createRng();ie.setStartBefore(r),ie.setEndAfter(r),j(S,qh(S,ie,i),!0)}}else j(S,r,!0);else!v||!jc(f)||so(e).length?(A.setRng(KO(A.getRng())),rM(e,()=>{US(e,(ie,Oe)=>{const ge=Oe?ie:qh(S,ie,i);j(S,ge,!1)})},ut),e.nodeChanged()):KN(e,t,o),dV(e.formatter,t).each(ie=>{const Oe=IO(e.selection);De(Oe,ge=>TO(S,ge,ie,o))});QW(t,e)}Og(e,t,r,o)},bB=(e,t,o,r)=>{(r||e.selection.isEditable())&&rj(e,t,o,r)},py=e=>Jn(e,"vars"),mk=(e,t)=>{e.set({}),t.on("NodeChange",o=>{wB(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=W.from(o.node).map(i=>WS(i)?i:i.startContainer).bind(i=>_n(i)?W.some(i):W.from(i.parentElement)).getOrThunk(()=>xD(t));wB(t,r,e.get())})},xD=e=>e.selection.getStart(),ED=(e,t,o,r,i)=>an(t,S=>{const A=e.formatter.matchNode(S,o,i??{},r);return!Ft(A)},S=>UN(e,S,o)?!0:r?!1:Ce(e.formatter.matchNode(S,o,i,!0))),yB=(e,t)=>{const o=t??xD(e);return at(mT(e.dom,o),r=>_n(r)&&!Cf(r))},wB=(e,t,o)=>{const r=yB(e,t);Io(o,(i,f)=>{const v=S=>{const A=ED(e,r,f,S.similar,py(S)?S.vars:void 0),P=A.isSome();if(S.state.get()!==P){S.state.set(P);const U=A.getOr(t);py(S)?S.callback(P,{node:U,format:f,parents:r}):De(S.callbacks,j=>j(P,{node:U,format:f,parents:r}))}};De([i.withSimilar,i.withoutSimilar],v),De(i.withVars,v)})},AD=(e,t,o,r,i,f)=>{const v=t.get();De(o.split(","),S=>{const A=_o(v,S).getOrThunk(()=>{const U={withSimilar:{state:Kn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Kn(!1),similar:!1,callbacks:[]},withVars:[]};return v[S]=U,U}),P=()=>{const U=yB(e);return ED(e,U,S,i,f).isSome()};if(Ft(f)){const U=i?A.withSimilar:A.withoutSimilar;U.callbacks.push(r),U.callbacks.length===1&&U.state.set(P())}else A.withVars.push({state:Kn(P()),similar:i,vars:f,callback:r})}),t.set(v)},aj=(e,t,o)=>{const r=e.get();De(t.split(","),i=>_o(r,i).each(f=>{r[i]={withSimilar:{...f.withSimilar,callbacks:at(f.withSimilar.callbacks,v=>v!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:at(f.withoutSimilar.callbacks,v=>v!==o)},withVars:at(f.withVars,v=>v.callback!==o)}})),e.set(r)},ij=(e,t,o,r,i,f)=>(AD(e,t,o,r,i,f),{unbind:()=>aj(t,o,r)}),lj=(e,t,o,r)=>{const i=e.formatter.get(t);i&&(_O(e,t,o,r)&&(!("toggle"in i[0])||i[0].toggle)?ZT(e,t,o,r):bB(e,t,o,r))},TD=(e,t,o)=>({element:e,width:t,rows:o}),CB=(e,t)=>({element:e,cells:t}),pk=(e,t)=>({x:e,y:t}),Aw=(e,t)=>_l(e,t).bind(ff).getOr(1),cj=(e,t,o,r,i)=>{const f=Aw(i,"rowspan"),v=Aw(i,"colspan"),S=e.rows;for(let A=o;A<o+f;A++){S[A]||(S[A]=CB(Au(r),[]));for(let P=t;P<t+v;P++){const U=S[A].cells;U[P]=A===o&&P===t?i:Rr(i)}}},Tw=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},am=(e,t,o)=>{for(;Tw(e,t,o);)t++;return t},kw=e=>kt(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Wr=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const i=o[r].cells;for(let f=0;f<i.length;f++)if(_s(i[f],t))return W.some(pk(f,r))}return W.none()},_w=(e,t,o,r,i)=>{const f=[],v=e.rows;for(let S=o;S<=i;S++){const A=v[S].cells,P=t<r?A.slice(t,r+1):A.slice(r,t+1);f.push(CB(v[S].element,P))}return f},SB=(e,t,o)=>{const r=t.x,i=t.y,f=o.x,v=o.y,S=i<v?_w(e,r,i,f,v):_w(e,r,v,f,i);return TD(e.element,kw(S),S)},xB=(e,t)=>{const o=Rr(e.element),r=Pe.fromTag("tbody");return wl(r,t),As(o,r),o},gk=e=>qe(e.rows,t=>{const o=qe(t.cells,i=>{const f=Au(i);return Hs(f,"colspan"),Hs(f,"rowspan"),f}),r=Rr(t.element);return wl(r,o),r}),kD=e=>{const t=TD(Rr(e),0,[]);return De(Ot(e,"tr"),(o,r)=>{De(Ot(o,"td,th"),(i,f)=>{cj(t,am(t,f,r),r,o,i)})}),TD(t.element,kw(t.rows),t.rows)},_D=e=>xB(e,gk(e)),OD=(e,t,o)=>Wr(e,t).bind(r=>Wr(e,o).map(i=>SB(e,r,i))),DD=e=>vn(e,t=>cs(t)==="ul"||cs(t)==="ol"),hk=(e,t)=>vn(e,o=>cs(o)==="li"&&D_(o,t)).fold(Te([]),o=>DD(e).map(r=>{const i=Pe.fromTag(cs(r)),f=to(Ku(r),(v,S)=>Do(S,"list-style"));return Ol(i,f),[Pe.fromTag("li"),i]}).getOr([])),PD=(e,t)=>{const o=kt(t,(r,i)=>(As(i,r),i),e);return t.length>0?Ad([o]):o},EB=e=>Mu(e)?Ci(e).filter(kf).fold(Te([]),t=>[e,t]):kf(e)?[e]:[],AB=(e,t,o)=>{const r=Pe.fromDom(t.commonAncestorContainer),i=Lp(r,e),f=at(i,A=>o.isWrapper(cs(A))),v=hk(i,t),S=f.concat(v.length?v:EB(r));return qe(S,Rr)},RD=()=>Ad([]),TB=(e,t,o)=>PD(Pe.fromDom(t.cloneContents()),AB(e,t,o)),kB=(e,t)=>Za(t,"table",se(_s,e)),gy=(e,t)=>kB(e,t[0]).bind(o=>{const r=t[0],i=t[t.length-1],f=kD(o);return OD(f,r,i).map(v=>Ad([_D(v)]))}).getOrThunk(RD),_B=(e,t,o)=>t.length>0&&t[0].collapsed?RD():TB(e,t[0],o),FD=(e,t,o)=>{const r=lT(t,e);return r.length>0?gy(e,r):_B(e,t,o)},vk=(e,t)=>t>=0&&t<e.length&&rf(e.charAt(t)),OB=e=>ld(e.innerText),DB=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),PB=e=>W.from(e.selection.getRng()).map(t=>{const o=W.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=DB(o),f=Pe.fromDom(t.cloneContents());YM(f),XM(f);const v=e.dom.add(r,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},f.dom),S=OB(v),A=ld(v.textContent??"");if(e.dom.remove(v),vk(A,0)||vk(A,A.length-1)){const P=o.getOr(r),U=OB(P),j=U.indexOf(S);if(j===-1)return S;{const Y=vk(U,j-1),ie=vk(U,j+S.length);return(Y?" ":"")+S+(ie?" ":"")}}else return S}).getOr(""),RB=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),f=J_(e,uw(i)),v=t.contextual?FD(Pe.fromDom(e.getBody()),f,e.schema).dom:o.cloneContents();return v&&r.appendChild(v),e.selection.serializer.serialize(r,t)},bk=(e,t)=>{if(t.format==="text")return PB(e);{const o=RB(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},FB=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),MB=(e,t,o={})=>{const r=FB(o,t);return tB(e,r).fold(rn,i=>{const f=bk(e,i);return yx(e,f,i)})},yk=0,MD=1,ND=2,NB=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),i=new Array(o),f=(U,j,Y)=>({start:U,end:j,diag:Y}),v=(U,j,Y,ie,Oe)=>{const ge=A(U,j,Y,ie);if(ge===null||ge.start===j&&ge.diag===j-ie||ge.end===U&&ge.diag===U-Y){let ke=U,nt=Y;for(;ke<j||nt<ie;)ke<j&&nt<ie&&e[ke]===t[nt]?(Oe.push([yk,e[ke]]),++ke,++nt):j-U>ie-Y?(Oe.push([ND,e[ke]]),++ke):(Oe.push([MD,t[nt]]),++nt)}else{v(U,ge.start,Y,ge.start-ge.diag,Oe);for(let ke=ge.start;ke<ge.end;++ke)Oe.push([yk,e[ke]]);v(ge.end,j,ge.end-ge.diag,ie,Oe)}},S=(U,j,Y,ie)=>{let Oe=U;for(;Oe-j<ie&&Oe<Y&&e[Oe]===t[Oe-j];)++Oe;return f(U,Oe,j)},A=(U,j,Y,ie)=>{const Oe=j-U,ge=ie-Y;if(Oe===0||ge===0)return null;const ke=Oe-ge,nt=ge+Oe,rt=(nt%2===0?nt:nt+1)/2;r[1+rt]=U,i[1+rt]=j+1;let ft,Lt,on,In,fo;for(ft=0;ft<=rt;++ft){for(Lt=-ft;Lt<=ft;Lt+=2){for(on=Lt+rt,Lt===-ft||Lt!==ft&&r[on-1]<r[on+1]?r[on]=r[on+1]:r[on]=r[on-1]+1,In=r[on],fo=In-U+Y-Lt;In<j&&fo<ie&&e[In]===t[fo];)r[on]=++In,++fo;if(ke%2!==0&&ke-ft<=Lt&&Lt<=ke+ft&&i[on-ke]<=r[on])return S(i[on-ke],Lt+U-Y,j,ie)}for(Lt=ke-ft;Lt<=ke+ft;Lt+=2){for(on=Lt+rt-ke,Lt===ke-ft||Lt!==ke+ft&&i[on+1]<=i[on-1]?i[on]=i[on+1]-1:i[on]=i[on-1],In=i[on]-1,fo=In-U+Y-Lt;In>=U&&fo>=Y&&e[In]===t[fo];)i[on]=In--,fo--;if(ke%2===0&&-ft<=Lt&&Lt<=ft&&i[on]<=r[on+ke])return S(i[on],Lt+U-Y,j,ie)}}return null},P=[];return v(0,e.length,0,t.length,P),P},BD=e=>_n(e)?e.outerHTML:fn(e)?fc.encodeRaw(e.data,!1):bs(e)?"<!--"+e.data+"-->":"",BB=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},IB=(e,t,o)=>{const r=BB(t);if(e.hasChildNodes()&&o<e.childNodes.length){const i=e.childNodes[o];e.insertBefore(r,i)}else e.appendChild(r)},$B=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},ID=(e,t)=>{let o=0;De(e,r=>{r[0]===yk?o++:r[0]===MD?(IB(t,r[1],o),o++):r[0]===ND&&$B(t,o)})},LB=(e,t)=>at(qe(po(e.childNodes),F(ld,BD)),o=>o.length>0),HB=(e,t)=>{const o=qe(po(t.childNodes),BD);return ID(NB(o,e),t),t},zB=vi(()=>document.implementation.createHTMLDocument("undo")),UB=e=>e.querySelector("iframe")!==null,VB=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),WB=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ax=e=>{const t=e.serializer.getTempAttrs(),o=KM(e.getBody(),t);return UB(o)?VB(LB(o)):WB(ld(o.innerHTML))},Tx=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?HB(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ce(r)&&$n(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Ow=e=>e.type==="fragmented"?e.fragments.join(""):e.content,$D=(e,t)=>{const o=Pe.fromTag("body",zB());return Gu(o,Ow(t)),De(Ot(o,"*[data-mce-bogus]"),Yi),e&&De(Ot(o,"details[open]"),r=>Hs(r,"open")),ja(o)},uj=(e,t)=>Ow(e)===Ow(t),jB=(e,t,o)=>$D(e,t)===$D(e,o),Dw=(e,t,o)=>!t||!o?!1:uj(t,o)?!0:jB(e,t,o),kx=e=>e.get()===0,$v=(e,t,o)=>{kx(o)&&(e.typing=t)},wk=(e,t)=>{e.typing&&($v(e,!1,t),e.add())},ZB=e=>{e.typing&&(e.typing=!1,e.add())},Pw=(e,t,o)=>{kx(t)&&o.set(pv(e.selection))},LD=(e,t,o,r,i,f,v)=>{const S=Ax(e),A=pn.extend(f||{},S);if(!kx(r)||e.removed)return null;const P=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:P,originalEvent:v}).isDefaultPrevented()||P&&Dw(e.readonly,P,A))return null;t.data[o.get()]&&i.get().each(Y=>{t.data[o.get()].beforeBookmark=Y});const U=$A(e);if(U&&t.data.length>U){for(let Y=0;Y<t.data.length-1;Y++)t.data[Y]=t.data[Y+1];t.data.length--,o.set(t.data.length)}A.bookmark=pv(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(A),o.set(t.data.length-1);const j={level:A,lastLevel:P,originalEvent:v};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",j),e.dispatch("change",j)):e.dispatch("AddUndo",j),A},HD=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Rw=(e,t,o,r,i)=>{if(t.transact(r)){const f=t.data[o.get()].bookmark,v=t.data[o.get()-1];Tx(e,v,!0),t.transact(i)&&(t.data[o.get()-1].beforeBookmark=f)}},Lv=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],Tx(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},qB=(e,t,o,r)=>{let i;return t.typing&&(t.add(),t.typing=!1,$v(t,!1,o)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],Tx(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},dj=e=>{e.clear(),e.add()},fj=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!Dw(e.readonly,Ax(e),t.data[0]),GB=(e,t)=>t.get()<e.data.length-1&&!e.typing,KB=(e,t,o)=>(wk(e,t),e.beforeChange(),e.ignore(o),e.add()),YB=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},mj=(e,t)=>{const o=e.dom,r=Ce(t)?t:e.getBody();De(o.select("table,a",r),i=>{switch(i.nodeName){case"TABLE":const f=HA(e),v=o.getAttrib(i,"border");(!v||v==="0")&&e.hasVisual?o.addClass(i,f):o.removeClass(i,f);break;case"A":if(!o.getAttrib(i,"href")){const S=o.getAttrib(i,"name")||i.id,A=G2(e);S&&e.hasVisual?o.addClass(i,A):o.removeClass(i,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},f0=e=>({init:{bindEvents:lt},undoManager:{beforeChange:(t,o)=>Pw(e,t,o),add:(t,o,r,i,f,v)=>LD(e,t,o,r,i,f,v),undo:(t,o,r)=>qB(e,t,o,r),redo:(t,o)=>Lv(e,t,o),clear:(t,o)=>HD(e,t,o),reset:t=>dj(t),hasUndo:(t,o)=>fj(e,t,o),hasRedo:(t,o)=>GB(t,o),transact:(t,o,r)=>KB(t,o,r),ignore:(t,o)=>YB(t,o),extra:(t,o,r,i)=>Rw(e,t,o,r,i)},formatter:{match:(t,o,r,i)=>_O(e,t,o,r,i),matchAll:(t,o)=>OO(e,t,o),matchNode:(t,o,r,i)=>jm(e,t,o,r,i),canApply:t=>DO(e,t),closest:t=>WN(e,t),apply:(t,o,r)=>bB(e,t,o,r),remove:(t,o,r,i)=>ZT(e,t,o,r,i),toggle:(t,o,r)=>lj(e,t,o,r),formatChanged:(t,o,r,i,f)=>ij(e,t,o,r,i,f)},editor:{getContent:t=>lU(e,t),setContent:(t,o)=>SD(e,t,o),insertContent:(t,o)=>GW(e,t,o),addVisual:t=>mj(e,t)},selection:{getContent:(t,o)=>MB(e,t,o)},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:()=>W.none()}}),hy=e=>{const t=P=>dt(P)?P:{},{init:o,undoManager:r,formatter:i,editor:f,selection:v,autocompleter:S,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(P,U,j)=>r.transact(j),ignore:(P,U)=>r.ignore(U),extra:(P,U,j,Y)=>r.extra(j,Y)},formatter:{match:(P,U,j,Y)=>i.match(P,t(U),Y),matchAll:i.matchAll,matchNode:i.matchNode,canApply:P=>i.canApply(P),closest:P=>i.closest(P),apply:(P,U,j)=>i.apply(P,t(U)),remove:(P,U,j,Y)=>i.remove(P,t(U)),toggle:(P,U,j)=>i.toggle(P,t(U)),formatChanged:(P,U,j,Y,ie)=>i.formatChanged(U,j,Y,ie)},editor:{getContent:P=>f.getContent(P),setContent:(P,U)=>({content:f.setContent(P,U),html:""}),insertContent:(P,U)=>(f.insertContent(P),""),addVisual:f.addVisual},selection:{getContent:(P,U)=>v.getContent(U)},autocompleter:{addDecoration:S.addDecoration,removeDecoration:S.removeDecoration},raw:{getModel:()=>W.some(A.getRawModel())}}},XB=()=>{const e=Te(null),t=Te("");return{init:{bindEvents:lt},undoManager:{beforeChange:lt,add:e,undo:e,redo:e,clear:lt,reset:lt,hasUndo:He,hasRedo:He,transact:e,ignore:lt,extra:lt},formatter:{match:He,matchAll:Te([]),matchNode:Te(void 0),canApply:He,closest:t,apply:lt,remove:lt,toggle:lt,formatChanged:Te({unbind:lt})},editor:{getContent:t,setContent:Te({content:"",html:""}),insertContent:Te(""),addVisual:lt},selection:{getContent:t},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:Te(W.none())}}},Wg=e=>Jn(e.plugins,"rtc"),pj=e=>_o(e.plugins,"rtc").bind(t=>W.from(t.setup)),gj=e=>{const t=e;return pj(e).fold(()=>(t.rtcInstance=f0(e),W.none()),o=>(t.rtcInstance=XB(),W.some(()=>o().then(r=>(t.rtcInstance=hy(r),r.rtc.isRemote)))))},zD=e=>e.rtcInstance?e.rtcInstance:f0(e),va=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Zp=(e,t,o)=>{va(e).undoManager.beforeChange(t,o)},QB=(e,t,o,r,i,f,v)=>va(e).undoManager.add(t,o,r,i,f,v),UD=(e,t,o,r)=>va(e).undoManager.undo(t,o,r),VD=(e,t,o)=>va(e).undoManager.redo(t,o),Ck=(e,t,o)=>{va(e).undoManager.clear(t,o)},hj=(e,t)=>{va(e).undoManager.reset(t)},JB=(e,t,o)=>va(e).undoManager.hasUndo(t,o),_x=(e,t,o)=>va(e).undoManager.hasRedo(t,o),vj=(e,t,o,r)=>va(e).undoManager.transact(t,o,r),Sk=(e,t,o)=>{va(e).undoManager.ignore(t,o)},WD=(e,t,o,r,i)=>{va(e).undoManager.extra(t,o,r,i)},eI=(e,t,o,r,i)=>va(e).formatter.match(t,o,r,i),Ox=(e,t,o)=>va(e).formatter.matchAll(t,o),bj=(e,t,o,r,i)=>va(e).formatter.matchNode(t,o,r,i),yj=(e,t)=>va(e).formatter.canApply(t),jg=(e,t)=>va(e).formatter.closest(t),Pf=(e,t,o,r)=>{va(e).formatter.apply(t,o,r)},Dx=(e,t,o,r,i)=>{va(e).formatter.remove(t,o,r,i)},Rf=(e,t,o,r)=>{va(e).formatter.toggle(t,o,r)},wj=(e,t,o,r,i,f)=>va(e).formatter.formatChanged(t,o,r,i,f),ba=(e,t)=>zD(e).editor.getContent(t),Cj=(e,t,o)=>zD(e).editor.setContent(t,o),m0=(e,t,o)=>zD(e).editor.insertContent(t,o),Px=(e,t,o)=>va(e).selection.getContent(t,o),tI=(e,t)=>va(e).editor.addVisual(t),xk=e=>va(e).init.bindEvents(),jD=(e,t={})=>{const o=t.format?t.format:"html";return Px(e,o,t)},nI=(e,t,o)=>{if(Jn(e,t)){const r=at(e[t],i=>i!==o);r.length===0?delete e[t]:e[t]=r}};var ZD=(e,t)=>{let o,r;const i=(S,A)=>vn(A,P=>e.is(P,S)),f=S=>e.getParents(S,void 0,e.getRoot()),v=()=>{o={},r={},t.on("NodeChange",S=>{const A=S.element,P=f(A),U={};Io(o,(j,Y)=>{i(Y,P).each(ie=>{r[Y]||(De(j,Oe=>{Oe(!0,{node:ie,selector:Y,parents:P})}),r[Y]=j),U[Y]=j})}),Io(r,(j,Y)=>{U[Y]||(delete r[Y],De(j,ie=>{ie(!1,{node:A,selector:Y,parents:P})}))})})};return{selectorChangedWithUnbind:(S,A)=>(o||v(),o[S]||(o[S]=[]),o[S].push(A),i(S,f(t.selection.getStart())).each(()=>{r[S]=o[S]}),{unbind:()=>{nI(o,S,A),nI(r,S,A)}})}};const oI=e=>!!(e&&e.ownerDocument)&&oc(Pe.fromDom(e.ownerDocument),Pe.fromDom(e)),sI=e=>e?oI(e.startContainer)&&oI(e.endContainer):!1,qD=(e,t,o,r)=>{let i,f;const{selectorChangedWithUnbind:v}=ZD(e,r),S=(Un,Eo)=>{const Dr=e.createRng();Ce(Un)&&Ce(Eo)?(Dr.setStart(Un,Eo),Dr.setEnd(Un,Eo),Lt(Dr),nt(!1)):(uT(e,Dr,r.getBody(),!0),Lt(Dr))},A=Un=>jD(r,Un),P=(Un,Eo)=>kW(r,Un,Eo),U=Un=>kT(r.getBody(),ft(),Un),j=Un=>Y_(r.getBody(),ft(),Un),Y=(Un,Eo)=>wc.getBookmark(Un,Eo),ie=Un=>wc.moveToBookmark(Un),Oe=(Un,Eo)=>(VM(e,Un,Eo).each(Lt),Un),ge=()=>{const Un=ft(),Eo=rt();return!Un||Un.item?!1:Un.compareEndPoints?Un.compareEndPoints("StartToEnd",Un)===0:!Eo||Un.collapsed},ke=()=>{if(r.mode.isReadOnly())return!1;const Un=ft(),Eo=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Eo.length>0?ts(Eo,Dr=>e.isEditable(Dr.parentElement)):Gz(e,Un)},nt=Un=>{const Eo=ft();Eo.collapse(!!Un),Lt(Eo)},rt=()=>t.getSelection?t.getSelection():t.document.selection,ft=()=>{let Un;const Eo=(vr,Yc,Vt)=>{try{return Yc.compareBoundaryPoints(vr,Vt)}catch{return-1}},Dr=t.document;if(Ce(r.bookmark)&&!hw(r)){const vr=wT(r);if(vr.isSome())return vr.map(Yc=>J_(r,[Yc])[0]).getOr(Dr.createRange())}try{const vr=rt();vr&&!D1(vr.anchorNode)&&(vr.rangeCount>0?Un=vr.getRangeAt(0):Un=Dr.createRange(),Un=J_(r,[Un])[0])}catch{}if(Un||(Un=Dr.createRange()),Vf(Un.startContainer)&&Un.collapsed){const vr=e.getRoot();Un.setStart(vr,0),Un.setEnd(vr,0)}return i&&f&&(Eo(Un.START_TO_START,Un,i)===0&&Eo(Un.END_TO_END,Un,i)===0?Un=f:(i=null,f=null)),Un},Lt=(Un,Eo)=>{if(!sI(Un))return;const Dr=rt();if(Un=r.dispatch("SetSelectionRange",{range:Un,forward:Eo}).range,Dr){f=Un;try{Dr.removeAllRanges(),Dr.addRange(Un)}catch{}Eo===!1&&Dr.extend&&(Dr.collapse(Un.endContainer,Un.endOffset),Dr.extend(Un.startContainer,Un.startOffset)),i=Dr.rangeCount>0?Dr.getRangeAt(0):null}if(!Un.collapsed&&Un.startContainer===Un.endContainer&&Dr?.setBaseAndExtent&&Un.endOffset-Un.startOffset<2&&Un.startContainer.hasChildNodes()){const Yc=Un.startContainer.childNodes[Un.startOffset];Yc&&Yc.nodeName==="IMG"&&(Dr.setBaseAndExtent(Un.startContainer,Un.startOffset,Un.endContainer,Un.endOffset),(Dr.anchorNode!==Un.startContainer||Dr.focusNode!==Un.endContainer)&&Dr.setBaseAndExtent(Yc,0,Yc,1))}r.dispatch("AfterSetSelectionRange",{range:Un,forward:Eo})},on=Un=>(dk(r,e.getOuterHTML(Un)),Un),In=()=>Q_(r.getBody(),ft()),fo=(Un,Eo)=>Kz(e,ft(),Un,Eo),$t=()=>{const Un=rt(),Eo=Un?.anchorNode,Dr=Un?.focusNode;if(!Un||!Eo||!Dr||D1(Eo)||D1(Dr))return!0;const vr=e.createRng(),Yc=e.createRng();try{vr.setStart(Eo,Un.anchorOffset),vr.collapse(!0),Yc.setStart(Dr,Un.focusOffset),Yc.collapse(!0)}catch{return!0}return vr.compareBoundaryPoints(vr.START_TO_START,Yc)<=0},La={dom:e,win:t,serializer:o,editor:r,expand:(Un={type:"word"})=>Lt(Ig(e).expand(ft(),Un)),collapse:nt,setCursorLocation:S,getContent:A,setContent:P,getBookmark:Y,moveToBookmark:ie,select:Oe,isCollapsed:ge,isEditable:ke,isForward:$t,setNode:on,getNode:In,getSel:rt,setRng:Lt,getRng:ft,getStart:U,getEnd:j,getSelectedBlocks:fo,normalize:()=>{const Un=ft(),Eo=rt();if(!Mg(Eo)&&zS(r)){const Dr=ET(e,Un);return Dr.each(vr=>{Lt(vr,$t())}),Dr.getOr(Un)}return Un},selectorChanged:(Un,Eo)=>(v(Un,Eo),La),selectorChangedWithUnbind:v,getScrollContainer:()=>{let Un,Eo=e.getRoot();for(;Eo&&Eo.nodeName!=="BODY";){if(Eo.scrollHeight>Eo.clientHeight){Un=Eo;break}Eo=Eo.parentNode}return Un},scrollIntoView:(Un,Eo)=>{Ce(Un)?Vn(r,Un,Eo):om(r,ft(),Eo)},placeCaretAt:(Un,Eo)=>Lt(DM(Un,Eo,r.getDoc())),getBoundingClientRect:()=>{const Un=ft();return Un.collapsed?It.fromRangeStart(Un).getClientRects()[0]:Un.getBoundingClientRect()},destroy:()=>{t=i=f=null,Ff.destroy()}},wc=pw(La),Ff=Nz(La,r);return La.bookmarkManager=wc,La.controlSelection=Ff,La},GD=(e,t,o)=>{t.addNodeFilter("br",(r,i,f)=>{const v=pn.extend({},o.getBlockElements()),S=o.getNonEmptyElements(),A=o.getWhitespaceElements();v.body=1;const P=U=>U.name in v||Ic(o,U);for(let U=0,j=r.length;U<j;U++){let Y=r[U],ie=Y.parent;if(ie&&P(ie)&&Y===ie.lastChild){let Oe=Y.prev;for(;Oe;){const ge=Oe.name;if(ge!=="span"||Oe.attr("data-mce-type")!=="bookmark"){ge==="br"&&(Y=null);break}Oe=Oe.prev}if(Y&&(Y.remove(),fx(o,S,A,ie))){const ge=o.getElementRule(ie.name);ge&&(ge.removeEmpty?ie.remove():ge.paddEmpty&&Mv(e,f,P,ie))}}else{let Oe=Y;for(;ie&&ie.firstChild===Oe&&ie.lastChild===Oe&&(Oe=ie,!v[ie.name]);)ie=ie.parent;if(Oe===ie){const ge=new vc("#text",3);ge.value=xr,Y.replace(ge)}}}})},rI=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,i)=>{let f=r.length;for(;f--;){const v=r[f];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(i,null)}}),e.addAttributeFilter("src,href,style",(r,i)=>{const f="data-mce-"+i,v=t.url_converter,S=t.url_converter_scope;let A=r.length;for(;A--;){const P=r[A];let U=P.attr(f);U!==void 0?(P.attr(i,U.length>0?U:null),P.attr(f,null)):(U=P.attr(i),i==="style"?U=o.serializeStyle(o.parseStyle(U),P.name):v&&(U=v.call(S,U,i,P.name)),P.attr(i,U.length>0?U:null))}}),e.addAttributeFilter("class",r=>{let i=r.length;for(;i--;){const f=r[i];let v=f.attr("class");v&&(v=v.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",(r,i,f)=>{let v=r.length;for(;v--;){const S=r[v];S.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(W.from(S.firstChild).exists(P=>!xb(P.value??""))?S.unwrap():S.remove())}}),e.addNodeFilter("script,style",(r,i)=>{const f=S=>S.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let v=r.length;for(;v--;){const S=r[v],A=S.firstChild,P=A?.value??"";if(i==="script"){const U=S.attr("type");U&&S.attr("type",U==="mce-no/type"?null:U.replace(/^mce\-/,"")),t.element_format==="xhtml"&&A&&P.length>0&&(A.value=`// <![CDATA[
`+f(P)+`
// ]]>`)}else t.element_format==="xhtml"&&A&&P.length>0&&(A.value=`<!--
`+f(P)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let i=r.length;for(;i--;){const f=r[i],v=f.value;t.preserve_cdata&&v?.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=o.decode(v.replace(/^\[CDATA\[|\]\]$/g,""))):v?.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(v).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,i)=>{let f=r.length;for(;f--;){const v=r[f];v.type===7?v.remove():v.type===1&&i==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{De(r,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,i)=>{let f=r.length;for(;f--;)r[f].attr(i,null)}),t.remove_trailing_brs&&GD(t,e,e.schema)},Ek=e=>{const t=r=>r?.name==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},Sj=(e,t,o)=>{let r;const i=e.dom;let f=t.cloneNode(!0);const v=document.implementation;if(v.createHTMLDocument){const S=v.createHTMLDocument("");pn.each(f.nodeName==="BODY"?f.childNodes:[f],A=>{S.body.appendChild(S.importNode(A,!0))}),f.nodeName!=="BODY"?f=S.body.firstChild:f=S.body,r=i.doc,i.doc=S}return R2(e,{...o,node:f}),r&&(i.doc=r),f},xj=(e,t)=>Ce(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,Ej=(e,t,o)=>xj(e,o)?Sj(e,t,o):t,Aj=(e,t,o)=>{pn.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,i)=>{let f=r.length;for(;f--;)r[f].attr(i,null)}),t.push(o))},Tj=(e,t,o)=>!t.no_events&&e?oS(e,{...t,content:o}).content:o,aI=(e,t,o)=>{const r=ld(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||f2(Pe.fromDom(t))?r:pn.trim(r)},kj=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,i=e.parse(t,r);return Ek(i),i},_j=(e,t,o)=>Ov(e,t).serialize(o),iI=(e,t,o,r,i)=>{const f=_j(t,o,r);return Tj(e,i,f)},Oj=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Ns.DOM,f=t&&t.schema?t.schema:gl(r),v=Ew(r,f);rI(v,r,i);const S=(A,P={})=>{const{indent:U,entity_encoding:j,...Y}=P,ie={format:"html",...Y},Oe=Ej(t,A,ie),ge=aI(i,Oe,ie),ke=kj(v,ge,ie);if(ie.format==="tree")return ke;const nt={...r,...Ce(U)?{indent:U}:{},...Ce(j)?{entity_encoding:j}:{}};return iI(t,nt,f,ke,ie)};return{schema:f,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:S,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:se(Aj,v,o),getTempAttrs:Te(o),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters,removeNodeFilter:v.removeNodeFilter,removeAttributeFilter:v.removeAttributeFilter}},KD=(e,t)=>{const o=Oj(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Rx="html",Dj=(e,t)=>({...e,format:t,get:!0,getInner:!0}),Pj=(e,t={})=>{const o=t.format?t.format:Rx,r=Dj(t,o);return tB(e,r).fold(rn,i=>{const f=ba(e,i);return yx(e,f,i)})},lI="html",cI=(e,t)=>({format:lI,...e,set:!0,content:t}),YD=(e,t,o={})=>{const r=cI(o,t);wx(e,r).each(i=>{const f=Cj(e,i.content,i);hD(e,f.html,i)})},Fx=Ns.DOM,zu=e=>{Fx.setStyle(e.id,"display",e.orgDisplay)},Ak=e=>W.from(e).each(t=>t.destroy()),uI=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},XD=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Fx.unbind(t,"submit reset",e.formEventDelegate))},QD=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ce(i?.nextSibling)&&Fx.remove(i.nextSibling),sS(e),e.editorManager.remove(e),!e.inline&&r&&zu(e),fA(e),Fx.remove(e.getContainer()),Ak(t),Ak(o),e.destroy()}},dI=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ak(o),Ak(r)),XD(e),uI(e),e.destroyed=!0}},Tk=(()=>{const e={};return{add:(i,f)=>{e[i]=f},get:i=>e[i]?e[i]:{icons:{}},has:i=>Jn(e,i)}})(),Fw=Pn.ModelManager,JD=(e,t)=>t.dom[e],eP=(e,t)=>parseInt(pa(t,e),10),im=se(JD,"clientWidth"),Fj=se(JD,"clientHeight"),Mj=se(eP,"margin-top"),vne=se(eP,"margin-left"),tP=e=>e.dom.getBoundingClientRect(),Nj=(e,t,o)=>{const r=im(e),i=Fj(e);return t>=0&&o>=0&&t<=r&&o<=i},bne=(e,t,o,r)=>{const i=tP(t),f=e?i.left+t.dom.clientLeft+vne(t):0,v=e?i.top+t.dom.clientTop+Mj(t):0,S=o-f,A=r-v;return{x:S,y:A}},Bj=(e,t,o)=>{const r=Pe.fromDom(e.getBody()),i=e.inline?r:ni(r),f=bne(e.inline,i,t,o);return Nj(i,f.x,f.y)},nP=e=>W.from(e).map(Pe.fromDom),qp=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return nP(t).map(mr).getOr(!1)};var oP=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Mx=e=>{const t=[],o=()=>{const Y=e.theme;return Y&&Y.getNotificationManagerImpl?Y.getNotificationManagerImpl():oP()},r=()=>W.from(t[0]),i=(Y,ie)=>Y.type===ie.type&&Y.text===ie.text&&!Y.progressBar&&!Y.timeout&&!ie.progressBar&&!ie.timeout,f=()=>{r().each(Y=>{Y.reposition()})},v=Y=>{t.push(Y)},S=Y=>{Fn(t,ie=>ie===Y).each(ie=>{t.splice(ie,1)})},A=(Y,ie=!0)=>e.removed||!qp(e)?{}:(ie&&e.dispatch("BeforeOpenNotification",{notification:Y}),vn(t,Oe=>i(o().getArgs(Oe),Y)).getOrThunk(()=>{e.editorManager.setActive(e);const Oe=o().open(Y,()=>{S(Oe)},()=>kM(e));return v(Oe),f(),e.dispatch("OpenNotification",{notification:{...Oe}}),Oe})),P=()=>{r().each(Y=>{o().close(Y),S(Y),f()})},U=Te(t);return(Y=>{Y.on("SkinLoaded",()=>{const ie=hS(Y);ie&&A({text:ie,type:"warning",timeout:0},!1),f()}),Y.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),Y.on("remove",()=>{De(t.slice(),ie=>{o().close(ie)})}),Y.on("keydown",ie=>{const Oe=ie.key?.toLowerCase()==="f12"||ie.keyCode===123;ie.altKey&&Oe&&(ie.preventDefault(),r().map(ge=>Pe.fromDom(ge.getEl())).each(ge=>ug(ge)))})})(e),{open:A,close:P,getNotifications:U}},Hv=Pn.PluginManager,vy=Pn.ThemeManager;var sP=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const fI=e=>{let t=[];const o=()=>{const ke=e.theme;return ke&&ke.getWindowManagerImpl?ke.getWindowManagerImpl():sP()},r=(ke,nt)=>(...rt)=>nt?nt.apply(ke,rt):void 0,i=ke=>{e.dispatch("OpenWindow",{dialog:ke})},f=ke=>{e.dispatch("CloseWindow",{dialog:ke})},v=(ke,nt)=>{t.push({instanceApi:ke,triggerElement:nt}),i(ke)},S=ke=>{f(ke);const nt=rs(t,({instanceApi:rt,triggerElement:ft})=>rt===ke?ft:W.none());t=at(t,({instanceApi:rt})=>rt!==ke),t.length===0?e.focus():nt.filter(mr).each(ug)},A=()=>W.from(t[t.length-1]),P=ke=>{e.editorManager.setActive(e),yT(e);const nt=yl();e.ui.show();const rt=ke();return v(rt,nt),rt},U=(ke,nt)=>P(()=>o().open(ke,nt,S)),j=ke=>P(()=>o().openUrl(ke,S)),Y=ke=>{t.length!==0&&ke.each(nt=>ug(nt))},ie=(ke,nt,rt)=>{const ft=yl(),Lt=o();Lt.alert(ke,r(rt||Lt,()=>{Y(ft),nt?.()}))},Oe=(ke,nt,rt)=>{const ft=yl(),Lt=o();Lt.confirm(ke,r(rt||Lt,on=>{Y(ft),nt?.(on)}))},ge=()=>{A().each(({instanceApi:ke})=>{o().close(ke),S(ke)})};return e.on("remove",()=>{De(t,({instanceApi:ke})=>{o().close(ke)})}),{open:U,openUrl:j,alert:ie,confirm:Oe,close:ge}},rP=(e,t)=>{e.notificationManager.open({type:"error",text:t})},kk=(e,t)=>{e._skinLoaded?rP(e,t):e.on("SkinLoaded",()=>{rP(e,t)})},Ij=(e,t)=>{kk(e,Nn.translate(["Failed to upload image: {0}",t]))},p0=(e,t,o)=>{F2(e,t,{message:o}),console.error(o)},by=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,mI=(e,t,o)=>{p0(e,"PluginLoadError",by("plugin",t,o))},$j=(e,t,o)=>{p0(e,"IconsLoadError",by("icons",t,o))},yy=(e,t,o)=>{p0(e,"LanguageLoadError",by("language",t,o))},pI=(e,t,o)=>{p0(e,"ThemeLoadError",by("theme",t,o))},Lj=(e,t,o)=>{p0(e,"ModelLoadError",by("model",t,o))},gI=(e,t)=>{p0(e,"LicenseKeyManagerLoadError",by("license key manager",t))},Hj=(e,t)=>{p0(e,"ComponentLoadError",by("component",t))},zj=(e,t,o)=>{const r=Nn.translate(["Failed to initialize plugin: {0}",t]);F2(e,"PluginLoadError",{message:r}),_k(r,o),kk(e,r)},_k=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},hI=new WeakMap,Uj=e=>{if(hI.has(e))return;hI.set(e,!0);const t=()=>{e.on("SwitchMode",r=>{const{mode:i}=r;i!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",r=>{const{state:i}=r;i||r.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},aP=(e,t)=>{const{type:o,message:r}=t;e.notificationManager.open({type:o,text:r})},Vj=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;default:return console.log}},iP=e=>{Vj(e.type)(e.message)},Qh=(e,t)=>{const{console:o,editor:r}=t;Ce(r)&&(e._skinLoaded?aP(e,r):e.on("SkinLoaded",()=>{aP(e,r)})),Ce(o)&&iP(o)},lP="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",Nx="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",vI=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";Qh(e,{console:{type:"error",message:[`${t}`,Nx,lP].join(" ")},editor:{type:"warning",message:`${t}`}})},bI=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,r=`The editor is disabled because the TinyMCE ${o} could not be validated.`;Qh(e,{console:{type:"error",message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,lP].join(" ")},editor:{type:"warning",message:`${r}`}})},yI=(e,t,o)=>{const r=`The "${t}" plugin requires a valid TinyMCE license key.`;Qh(e,{console:{type:"error",message:[`${r}`,lP].join(" ")},...o?{}:{editor:{type:"warning",message:"One or more premium plugins are disabled due to license key restrictions."}}})},Bx="licensekeymanager",wI=e=>J(Yb(e))?"online":"offline",Wj=e=>{const t=qA(e)?.toLowerCase();return t==="gpl"?"gpl":ct(t)?"no_key":"non_gpl"},cP=e=>{const t=wI(e),o=Wj(e),r=new Set([...jb(e),...sn(yS(e))]).has(Bx);return o!=="gpl"||t==="online"||r?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:r}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:r}},CI=e=>t=>{let o=!1;return{validate:r=>{const{plugin:i}=r,f=J(i);return f&&(yI(t,i,o),o=!0),Promise.resolve(e&&!f)}}},jj=CI(!1),Ok=CI(!0),Ix="manager",uP=Bx,fP=(()=>{const e=Pn();return{load:(i,f)=>{if(cP(i).type==="use_plugin"){const A=_o(yS(i),uP).map(Kr).filter(Fr).getOr(`plugins/${uP}/plugin${f}.js`);e.load(Ix,A).catch(()=>{gI(i,A)})}},add:i=>{e.add(Ix,i)},init:i=>{const f=A=>{Object.defineProperty(i,"licenseKeyManager",{value:A,writable:!1,configurable:!1,enumerable:!0})},v=cP(i),S=e.get(Ix);if(Ce(S)){const A=S(i,e.urls[Ix]);f(A)}else switch(v.type){case"use_gpl":{f(Ok(i));break}case"use_plugin":{Uj(i),f(jj(i)),v.onlineStatus==="offline"&&v.licenseKeyType==="no_key"?vI(i):bI(i,v.onlineStatus);break}}i.licenseKeyManager.validate({})}}})(),Zj=e=>{W.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},mP=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},SI=(e,t)=>{mP(e,"StyleWithCSS",t),mP(e,"enableInlineTableEditing",t),mP(e,"enableObjectResizing",t)},pP=e=>{e.selection.setRng(e.selection.getRng())},xI=(e,t,o)=>{pg(e,t)&&!o?aa(e,t):o&&ic(e,t)},gP=e=>{const t=Pe.fromDom(e.getBody());xI(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Zj(e)},EI=e=>{const t=Pe.fromDom(e.getBody());xI(t,"mce-content-readonly",!1),e.hasEditableRoot()&&R(t,!0),SI(e,!1),kM(e)&&e.focus(),pP(e),e.nodeChanged()},g0=e=>tm(e),wy="data-mce-contenteditable",$x=e=>{De(Ot(e,'*[contenteditable="true"]'),t=>{Nr(t,wy,"true"),R(t,!1)})},Zg=e=>{De(Ot(e,`*[${wy}="true"]`),t=>{Hs(t,wy),R(t,!0)})},AI=(e,t)=>{const o=Pe.fromDom(e.getBody());t?(gP(e),R(o,!1),$x(o)):(Zg(o),EI(e))},hP=e=>{e.serializer?gi(e):e.on("PreInit",()=>{gi(e)})},gi=e=>{e.parser.addAttributeFilter("contenteditable",t=>{g0(e)&&De(t,o=>{o.attr(wy,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(wy,t=>{g0(e)&&De(t,o=>{o.attr("contenteditable",o.attr(wy))})}),e.serializer.addTempAttr(wy)},vP=e=>e.type==="click",Dk=["copy"],h0=e=>Re(Dk,e.type),TI=(e,t)=>Xi(t,"a",r=>_s(r,Pe.fromDom(e.getBody()))).bind(r=>_l(r,"href")),bP=(e,t)=>Yr(t,"details",r=>_s(r,Pe.fromDom(e.getBody()))),qj=(e,t)=>{if(vP(t)&&!Hn.metaKeyPressed(t)){const o=Pe.fromDom(t.target);TI(e,o).fold(()=>{bP(e,o)&&t.preventDefault()},r=>{if(t.preventDefault(),/^#/.test(r)){const i=e.dom.select(`${r},[name="${Sc(r,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else h0(t)&&e.dispatch(t.type,t)},Mw=e=>{e.on("ShowCaret ObjectSelected",t=>{g0(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||AI(e,t.state)})},Gj=e=>{hP(e),Mw(e)},Kj=e=>/^[a-z0-9\-]+$/i.test(e),zv=e=>"content/"+e+"/content.css",Yj=e=>tinymce.Resource.has(zv(e)),Cy=e=>v0(e,Y4(e)),Xj=e=>v0(e,pS(e)),v0=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return qe(t,f=>Yj(f)?f:Kj(f)&&!e.inline?`${o}/${f}/${i}`:e.documentBaseURI.toAbsolute(f))},Qj=e=>{e.contentCSS=e.contentCSS.concat(Cy(e),Xj(e))},qm=e=>e?po(e.getElementsByTagName("img")):[],Sy=(e,t)=>{const o={};return{findAll:(i,f=ut)=>{const v=at(qm(i),A=>{const P=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!P||P===ps.transparentSrc?!1:Do(P,"blob:")?!e.isUploaded(P)&&f(A):Do(P,"data:")?f(A):!1}),S=qe(v,A=>{const P=A.src;if(Jn(o,P))return o[P].then(U=>J(U)?U:{image:A,blobInfo:U.blobInfo});{const U=JO(t,P).then(j=>(delete o[P],{image:A,blobInfo:j})).catch(j=>(delete o[P],j));return o[P]=U,U}});return Promise.all(S)}}},kI=()=>{let o={};const r=(Y,ie)=>({status:Y,resultUri:ie}),i=Y=>Y in o;return{hasBlobUri:i,getResultUri:Y=>{const ie=o[Y];return ie?ie.resultUri:null},isPending:Y=>i(Y)?o[Y].status===1:!1,isUploaded:Y=>i(Y)?o[Y].status===2:!1,markPending:Y=>{o[Y]=r(1,null)},markUploaded:(Y,ie)=>{o[Y]=r(2,ie)},removeFailed:Y=>{delete o[Y]},destroy:()=>{o={}}}};let Lx=0;const yP=()=>{const e=()=>Math.round(go()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Jj=e=>e+Lx+++yP(),Nw=()=>{let e=[];const t=j=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[j.toLowerCase()]||"dat",o=(j,Y,ie,Oe,ge)=>{if(J(j))return r({id:j,name:Oe,filename:ge,blob:Y,base64:ie});if(dt(j))return r(j);throw new Error("Unknown input type")},r=j=>{if(!j.blob||!j.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Y=j.id||Jj("blobid"),ie=j.name||Y,Oe=j.blob;return{id:Te(Y),name:Te(ie),filename:Te(j.filename||ie+"."+t(Oe.type)),blob:Te(Oe),base64:Te(j.base64),blobUri:Te(j.blobUri||URL.createObjectURL(Oe)),uri:Te(j.uri)}},i=j=>{v(j.id())||e.push(j)},f=j=>vn(e,j).getOrUndefined(),v=j=>f(Y=>Y.id()===j);return{create:o,add:i,get:v,getByUri:j=>f(Y=>Y.blobUri()===j),getByData:(j,Y)=>f(ie=>ie.base64()===j&&ie.blob().type===Y),findFirst:f,removeByUri:j=>{e=at(e,Y=>Y.blobUri()===j?(URL.revokeObjectURL(Y.blobUri()),!1):!0)},destroy:()=>{De(e,j=>{URL.revokeObjectURL(j.blobUri())}),e=[]}}},eZ=(e,t)=>{const o={},r=(ge,ke)=>ge?ge.replace(/\/$/,"")+"/"+ke.replace(/^\//,""):ke,i=(ge,ke)=>new Promise((nt,rt)=>{const ft=new XMLHttpRequest;ft.open("POST",t.url),ft.withCredentials=t.credentials,ft.upload.onprogress=on=>{ke(on.loaded/on.total*100)},ft.onerror=()=>{rt("Image upload failed due to a XHR Transport error. Code: "+ft.status)},ft.onload=()=>{if(ft.status<200||ft.status>=300){rt("HTTP Error: "+ft.status);return}const on=JSON.parse(ft.responseText);if(!on||!J(on.location)){rt("Invalid JSON: "+ft.responseText);return}nt(r(t.basePath,on.location))};const Lt=new FormData;Lt.append("file",ge.blob(),ge.filename()),ft.send(Lt)}),f=ce(t.handler)?t.handler:i,v=()=>new Promise(ge=>{ge([])}),S=(ge,ke)=>({url:ke,blobInfo:ge,status:!0}),A=(ge,ke)=>({url:"",blobInfo:ge,status:!1,error:ke}),P=(ge,ke)=>{pn.each(o[ge],nt=>{nt(ke)}),delete o[ge]},U=(ge,ke,nt)=>(e.markPending(ge.blobUri()),new Promise(rt=>{let ft,Lt;try{const on=()=>{ft&&(ft.close(),Lt=lt)},In=$t=>{on();const At=J($t)?$t:$t.url;e.markUploaded(ge.blobUri(),At),P(ge.blobUri(),S(ge,At)),rt(S(ge,At))},fo=$t=>{on(),e.removeFailed(ge.blobUri()),P(ge.blobUri(),A(ge,$t)),rt(A(ge,$t))};Lt=$t=>{$t<0||$t>100||W.from(ft).orThunk(()=>W.from(nt).map(Qe)).each(At=>{ft=At,At.progressBar.value($t)})},ke(ge,Lt).then(In,$t=>{fo(J($t)?{message:$t}:$t)})}catch(on){rt(A(ge,on))}})),j=ge=>ge===i,Y=ge=>{const ke=ge.blobUri();return new Promise(nt=>{o[ke]=o[ke]||[],o[ke].push(nt)})},ie=(ge,ke)=>(ge=pn.grep(ge,nt=>!e.isUploaded(nt.blobUri())),Promise.all(pn.map(ge,nt=>e.isPending(nt.blobUri())?Y(nt):U(nt,f,ke))));return{upload:(ge,ke)=>!t.url&&j(f)?v():ie(ge,ke)}},Gm=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Hx=(e,t)=>eZ(t,{url:z2(e),basePath:mS(e),credentials:G4(e),handler:RA(e)}),_I=e=>{const t=kI(),o=Hx(e,t);return{upload:(r,i=!0)=>o.upload(r,i?Gm(e):void 0)}},wP=(e,t)=>e.dom.isEmpty(t.dom)&&Ce(e.schema.getTextBlockElements()[cs(t)]),CP=e=>t=>{wP(e,t)&&As(t,Pe.fromHtml('<br data-mce-bogus="1" />'))},xy=e=>{const t=Nw();let o,r;const i=kI(),f=[],v=ft=>Lt=>e.selection?ft(Lt):[],S=ft=>ft+(ft.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(ft,Lt,on)=>{let In=0;do In=ft.indexOf(Lt,In),In!==-1&&(ft=ft.substring(0,In)+on+ft.substr(In+Lt.length),In+=on.length-Lt.length+1);while(In!==-1);return ft},P=(ft,Lt,on)=>{const In=`src="${on}"${on===ps.transparentSrc?' data-mce-placeholder="1"':""}`;return ft=A(ft,`src="${Lt}"`,In),ft=A(ft,'data-mce-src="'+Lt+'"','data-mce-src="'+on+'"'),ft},U=(ft,Lt)=>{De(e.undoManager.data,on=>{on.type==="fragmented"?on.fragments=qe(on.fragments,In=>P(In,ft,Lt)):on.content=P(on.content,ft,Lt)})},j=(ft,Lt)=>{const on=e.convertURL(Lt,"src");U(ft.src,Lt),Ti(Pe.fromDom(ft),{src:DA(e)?S(Lt):Lt,"data-mce-src":on})},Y=()=>(o||(o=Hx(e,i)),ke().then(v(ft=>{const Lt=qe(ft,on=>on.blobInfo);return o.upload(Lt,Gm(e)).then(v(on=>{const In=[];let fo=!1;const $t=qe(on,(At,Ht)=>{const{blobInfo:Bn,image:jo}=ft[Ht];let Zo=!1;return At.status&&PA(e)?(At.url&&!Gr(jo.src,At.url)&&(fo=!0),t.removeByUri(jo.src),Wg(e)||j(jo,At.url)):At.error&&(At.error.remove&&(U(jo.src,ps.transparentSrc),In.push(jo),Zo=!0),Ij(e,At.error.message)),{element:jo,status:At.status,uploadUri:At.url,blobInfo:Bn,removed:Zo}});return In.length>0&&!Wg(e)?e.undoManager.transact(()=>{De(hf(In),At=>{const Ht=Ci(At);Is(At),Ht.each(CP(e)),t.removeByUri(At.dom.src)})}):fo&&e.undoManager.dispatchChange(),$t}))}))),ie=()=>dS(e)?Y():Promise.resolve([]),Oe=ft=>ts(f,Lt=>Lt(ft)),ge=ft=>{f.push(ft)},ke=()=>(r||(r=Sy(i,t)),r.findAll(e.getBody(),Oe).then(v(ft=>{const Lt=at(ft,on=>J(on)?(kk(e,on),!1):on.uriType!=="blob");return Wg(e)||De(Lt,on=>{U(on.image.src,on.blobInfo.blobUri()),on.image.src=on.blobInfo.blobUri(),on.image.removeAttribute("data-mce-src")}),Lt}))),nt=()=>{t.destroy(),i.destroy(),r=o=null},rt=ft=>ft.replace(/src="(blob:[^"]+)"/g,(Lt,on)=>{const In=i.getResultUri(on);if(In)return'src="'+In+'"';let fo=t.getByUri(on);return fo||(fo=kt(e.editorManager.get(),($t,At)=>$t||At.editorUpload&&At.editorUpload.blobCache.getByUri(on),void 0)),fo?'src="data:'+fo.blob().type+";base64,"+fo.base64()+'"':Lt});return e.on("SetContent",()=>{dS(e)?ie():ke()}),e.on("RawSaveContent",ft=>{ft.content=rt(ft.content)}),e.on("GetContent",ft=>{ft.source_view||ft.format==="raw"||ft.format==="tree"||(ft.content=rt(ft.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ft=>{De(ft,Lt=>{const on=Lt.attr("src");if(!on||t.getByUri(on))return;const In=i.getResultUri(on);In&&Lt.attr("src",In)})})}),{blobCache:t,addFilter:ge,uploadImages:Y,uploadImagesAuto:ie,scanForImages:ke,destroy:nt}},SP=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},v={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[v,i,f]:[i,v,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"},remove_similar:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,f,v)=>_n(i)&&i.hasAttribute("href"),onformat:(i,f,v)=>{pn.each(v,(S,A)=>{t.setAttrib(i,A,S)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>i?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return pn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),i=>{r[i]={block:i,remove:"all"}}),r},OI={remove_similar:!0,inherit:!1},Bw={selector:"td,th",...OI},tZ={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Bw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Bw},tablecellbordercolor:{styles:{borderColor:"%value"},...Bw},tablecellclass:{classes:["%value"],...Bw},tableclass:{selector:"table",classes:["%value"],...OI},tablecellborderstyle:{styles:{borderStyle:"%value"},...Bw},tablecellborderwidth:{styles:{borderWidth:"%value"},...Bw}},nZ=Te(tZ),oZ=e=>{const t={},o=v=>Ce(v)?t[v]:t,r=v=>Jn(t,v),i=(v,S)=>{v&&(J(v)?(Ae(S)||(S=[S]),De(S,A=>{Ft(A.deep)&&(A.deep=!Np(A)),Ft(A.split)&&(A.split=!Np(A)||jc(A)),Ft(A.remove)&&Np(A)&&!jc(A)&&(A.remove="none"),Np(A)&&jc(A)&&(A.mixed=!0,A.block_expand=!0),J(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[v]=S):Io(v,(A,P)=>{i(P,A)}))},f=v=>(v&&t[v]&&delete t[v],t);return i(SP(e)),i(nZ()),i(t_(e)),{get:o,has:r,register:i,unregister:f}},Pk=pn.each,fd=Ns.DOM,Km=e=>Ce(e)&&dt(e),DI=(e,t)=>{const o=t&&t.schema||gl({}),r=(A,P)=>{P.classes.length>0&&fd.addClass(A,P.classes.join(" ")),fd.setAttribs(A,P.attrs)},i=A=>{const P=J(A)?{name:A,classes:[],attrs:{}}:A,U=fd.create(P.name);return r(U,P),U},f=(A,P)=>{const j=o.getElementRule(A.nodeName.toLowerCase())?.parentsRequired;return j&&j.length?P&&Re(j,P)?P:j[0]:!1},v=(A,P,U)=>{let j;const Y=P[0],ie=Km(Y)?Y.name:void 0,Oe=f(A,ie);if(Oe)ie===Oe?(j=Y,P=P.slice(1)):j=Oe;else if(Y)j=Y,P=P.slice(1);else if(!U)return A;const ge=j?i(j):fd.create("div");ge.appendChild(A),U&&pn.each(U,nt=>{const rt=i(nt);ge.insertBefore(rt,A)});const ke=Km(j)?j.siblings:void 0;return v(ge,P,ke)},S=fd.create("div");if(e.length>0){const A=e[0],P=i(A),U=Km(A)?A.siblings:void 0;S.appendChild(v(P,e.slice(1),U))}return S},sZ=e=>{e=pn.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,i,f,v,S)=>{switch(i){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":pn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(v==="["){const A=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=t||"div",o},rZ=e=>J(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),pn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=pn.map(t.split(/(?:~\+|~|\+)/),sZ),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],aZ=(e,t)=>{let o="",r=n_(e);if(r==="")return"";const i=Y=>J(Y)?Y.replace(/%(\w+)/g,""):"",f=(Y,ie)=>fd.getStyle(ie??e.getBody(),Y,!0);if(J(t)){const Y=e.formatter.get(t);if(!Y)return"";t=Y[0]}if("preview"in t){const Y=t.preview;if(Y===!1)return"";r=Y||r}let v=t.block||t.inline||"span",S;const A=rZ(t.selector);A.length>0?(A[0].name||(A[0].name=v),v=t.selector,S=DI(A,e)):S=DI([v],e);const P=fd.select(v,S)[0]||S.firstChild;Pk(t.styles,(Y,ie)=>{const Oe=i(Y);Oe&&fd.setStyle(P,ie,Oe)}),Pk(t.attributes,(Y,ie)=>{const Oe=i(Y);Oe&&fd.setAttrib(P,ie,Oe)}),Pk(t.classes,Y=>{const ie=i(Y);fd.hasClass(P,ie)||fd.addClass(P,ie)}),e.dispatch("PreviewFormats"),fd.setStyles(S,{position:"absolute",left:-65535}),e.getBody().appendChild(S);const U=f("fontSize"),j=/px$/.test(U)?parseInt(U,10):0;return Pk(r.split(" "),Y=>{let ie=f(Y,P);if(!(Y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ie)&&(ie=f(Y),rd(ie).toLowerCase()==="#ffffff"))&&!(Y==="color"&&rd(ie).toLowerCase()==="#000000")){if(Y==="font-size"&&/em|%$/.test(ie)){if(j===0)return;ie=parseFloat(ie)/(/%$/.test(ie)?100:1)*j+"px"}Y==="border"&&ie&&(o+="padding:0 2px;"),o+=Y+":"+ie+";"}}),e.dispatch("AfterPreviewFormats"),fd.remove(S),o},iZ=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},PI=e=>{const t=oZ(e),o=Kn({});return iZ(e),JN(e),Wg(e)||mk(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,i,f)=>{Pf(e,r,i,f)},remove:(r,i,f,v)=>{Dx(e,r,i,f,v)},toggle:(r,i,f)=>{Rf(e,r,i,f)},match:(r,i,f,v)=>eI(e,r,i,f,v),closest:r=>jg(e,r),matchAll:(r,i)=>Ox(e,r,i),matchNode:(r,i,f,v)=>bj(e,r,i,f,v),canApply:r=>yj(e,r),formatChanged:(r,i,f,v)=>wj(e,o,r,i,f,v),getCssText:se(aZ,e)}},RI=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},lZ=(e,t,o)=>{const r=Kn(!1),i=A=>{$v(t,!1,o),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const P=A.command;RI(P)||(wk(t,o),t.beforeChange())}),e.on("ExecCommand",A=>{const P=A.command;RI(P)||i(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",A=>{const P=A.keyCode;if(A.isDefaultPrevented())return;const U=ps.os.isMacOS()&&A.key==="Meta";(P>=33&&P<=36||P>=37&&P<=40||P===45||A.ctrlKey||U)&&(i(),e.nodeChanged()),(P===46||P===8)&&e.nodeChanged(),r.get()&&t.typing&&!Dw(e.readonly,Ax(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const P=A.keyCode;if(A.isDefaultPrevented())return;if(P>=33&&P<=36||P>=37&&P<=40||P===45){t.typing&&i(A);return}const U=A.ctrlKey&&!A.altKey||A.metaKey;if((P<16||P>20)&&P!==224&&P!==91&&!t.typing&&!U){t.beforeChange(),$v(t,!0,o),t.add({},A),r.set(!0);return}(ps.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&i(A)});const f=A=>A.inputType==="insertReplacementText",v=A=>A.inputType==="insertText"&&A.data===null,S=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(f(A)||v(A)||S(A))&&i(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},cZ=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},uZ=e=>{const t=Ls(),o=Kn(0),r=Kn(0),i={data:[],typing:!1,beforeChange:()=>{Zp(e,o,t)},add:(f,v)=>QB(e,i,r,o,t,f,v),dispatchChange:()=>{e.setDirty(!0);const f=Ax(e);f.bookmark=pv(e.selection),e.dispatch("change",{level:f,lastLevel:lr(i.data,r.get()).getOrUndefined()})},undo:()=>UD(e,i,o,r),redo:()=>VD(e,r,i.data),clear:()=>{Ck(e,i,r)},reset:()=>{hj(e,i)},hasUndo:()=>JB(e,i,r),hasRedo:()=>_x(e,i,r),transact:f=>vj(e,i,o,f),ignore:f=>{Sk(e,o,f)},extra:(f,v)=>{WD(e,i,r,f,v)}};return Wg(e)||lZ(e,i,o),cZ(e),i},dZ=[9,27,Hn.HOME,Hn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Hn.DOWN,Hn.UP,Hn.LEFT,Hn.RIGHT].concat(ps.browser.isFirefox()?[224]:[]),FI="data-mce-placeholder",MI=e=>e.type==="keydown"||e.type==="keyup",NI=e=>{const t=e.keyCode;return t===Hn.BACKSPACE||t===Hn.DELETE},fZ=e=>{if(MI(e)){const t=e.keyCode;return!NI(e)&&(Hn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Re(dZ,t))}else return!1},mZ=e=>MI(e)&&!(NI(e)||e.type==="keyup"&&e.keyCode===229),Uv=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},pZ=e=>{const t=e.dom,o=rl(e),r=gS(e)??"",i=(f,v)=>{if(fZ(f))return;const S=e.getBody(),A=mZ(f)?!1:Uv(t,S,o);(t.getAttrib(S,FI)!==""!==A||v)&&(t.setAttrib(S,FI,A?r:null),aS(e,A),e.on(A?"keydown":"keyup",i),e.off(A?"keyup":"keydown",i))};Fr(r)&&e.on("init",f=>{i(f,!0),e.on("change SetContent ExecCommand",i),e.on("paste",v=>$p.setEditorTimeout(e,()=>i(v)))})},gZ=e=>t=>Ce(t)&&t.nodeName.toLowerCase()===e,Iw=e=>t=>Ce(t)&&e.test(t.nodeName),qg=e=>Ce(e)&&e.nodeType===3,Rk=e=>Ce(e)&&e.nodeType===1,Ym=Iw(/^(OL|UL|DL)$/),hZ=Iw(/^(OL|UL)$/),Fk=Iw(/^(LI|DT|DD)$/),vZ=Iw(/^(DT|DD)$/),Ey=gZ("br"),bZ=e=>e.parentNode?.firstChild===e,xP=(e,t)=>Ce(t)&&t.nodeName in e.schema.getTextBlockElements(),EP=(e,t)=>Ce(e)&&e.nodeName in t,yZ=(e,t)=>Ce(t)&&t.nodeName in e.schema.getVoidElements(),wZ=(e,t)=>Ey(t)?e.isBlock(t.nextSibling)&&!Ey(t.previousSibling):!1,Ay=(e,t,o)=>{const r=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:r},BI=(e,t)=>e.isChildOf(t,e.getRoot()),II=Ns.DOM,CZ=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const r=o.previousSibling;r&&r.nodeName==="LI"?(r.appendChild(t),Ay(e,o)&&II.remove(o)):II.setStyle(o,"listStyleType","none")}if(Ym(o)){const r=o.previousSibling;r&&r.nodeName==="LI"&&r.appendChild(t)}},AP=(e,t)=>{const o=pn.grep(e.select("ol,ul",t));pn.each(o,r=>{CZ(e,r)})},$I=(e,t)=>{if(qg(e))return{container:e,offset:t};const o=Ig.getNode(e,t);return qg(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&qg(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&qg(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},TP=e=>{const t=e.cloneRange(),o=$I(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const r=$I(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},LI=["OL","UL","DL"],HI=LI.join(","),zx=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,HI,Ux(e,o))},zI=(e,t)=>Ce(e)&&t.length===1&&t[0]===e,SZ=e=>at(e.querySelectorAll(HI),Ym),xZ=e=>{const t=zx(e),o=e.selection.getSelectedBlocks();return zI(t,o)?SZ(t):at(o,r=>Ym(r)&&t!==r)},EZ=(e,t)=>{const o=pn.map(t,r=>{const i=e.dom.getParent(r,"li,dd,dt",Ux(e,r));return i||r});return xs(o)},kP=e=>{const t=e.selection.getSelectedBlocks();return at(EZ(e,t),Fk)},AZ=e=>at(kP(e),vZ),_P=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},TZ=(e,t)=>!Ym(t)&&!Fk(t)&&Ve(LI,o=>e.isValidChild(t.nodeName,o)),Ux=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),r=f=>f.nodeName.toLowerCase()!==rl(e);return vn(o,f=>r(f)&&TZ(e.schema,f)).getOr(e.getBody())},UI=e=>Ci(e).exists(t=>Fk(t.dom)&&Si(t).exists(o=>!Ym(o.dom))&&Ra(t).exists(o=>!Ym(o.dom))),VI=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",Ux(e,t));return Bt(o)},kZ=e=>{const t=VI(e,e.selection.getStart()),o=at(e.selection.getSelectedBlocks(),hZ);return t.toArray().concat(o)},_Z=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",Ux(e,t))},OZ=e=>{const t=kZ(e),o=_Z(e);return vn(o,r=>UI(Pe.fromDom(r))).fold(()=>DZ(e,t),r=>[r])},DZ=(e,t)=>{const o=qe(t,r=>VI(e,r).getOr(r));return xs(o)},Mk=e=>/\btox\-/.test(e.className),WI=(e,t)=>t!==null&&!e.dom.isEditable(t),PZ=e=>{const t=zx(e);return WI(e,t)||!e.selection.isEditable()},OP=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return WI(e,o)||!e.selection.isEditable()},Vv=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),DP=(e,t,o={})=>{const r=e.dom,i=e.schema.getBlockElements(),f=r.createFragment(),v=rl(e),S=em(e);let A,P,U=!1;for(P=r.create(v,{...S,...o.style?{style:o.style}:{}}),EP(t.firstChild,i)||f.appendChild(P);A=t.firstChild;){const j=A.nodeName;!U&&(j!=="SPAN"||A.getAttribute("data-mce-type")!=="bookmark")&&(U=!0),EP(A,i)?(f.appendChild(A),P=null):(P||(P=r.create(v,S),f.appendChild(P)),P.appendChild(A))}return!U&&P&&P.appendChild(r.create("br",{"data-mce-bogus":"1"})),f},$w=e=>yd(e,"OL,UL"),wne=e=>yd(e,"LI"),PP=e=>Si(e).exists($w),RZ=e=>Ra(e).exists($w),jI=(e,t)=>_S(e).map(o=>o>=t).getOr(!0),Ty=e=>"listAttributes"in e,ZI=e=>"isComment"in e,FZ=e=>"isFragment"in e,qI=e=>e.depth>0,MZ=e=>e.isSelected,NZ=e=>{const t=fa(e),o=RZ(e)?t.slice(0,-1):t;return qe(o,Au)},RP=(e,t,o)=>Ci(e).filter(da).map(r=>({depth:t,dirty:!1,isSelected:o,content:NZ(e),itemAttributes:fs(e),listAttributes:fs(r),listType:cs(r),isInPreviousLi:!1})),Nk=(e,t)=>{As(e.item,t.list)},BZ=e=>{for(let t=1;t<e.length;t++)Nk(e[t-1],e[t])},GI=(e,t)=>{Dn(Bt(e),bt(t),Nk)},IZ=(e,t)=>{const o={list:Pe.fromTag(t,e),item:Pe.fromTag("li",e)};return As(o.list,o.item),o},$Z=(e,t,o)=>{const r=[];for(let i=0;i<o;i++)r.push(IZ(e,Ty(t)?t.listType:t.parentListType));return r},LZ=(e,t)=>{for(let o=0;o<e.length-1;o++)ki(e[o].item,"list-style-type","none");Bt(e).each(o=>{Ty(t)&&(Ti(o.list,t.listAttributes),Ti(o.item,t.itemAttributes)),wl(o.item,t.content)})},HZ=(e,t)=>{cs(e.list)!==t.listType&&(e.list=Gd(e.list,t.listType)),Ti(e.list,t.listAttributes)},zZ=(e,t,o)=>{const r=Pe.fromTag("li",e);return Ti(r,t),wl(r,o),r},UZ=(e,t)=>{As(e.list,t),e.item=t},KI=(e,t,o)=>{const r=t.slice(0,o.depth);return Bt(r).each(i=>{if(Ty(o)){const f=zZ(e,o.itemAttributes,o.content);UZ(i,f),HZ(i,o)}else if(FZ(o))wl(i.item,o.content);else{const f=Pe.fromHtml(`<!--${o.content}-->`);As(i.list,f)}}),r},VZ=(e,t,o)=>{const r=$Z(e,o,o.depth-t.length);return BZ(r),LZ(r,o),GI(t,r),t.concat(r)},WZ=(e,t)=>{let o=W.none();const r=kt(t,(i,f,v)=>ZI(f)?v===0?(o=W.some(f),i):KI(e,i,f):f.depth>i.length?VZ(e,i,f):KI(e,i,f),[]);return o.each(i=>{const f=Pe.fromHtml(`<!--${i.content}-->`);bt(r).each(v=>{su(v.list,f)})}),bt(r).map(i=>i.list)},jZ=(e,t,o)=>{switch(t){case"Indent":if(jI(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},FP=(e,t)=>{Ty(e)&&Ty(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},ZZ=e=>{e.listAttributes=to(e.listAttributes,(t,o)=>o!=="start")},qZ=(e,t)=>{const o=e[t].depth,r=f=>f.depth===o&&!f.dirty,i=f=>f.depth<o;return an(Bo(e.slice(0,t)),r,i).orThunk(()=>an(e.slice(t+1),r,i))},YI=e=>(De(e,(t,o)=>{qZ(e,o).fold(()=>{t.dirty&&Ty(t)&&ZZ(t)},r=>FP(t,r))}),e),XI=(e,t,o,r)=>{if(ou(r))return[{depth:e+1,content:r.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(v=>{_s(v.start,r)&&o.set(!0)});const i=RP(r,e,o.get());t.each(v=>{_s(v.end,r)&&o.set(!1)});const f=Ra(r).filter($w).map(v=>Vx(e,t,o,v)).getOr([]);return i.toArray().concat(f)},GZ=(e,t,o,r)=>Si(r).filter($w).fold(()=>XI(e,t,o,r),i=>{const f=kt(fa(r),(v,S,A)=>{if(A===0)return v;if(wne(S))return v.concat(XI(e,t,o,S));{const P={isFragment:!0,depth:e,content:[S],isSelected:!1,dirty:!1,parentListType:cs(i)};return v.concat(P)}},[]);return Vx(e,t,o,i).concat(f)}),Vx=(e,t,o,r)=>vo(fa(r),i=>{const f=$w(i)?Vx:GZ,v=e+1;return f(v,t,o,i)}),ky=(e,t)=>{const o=Kn(!1),r=0;return qe(e,i=>({sourceList:i,entries:Vx(r,t,o,i)}))},QI=(e,t)=>{const o=YI(t);return qe(o,r=>{const i=ZI(r)?Ad([Pe.fromHtml(`<!--${r.content}-->`)]):Ad(r.content),f=Ty(r)?r.itemAttributes:{};return Pe.fromDom(DP(e,i.dom,f))})},KZ=(e,t)=>{const o=YI(t);return WZ(e.contentDocument,o).toArray()},YZ=(e,t)=>vo(En(t,qI),o=>bt(o).exists(qI)?KZ(e,o):QI(e,o)),XZ=(e,t,o)=>{De(at(t,MZ),r=>jZ(e,o,r))},QZ=e=>{const t=qe(kP(e),Pe.fromDom);return Dn(vn(t,$e(PP)),vn(Bo(t),$e(PP)),(o,r)=>({start:o,end:r}))},Lw=(e,t,o)=>{const r=ky(t,QZ(e));De(r,i=>{XZ(e,i.entries,o);const f=YZ(e,i.entries);De(f,v=>{Vv(e,o==="Indent"?"IndentList":"OutdentList",v.dom)}),$0(i.sourceList,f),Is(i.sourceList)})},JZ=e=>_S(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Ve(o,r=>Xi(Pe.fromDom(r),"li").forall(i=>Ke(i,"ol,ul").length<=t))}),Jh=Ns.DOM,MP=(e,t,o)=>{const r=P=>{const U=P.parentNode;U&&pn.each(i,j=>{U.insertBefore(j,o.parentNode)}),Jh.remove(P)},i=Jh.select('span[data-mce-type="bookmark"]',t),f=DP(e,o),v=Jh.createRng();v.setStartAfter(o),v.setEndAfter(t);const S=v.extractContents();for(let P=S.firstChild;P;P=P.firstChild)if(P.nodeName==="LI"&&e.dom.isEmpty(P)){Jh.remove(P);break}e.dom.isEmpty(S)||Jh.insertAfter(S,t),Jh.insertAfter(f,t);const A=o.parentElement;A&&Ay(e.dom,A)&&r(A),Jh.remove(o),Ay(e.dom,t)&&Jh.remove(t)},eq=ti("dd"),NP=ti("dt"),Bk=(e,t)=>{eq(t)?Gd(t,"dt"):NP(t)&&rc(t).each(o=>MP(e,o.dom,t.dom))},tq=e=>{NP(e)&&Gd(e,"dd")},nq=(e,t,o)=>{t==="Indent"?De(o,tq):De(o,r=>Bk(e,r))},oq=(e,t)=>{const o=hf(OZ(e)),r=hf(AZ(e));let i=!1;if(o.length||r.length){const f=e.selection.getBookmark();Lw(e,o,t),nq(e,t,r),e.selection.moveToBookmark(f),e.selection.setRng(TP(e.selection.getRng())),e.nodeChanged(),i=!0}return i},BP=(e,t)=>!PZ(e)&&oq(e,t),JI=e=>BP(e,"Indent"),Wx=e=>BP(e,"Outdent"),Ik=e=>BP(e,"Flatten"),Hw=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},sq=(e,t,o)=>{const r=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},e$=(e,t)=>{pn.each(t,(o,r)=>{e.setAttribute(r,o)})},rq=(e,t,o)=>{e$(t,o["list-attributes"]),pn.each(e.select("li",t),r=>{e$(r,o["list-item-attributes"])})},zw=(e,t,o)=>{sq(e,t,o),rq(e,t,o)},aq=(e,t,o)=>{pn.each(o,r=>e.setStyle(t,r,""))},$k=(e,t)=>Ce(t)&&!EP(t,e.schema.getBlockElements()),IP=(e,t,o,r)=>{let i=t[o?"startContainer":"endContainer"];const f=t[o?"startOffset":"endOffset"];Rk(i)&&(i=i.childNodes[Math.min(f,i.childNodes.length-1)]||i),!o&&Ey(i.nextSibling)&&(i=i.nextSibling);const v=A=>{for(;!e.dom.isBlock(A)&&A.parentNode&&r!==A;)A=A.parentNode;return A},S=(A,P)=>{const U=new Fa(A,v(A)),j=P?"next":"prev";let Y;for(;Y=U[j]();)if(!(yZ(e,Y)||bi(Y.textContent)||Y.textContent?.length===0))return W.some(Y);return W.none()};if(o&&qg(i))if(bi(i.textContent))i=S(i,!1).getOr(i);else for(i.parentNode!==null&&$k(e,i.parentNode)&&(i=i.parentNode);i.previousSibling!==null&&($k(e,i.previousSibling)||qg(i.previousSibling));)i=i.previousSibling;if(!o&&qg(i))if(bi(i.textContent))i=S(i,!0).getOr(i);else for(i.parentNode!==null&&$k(e,i.parentNode)&&(i=i.parentNode);i.nextSibling!==null&&($k(e,i.nextSibling)||qg(i.nextSibling));)i=i.nextSibling;for(;i.parentNode!==r;){const A=i.parentNode;if(xP(e,i)||/^(TD|TH)$/.test(A.nodeName))return i;i=A}return i},iq=(e,t,o)=>{const r=[],i=e.dom,f=IP(e,t,!0,o),v=IP(e,t,!1,o);let S;const A=[];for(let P=f;P&&(A.push(P),P!==v);P=P.nextSibling);return pn.each(A,P=>{if(xP(e,P)){r.push(P),S=null;return}if(i.isBlock(P)||Ey(P)){Ey(P)&&i.remove(P),S=null;return}const U=P.nextSibling;if(pw.isBookmarkNode(P)&&(Ym(U)||xP(e,U)||!U&&P.parentNode===o)){S=null;return}S||(S=i.create("p"),P.parentNode?.insertBefore(S,P),r.push(S)),S.appendChild(P)}),r},lq=(e,t,o)=>{const r=e.getStyle(t,"list-style-type");let i=o?o["list-style-type"]:"";return i=i===null?"":i,r===i},cq=(e,t)=>{const o=e.selection.getStart(!0),r=IP(e,t,!0,e.getBody());return vs(Pe.fromDom(r),Pe.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},$P=(e,t,o)=>{const r=e.selection.getRng();let i="LI";const f=Ux(e,cq(e,r)),v=e.dom;if(v.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(i="DT");const S=Yh(r),A=at(iq(e,r,f),e.dom.isEditable);pn.each(A,P=>{let U;const j=P.previousSibling,Y=P.parentNode;Fk(Y)||(j&&Ym(j)&&j.nodeName===t&&lq(v,j,o)?(U=j,P=v.rename(P,i),j.appendChild(P)):(U=v.create(t),Y.insertBefore(U,P),U.appendChild(P),P=v.rename(P,i)),aq(v,P,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),zw(v,U,o),LP(e.dom,U))}),e.selection.setRng(Wm(S))},uq=(e,t)=>Ym(e)&&e.nodeName===t?.nodeName,t$=(e,t,o)=>{const r=e.getStyle(t,"list-style-type",!0),i=e.getStyle(o,"list-style-type",!0);return r===i},dq=(e,t)=>e.className===t.className,n$=(e,t,o)=>uq(t,o)&&t$(e,t,o)&&dq(t,o),LP=(e,t)=>{let o,r=t.nextSibling;if(n$(e,t,r)){const i=r;for(;o=i.firstChild;)t.appendChild(o);e.remove(i)}if(r=t.previousSibling,n$(e,t,r)){const i=r;for(;o=i.lastChild;)t.insertBefore(o,t.firstChild);e.remove(i)}},fq=(e,t,o,r)=>{if(t.nodeName!==o){const i=e.dom.rename(t,o);zw(e.dom,i,r),Vv(e,Hw(o),i)}else zw(e.dom,t,r),Vv(e,Hw(o),t)},mq=(e,t,o,r)=>{if(t.classList.forEach((i,f,v)=>{i.startsWith("tox-")&&(v.remove(i),v.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const i=e.dom.rename(t,o);zw(e.dom,i,r),Vv(e,Hw(o),i)}else zw(e.dom,t,r),Vv(e,Hw(o),t)},HP=(e,t,o,r,i)=>{const f=Ym(t);if(f&&t.nodeName===r&&!o$(i)&&!Mk(t))Ik(e);else{$P(e,r,i);const v=Yh(e.selection.getRng()),S=f?[t,...o]:o,A=f&&Mk(t)?mq:fq;pn.each(S,P=>{A(e,P,r,i)}),e.selection.setRng(Wm(v))}},o$=e=>"list-style-type"in e,pq=(e,t,o,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!o$(r)&&!Mk(t))Ik(e);else{const i=Yh(e.selection.getRng());Mk(t)&&t.classList.forEach((v,S,A)=>{v.startsWith("tox-")&&(A.remove(v),A.length===0&&t.removeAttribute("class"))}),zw(e.dom,t,r);const f=e.dom.rename(t,o);LP(e.dom,f),e.selection.setRng(Wm(i)),$P(e,o,r),Vv(e,Hw(o),f)}else $P(e,o,r),Vv(e,Hw(o),t)},zP=(e,t,o)=>{const r=zx(e);if(OP(e,r))return;const i=xZ(e),f=dt(o)?o:{};i.length>0?HP(e,r,i,t,f):pq(e,r,t,f)},s$=(e,t,o,r)=>{let i=t.startContainer;const f=t.startOffset;if(qg(i)&&(o?f<i.data.length:f>0))return i;const v=e.schema.getNonEmptyElements();Rk(i)&&(i=Ig.getNode(i,f));const S=new Fa(i,r);o&&wZ(e.dom,i)&&S.next();const A=o?S.next.bind(S):S.prev2.bind(S);for(;i=A();)if(i.nodeName==="LI"&&!i.hasChildNodes()||v[i.nodeName]||qg(i)&&i.data.length>0)return i;return null},r$=(e,t)=>{const o=t.childNodes;return o.length===1&&!Ym(o[0])&&e.isBlock(o[0])},gq=e=>W.from(e).map(Pe.fromDom).filter(sc).exists(t=>ku(t)&&!Re(["details"],cs(t))),hq=(e,t)=>{r$(e,t)&&gq(t.firstChild)&&e.remove(t.firstChild,!0)},a$=(e,t,o)=>{let r;const i=r$(e,o)?o.firstChild:o;if(hq(e,t),!Ay(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)},UP=(e,t,o)=>{let r;const i=t.parentNode;if(!BI(e,t)||!BI(e,o))return;Ym(o.lastChild)&&(r=o.lastChild),i===o.lastChild&&Ey(i.previousSibling)&&e.remove(i.previousSibling);const f=o.lastChild;f&&Ey(f)&&t.hasChildNodes()&&e.remove(f),Ay(e,o,!0)&&Wa(Pe.fromDom(o)),a$(e,t,o),r&&o.appendChild(r);const S=oc(Pe.fromDom(o),Pe.fromDom(t))?e.getParents(t,Ym,o):[];e.remove(t),De(S,A=>{Ay(e,A)&&A!==e.getRoot()&&e.remove(A)})},vq=(e,t,o)=>{Wa(Pe.fromDom(o)),UP(e.dom,t,o),e.selection.setCursorLocation(o,0)},bq=(e,t,o,r)=>{const i=e.dom;if(i.isEmpty(r))vq(e,o,r);else{const f=Yh(t);UP(i,o,r),e.selection.setRng(Wm(f))}},yq=(e,t,o,r)=>{const i=Yh(t);UP(e.dom,o,r);const f=Wm(i);e.selection.setRng(f)},wq=(e,t)=>{const o=e.dom,r=e.selection,i=r.getStart(),f=_P(e,i),v=o.getParent(r.getStart(),"LI",f);if(v){const S=v.parentElement;if(S===e.getBody()&&Ay(o,S))return!0;const A=TP(r.getRng()),P=o.getParent(s$(e,A,t,f),"LI",f),U=P&&(t?o.isChildOf(v,P):o.isChildOf(P,v));if(P&&P!==v&&!U)return e.undoManager.transact(()=>{t?bq(e,A,P,v):bZ(v)?Wx(e):yq(e,A,v,P)}),!0;if(U&&!t&&P!==v){const j=A.commonAncestorContainer.parentElement;return!j||o.isChildOf(P,j)?!1:(e.undoManager.transact(()=>{const Y=Yh(A);a$(o,j,P),j.remove();const ie=Wm(Y);e.selection.setRng(ie)}),!0)}else if(!P&&!t&&A.startOffset===0&&A.endOffset===0)return e.undoManager.transact(()=>{Ik(e)}),!0}return!1},Cq=(e,t,o)=>{const r=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Sq=(e,t)=>{const o=e.dom,r=e.selection.getStart(),i=_P(e,r),f=o.getParent(r,o.isBlock,i);if(f&&o.isEmpty(f,void 0,{checkRootAsContent:!0})){const v=TP(e.selection.getRng()),S=s$(e,v,t,i),A=o.getParent(S,"LI",i);if(S&&A){const P=ie=>Re(["td","th","caption"],cs(ie)),U=ie=>ie.dom===i,j=wr(Pe.fromDom(A),P,U),Y=wr(Pe.fromDom(v.startContainer),P,U);return Oo(j,Y,_s)?(e.undoManager.transact(()=>{const ie=A.parentNode;Cq(o,f,i),LP(o,ie),e.selection.select(S,!0),e.selection.collapse(t)}),!0):!1}}return!1},xq=(e,t)=>wq(e,t)||Sq(e,t),VP=e=>{const t=e.selection.getStart(),o=_P(e,t),r=e.dom.getParent(t,"LI,DT,DD",o);return Ce(r)||kP(e).length>0},Eq=e=>VP(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),AP(e.dom,e.getBody())}),!0):!1,WP=(e,t)=>{const o=e.selection;return!OP(e,o.getNode())&&(o.isCollapsed()?xq(e,t):Eq(e))},Aq=(e,t)=>({block:e,position:t}),Tq=(e,t)=>({from:e,to:t}),Lk=(e,t)=>{const o=Pe.fromDom(e),r=Pe.fromDom(t.container());return vO(o,r).map(i=>Aq(i,t))},kq=e=>!(oc(e.to.block,e.from.block)||oc(e.from.block,e.to.block)),_q=e=>!_s(e.from.block,e.to.block),jP=(e,t)=>wr(t,i=>U1(i)||Du(i.dom),i=>_s(i,e)).filter(da).getOr(e),Oq=(e,t)=>{const o=Pe.fromDom(e);return _s(jP(o,t.from.block),jP(o,t.to.block))},Dq=e=>sr(e.from.block.dom)===!1&&sr(e.to.block.dom)===!1,Pq=e=>{const t=o=>pu(o)||Jt(o.dom)||Mu(o);return t(e.from.block)&&t(e.to.block)},Rq=(e,t,o,r)=>ka(r.position.getNode())&&!_a(e,r.block)?h(!1,r.block.dom).bind(i=>i.isEqual(r.position)?sf(o,t,i).bind(f=>Lk(t,f)):W.some(r)).getOr(r):r,ZP=(e,t,o,r)=>{const i=Lk(t,It.fromRangeStart(r)),f=i.bind(v=>sf(o,t,v.position).bind(S=>Lk(t,S).map(A=>Rq(e,t,o,A))));return Dn(i,f,Tq).filter(v=>_q(v)&&Oq(t,v)&&Dq(v)&&Pq(v)&&kq(v))},i$=(e,t,o,r)=>r.collapsed?ZP(e,t,o,r):W.none(),Cne=(e,t)=>{const o=fa(e);return Fn(o,r=>t.isBlock(cs(r))).fold(Te(o),r=>o.slice(0,r))},Uw=(e,t)=>{const o=Cne(e,t);return De(o,Is),o},Fq=(e,t,o)=>{const r=Lp(o,t);return vn(r.reverse(),i=>_a(e,i)).each(Is)},Sne=(e,t)=>at(dl(t),o=>!_a(e,o)).length===0,xne=(e,t,o,r,i)=>{if(_a(r,o))return Ph(o),M(o.dom);Sne(r,i)&&_a(r,t)&&ui(i,Pe.fromTag("br"));const f=T(o.dom,It.before(i.dom));return De(Uw(t,r),v=>{ui(i,v)}),Fq(r,e,t),f},Ene=(e,t)=>e.isInline(cs(t)),Gg=(e,t,o,r)=>{if(_a(r,o)){if(_a(r,t)){const v=wt((S=>{const A=(P,U)=>Si(P).fold(()=>U,j=>Ene(r,j)?A(j,U.concat(Rr(j))):U);return A(S,[])})(o),(S,A)=>(ac(S,A),A),Dh());Wa(t),As(t,v)}return Is(o),M(t.dom)}const i=V(o.dom);return De(Uw(t,r),f=>{As(o,f)}),Fq(r,e,t),i},jx=(e,t)=>{const o=Lp(t,e);return W.from(o[o.length-1])},Kg=(e,t)=>oc(t,e)?jx(t,e):W.none(),Wv=(e,t)=>{h(e,t.dom).bind(o=>W.from(o.getNode())).map(Pe.fromDom).filter(Kf).each(Is)},Hk=(e,t,o,r)=>(Wv(!0,t),Wv(!1,o),Kg(t,o).fold(se(Gg,e,t,o,r),se(xne,e,t,o,r))),qP=(e,t,o,r,i)=>t?Hk(e,r,o,i):Hk(e,o,r,i),_y=(e,t)=>{const o=Pe.fromDom(e.getBody());return i$(e.schema,o.dom,t,e.selection.getRng()).map(i=>()=>{qP(o,t,i.from.block,i.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},Mq=(e,t,o)=>{const r=t.getRng();return Dn(vO(e,Pe.fromDom(r.startContainer)),vO(e,Pe.fromDom(r.endContainer)),(i,f)=>_s(i,f)?W.none():W.some(()=>{r.deleteContents(),qP(e,!0,i,f,o).each(v=>{t.setRng(v.toRange())})})).getOr(W.none())},GP=(e,t)=>{const o=Pe.fromDom(t),r=se(_s,e);return Pc(o,U1,r).isSome()},Ane=(e,t)=>GP(e,t.startContainer)||GP(e,t.endContainer),Nq=(e,t)=>{const o=T(e.dom,It.fromRangeStart(t)).isNone(),r=C(e.dom,It.fromRangeEnd(t)).isNone();return!Ane(e,t)&&o&&r},Zx=e=>W.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),l$=e=>{const t=Pe.fromDom(e.getBody()),o=e.selection.getRng();return Nq(t,o)?Zx(e):Mq(t,e.selection,e.schema)},Vi=(e,t)=>e.selection.isCollapsed()?W.none():l$(e),b0=(e,t,o,r,i)=>W.from(t._selectionOverrides.showCaret(e,o,r,i)),Bq=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},e1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?W.none():W.some(Bq(t)),Oy=(e,t,o)=>{const r=sw(1,e.getBody(),t),i=It.fromRangeStart(r),f=i.getNode();if(of(f))return b0(1,e,f,!i.isAtEnd(),!1);const v=i.getNode(!0);if(of(v))return b0(1,e,v,!1,!1);const S=$g(e.dom.getRoot(),i.getNode());return of(S)?b0(1,e,S,!1,o):W.none()},y0=(e,t,o)=>t.collapsed?Oy(e,t,o).getOr(t):t,Iq=e=>l0(e)||ex(e),$q=e=>Gh(e)||tx(e),KP=(e,t)=>{fn(t)&&t.data.length===0&&e.remove(t)},zk=(e,t,o,r,i,f)=>{b0(r,e,f.getNode(!i),i,!0).each(v=>{if(t.collapsed){const S=t.cloneRange();i?S.setEnd(v.startContainer,v.startOffset):S.setStart(v.endContainer,v.endOffset),S.deleteContents()}else t.deleteContents();e.selection.setRng(v)}),KP(e.dom,o)},c$=(e,t)=>{const o=e.selection.getRng();if(!fn(o.commonAncestorContainer))return W.none();const r=t?1:-1,i=zm(e.getBody()),f=se(aw,t?i.next:i.prev),v=t?Iq:$q,S=Wh(r,e.getBody(),o),A=f(S),P=A&&Vm(t,A);if(!P||!Hm(S,P))return W.none();if(v(P))return W.some(()=>zk(e,o,S.getNode(),r,t,P));const U=f(P);return U&&v(U)&&Hm(P,U)?W.some(()=>zk(e,o,S.getNode(),r,t,U)):W.none()},Uk=(e,t)=>c$(e,t),YP=(e,t)=>{const o=e.getBody();return t?M(o).filter(l0):V(o).filter(Gh)},XP=e=>{const t=e.selection.getRng();return!t.collapsed&&(YP(e,!0).exists(o=>o.isEqual(It.fromRangeStart(t)))||YP(e,!1).exists(o=>o.isEqual(It.fromRangeEnd(t))))},QP=e=>Ce(e)&&(U1(Pe.fromDom(e))||Mu(Pe.fromDom(e))),lm=xa.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Lq=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return _n(o)&&o.getAttribute("data-mce-caret")===r},Hq=(e,t,o,r,i)=>{const f=v=>i.isInline(v.nodeName.toLowerCase())&&!Fp(o,r,e);return rw(!t,o).fold(()=>rw(t,r).fold(He,f),f)},u$=(e,t,o,r,i)=>{const f=i.getNode(!o);return vO(Pe.fromDom(t),Pe.fromDom(r.getNode())).map(v=>_a(e,v)?lm.remove(v.dom):lm.moveToElement(f)).orThunk(()=>W.some(lm.moveToElement(f)))},d$=(e,t,o,r)=>sf(t,e,o).bind(i=>QP(i.getNode())||Hq(e,t,o,i,r)?W.none():t&&sr(i.getNode())||!t&&sr(i.getNode(!0))?u$(r,e,t,o,i):t&&Gh(o)||!t&&l0(o)?W.some(lm.moveToPosition(i)):W.none()),JP=(e,t)=>ct(t)?W.none():e&&sr(t.nextSibling)?W.some(lm.moveToElement(t.nextSibling)):!e&&sr(t.previousSibling)?W.some(lm.moveToElement(t.previousSibling)):W.none(),f$=(e,t,o)=>o.fold(r=>W.some(lm.remove(r)),r=>W.some(lm.moveToElement(r)),r=>Fp(t,r,e)?W.none():W.some(lm.moveToPosition(r))),zq=(e,t,o,r)=>Lq(t,o)?JP(t,o.getNode(!t)).orThunk(()=>d$(e,t,o,r)):d$(e,t,o,r).bind(i=>f$(e,o,i)),Uq=(e,t,o,r)=>{const i=sw(t?1:-1,e,o),f=It.fromRangeStart(i),v=Pe.fromDom(e);return!t&&Gh(f)?W.some(lm.remove(f.getNode(!0))):t&&l0(f)?W.some(lm.remove(f.getNode())):!t&&l0(f)&&NT(v,f,r)?uN(v,f,r).map(S=>lm.remove(S.getNode())):t&&Gh(f)&&dO(v,f,r)?gU(v,f,r).map(S=>lm.remove(S.getNode())):zq(e,t,f,r)},Vw=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Kh(e,t,Pe.fromDom(o)),!0),m$=(e,t)=>o=>{const r=t?It.before(o):It.after(o);return e.selection.setRng(r.toRange()),!0},Vq=e=>t=>(e.selection.setRng(t.toRange()),!0),eR=(e,t)=>W.from($g(e.getBody(),t)),Wq=(e,t)=>{const o=e.selection.getNode();return eR(e,o).filter(sr).fold(()=>Uq(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Vw(e,t),m$(e,t),Vq(e))),()=>W.some(lt))},p$=e=>{De(Ot(e,".mce-offscreen-selection"),Is)},jq=(e,t)=>{const o=e.selection.getNode();return sr(o)&&!wg(o)?eR(e,o.parentNode).filter(sr).fold(()=>W.some(()=>{p$(Pe.fromDom(e.getBody())),Kh(e,t,Pe.fromDom(e.selection.getNode())),ON(e)}),()=>W.some(lt)):XP(e)?W.some(()=>{IU(e,e.selection.getRng(),Pe.fromDom(e.getBody()))}):W.none()},tR=e=>{const t=e.dom,o=e.selection,r=$g(e.getBody(),o.getNode());if(Du(r)&&t.isBlock(r)&&t.isEmpty(r)){const i=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(i),o.setRng(It.before(i).toRange())}return!0},Vk=(e,t)=>e.selection.isCollapsed()?Wq(e,t):jq(e,t),Wk=(e,t)=>{const o=e.dom,r=o.getParent(e.selection.getStart(),o.isBlock),i=o.getParent(e.selection.getEnd(),o.isBlock),f=e.getBody();if(r?.nodeName?.toLowerCase()==="div"&&r&&i&&r===f.firstChild&&i===f.lastChild&&!o.isEmpty(f)){const S=r.cloneNode(!1),A=()=>{if(t?NU(e):hO(e),f.firstChild!==r){const P=Yh(e.selection.getRng(),()=>document.createElement("span"));Array.from(f.childNodes).forEach(U=>S.appendChild(U)),f.appendChild(S),e.selection.setRng(Wm(P))}};return W.some(A)}return W.none()},g$=(e,t)=>{const o=It.fromRangeStart(e.selection.getRng());return sf(t,e.getBody(),o).filter(r=>t?rO(r):oN(r)).bind(r=>BS(t?0:-1,r)).map(r=>()=>e.selection.select(r))},jk=(e,t)=>e.selection.isCollapsed()?g$(e,t):W.none(),Dy=fn,h$=e=>Dy(e)&&e.data[0]===Sl,v$=e=>Dy(e)&&e.data[e.data.length-1]===Sl,b$=e=>(e.ownerDocument??document).createTextNode(Sl),nR=e=>{if(Dy(e.previousSibling))return v$(e.previousSibling)||e.previousSibling.appendData(Sl),e.previousSibling;if(Dy(e))return h$(e)||e.insertData(0,Sl),e;{const t=b$(e);return e.parentNode?.insertBefore(t,e),t}},qx=e=>{if(Dy(e.nextSibling))return h$(e.nextSibling)||e.nextSibling.insertData(0,Sl),e.nextSibling;if(Dy(e))return v$(e)||e.appendData(Sl),e;{const t=b$(e);return e.nextSibling?e.parentNode?.insertBefore(t,e.nextSibling):e.parentNode?.appendChild(t),t}},jv=(e,t)=>e?nR(t):qx(t),oR=se(jv,!0),y$=se(jv,!1),sR=(e,t)=>fn(e.container())?jv(t,e.container()):jv(t,e.getNode()),Gx=(e,t)=>{const o=t.get();return o&&e.container()===o&&Mm(o)},rR=(e,t)=>t.fold(o=>{t0(e.get());const r=oR(o);return e.set(r),W.some(It(r,r.length-1))},o=>M(o).map(r=>{if(Gx(r,e)){const i=e.get();return It(i,1)}else{t0(e.get());const i=sR(r,!0);return e.set(i),It(i,1)}}),o=>V(o).map(r=>{if(Gx(r,e)){const i=e.get();return It(i,i.length-1)}else{t0(e.get());const i=sR(r,!1);return e.set(i),It(i,i.length-1)}}),o=>{t0(e.get());const r=y$(o);return e.set(r),W.some(It(r,1))}),w$=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return W.none()},Gl=xa.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Zk=(e,t)=>{const o=Uh(t,e);return o||e},C$=(e,t,o)=>{const r=TN(o),i=Zk(t,r.container());return Rv(e,i,r).fold(()=>C(i,r).bind(se(Rv,e,i)).map(f=>Gl.before(f)),W.none)},Kx=(e,t)=>xe(e,t)===null,aR=(e,t,o)=>Rv(e,t,o).filter(se(Kx,t)),iR=(e,t,o)=>{const r=kN(o);return aR(e,t,r).bind(i=>T(i,r).isNone()?W.some(Gl.start(i)):W.none())},S$=(e,t,o)=>{const r=TN(o);return aR(e,t,r).bind(i=>C(i,r).isNone()?W.some(Gl.end(i)):W.none())},x$=(e,t,o)=>{const r=kN(o),i=Zk(t,r.container());return Rv(e,i,r).fold(()=>T(i,r).bind(se(Rv,e,i)).map(f=>Gl.after(f)),W.none)},E$=e=>!pO(lR(e)),Yg=(e,t,o)=>w$([C$,iR,S$,x$],[e,t,o]).filter(E$),lR=e=>e.fold(rn,rn,rn,rn),A$=e=>e.fold(Te("before"),Te("start"),Te("end"),Te("after")),qk=e=>e.fold(Gl.before,Gl.before,Gl.after,Gl.after),cR=e=>e.fold(Gl.start,Gl.start,Gl.end,Gl.end),uR=(e,t)=>A$(e)===A$(t)&&lR(e)===lR(t),Zq=(e,t,o,r,i,f)=>Dn(Rv(t,o,r),Rv(t,o,i),(v,S)=>v!==S&&FU(o,v,S)?Gl.after(e?v:S):f).getOr(f),T$=(e,t)=>e.fold(ut,o=>!uR(o,t)),qq=(e,t,o,r,i)=>{const f=Vm(e,i);return sf(e,o,f).map(se(Vm,e)).fold(()=>r.map(qk),A=>Yg(t,o,A).map(se(Zq,e,t,o,f,A)).filter(se(T$,r))).filter(E$)},Gq=(e,t)=>e?t.fold(F(W.some,Gl.start),W.none,F(W.some,Gl.after),W.none):t.fold(W.none,F(W.some,Gl.before),W.none,F(W.some,Gl.end)),Kq=(e,t,o,r)=>{const i=Vm(e,r),f=Yg(t,o,i);return Yg(t,o,i).bind(se(Gq,e)).orThunk(()=>qq(e,t,o,f,r))},Yq=e=>ce(e.selection.getSel().modify),k$=(e,t,o)=>{const r=e?1:-1;return t.setRng(It(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Xq=(e,t)=>{const o=t.selection.getRng(),r=e?It.fromRangeEnd(o):It.fromRangeStart(o);return Yq(t)?e&&Ag(r)?k$(!0,t.selection,r):!e&&V1(r)?k$(!1,t.selection,r):!1:!1};var t1;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(t1||(t1={}));const Gk=(e,t)=>e===-1?Bo(t):t,Qq=(e,t,o)=>e===1?t.next(o):t.prev(o),Jq=(e,t,o,r)=>ka(r.getNode(t===1))?t1.Br:Fp(o,r)===!1?t1.Block:t1.Wrap,_$=(e,t,o,r)=>{const i=zm(o);let f=r;const v=[];for(;f;){const S=Qq(t,i,f);if(!S)break;if(ka(S.getNode(!1)))return t===1?{positions:Gk(t,v).concat([S]),breakType:t1.Br,breakAt:W.some(S)}:{positions:Gk(t,v),breakType:t1.Br,breakAt:W.some(S)};if(!S.isVisible()){f=S;continue}if(e(f,S)){const A=Jq(o,t,f,S);return{positions:Gk(t,v),breakType:A,breakAt:W.some(S)}}v.push(S),f=S}return{positions:Gk(t,v),breakType:t1.Eol,breakAt:W.none()}},dR=(e,t,o,r)=>t(o,r).breakAt.map(i=>{const f=t(o,i).positions;return e===-1?f.concat(i):[i].concat(f)}).getOr([]),fR=(e,t)=>kt(e,(o,r)=>o.fold(()=>W.some(r),i=>Dn(bt(i.getClientRects()),bt(r.getClientRects()),(f,v)=>{const S=Math.abs(t-f.left);return Math.abs(t-v.left)<=S?r:i}).or(o)),W.none()),Py=(e,t)=>bt(t.getClientRects()).bind(o=>fR(e,o.left)),bc=se(_$,It.isAbove,-1),Yx=se(_$,It.isBelow,1),Xx=se(dR,-1,bc),Zv=se(dR,1,Yx),Kk=(e,t)=>bc(e,t).breakAt.isNone(),$d=(e,t)=>Yx(e,t).breakAt.isNone(),Ry=e=>M(e).map(t=>[t].concat(Yx(e,t).positions)).getOr([]),O$=e=>V(e).map(t=>bc(e,t).positions.concat(t)).getOr([]),D$=(e,t)=>Py(Xx(e,t),t),mR=(e,t)=>Py(Zv(e,t),t),eG=sr,pR=(e,t)=>Math.abs(e.left-t),Yk=(e,t)=>Math.abs(e.right-t),gR=e=>as(e,"node"),P$=(e,t)=>Vu(e,(o,r)=>{const i=Math.min(pR(o,t),Yk(o,t)),f=Math.min(pR(r,t),Yk(r,t));return f===i&&gR(r)&&eG(r.node)||f<i?r:o}),tG=e=>{const t=o=>qe(o,r=>{const i=Fh(r);return i.node=e,i});if(_n(e))return t(e.getClientRects());if(fn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},hR=e=>vo(e,tG);var Ld;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Ld||(Ld={}));const vR=(e,t,o,r)=>{let i=r;for(;i=Jb(i,e,y2,t);)if(o(i))return},R$=(e,t,o,r,i,f)=>{let v=0;const S=[],A=j=>{let Y=hR([j]);e===Ld.Up&&(Y=Y.reverse());for(let ie=0;ie<Y.length;ie++){const Oe=Y[ie];if(!o(Oe,P)){if(S.length>0&&t(Oe,Zi(S))&&v++,Oe.line=v,i(Oe))return!0;S.push(Oe)}}return!1},P=Zi(f.getClientRects());if(!P)return S;const U=f.getNode();return U&&(A(U),vR(e,r,A,U)),S},Xk=(e,t)=>t.line>e,bR=(e,t)=>t.line===e,F$=se(R$,Ld.Up,j1,Mh),M$=se(R$,Ld.Down,Mh,j1),yR=e=>Zi(e.getClientRects()),nG=(e,t,o,r)=>{const i=zm(t);let f,v,S,A;const P=[];let U=0;e===Ld.Down?(f=i.next,v=Mh,S=j1,A=It.after(r)):(f=i.prev,v=j1,S=Mh,A=It.before(r));const j=yR(A);do{if(!A.isVisible())continue;const Y=yR(A);if(S(Y,j))continue;P.length>0&&v(Y,Zi(P))&&U++;const ie=Fh(Y);if(ie.position=A,ie.line=U,o(ie))return P;P.push(ie)}while(A=f(A));return P},N$=e=>t=>Xk(e,t),wR=e=>t=>bR(e,t),n1=(e,t)=>{e.selection.setRng(t),om(e,e.selection.getRng())},CR=(e,t,o)=>W.some(y0(e,t,o)),SR=(e,t)=>{const o=e.getNode(t===-1);return Ce(o)&&El(o)?W.some(o):W.none()},B$=(e,t)=>{const o=e.dom.createRng();return o.selectNode(t),o},I$=(e,t,o,r,i,f)=>{const v=t===1,S=zm(e.getBody()),A=se(aw,v?S.next:S.prev),P=v?r:i;if(!o.collapsed){const Oe=xl(o);if(f(Oe))if(El(Oe)){const ge=Wh(t,e.getBody(),o);return W.from(A(ge)).map(ke=>ke.toRange())}else return b0(t,e,Oe,t===-1,!1);else if(XP(e)){const ge=o.cloneRange();return ge.collapse(t===-1),W.from(ge)}}const U=Wh(t,e.getBody(),o);if(P(U))return e1(e,U.getNode(!v));let j=A(U);const Y=g2(o);if(j)j=Vm(v,j);else return Y?W.some(o):W.none();if(P(j))return SR(j,t).fold(()=>b0(t,e,j?.getNode(!v),v,!1),Oe=>W.some(B$(e,Oe)));const ie=A(j);return ie&&P(ie)&&Hm(j,ie)?SR(j,t).fold(()=>b0(t,e,ie.getNode(!v),v,!1),Oe=>W.some(B$(e,Oe))):Y?CR(e,j.toRange(),!1):W.none()},$$=(e,t,o,r,i,f)=>{const v=Wh(t,e.getBody(),o),S=Zi(v.getClientRects()),A=t===Ld.Down,P=e.getBody();if(!S)return W.none();if(XP(e)){const ke=A?It.fromRangeEnd(o):It.fromRangeStart(o);return(A?mR:D$)(P,ke).orThunk(()=>W.from(ke)).map(rt=>rt.toRange())}const j=(A?M$:F$)(P,N$(1),v),Y=at(j,wR(1)),ie=S.left,Oe=P$(Y,ie);if(Oe&&f(Oe.node)){const ke=Math.abs(ie-Oe.left),nt=Math.abs(ie-Oe.right);return b0(t,e,Oe.node,ke<nt,!1)}let ge;if(r(v)?ge=v.getNode():i(v)?ge=v.getNode(!0):ge=xl(o),ge){const ke=nG(t,P,N$(1),ge);let nt=P$(at(ke,wR(1)),ie);if(nt||(nt=Zi(at(ke,wR(0))),nt))return CR(e,nt.position.toRange(),!1)}return Y.length===0?Qk(e,A).filter(A?i:r).map(ke=>y0(e,ke.toRange(),!1)):W.none()},Qk=(e,t)=>{const o=e.selection.getRng(),r=t?It.fromRangeEnd(o):It.fromRangeStart(o),i=nw(r.container(),e.getBody());if(t){const f=Yx(i,r);return Bt(f.positions)}else{const f=bc(i,r);return bt(f.positions)}},Jk=(e,t,o)=>Qk(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),Ww=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},xR=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},e3=(e,t,o)=>rR(t,o).map(r=>(Ww(e,r),o)),L$=(e,t,o)=>{const r=It.fromRangeStart(e);if(e.collapsed)return r;{const i=It.fromRangeEnd(e);return o?T(t,i).getOr(i):C(t,r).getOr(r)}},H$=(e,t,o)=>{const r=e.getBody(),i=L$(e.selection.getRng(),r,o),f=se(iy,e);return Kq(o,f,r,i).bind(S=>e3(e,t,S))},ER=(e,t,o)=>{const r=qe(Ot(Pe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),i=at(r,e),f=at(o,e);De(ds(i,f),se(xR,!1)),De(ds(f,i),se(xR,!0))},z$=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=It.fromRangeStart(e.selection.getRng());It.isTextPosition(r)&&!MU(r)&&(Ww(e,v_(o,r)),t.set(null))}},U$=(e,t,o,r)=>{if(t.selection.isCollapsed()){const i=at(r,e);De(i,f=>{const v=It.fromRangeStart(t.selection.getRng());Yg(e,t.getBody(),v).bind(S=>e3(t,o,S))})}},AR=(e,t,o)=>zh(e)?H$(e,t,o).isSome():!1,V$=(e,t,o)=>zh(t)?Xq(e,t):!1,oG=e=>{const t=Kn(null),o=se(iy,e);return e.on("NodeChange",r=>{zh(e)&&(ER(o,e.dom,r.parents),z$(e,t),U$(o,e,t,r.parents))}),t},t3=se(V$,!0),sG=se(V$,!1),qv=(e,t,o)=>{if(zh(e)){const r=Qk(e,t).getOrThunk(()=>{const i=e.selection.getRng();return t?It.fromRangeEnd(i):It.fromRangeStart(i)});return Yg(se(iy,e),e.getBody(),r).exists(i=>{const f=qk(i);return rR(o,f).exists(v=>(Ww(e,v),!0))})}else return!1},rG=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},aG=e=>Dn(M(e),V(e),(t,o)=>{const r=Vm(!0,t),i=Vm(!1,o);return C(e,r).forall(f=>f.isEqual(i))}).getOr(!0),W$=(e,t)=>o=>rR(t,o).map(r=>()=>Ww(e,r)),j$=(e,t,o,r)=>{const i=e.getBody(),f=se(iy,e);e.undoManager.ignore(()=>{e.selection.setRng(rG(o,r)),hO(e),Yg(f,i,It.fromRangeStart(e.selection.getRng())).map(cR).bind(W$(e,t)).each(Ct)}),e.nodeChanged()},Z$=(e,t)=>{const o=Uh(t,e);return o||e},q$=(e,t,o,r)=>{const i=Z$(e.getBody(),r.container()),f=se(iy,e),v=Yg(f,i,r);return v.bind(A=>o?A.fold(Te(W.some(cR(A))),W.none,Te(W.some(qk(A))),W.none):A.fold(W.none,Te(W.some(qk(A))),W.none,Te(W.some(cR(A))))).map(W$(e,t)).getOrThunk(()=>{const A=_v(o,i,r),P=A.bind(U=>Yg(f,i,U));return Dn(v,P,()=>Rv(f,i,r).bind(U=>aG(U)?W.some(()=>{Kh(e,o,Pe.fromDom(U))}):W.none())).getOrThunk(()=>P.bind(()=>A.map(U=>()=>{o?j$(e,t,r,U):j$(e,t,U,r)})))})},TR=(e,t,o)=>{if(e.selection.isCollapsed()&&zh(e)){const r=It.fromRangeStart(e.selection.getRng());return q$(e,t,o,r)}return W.none()},iG=e=>Zu(e)>1,G$=(e,t)=>{const o=Pe.fromDom(e.getBody()),r=Pe.fromDom(e.selection.getStart()),i=Lp(r,o);return Fn(i,t).fold(Te(i),f=>i.slice(0,f))},lG=e=>Zu(e)===1,cG=e=>G$(e,t=>e.schema.isBlock(cs(t))||iG(t)),K$=e=>G$(e,t=>e.schema.isBlock(cs(t))),uG=(e,t)=>{const o=se(t6,e);return vo(t,r=>o(r)?[r.dom]:[])},kR=e=>{const t=K$(e);return uG(e,t)},dG=(e,t,o,r)=>{const i=uG(t,r);if(i.length===0)Kh(t,e,o);else{const f=MO(o.dom,i);t.selection.setRng(f.toRange())}},fG=(e,t)=>{const o=at(cG(e),lG);return Bt(o).bind(r=>{const i=It.fromRangeStart(e.selection.getRng());return DN(t,i,r.dom)&&!M_(r)?W.some(()=>dG(t,e,r,o)):W.none()})},mG=(e,t)=>{const o=t.parentElement;return ka(t)&&!G(o)&&e.dom.isEmpty(o)},pG=e=>M_(Pe.fromDom(e)),Y$=(e,t)=>{const o=e.selection.getStart(),r=mG(e,o)||pG(o)?MO(o,t):lV(e.selection.getRng(),t);e.selection.setRng(r.toRange())},X$=(e,t)=>{const o=ds(t,kR(e));o.length>0&&Y$(e,o)},_R=e=>fn(e.startContainer),gG=e=>e.startOffset===0&&_R(e),hG=(e,t)=>{const o=t.startContainer.parentElement;return!G(o)&&t6(e,Pe.fromDom(o))},vG=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!G(t)&&!G(o)&&t.isEqualNode(o)},bG=e=>{const t=e.endContainer;return e.endOffset===(fn(t)?t.length:t.childNodes.length)},yG=e=>vG(e)&&bG(e),wG=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),CG=e=>yG(e)||wG(e),SG=e=>{const t=e.selection.getRng();return gG(t)&&hG(e,t)&&CG(t)},xG=e=>{if(SG(e)){const t=kR(e);return W.some(()=>{hO(e),X$(e,t)})}else return W.none()},OR=(e,t)=>e.selection.isCollapsed()?fG(e,t):xG(e),Q$=(e,t)=>xn(e,o=>ue(o.dom),o=>t.isBlock(cs(o))),EG=e=>Q$(Pe.fromDom(e.selection.getStart()),e.schema),AG=e=>{const t=e.selection.getRng();return t.collapsed&&(_R(t)||e.dom.isEmpty(t.startContainer))&&!EG(e)},Qx=e=>(AG(e)&&Y$(e,[]),!0),jw=(e,t,o)=>Ce(o)?W.some(()=>{e._selectionOverrides.hideFakeCaret(),Kh(e,t,Pe.fromDom(o))}):W.none(),TG=(e,t)=>{const o=t?ex:tx,i=Wh(t?1:-1,e.getBody(),e.selection.getRng());return o(i)?jw(e,t,i.getNode(!t)):W.from(Vm(t,i)).filter(f=>o(f)&&Hm(i,f)).bind(f=>jw(e,t,f.getNode(!t)))},kG=(e,t)=>{const o=e.selection.getNode();return od(o)?jw(e,t,o):W.none()},n3=(e,t)=>e.selection.isCollapsed()?TG(e,t):kG(e,t),DR=e=>wr(e,t=>Du(t.dom)||sr(t.dom)).exists(t=>Du(t.dom)),PR=e=>ff(e??"").getOr(0),J$=(e,t)=>{const o=e||qE(t)?"margin":"padding",r=pa(t,"direction")==="rtl"?"-right":"-left";return o+r},Tne=(e,t,o,r,i,f)=>{const v=J$(o,Pe.fromDom(f)),S=PR(e.getStyle(f,v));if(t==="outdent"){const A=Math.max(0,S-r);e.setStyle(f,v,A?A+i:"")}else{const A=S+r+i;e.setStyle(f,v,A)}},_G=(e,t)=>ts(t,o=>{const r=J$(V2(e),o),i=Br(o,r).map(PR).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&i>0}),e8=e=>{const t=t8(e);return!e.mode.isReadOnly()&&(t.length>1||_G(e,t))},OG=e=>!e.mode.isReadOnly()&&JZ(e),Zw=e=>kf(e)||Mu(e),DG=e=>Ci(e).exists(Zw),t8=e=>at(hf(e.selection.getSelectedBlocks()),t=>!Zw(t)&&!DG(t)&&DR(t)),n8=(e,t)=>{if(e.mode.isReadOnly())return;const{dom:o}=e,r=K4(e),i=/[a-z%]+$/i.exec(r)?.[0]??"px",f=PR(r),v=V2(e);De(t8(e),S=>{Tne(o,t,v,f,i,S.dom)}),t==="indent"?JI(e):Wx(e)},o8=e=>n8(e,"indent"),w0=e=>n8(e,"outdent"),Hd=e=>{if(e.selection.isCollapsed()&&e8(e)){const t=e.dom,o=e.selection.getRng(),r=It.fromRangeStart(o),i=t.getParent(o.startContainer,t.isBlock);if(i!==null&&FT(Pe.fromDom(i),r,e.schema))return W.some(()=>w0(e))}return W.none()},s8=(e,t)=>{const o=KO(e.selection.getRng());return az(o)?W.some(()=>Kh(e,t,Pe.fromDom(e.selection.getNode()))):W.none()},Fy=(e,t)=>e.selection.isCollapsed()?W.none():s8(e,t),C0=(e,t,o)=>rs([Hd,Vk,Uk,(r,i)=>TR(r,t,i),_y,AO,jk,n3,Vi,OR,Wk,Fy],r=>r(e,o)).filter(r=>e.selection.isEditable()),Gp=(e,t)=>{C0(e,t,!1).fold(()=>{e.selection.isEditable()&&(hO(e),ON(e))},Ct),VP(e)&&AP(e.dom,e.getBody())},Jx=(e,t)=>{C0(e,t,!0).fold(()=>{e.selection.isEditable()&&NU(e)},Ct),VP(e)&&AP(e.dom,e.getBody())},RR=(e,t)=>{e.addCommand("delete",()=>{Gp(e,t)}),e.addCommand("forwardDelete",()=>{Jx(e,t)})},o3=5,r8=400,FR=e=>e.touches===void 0||e.touches.length!==1?W.none():W.some(e.touches[0]),PG=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>o3||r>o3},RG=e=>{const t=Ls(),o=Kn(!1),r=Yl(i=>{e.dispatch("longpress",{...i,type:"longpress"}),o.set(!0)},r8);e.on("touchstart",i=>{FR(i).each(f=>{r.cancel();const v={x:f.clientX,y:f.clientY,target:i.target};r.throttle(i),o.set(!1),t.set(v)})},!0),e.on("touchmove",i=>{r.cancel(),FR(i).each(f=>{t.on(v=>{PG(f,v)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{r.cancel(),i.type!=="touchcancel"&&t.get().filter(f=>f.target.isEqualNode(i.target)).each(()=>{o.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},s3=(e,t)=>Jn(e,t.nodeName),a8=(e,t)=>fn(t)?!0:_n(t)?!s3(e.getBlockElements(),t)&&!ii(t)&&!Ma(e,t)&&!hp(t)&&!W0(t):!1,i8=(e,t,o)=>Ve(rN(Pe.fromDom(o),Pe.fromDom(t)),r=>s3(e,r.dom)),FG=(e,t)=>{if(fn(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||s3(e,t.nextSibling)||hp(t.nextSibling)}return!1},l8=e=>e.dom.create(rl(e),em(e)),kne=e=>{const t=e.dom,o=e.selection,r=e.schema,i=r.getBlockElements(),f=o.getStart(),v=e.getBody();let S,A,P=null;const U=rl(e);if(!f||!_n(f))return;const j=v.nodeName.toLowerCase();if(!r.isValidChild(j,U.toLowerCase())||i8(i,v,f))return;if(v.firstChild===v.lastChild&&ka(v.firstChild)){S=l8(e),S.appendChild(Dh().dom),v.replaceChild(S,v.firstChild),e.selection.setCursorLocation(S,0),e.nodeChanged();return}let Y=v.firstChild;for(;Y;)if(_n(Y)&&Bc(r,Y),a8(r,Y)){if(FG(i,Y)){A=Y,Y=Y.nextSibling,t.remove(A);continue}if(!S){if(!P&&e.hasFocus()&&(P=Yh(e.selection.getRng(),()=>document.createElement("span"))),!Y.parentNode){Y=null;break}S=l8(e),v.insertBefore(S,Y)}A=Y,Y=Y.nextSibling,S.appendChild(A)}else S=null,Y=Y.nextSibling;P&&(e.selection.setRng(Wm(P)),e.nodeChanged())},MG=(e,t,o)=>{const r=Pe.fromDom(l8(e)),i=Dh();As(r,i),o(t,r);const f=document.createRange();return f.setStartBefore(i.dom),f.setEndBefore(i.dom),f},Kp=e=>{e.on("NodeChange",()=>kne(e))},c8=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,NG=(e,t,o)=>function(r){const i=arguments,f=i[i.length-2],v=f>0?t.charAt(f-1):"";if(v==='"')return r;if(v===">"){const S=t.lastIndexOf("<",f);if(S!==-1&&t.substring(S,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},My=(e,t,o)=>{let r=t.length,i=o.content;if(o.format!=="raw"){for(;r--;)i=i.replace(t[r],NG(e,i,qb(e)));o.content=i}},u8=(e,t)=>ts(e,o=>{const r=t.match(o);return r!==null&&r[0].length===t.length}),BG=e=>{const t="contenteditable",o=" "+pn.trim(WA(e))+" ",r=" "+pn.trim(qb(e))+" ",i=c8(o),f=c8(r),v=g_(e);v.length>0&&e.on("BeforeSetContent",S=>{My(e,v,S)}),e.parser.addAttributeFilter("class",S=>{let A=S.length;for(;A--;){const P=S[A];i(P)?P.attr(t,"true"):f(P)&&P.attr(t,"false")}}),e.serializer.addAttributeFilter(t,S=>{let A=S.length;for(;A--;){const P=S[A];if(!i(P)&&!f(P))continue;const U=P.attr("data-mce-content");v.length>0&&U?u8(v,U)?(P.name="#text",P.type=3,P.raw=!0,P.value=U):P.remove():P.attr(t,null)}})},r3=e=>ed(Pe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),a3=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Yf(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},d8=(e,t)=>{const o=r3(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),a3(e,o);return}p2(o)&&(a3(e,o),e.undoManager.add())}},f8=e=>{e.on("keyup compositionstart",se(d8,e))},m8=sr,p8=(e,t,o)=>I$(t,e,o,l0,Gh,m8),g8=(e,t,o)=>$$(t,e,o,f=>l0(f)||nx(f),f=>Gh(f)||aO(f),m8),h8=e=>{const t=e.dom.create(rl(e));return t.innerHTML='<br data-mce-bogus="1">',t},i3=(e,t,o)=>{const r=zm(e.getBody()),i=se(aw,t===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!i(It.fromRangeStart(o))){const S=Pe.fromDom(h8(e));t===1?Ii(Pe.fromDom(f),S):ui(Pe.fromDom(f),S),e.selection.select(S.dom,!0),e.selection.collapse()}}},IG=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return p8(o,e,r).orThunk(()=>(i3(e,o,r),W.none()))},$G=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return g8(o,e,r).orThunk(()=>(i3(e,o,r),W.none()))},LG=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return pO(o)?!t:t},v8=(e,t)=>IG(e,LG(e.selection,t)).exists(o=>(n1(e,o),!0)),b8=(e,t)=>$G(e,t).exists(o=>(n1(e,o),!0)),y8=(e,t)=>Jk(e,t,t?Gh:l0),l3=(e,t)=>YP(e,!t).map(o=>{const r=o.toRange(),i=e.selection.getRng();return t?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(o=>(n1(e,o),!0)),w8=(e,t)=>{const o=v=>_s(v,t),r=v=>Du(v.dom),i=Pe.fromDom(e.container());return wr(i,r,o).filter(v=>!o(v))},C8=(e,t,o)=>(o?mR:D$)(e.getBody(),t).map(i=>i.toRange()),HG=(e,t)=>{const o=It.fromRangeStart(e.selection.getRng()),r=It.fromRangeEnd(e.selection.getRng()),i=Pe.fromDom(e.getBody());return ms(Dn(w8(o,i),w8(r,i),(v,S)=>_s(v,S)?W.some(v):W.none())).fold(He,v=>t&&$d(v.dom,r)||!t&&Kk(v.dom,o)?C8(e,t?r:o,t).exists(S=>(n1(e,S),!0)):!1)},o1=(e,t)=>HG(e,t),MR=e=>Re(["figcaption"],cs(e)),zG=(e,t,o)=>{const r=se(_s,t);return wr(Pe.fromDom(e.container()),i=>o.isBlock(cs(i)),r).filter(MR)},UG=(e,t,o)=>t?$d(e.dom,o):Kk(e.dom,o),VG=(e,t)=>{const o=Pe.fromDom(e.getBody()),r=It.fromRangeStart(e.selection.getRng());return zG(r,o,e.schema).exists(()=>{if(UG(o,t,r)){const f=MG(e,o,t?As:su);return e.selection.setRng(f),!0}else return!1})},c3=(e,t)=>e.selection.isCollapsed()?VG(e,t):!1,NR=(e,t,o)=>{const r=e.selection.getRng(),i=It.fromRangeStart(r);return e.getBody().firstChild===t&&Kk(o,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},S8=(e,t)=>{const o=e.selection.getRng(),r=It.fromRangeStart(o);return e.getBody().lastChild===t&&$d(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},x8=(e,t)=>t?W.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>S8(e,o)).getOr(!1):W.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>W.from(e.dom.getParent(o,"details")).map(r=>NR(e,r,o))).getOr(!1),BR=(e,t)=>x8(e,t),E8={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},eE=e=>qe(e,t=>({...E8,...t})),u3=e=>qe(e,t=>({...E8,...t})),IR=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,A8=(e,t)=>vo(eE(e),o=>IR(o,t)?[o]:[]),T8=(e,t)=>vo(u3(e),o=>IR(o,t)?[o]:[]),Uo=(e,...t)=>()=>e.apply(null,t),Gv=(e,t)=>vn(A8(e,t),o=>o.action()),d3=(e,t)=>rs(T8(e,t),o=>o.action()),qw=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return I$(e,o,r,ex,tx,od).exists(i=>(n1(e,i),!0))},k8=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return $$(e,o,r,ex,tx,od).exists(i=>(n1(e,i),!0))},$R=(e,t)=>Jk(e,t,t?tx:ex),WG=(e,t)=>_8(e,t,ut),_8=(e,t,o)=>vo(fa(e),r=>_c(r,t)?o(r)?[r]:[]:_8(r,t,o)),O8=(e,t,o=He)=>{if(o(t))return W.none();if(Re(e,cs(t)))return W.some(t);const r=i=>_c(i,"table")||o(i);return Za(t,e.join(","),r)},jG=(e,t)=>O8(["td","th"],e,t),D8=e=>WG(e,"th,td"),ZG=(e,t)=>Xi(e,"table",t),P8=xa.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),tE={...P8,none:e=>P8.none(e)},LR=(e,t,o,r,i=ut)=>{const f=r===1;if(!f&&o<=0)return tE.first(e[0]);if(f&&o>=e.length-1)return tE.last(e[e.length-1]);{const v=o+r,S=e[v];return i(S)?tE.middle(t,S):LR(e,t,v,r,i)}},R8=(e,t)=>ZG(e,t).bind(o=>{const r=D8(o);return Fn(r,f=>_s(e,f)).map(f=>({index:f,all:r}))}),qG=(e,t,o)=>R8(e,o).fold(()=>tE.none(e),i=>LR(i.all,e,i.index,1,t)),GG=(e,t,o)=>R8(e,o).fold(()=>tE.none(),i=>LR(i.all,e,i.index,-1,t));var HR=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],KG=()=>{const e=P=>Pe.fromDom(P.dom.cloneNode(!1)),t=P=>xu(P).dom,o=P=>da(P)?cs(P)==="body"?!0:Re(HR,cs(P)):!1,r=P=>da(P)?Re(["br","img","hr","input"],cs(P)):!1,i=P=>da(P)&&Ur(P,"contenteditable")==="false",f=(P,U)=>P.dom.compareDocumentPosition(U.dom),v=(P,U)=>{const j=fs(P);Ti(U,j)},S=P=>{const U=cs(P);return Re(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],U)},A=P=>da(P)?_l(P,"lang"):W.none();return{up:Te({selector:Za,closest:Xi,predicate:Pc,all:cl}),down:Te({selector:Ot,predicate:we}),styles:Te({get:pa,getRaw:Br,set:ki,remove:Yu}),attrs:Te({get:Ur,set:Nr,remove:Hs,copyTo:v}),insert:Te({before:ui,after:Ii,afterAll:dg,append:As,appendAll:wl,prepend:su,wrap:ac}),remove:Te({unwrap:Yi,remove:Is}),create:Te({nu:Pe.fromTag,clone:e,text:Pe.fromText}),query:Te({comparePosition:f,prevSibling:Eu,nextSibling:ul}),property:Te({children:fa,name:cs,parent:Ci,document:t,isText:or,isComment:ou,isElement:da,isSpecial:S,getLanguage:A,getText:Oi,setText:x1,isBoundary:o,isEmptyTag:r,isNonEditable:i}),eq:_s,is:yd}};const s1=(e,t)=>({element:e,offset:t}),zR=(e,t)=>{if(e.property().isText(t))return s1(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?zR(e,o[o.length-1]):s1(t,o.length)}},f3=(e,t,o)=>{const r=e.property().children(t);return r.length>0&&o<r.length?f3(e,r[o],0):r.length>0&&e.property().isElement(t)&&r.length===o?zR(e,r[r.length-1]):s1(t,o)},F8=f3,UR=KG(),Kv=(e,t)=>F8(UR,e,t),VR=Ms("image"),Xm=e=>{const t=e;return W.from(t[VR])},Ny=(e,t)=>{const o=e;o[VR]=t},m3=Ms("event"),WR=e=>{const t=e;return W.from(t[m3])},p3=e=>t=>{const o=t;o[m3]=e},M8=(e,t)=>p3(t)(e),N8=p3(0),YG=p3(2),XG=p3(1),QG=(e=>t=>{const o=t;return W.from(o[m3]).exists(r=>r===e)})(0),B8=()=>Object.freeze({length:0,item:e=>null}),jR=Ms("mode"),JG=e=>{const t=e;return W.from(t[jR])},S0=e=>t=>{const o=t;o[jR]=e},nE=(e,t)=>S0(t)(e),ZR=S0(0),g3=S0(2),qR=S0(1),I8=e=>t=>{const o=t;return W.from(o[jR]).exists(r=>r===e)},Gw=I8(0),$8=I8(1),L8=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(Gw(e))if(J(o)){if(!Ft(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{Gw(e)&&t.remove(o)},clear:()=>{Gw(e)&&t.clear()}}),h3=["none","copy","link","move"],H8=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Kw=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(i){Re(h3,i)&&(t=i)},get effectAllowed(){return o},set effectAllowed(i){QG(r)&&Re(H8,i)&&(o=i)},get items(){return L8(r,e.items)},get files(){return $8(r)?B8():e.files},get types(){return e.types},setDragImage:(i,f,v)=>{Gw(r)&&(Ny(r,{image:i,x:f,y:v}),e.setDragImage(i,f,v))},getData:i=>$8(r)?"":e.getData(i),setData:(i,f)=>{Gw(r)&&e.setData(i,f)},clearData:i=>{Gw(r)&&e.clearData(i)}};return ZR(r),r},eK=e=>{const t=Kw(),o=JG(e);return g3(e),N8(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Xm(e).each(r=>t.setDragImage(r.image,r.x,r.y)),De(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),De(e.files,r=>t.items.add(r)),WR(e).each(r=>{M8(t,r)}),o.each(r=>{nE(e,r),nE(t,r)}),t},z8=e=>{const t=e.getData("text/html");return t===""?W.none():W.some(t)},U8=(e,t)=>e.setData("text/html",t),tK=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),nK=(e,t)=>vo(t,o=>{const r=tK(Fh(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),V8=(e,t,o)=>kt(e,(r,i)=>r.fold(()=>W.some(i),f=>{const v=Math.sqrt(Math.abs(f.x-t)+Math.abs(f.y-o)),S=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-o));return W.some(S<v?i:f)}),W.none()),W8=(e,t,o,r,i)=>{const f=Ot(Pe.fromDom(o),"td,th,caption").map(S=>S.dom),v=at(nK(e,f),S=>t(S,i));return V8(v,r,i).map(S=>S.cell)},oK=e=>e.bottom,j8=e=>e.top,oE=(e,t)=>e.y<t,sK=(e,t)=>e.y>t,Z8=se(W8,oK,oE),q8=se(W8,j8,sK),G8=(e,t)=>bt(t.getClientRects()).bind(o=>Z8(e,o.left,o.top)).bind(o=>Py(O$(o),t)),GR=(e,t)=>Bt(t.getClientRects()).bind(o=>q8(e,o.left,o.top)).bind(o=>Py(Ry(o),t)),K8=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),rK=e=>e.breakType===t1.Wrap&&e.positions.length===0,Y8=e=>e.breakType===t1.Br&&e.positions.length===1,X8=(e,t,o)=>{const r=e(t,o);return rK(r)||!ka(o.getNode())&&Y8(r)?!K8(e,t,r):r.breakAt.isNone()},aK=se(X8,bc),iK=se(X8,Yx),KR=(e,t,o)=>{const r=It.fromRangeStart(t);return h(!e,o).exists(i=>i.isEqual(r))},lK=(e,t,o,r)=>{const i=e.selection.getRng(),f=t?1:-1;return ew()&&KR(t,i,o)?(b0(f,e,o,!t,!1).each(v=>{n1(e,v)}),!0):!1},cK=(e,t,o)=>G8(t,o).orThunk(()=>bt(o.getClientRects()).bind(r=>fR(Xx(e,It.before(t)),r.left))).getOr(It.before(t)),v3=(e,t,o)=>GR(t,o).orThunk(()=>bt(o.getClientRects()).bind(r=>fR(Zv(e,It.after(t)),r.left))).getOr(It.after(t)),Q8=(e,t)=>{const o=t.getNode(e);return Fc(o)?W.some(o):W.none()},YR=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Ii:ui,i=MG(t,Pe.fromDom(o),r);n1(t,i)})},XR=(e,t,o)=>{const r=Q8(!!t,o),i=t===!1;r.fold(()=>n1(e,o.toRange()),f=>h(i,e.getBody()).filter(v=>v.isEqual(o)).fold(()=>n1(e,o.toRange()),v=>YR(t,e,f)))},J8=(e,t,o,r)=>{const i=e.selection.getRng(),f=It.fromRangeStart(i),v=e.getBody();if(!t&&aK(r,f)){const S=cK(v,o,f);return XR(e,t,S),!0}else if(t&&iK(r,f)){const S=v3(v,o,f);return XR(e,t,S),!0}else return!1},QR=(e,t,o)=>W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>W.from(e.dom.getParent(r,"table")).map(i=>o(e,t,i,r))).getOr(!1),eL=(e,t)=>QR(e,t,lK),JR=(e,t)=>QR(e,t,J8),uK=e=>{const t=xm.exact(e,0,e,0);return Uf(t)},dK=e=>Yw(e)||cr(e).some(t=>sc(t)&&Yw(t)),sE=(e,t,o)=>o.fold(W.none,W.none,(r,i)=>$i(i).map(f=>uK(f)),r=>e.mode.isReadOnly()||!fK(r)||!dK(r)?W.none():(e.execCommand("mceTableInsertRowAfter"),tL(e,t,r))),fK=e=>wr(e,ti("table")).exists(ku),tL=(e,t,o)=>sE(e,t,qG(o,Yw)),mK=(e,t,o)=>sE(e,t,GG(o,Yw)),Yw=e=>ku(e)||Ko(e,pK),pK=e=>sc(e)&&ku(e),nL=(e,t)=>{const o=["table","li","dl"],r=Pe.fromDom(e.getBody()),i=S=>{const A=cs(S);return _s(S,r)||Re(o,A)},f=e.selection.getRng(),v=Pe.fromDom(t?f.endContainer:f.startContainer);return jG(v,i).map(S=>(ZG(S,i).each(U=>{e.model.table.clearSelectedCells(U.dom)}),e.selection.collapse(!t),(t?tL:mK)(e,i,S).each(U=>{e.selection.setRng(U)}),!0)).getOr(!1)},oL=(e,t,o)=>{const r=ps.os.isMacOS()||ps.os.isiOS(),i=ps.browser.isFirefox();Gv([{keyCode:Hn.RIGHT,action:Uo(v8,e,!0)},{keyCode:Hn.LEFT,action:Uo(v8,e,!1)},{keyCode:Hn.UP,action:Uo(b8,e,!1)},{keyCode:Hn.DOWN,action:Uo(b8,e,!0)},...r?[{keyCode:Hn.UP,action:Uo(l3,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Hn.DOWN,action:Uo(l3,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Hn.RIGHT,action:Uo(eL,e,!0)},{keyCode:Hn.LEFT,action:Uo(eL,e,!1)},{keyCode:Hn.UP,action:Uo(JR,e,!1)},{keyCode:Hn.DOWN,action:Uo(JR,e,!0)},{keyCode:Hn.UP,action:Uo(JR,e,!1)},{keyCode:Hn.UP,action:Uo(BR,e,!1)},{keyCode:Hn.DOWN,action:Uo(BR,e,!0)},{keyCode:Hn.RIGHT,action:Uo(qw,e,!0)},{keyCode:Hn.LEFT,action:Uo(qw,e,!1)},{keyCode:Hn.UP,action:Uo(k8,e,!1)},{keyCode:Hn.DOWN,action:Uo(k8,e,!0)},{keyCode:Hn.RIGHT,action:Uo(AR,e,t,!0)},{keyCode:Hn.LEFT,action:Uo(AR,e,t,!1)},{keyCode:Hn.RIGHT,ctrlKey:!r,altKey:r,action:Uo(t3,e,t)},{keyCode:Hn.LEFT,ctrlKey:!r,altKey:r,action:Uo(sG,e,t)},{keyCode:Hn.UP,action:Uo(c3,e,!1)},{keyCode:Hn.DOWN,action:Uo(c3,e,!0)},...i?[{keyCode:Hn.UP,action:Uo(o1,e,!1)},{keyCode:Hn.DOWN,action:Uo(o1,e,!0)}]:[]],o).each(f=>{o.preventDefault()})},gK=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||oL(e,t,o)})},Xg=(e,t)=>({container:e,offset:t}),b3=Ns.DOM,y3=e=>t=>e===t?-1:0,hK=e=>t=>e.isBlock(t)||Re(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",eF=(e,t,o)=>{if(fn(e)&&t>=0)return W.some(Xg(e,t));{const r=Gf(b3);return W.from(r.backwards(e,t,y3(e),o)).map(i=>Xg(i.container,i.container.data.length))}},tF=(e,t,o)=>{if(fn(e)&&t>=e.length)return W.some(Xg(e,t));{const r=Gf(b3);return W.from(r.forwards(e,t,y3(e),o)).map(i=>Xg(i.container,0))}},nF=(e,t,o)=>{if(!fn(e))return W.none();const r=e.data;if(t>=0&&t<=r.length)return W.some(Xg(e,t));{const i=Gf(b3);return W.from(i.backwards(e,t,y3(e),o)).bind(f=>{const v=f.container.data;return nF(f.container,t+v.length,o)})}},oF=(e,t,o)=>{if(!fn(e))return W.none();const r=e.data;if(t<=r.length)return W.some(Xg(e,t));{const i=Gf(b3);return W.from(i.forwards(e,t,y3(e),o)).bind(f=>oF(f.container,t-r.length,o))}},sF=(e,t,o,r,i)=>{const f=Gf(e,hK(e));return W.from(f.backwards(t,o,r,i))},vK=e=>e.collapsed&&fn(e.startContainer),bK=e=>ld(e.toString().replace(/\u00A0/g," ")),sL=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,Ml=(e,t)=>e.substring(t.length),yK=(e,t,o,r=!1)=>{let i;const f=o.charAt(0);for(i=t-1;i>=0;i--){const v=e.charAt(i);if(!r&&sL(v))return W.none();if(f===v&&Gr(e,o,i,t))break}return W.some(i)},rF=(e,t,o,r=!1)=>{if(!vK(t))return W.none();const i={text:"",offset:0},f=(S,A,P)=>(i.text=P+i.text,i.offset+=A,yK(i.text,i.offset,o,r).getOr(A)),v=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return sF(e,t.startContainer,t.startOffset,f,v).bind(S=>{const A=t.cloneRange();if(A.setStart(S.container,S.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return W.none();const P=bK(A);return P.lastIndexOf(o)!==0?W.none():W.some({text:Ml(P,o),range:A,trigger:o})})},wK=e=>e.nodeType===oh,rL=e=>e.nodeType===gf,w3=e=>{if(wK(e))return Xg(e,e.data.length);{const t=e.childNodes;return t.length>0?w3(t[t.length-1]):Xg(e,t.length)}},aF=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?aF(o[t],0):o.length>0&&rL(e)&&o.length===t?w3(o[o.length-1]):Xg(e,t)},rE=(e,t)=>{const o=e.getParent(t.container,e.isBlock)??e.getRoot();return sF(e,t.container,t.offset,(r,i)=>i===0?-1:i,o).filter(r=>{const i=r.container.data.charAt(r.offset-1);return!sL(i)}).isSome()},CK=e=>t=>{const o=aF(t.startContainer,t.startOffset);return!rE(e,o)},SK=(e,t,o)=>rs(o.triggers,r=>rF(e,t,r)),xK=(e,t)=>{const o=t(),r=e.selection.getRng();return SK(e.dom,r,o).bind(i=>aL(e,t,i))},aL=(e,t,o,r={})=>{const i=t(),v=e.selection.getRng().startContainer.nodeValue??"",S=at(i.lookupByTrigger(o.trigger),P=>o.text.length>=P.minChars&&P.matches.getOrThunk(()=>CK(e.dom))(o.range,v,o.text));if(S.length===0)return W.none();const A=Promise.all(qe(S,P=>P.fetch(o.text,P.maxResults,r).then(j=>({matchText:o.text,items:j,columns:P.columns,onAction:P.onAction,highlightOn:P.highlightOn}))));return W.some({lookupData:A,context:o})},EK=nS("type"),AK=uA("fetch"),TK=uA("onAction"),kK=e=>wv("columns",e),_K=Iu([EK,nS("trigger"),H4("minChars",1),kK(1),H4("maxResults",10),X5("matches"),AK,TK,z4("highlightOn",[],QC)]),OK=e=>yv("Autocompleter",_K,e),DK=()=>{const e={},t={},o={},r={},i={},f={},v={},S={},A={},P=(ie,Oe)=>(ge,ke)=>{ie[ge.toLowerCase()]={...ke,type:Oe}},U=(ie,Oe)=>(ge,ke)=>{ie[ge.toLowerCase()]={type:Oe,...ke}},j=(ie,Oe)=>r[ie.toLowerCase()]=Oe,Y=(ie,Oe)=>v[ie.toLowerCase()]=Oe;return{addButton:P(e,"button"),addGroupToolbarButton:P(e,"grouptoolbarbutton"),addToggleButton:P(e,"togglebutton"),addMenuButton:P(e,"menubutton"),addSplitButton:P(e,"splitbutton"),addMenuItem:P(t,"menuitem"),addNestedMenuItem:P(t,"nestedmenuitem"),addToggleMenuItem:P(t,"togglemenuitem"),addAutocompleter:P(o,"autocompleter"),addContextMenu:P(i,"contextmenu"),addContextToolbar:P(f,"contexttoolbar"),addContextForm:U(f,"contextform"),addSidebar:P(S,"sidebar"),addView:P(A,"views"),addIcon:j,addContext:Y,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:i,contextToolbars:f,sidebars:S,views:A,contexts:v})}},PK=e=>{const t=e.ui.registry.getAll().popups,o=_r(t,v=>OK(v).fold(S=>{throw new Error(Op(S))},rn)),r=Ql(qn(o,v=>v.trigger)),i=Co(o);return{dataset:o,triggers:r,lookupByTrigger:v=>at(i,S=>S.trigger===v)}},RK=(e,t)=>{const o=Yl(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const i=r.which;i===8?o.throttle():i===27?(o.cancel(),t.cancelIfNecessary()):(i===38||i===40)&&o.cancel()},!0),e.on("remove",o.cancel)},FK=e=>{const t=Ls(),o=Kn(!1),r=t.isSet,i=()=>{r()&&(Lh(e),o.set(!1),t.clear())},f=j=>{r()||t.set({trigger:j.trigger,matchLength:j.text.length})},v=vi(()=>PK(e)),S=j=>t.get().map(Y=>rF(e.dom,e.selection.getRng(),Y.trigger,!0).bind(ie=>aL(e,v,ie,j))).getOrThunk(()=>xK(e,v)),A=j=>{S(j).fold(i,Y=>{f(Y.context),Y.lookupData.then(ie=>{t.get().map(Oe=>{const ge=Y.context;Oe.trigger===ge.trigger&&(t.set({...Oe,matchLength:ge.text.length}),o.get()?(lS(e,{range:ge.range}),Lb(e,{lookupData:ie})):(o.set(!0),lS(e,{range:ge.range}),$b(e,{lookupData:ie})))})})})},P=(j,Y)=>{const ie=j.compareBoundaryPoints(window.Range.START_TO_START,Y),Oe=j.compareBoundaryPoints(window.Range.END_TO_END,Y);return ie>=0&&Oe<=0},U=()=>t.get().bind(({trigger:j})=>{const Y=e.selection.getRng();return rF(e.dom,Y,j,o.get()).filter(({range:ie})=>P(Y,ie)).map(({range:ie})=>ie)});e.addCommand("mceAutocompleterReload",(j,Y)=>{const ie=dt(Y)?Y.fetchOptions:{};A(ie)}),e.addCommand("mceAutocompleterClose",i),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{U().each(j=>{lS(e,{range:j})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>U().isSome()),RK(e,{cancelIfNecessary:i,load:A})},iL=Es().browser.isSafari(),iF=e=>Ph(Pe.fromDom(e)),lL=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,C3=(e,t)=>W.from(e.getParent(t.container(),"details")),cL=(e,t)=>C3(e,t).isSome(),NK=(e,t)=>{const o=W.from(e.getParent(t.startContainer,"details")),r=W.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const i=o.bind(f=>W.from(e.select("summary",f)[0]));return W.some({startSummary:i,startDetails:o,endDetails:r})}else return W.none()},uL=(e,t)=>M(t).exists(o=>o.isEqual(e)),BK=(e,t)=>V(t).exists(o=>ka(o.getNode())&&T(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),dL=(e,t)=>t.startSummary.exists(o=>uL(e,o)),IK=(e,t)=>t.startSummary.exists(o=>BK(e,o)),fL=(e,t)=>t.startDetails.exists(o=>T(o,e).forall(r=>t.startSummary.exists(i=>!i.contains(e.container())&&i.contains(r.container())))),mL=(e,t,o)=>o.startDetails.exists(r=>C(e,t).forall(i=>!r.contains(i.container()))),pL=(e,t)=>{const o=t.getNode();Ft(o)||e.selection.setCursorLocation(o,t.offset())},gL=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const i=e.dom.select("summary",r)[0];i&&(o?M(i):V(i)).each(v=>pL(e,v))}else pL(e,t)},$K=(e,t)=>{const o=A=>A.contains(e.startContainer),r=A=>A.contains(e.endContainer),i=t.startSummary.exists(o),f=t.startSummary.exists(r),v=t.startDetails.forall(A=>t.endDetails.forall(P=>A!==P));return(i||f)&&!(i&&f)||v},hL=(e,t,o)=>{const{dom:r,selection:i}=e,f=e.getBody();if(o==="character"){const v=It.fromRangeStart(i.getRng()),S=r.getParent(v.container(),r.isBlock),A=C3(r,v),P=S&&r.isEmpty(S),U=G(S?.previousSibling),j=G(S?.nextSibling);return P&&(t?j:U)&&_v(!t,f,v).exists(Oe=>cL(r,Oe)&&!Oo(A,C3(r,Oe)))?!0:_v(t,f,v).fold(He,Y=>{const ie=C3(r,Y);if(cL(r,Y)&&!Oo(A,ie)){if(t||gL(e,Y,!1),S&&P){if(t&&U)return!0;if(!t&&j)return!0;gL(e,Y,t),e.dom.remove(S)}return!0}else return!1})}else return!1},vL=(e,t,o,r)=>{const f=e.selection.getRng(),v=It.fromRangeStart(f),S=e.getBody();return r==="selection"?$K(f,t):o?IK(v,t)||mL(S,v,t):dL(v,t)||fL(v,t)},LK=(e,t,o)=>NK(e.dom,e.selection.getRng()).fold(()=>hL(e,t,o),r=>vL(e,r,t,o)||hL(e,t,o)),HK=(e,t,o)=>{const r=e.selection,i=r.getNode(),f=r.getRng(),v=It.fromRangeStart(f);return t2(i)?(o==="selection"&&lL(f,i)||DN(t,v,i)?iF(i):e.undoManager.transact(()=>{const S=r.getSel();let{anchorNode:A,anchorOffset:P,focusNode:U,focusOffset:j}=S??{};const Y=()=>{Ce(A)&&Ce(P)&&Ce(U)&&Ce(j)&&S?.setBaseAndExtent(A,P,U,j)},ie=()=>{A=S?.anchorNode,P=S?.anchorOffset,U=S?.focusNode,j=S?.focusOffset},Oe=(ke,nt)=>{De(ke.childNodes,rt=>{WS(rt)&&nt.appendChild(rt)})},ge=e.dom.create("span",{"data-mce-bogus":"1"});Oe(i,ge),i.appendChild(ge),Y(),(o==="word"||o==="line")&&S?.modify("extend",t?"right":"left",o),!r.isCollapsed()&&lL(r.getRng(),ge)?iF(i):(e.execCommand(t?"ForwardDelete":"Delete"),ie(),Oe(ge,i),Y()),e.dom.remove(ge)}),!0):!1},Yv=(e,t,o)=>LK(e,t,o)||iL&&HK(e,t,o)?W.some(lt):W.none(),bL=e=>(t,o,r={})=>{const i=t.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:lt,inputType:o},v=ad(new InputEvent(e));return t.dispatch(e,{...v,...f,...r})},aE=bL("input"),iE=bL("beforeinput"),yL=Es(),wL=yL.os,CL=wL.isMacOS()||wL.isiOS(),SL=yL.browser.isFirefox(),UK=(e,t,o)=>{const r=o.keyCode===Hn.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),f=i?"character":"selection",v=S=>i?S?"word":"line":"selection";d3([{keyCode:Hn.BACKSPACE,action:Uo(Hd,e)},{keyCode:Hn.BACKSPACE,action:Uo(Vk,e,!1)},{keyCode:Hn.DELETE,action:Uo(Vk,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(Uk,e,!1)},{keyCode:Hn.DELETE,action:Uo(Uk,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(TR,e,t,!1)},{keyCode:Hn.DELETE,action:Uo(TR,e,t,!0)},{keyCode:Hn.BACKSPACE,action:Uo(AO,e,!1)},{keyCode:Hn.DELETE,action:Uo(AO,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(Yv,e,!1,f)},{keyCode:Hn.DELETE,action:Uo(Yv,e,!0,f)},...CL?[{keyCode:Hn.BACKSPACE,altKey:!0,action:Uo(Yv,e,!1,v(!0))},{keyCode:Hn.DELETE,altKey:!0,action:Uo(Yv,e,!0,v(!0))},{keyCode:Hn.BACKSPACE,metaKey:!0,action:Uo(Yv,e,!1,v(!1))}]:[{keyCode:Hn.BACKSPACE,ctrlKey:!0,action:Uo(Yv,e,!1,v(!0))},{keyCode:Hn.DELETE,ctrlKey:!0,action:Uo(Yv,e,!0,v(!0))}],{keyCode:Hn.BACKSPACE,action:Uo(jk,e,!1)},{keyCode:Hn.DELETE,action:Uo(jk,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(n3,e,!1)},{keyCode:Hn.DELETE,action:Uo(n3,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(Vi,e,!1)},{keyCode:Hn.DELETE,action:Uo(Vi,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(_y,e,!1)},{keyCode:Hn.DELETE,action:Uo(_y,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(OR,e,!1)},{keyCode:Hn.DELETE,action:Uo(OR,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(Wk,e,!1)},{keyCode:Hn.DELETE,action:Uo(Wk,e,!0)},{keyCode:Hn.BACKSPACE,action:Uo(Fy,e,!1)},{keyCode:Hn.DELETE,action:Uo(Fy,e,!0)}],o).filter(S=>e.selection.isEditable()).each(S=>{o.preventDefault(),iE(e,r).isDefaultPrevented()||(S(),aE(e,r))})},VK=(e,t,o,r)=>Gv([{keyCode:Hn.BACKSPACE,action:Uo(tR,e)},{keyCode:Hn.DELETE,action:Uo(tR,e)},...CL?[{keyCode:Hn.BACKSPACE,altKey:!0,action:Uo(Qx,e)},{keyCode:Hn.DELETE,altKey:!0,action:Uo(Qx,e)},...o?[{keyCode:SL?224:91,action:Uo(()=>(X$(e,r),Qx(e)))}]:[]]:[{keyCode:Hn.BACKSPACE,ctrlKey:!0,action:Uo(Qx,e)},{keyCode:Hn.DELETE,ctrlKey:!0,action:Uo(Qx,e)}]],t),WK=(e,t)=>{let o=!1,r=[];e.on("keydown",i=>{o=i.keyCode===Hn.BACKSPACE,r=kR(e),i.isDefaultPrevented()||UK(e,t,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||(VK(e,i,o,r),r.length=0),o=!1})},jK=(e,t)=>{const o=Pe.fromDom(e),r=Pe.fromDom(t),i=ti("span"),f=se(_s,o),v=A=>da(A)&&Br(A,"font-size").isSome(),S=[...v(r)?[r]:[],...B(r,v,f)];De(S.slice(1),A=>{Yu(A,"font-size"),Hs(A,"data-mce-style"),i(A)&&ma(A)&&Yi(A)})},ZK=e=>{for(;e;){if(_n(e)||fn(e)&&e.data&&/[\r\n\s]/.test(e.data))return W.from(Pe.fromDom(e));e=e.nextSibling}return W.none()},Xw=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const f=A=>/^(ul|ol|dl)$/.test(cs(A)),v=A=>f(A)?W.from(A):kd(A,f),S=A=>o.isEmpty(A.dom);ZK(t.firstChild).each(A=>{v(A).fold(()=>{if(S(A)){const P=Kv(A,0).element;da(P)&&!Kf(P)&&As(P,Pe.fromText(xr))}},P=>{ui(P,Pe.fromText(xr))})})}const i=o.createRng();if(t.normalize(),t.hasChildNodes()){const f=new Fa(t,t);let v=t,S;for(;S=f.current();){if(fn(S)){i.setStart(S,0),i.setEnd(S,0);break}if(r[S.nodeName.toLowerCase()]){i.setStartBefore(S),i.setEndBefore(S);break}v=S,S=f.next()}S||(i.setStart(v,0),i.setEnd(v,0))}else ka(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),om(e,i)},lE=(e,t)=>{const o=e.getRoot();let r,i=t;for(;i!==o&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){r=i;break}i=i.parentNode}return i!==o?r:o},lF=e=>W.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Dne=e=>lF(e).fold(Te(""),t=>t.nodeName.toUpperCase()),qK=e=>lF(e).filter(t=>Mu(Pe.fromDom(t))).isSome(),Qw=e=>{e.innerHTML='<br data-mce-bogus="1">'},xL=(e,t,o)=>{const r=e.dom;W.from(o.style).map(r.parseStyle).each(A=>{const U={...Ku(Pe.fromDom(t)),...A};r.setStyles(t,U)});const i=W.from(o.class).map(A=>A.split(/\s+/)),f=W.from(t.className).map(A=>at(A.split(/\s+/),P=>P!==""));Dn(i,f,(A,P)=>{const U=at(P,Y=>!Re(A,Y)),j=[...A,...U];r.setAttrib(t,"class",j.join(" "))});const v=["style","class"],S=to(o,(A,P)=>!Re(v,P));r.setAttribs(t,S)},Jw=(e,t)=>{if(rl(e).toLowerCase()===t.tagName.toLowerCase()){const r=em(e);xL(e,t,r)}},EL=(e,t,o,r,i=!0,f,v)=>{const S=e.dom,A=e.schema,P=rl(e),U=o?o.nodeName.toUpperCase():"";let j=t;const Y=A.getTextInlineElements();let ie;f||U==="TABLE"||U==="HR"?ie=S.create(f||P,v||{}):ie=o.cloneNode(!1);let Oe=ie;if(!i)S.setAttrib(ie,"style",null),S.setAttrib(ie,"class",null);else{do if(Y[j.nodeName]){if(ue(j)||ii(j))continue;const ge=j.cloneNode(!1);S.setAttrib(ge,"id",""),ie.hasChildNodes()?(ge.appendChild(ie.firstChild),ie.appendChild(ge)):(Oe=ge,ie.appendChild(ge))}while((j=j.parentNode)&&j!==r);ie.nodeName!=="LI"&&jK(ie,Oe)}return Jw(e,ie),Qw(Oe),ie},AL=(e,t)=>e.dom.getParent(t,Cg),TL=(e,t,o)=>{let r=t;for(;r&&r!==e&&G(r.nextSibling);){const i=r.parentElement;if(!i||!o(i))return Cg(i);r=i}return!1},GK=(e,t,o)=>!t&&o.nodeName.toLowerCase()===rl(e)&&e.dom.isEmpty(o)&&TL(e.getBody(),o,r=>Jn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),KK=(e,t,o)=>{const r=t(rl(e)),i=AL(e,o);i&&(e.dom.insertAfter(r,i),Xw(e,r),(o.parentElement?.childNodes?.length??0)>1&&e.dom.remove(o))},YK=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,kL=e=>e.parentNode?.firstChild===e,_L=(e,t)=>{const o=e?.parentNode;return Ce(o)&&o.nodeName===t},S3=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),cF=e=>Ce(e)&&/^(LI|DT|DD)$/.test(e.nodeName),XK=e=>S3(e)&&S3(e.parentNode),x3=e=>{const t=e.parentNode;return cF(t)?t:e},cE=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!_n(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},OL=e=>kt(qn(Ku(Pe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),QK=(e,t,o,r,i)=>{const f=e.dom,v=e.selection.getRng(),S=o.parentNode;if(o===e.getBody()||!S)return;XK(o)&&(i="LI");const A=cF(r)?OL(r):void 0;let P=cF(r)&&A?t(i,{style:OL(r)}):t(i);if(cE(o,r,!0)&&cE(o,r,!1))if(_L(o,"LI")){const U=x3(o);f.insertAfter(P,U),kL(o)?f.remove(U):f.remove(o)}else f.replace(P,o);else if(cE(o,r,!0))_L(o,"LI")?(f.insertAfter(P,x3(o)),P.appendChild(f.doc.createTextNode(" ")),P.appendChild(o)):S.insertBefore(P,o),f.remove(r);else if(cE(o,r,!1))f.insertAfter(P,x3(o)),f.remove(r);else{o=x3(o);const U=v.cloneRange();U.setStartAfter(r),U.setEndAfter(o);const j=U.extractContents();if(i==="LI"&&YK(j,"LI")){const Y=at(qe(P.children,Pe.fromDom),$e(ti("br")));P=j.firstChild,f.insertAfter(j,o),De(Y,ie=>su(Pe.fromDom(P),ie)),A&&P.setAttribute("style",A)}else f.insertAfter(j,o),f.insertAfter(P,o);f.remove(r)}Xw(e,P)},JK=e=>{De(we(Pe.fromDom(e),or),t=>{const o=t.dom;o.nodeValue=ld(o.data)})},eY=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Pne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),uF=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,tY=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,dF=(e,t)=>Ce(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",nY=(e,t,o)=>{const r=[];if(!o)return;let i=o;for(;i=i.firstChild;){if(e.isBlock(i))return;_n(i)&&!t[i.nodeName.toLowerCase()]&&r.push(i)}let f=r.length;for(;f--;)i=r[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild?.nodeValue===""||Pne(e,i))&&e.remove(i)},fF=(e,t,o)=>fn(t)?e?o===1&&t.data.charAt(o-1)===Sl?0:o:o===t.data.length-1&&t.data.charAt(o)===Sl?t.data.length:o:o,DL=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,fF(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,fF(!1,e.endContainer,e.endOffset)),t},oY=e=>{let t=e;do fn(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},mF=(e,t,o,r,i)=>{const f=e.dom,v=lE(f,r)??f.getRoot();let S=f.getParent(r,f.isBlock);if(!S||!dF(f,S)){if(S=S||v,!S.hasChildNodes()){const j=f.create(t);return Jw(e,j),S.appendChild(j),o.setStart(j,0),o.setEnd(j,0),j}let A=r;for(;A&&A.parentNode!==S;)A=A.parentNode;let P;for(;A&&!f.isBlock(A);)P=A,A=A.previousSibling;const U=P?.parentElement?.nodeName;if(P&&U&&e.schema.isValidChild(U,t.toLowerCase())){const j=P.parentNode,Y=f.create(t);for(Jw(e,Y),j.insertBefore(Y,P),A=P;A&&!f.isBlock(A);){const ie=A.nextSibling;Y.appendChild(A),A=ie}o.setStart(r,i),o.setEnd(r,i)}}return r},r1=(e,t)=>{t.normalize();const o=t.lastChild;(!o||_n(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},PL=(e,t)=>{const o=H2(e);return ct(t)?!1:J(o)?Re(pn.explode(o),t.nodeName.toLowerCase()):o},uE={insert:(e,t)=>{let o,r,i,f,v=!1;const S=e.dom,A=e.schema,P=A.getNonEmptyElements(),U=e.selection.getRng(),j=rl(e),Y=Pe.fromDom(U.startContainer),ie=Mr(Y,U.startOffset),Oe=ie.exists(Ht=>sc(Ht)&&!ku(Ht)),ge=U.collapsed&&Oe,ke=(Ht,Bn)=>EL(e,o,In,on,OA(e),Ht,Bn),nt=Ht=>{const Bn=fF(Ht,o,r);if(fn(o)&&(Ht?Bn>0:Bn<o.data.length))return!1;if((o.parentNode===In||o===In)&&v&&!Ht||Ht&&_n(o)&&o===In.firstChild)return!0;if(uF(o,"TABLE")||uF(o,"HR"))return tY(o,"BR")?!Ht:v&&!Ht||!v&&Ht;const jo=new Fa(o,In);fn(o)&&(Ht&&Bn===0?jo.prev():!Ht&&Bn===o.data.length&&jo.next());let Zo;for(;Zo=jo.current();){if(_n(Zo)){if(!Zo.getAttribute("data-mce-bogus")){const Ks=Zo.nodeName.toLowerCase();if(P[Ks]&&Ks!=="br")return!1}}else if(fn(Zo)&&!vg(Zo.data))return!1;Ht?jo.prev():jo.next()}return!0},rt=()=>{let Ht;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&fo!=="HGROUP"?Ht=ke(j):Ht=ke(),PL(e,f)&&dF(S,f)&&S.isEmpty(In,void 0,{includeZwsp:!0})?Ht=S.split(f,In):S.insertAfter(Ht,In),Xw(e,Ht),Ht};ET(S,U).each(Ht=>{U.setStart(Ht.startContainer,Ht.startOffset),U.setEnd(Ht.endContainer,Ht.endOffset)}),o=U.startContainer,r=U.startOffset;const ft=!!(t&&t.shiftKey),Lt=!!(t&&t.ctrlKey);_n(o)&&o.hasChildNodes()&&!ge&&(v=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,v&&fn(o)?r=o.data.length:r=0);const on=lE(S,o);if(!on||eY(e,o))return;ft||(o=mF(e,j,U,o,r));let In=S.getParent(o,S.isBlock)||S.getRoot();f=Ce(In?.parentNode)?S.getParent(In.parentNode,S.isBlock):null,i=In?In.nodeName.toUpperCase():"";const fo=f?f.nodeName.toUpperCase():"";if(fo==="LI"&&!Lt){const Ht=f;In=Ht,f=Ht.parentNode,i=fo}if(_n(f)&&GK(e,ft,In))return KK(e,ke,In);if(/^(LI|DT|DD)$/.test(i)&&_n(f)&&S.isEmpty(In)){QK(e,ke,f,In,j);return}if(!ge&&(In===e.getBody()||!dF(S,In)))return;const $t=In.parentNode;let At;if(ge)At=ke(j),ie.fold(()=>{As(Y,Pe.fromDom(At))},Ht=>{ui(Ht,Pe.fromDom(At))}),e.selection.setCursorLocation(At,0);else if(Eg(In))At=Yf(In),S.isEmpty(In)&&Qw(In),Jw(e,At),Xw(e,At);else if(nt(!1))At=rt();else if(nt(!0)&&$t){const Ht=It.fromRangeStart(U),Bn=aO(Ht),jo=Pe.fromDom(In),Ks=NT(jo,Ht,e.schema)?uN(jo,Ht,e.schema).bind(ya=>W.from(ya.getNode())):W.none();At=$t.insertBefore(ke(),In);const Lr=uF(In,"HR")||Bn?At:Ks.getOr(In);Xw(e,Lr)}else{const Ht=DL(U).cloneRange();Ht.setEndAfter(In);const Bn=Ht.extractContents();JK(Bn),oY(Bn),At=Bn.firstChild,In===At?Ce($t)&&S.insertAfter(Bn,$t):S.insertAfter(Bn,In),nY(S,P,At),r1(S,In),S.isEmpty(In)&&Qw(In),At.normalize(),S.isEmpty(At)?(S.remove(At),rt()):(Jw(e,At),Xw(e,At))}S.setAttrib(At,"id",""),e.dispatch("NewBlock",{newBlock:At})},fakeEventName:"insertParagraph"},pF=(e,t,o)=>{const r=new Fa(t,o);let i;const f=e.getNonEmptyElements();for(;i=r.next();)if(f[i.nodeName.toLowerCase()]||fn(i)&&i.length>0)return!0;return!1},gF=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),om(e,r)},RL=(e,t)=>{const o=e.selection,r=e.dom,i=o.getRng();let f,v=!1;ET(r,i).each(ie=>{i.setStart(ie.startContainer,ie.startOffset),i.setEnd(ie.endContainer,ie.endOffset)});let S=i.startOffset,A=i.startContainer;if(_n(A)&&A.hasChildNodes()){const ie=S>A.childNodes.length-1;A=A.childNodes[Math.min(S,A.childNodes.length-1)]||A,ie&&fn(A)?S=A.data.length:S=0}let P=r.getParent(A,r.isBlock);const U=P&&P.parentNode?r.getParent(P.parentNode,r.isBlock):null,j=U?U.nodeName.toUpperCase():"",Y=!!(t&&t.ctrlKey);j==="LI"&&!Y&&(P=U),fn(A)&&S>=A.data.length&&(pF(e.schema,A,P||r.getRoot())||(f=r.create("br"),i.insertNode(f),i.setStartAfter(f),i.setEndAfter(f),v=!0)),f=r.create("br"),dv(r,i,f),gF(e,f,v),e.undoManager.add()},rY=(e,t)=>{const o=Pe.fromTag("br");ui(Pe.fromDom(t),o),e.undoManager.add()},aY=(e,t)=>{lY(e.getBody(),t)||Ii(Pe.fromDom(t),Pe.fromTag("br"));const o=Pe.fromTag("br");Ii(Pe.fromDom(t),o),gF(e,o.dom,!1),e.undoManager.add()},iY=e=>ka(e.getNode()),lY=(e,t)=>iY(It.after(t))?!0:C(e,It.after(t)).map(o=>ka(o.getNode())).getOr(!1),FL=e=>e&&e.nodeName==="A"&&"href"in e,ML=e=>e.fold(He,FL,FL,He),cY=e=>{const t=se(iy,e),o=It.fromRangeStart(e.selection.getRng());return Yg(t,e.getBody(),o).filter(ML)},uY=(e,t)=>{t.fold(lt,se(rY,e),se(aY,e),lt)},BL={insert:(e,t)=>{const o=cY(e);o.isSome()?o.each(se(uY,e)):RL(e,t)},fakeEventName:"insertLineBreak"},IL=(e,t)=>lF(e).filter(o=>t.length>0&&_c(Pe.fromDom(o),t)).isSome(),dY=e=>IL(e,kA(e)),fY=e=>IL(e,_A(e)),cm=xa.generate([{br:[]},{block:[]},{none:[]}]),mY=(e,t)=>fY(e),$L=e=>(t,o)=>qK(t)===e,LL=(e,t)=>(o,r)=>Dne(o)===e.toUpperCase()===t,E3=e=>{const t=lE(e.dom,e.selection.getStart());return ct(t)},dE=e=>LL("pre",e),pY=()=>LL("summary",!0),eC=e=>(t,o)=>$2(t)===e,hF=(e,t)=>dY(e),A3=(e,t)=>t,gY=e=>{const t=rl(e),o=lE(e.dom,e.selection.getStart());return Ce(o)&&e.schema.isValidChild(o.nodeName,t)},HL=e=>{const t=e.selection.getRng(),o=Pe.fromDom(t.startContainer),i=Mr(o,t.startOffset).map(f=>sc(f)&&!ku(f));return t.collapsed&&i.getOr(!0)},Qm=(e,t)=>(o,r)=>kt(e,(f,v)=>f&&v(o,r),!0)?W.some(t):W.none(),hY=(e,t)=>w$([Qm([mY],cm.none()),Qm([dE(!0),E3],cm.none()),Qm([pY()],cm.br()),Qm([dE(!0),eC(!1),A3],cm.br()),Qm([dE(!0),eC(!1)],cm.block()),Qm([dE(!0),eC(!0),A3],cm.block()),Qm([dE(!0),eC(!0)],cm.br()),Qm([$L(!0),A3],cm.br()),Qm([$L(!0)],cm.block()),Qm([hF],cm.br()),Qm([A3],cm.br()),Qm([gY],cm.block()),Qm([HL],cm.block())],[e,!!(t&&t.shiftKey)]).getOr(cm.none()),T3=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||_N(t),!(Ce(o)&&iE(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Ce(o)&&aE(t,e.fakeEventName)))},zL=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>T3(BL,e,t),r=()=>T3(uE,e,t),i=hY(e,t);switch(L2(e)){case"linebreak":i.fold(o,o,lt);break;case"block":i.fold(r,r,lt);break;case"invert":i.fold(r,o,lt);break;default:i.fold(o,r,lt);break}},UL=Es(),vY=UL.os.isiOS()&&UL.browser.isSafari(),vF=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),ZB(e.undoManager),e.undoManager.transact(()=>{zL(e,t)}))},k3=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(fn(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},VL=e=>{let t=W.none();const o=i=>{t=W.some(i.selection.getBookmark()),i.undoManager.add()},r=(i,f)=>{i.undoManager.undo(),t.fold(lt,v=>i.selection.moveToBookmark(v)),vF(i,f),t=W.none()};e.on("keydown",i=>{i.keyCode===Hn.ENTER&&(vY&&k3(e.selection.getRng())?o(e):vF(e,i))}),e.on("keyup",i=>{i.keyCode===Hn.ENTER&&t.each(()=>r(e,i))})},WL=(e,t,o)=>{const r=ps.os.isMacOS()||ps.os.isiOS();Gv([{keyCode:Hn.END,action:Uo(y8,e,!0)},{keyCode:Hn.HOME,action:Uo(y8,e,!1)},...r?[]:[{keyCode:Hn.HOME,action:Uo(l3,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Hn.END,action:Uo(l3,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Hn.END,action:Uo($R,e,!0)},{keyCode:Hn.HOME,action:Uo($R,e,!1)},{keyCode:Hn.END,action:Uo(qv,e,!0,t)},{keyCode:Hn.HOME,action:Uo(qv,e,!1,t)}],o).each(i=>{o.preventDefault()})},bY=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||WL(e,t,o)})},yY=e=>{e.on("input",t=>{t.isComposing||yN(e)})},_3=Es(),wY=(e,t,o)=>{Gv([{keyCode:Hn.PAGE_UP,action:Uo(qv,e,!1,t)},{keyCode:Hn.PAGE_DOWN,action:Uo(qv,e,!0,t)}],o)},bF=e=>e.stopImmediatePropagation(),jL=e=>e.keyCode===Hn.PAGE_UP||e.keyCode===Hn.PAGE_DOWN,yF=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",bF,!0):!o&&e.get()&&t.off("NodeChange",bF),e.set(o)},CY=(e,t)=>{if(_3.os.isMacOS())return;const o=Kn(!1);e.on("keydown",r=>{jL(r)&&yF(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||wY(e,t,r),jL(r)&&o.get()&&(yF(o,e,!1),e.nodeChanged())})},ZL=(e,t)=>e===t||e.contains(t),SY=(e,t)=>!ZL(e.getBody(),t.startContainer)||!ZL(e.getBody(),t.endContainer)?!0:Gz(e.dom,t),xY=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ve(t.getTargetRanges(),o=>!SY(e,o)))&&t.preventDefault()})},qL=(e,t)=>{const o=t.container(),r=t.offset();return fn(o)?(o.insertData(r,e),W.some(It(o,r+e.length))):ty(t).map(i=>{const f=Pe.fromText(e);return t.isAtEnd()?Ii(i,f):ui(i,f),It(f.dom,e.length)})},By=se(qL,xr),GL=se(qL," "),EY=(e,t,o)=>yU(e,t,o)?By(t):GL(t),KL=e=>t=>t.fold(o=>T(e.dom,It.before(o)),o=>M(o),o=>V(o),o=>C(e.dom,It.after(o))),AY=(e,t,o)=>r=>yU(e,r,o)?By(t):GL(t),YL=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},TY=(e,t)=>e.isEditable(e.getParent(t,"summary")),XL=e=>{const t=It.fromRangeStart(e.selection.getRng()),o=Pe.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=se(iy,e),i=It.fromRangeStart(e.selection.getRng());return Yg(r,e.getBody(),i).bind(KL(o)).map(f=>()=>AY(o,t,e.schema)(f).each(YL(e)))}else return W.none()},kY=e=>{const t=()=>{const o=Pe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=It.fromRangeStart(e.selection.getRng());EY(o,r,e.schema).each(YL(e))};return $s(ps.browser.isFirefox()&&e.selection.isEditable()&&TY(e.dom,e.selection.getRng().startContainer),t)},_Y=(e,t)=>{d3([{keyCode:Hn.SPACEBAR,action:Uo(XL,e)},{keyCode:Hn.SPACEBAR,action:Uo(kY,e)}],t).each(o=>{t.preventDefault(),iE(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),aE(e,"insertText",{data:" "}))})},Fne=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||_Y(e,t)})},O3=e=>ZA(e)?[{keyCode:Hn.TAB,action:Uo(nL,e,!0)},{keyCode:Hn.TAB,shiftKey:!0,action:Uo(nL,e,!1)}]:[],OY=(e,t)=>{Gv([...O3(e)],t).each(o=>{t.preventDefault()})},DY=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||OY(e,t)})},PY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),FK(e),Wg(e))return Kn(null);{const t=oG(e);return xY(e),f8(e),gK(e,t),WK(e,t),VL(e),Fne(e),yY(e),DY(e),bY(e,t),CY(e,t),t}},RY=(e,t)=>{const o=zx(e);o===null||OP(e,o)||e.undoManager.transact(()=>{dt(t.styles)&&e.dom.setStyles(o,t.styles),dt(t.attrs)&&Io(t.attrs,(r,i)=>e.dom.setAttrib(o,i,r))})},wF=(e,t)=>()=>{const o=zx(e);return Ce(o)&&o.nodeName===t},FY=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{zP(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{zP(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{zP(e,"DL",o)}),e.addCommand("RemoveList",()=>{Ik(e)}),e.addCommand("mceListUpdate",(t,o)=>{dt(o)&&RY(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{WP(e,o)}),e.addQueryStateHandler("InsertUnorderedList",wF(e,"UL")),e.addQueryStateHandler("InsertOrderedList",wF(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",wF(e,"DL"))},MY=e=>{e.on("keydown",t=>{t.keyCode===Hn.BACKSPACE?WP(e,!1)&&t.preventDefault():t.keyCode===Hn.DELETE&&WP(e,!0)&&t.preventDefault()})},QL=e=>e.type===3,JL=e=>e.length===0,NY=e=>{const t=(i,f)=>{const v=vc.create("li");De(i,S=>v.append(S)),f?e.insert(v,f,!0):e.append(v)},o=(i,f)=>QL(f)?[...i,f]:!JL(i)&&!QL(f)?(t(i,f),[]):i,r=kt(e.children(),o,[]);JL(r)||t(r)},BY=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>De(o,NY))})},IY=e=>{e.on("keydown",t=>{t.keyCode!==Hn.TAB||Hn.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?Wx(e):JI(e))&&t.preventDefault()})})},$Y=e=>{kS(e)&&IY(e)},Qr=e=>{MY(e),FY(e),BY(e),$Y(e)};class LY{editor;lastPath=[];constructor(t){this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",i=>{const f=t.selection.getRng(),v={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(i.type==="nodechange"||!i0(v,o))&&t.dispatch("SelectionChange"),o=v}),t.on("contextmenu",()=>{yT(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const i=t.selection.getStart(!0);i&&zS(t)&&!r.isSameElementPath(i)&&t.dom.isChildOf(i,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",i=>{!i.isDefaultPrevented()&&zS(t)&&(t.selection.getNode().nodeName==="IMG"?$p.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,r=o.selection;let i;if(o.initialized&&r&&!LA(o)&&!tm(o)){const f=o.getBody();i=r.getStart(!0)||f,(i.ownerDocument!==o.getDoc()||!o.dom.isChildOf(i,f))&&(i=f);const v=[];o.dom.getParent(i,S=>S===f?!0:(v.push(S),!1)),o.dispatch("NodeChange",{...t,element:i,parents:v})}}isSameElementPath(t){let o;const r=this.editor,i=Bo(r.dom.getParents(t,ut,r.getBody()));if(i.length===this.lastPath.length){for(o=i.length;o>=0&&i[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const CF="x-tinymce/html",D3=Te(CF),fE="<!-- "+CF+" -->",e7=e=>fE+e,HY=e=>e.replace(fE,""),t7=e=>e.indexOf(fE)!==-1,zY=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),n7=(e,t)=>{let o="<"+e;const r=qn(t,(i,f)=>f+'="'+fc.encodeAllRaw(i)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},P3=(e,t,o)=>{const r=e.split(/\n\n/),i=n7(t,o),f="</"+t+">",v=qe(r,A=>A.split(/\n/).join("<br />")),S=A=>i+A+f;return v.length===1?v[0]:qe(v,S).join("")},o7="%MCEPASTEBIN%",UY=(e,t)=>{const{dom:o,selection:r}=e,i=e.getBody();t.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},o7);ps.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(i,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",v=>{v.stopPropagation()}),f.focus(),r.select(f,!0)},SF=(e,t)=>{const o=e.dom;if(xF(e)){let r;const i=t.get();for(;r=xF(e);)o.remove(r),o.unbind(r);i&&e.selection.setRng(i)}t.set(null)},xF=e=>e.dom.get("mcepastebin"),VY=e=>Ce(e)&&e.id==="mcepastebin",WY=e=>{const t=e.dom,o=(v,S)=>{v.appendChild(S),t.remove(S,!0)},[r,...i]=at(e.getBody().childNodes,VY);De(i,v=>{o(r,v)});const f=t.select("div[id=mcepastebin]",r);for(let v=f.length-1;v>=0;v--){const S=t.create("div");r.insertBefore(S,f[v]),o(S,f[v])}return r?r.innerHTML:""},s7=e=>e===o7,r7=e=>{const t=Kn(null);return{create:()=>UY(e,t),remove:()=>SF(e,t),getEl:()=>xF(e),getHtml:()=>WY(e),getLastRng:t.get}},a7=(e,t)=>(pn.each(t,o=>{it(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),jY=e=>{const t=gl(),o=Ew({},t);let r="";const i=t.getVoidElements(),f=pn.makeMap("script noscript style textarea video audio iframe object"," "),v=t.getBlockElements(),S=A=>{const P=A.name,U=A;if(P==="br"){r+=`
`;return}if(P!=="wbr"){if(i[P]&&(r+=" "),f[P]){r+=" ";return}if(A.type===3&&(r+=A.value),!(A.name in t.getVoidElements())){let j=A.firstChild;if(j)do S(j);while(j=j.next)}v[P]&&U.next&&(r+=`
`,P==="p"&&(r+=`
`))}};return e=a7(e,[/<!\[[^\]]+\]>/g]),S(o.parse(e)),r},EF=e=>(e=a7(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,i)=>!r&&!i?" ":xr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),ZY=e=>{let t=0;return()=>e+t++},qY=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return pn.hasOwn(o,t)?"image/"+o[t]:"image/"+t},GY=(e,t)=>{const o=Ew({sanitize:X2(e),sandbox_iframes:Av(e),sandbox_iframes_exclusions:Pg(e),convert_unsafe_embeds:Rg(e)},e.schema);o.addNodeFilter("meta",i=>{pn.each(i,f=>{f.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return Ov({validate:!0},e.schema).serialize(r)},R3=(e,t)=>({content:e,cancelled:t}),KY=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),i=yA(e,r,o);return R3(i.node.innerHTML,i.isDefaultPrevented())},i7=(e,t,o)=>{const r=bA(e,t,o),i=GY(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?KY(e,i,o):R3(i,r.isDefaultPrevented())},YY=(e,t,o)=>i7(e,t,o),mE=(e,t)=>(e.insertContent(t,{merge:UA(e),paste:!0}),!0),AF=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),l7=(e,t)=>AF(t)&&Ve(TS(e),o=>Ya(t.toLowerCase(),`.${o.toLowerCase()}`)),XY=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),QY=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),JY=(e,t,o)=>!e.selection.isCollapsed()&&AF(t)?QY(e,t,o):!1,eX=(e,t,o)=>l7(e,t)?XY(e,t,o):!1,c7=(e,t)=>{pn.each([JY,eX,mE],o=>!o(e,t,mE))},tX=(e,t,o)=>{o||!CS(e)?mE(e,t):c7(e,t)},u7=ZY("mceclip"),F3=e=>{const t=Kw();return U8(t,e),g3(t),t},M3=(e,t,o,r,i)=>{const f=YY(e,t,o);if(!f.cancelled){const v=f.content,S=()=>tX(e,v,r);i?iE(e,"insertFromPaste",{dataTransfer:F3(v)}).isDefaultPrevented()||(S(),aE(e,"insertFromPaste")):S()}},tC=(e,t,o,r)=>{const i=o||t7(t);M3(e,HY(t),i,!1,r)},TF=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),i=U0(r,p_(e)),f=P3(i,rl(e),em(e));M3(e,f,!1,!0,o)},d7=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Jm=(e,t)=>t in e&&e[t].length>0,f7=e=>Jm(e,"text/html")||Jm(e,"text/plain"),nC=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(o)?e.dom.encode(o[1]):void 0},pE=(e,t,o,r)=>{const i=u7(),f=DA(e)&&Ce(o.name),v=f?nC(e,o.name):i,S=f?o.name:void 0,A=t.create(i,o,r,v,S);return t.add(A),A},nX=(e,t)=>{YO(t.uri).each(({data:o,type:r,base64Encoded:i})=>{const f=i?o:btoa(o),v=t.file,S=e.editorUpload.blobCache,P=S.getByData(f,r)??pE(e,S,v,f);tC(e,`<img src="${P.blobUri()}">`,!1,!0)})},oX=e=>e.type==="paste",oC=e=>Promise.all(qe(e,t=>XO(t).then(o=>({file:t,uri:o})))),sX=e=>{const t=TS(e);return o=>Do(o.type,"image/")&&Ve(t,r=>qY(r)===o.type)},kF=(e,t)=>{const o=t.items?vo(po(t.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],r=t.files?po(t.files):[];return at(o.length>0?o:r,sX(e))},m7=(e,t,o)=>{const r=oX(t)?t.clipboardData:t.dataTransfer;if(Y2(e)&&r){const i=kF(e,r);if(i.length>0)return t.preventDefault(),oC(i).then(f=>{o&&e.selection.setRng(o),De(f,v=>{nX(e,v)})}),!0}return!1},p7=e=>ps.os.isAndroid()&&e.clipboardData?.items?.length===0,g7=e=>Hn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,gE=(e,t,o,r,i)=>{let f=EF(o);const v=Jm(t,D3())||t7(o),S=!v&&zY(f),A=AF(f);(s7(f)||!f.length||S&&!A)&&(r=!0),(r||A)&&(Jm(t,"text/plain")&&S?f=t["text/plain"]:f=jY(f)),!s7(f)&&(r?TF(e,f,i):tC(e,f,v,i))},h7=(e,t,o)=>{let r;const i=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",f=>{g7(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||p7(f))return;const v=o.get()==="text"||r;r=!1;const S=d7(f.clipboardData);!f7(S)&&m7(e,f,i())||(Jm(S,"text/html")?(f.preventDefault(),gE(e,S,S["text/html"],v,!0)):Jm(S,"text/plain")&&Jm(S,"text/uri-list")?(f.preventDefault(),gE(e,S,S["text/plain"],v,!0)):(t.create(),$p.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),gE(e,S,A,v,!1)},0)))})},rX=e=>{const t=i=>Do(i,"webkit-fake-url"),o=i=>Do(i,"data:"),r=i=>i.data?.paste===!0;e.parser.addNodeFilter("img",(i,f,v)=>{if(!Y2(e)&&r(v))for(const S of i){const A=S.attr("src");J(A)&&!S.attr("data-mce-object")&&A!==ps.transparentSrc&&(t(A)||!SS(e)&&o(A))&&S.remove()}})},aX=(e,t,o)=>{h7(e,t,o),rX(e)},v7=(e,t)=>{t.get()==="text"?(t.set("html"),wA(e,!1)):(t.set("text"),wA(e,!0)),e.focus()},iX=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{v7(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&tC(e,r.html,r.internal,!1),r.text&&TF(e,r.text,!1)})},b7=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(D3(),t),!0}catch{return!1}else return!1},N3=(e,t,o,r)=>{b7(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},_F=e=>(t,o)=>{const{dom:r,selection:i}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),v=r.create("div",{contenteditable:"true"},t);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(v),r.add(e.getBody(),f);const S=i.getRng();v.focus();const A=r.createRng();A.selectNodeContents(v),i.setRng(A),$p.setEditorTimeout(e,()=>{i.setRng(S),r.remove(f),o()},0)},y7=e=>({html:e7(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),lX=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),w7=e=>!e.selection.isCollapsed()||lX(e),C7=(e,t)=>o=>{!o.isDefaultPrevented()&&w7(e)&&e.selection.isEditable()&&N3(o,y7(e),_F(e),()=>{if(ps.browser.isChromium()||ps.browser.isFirefox()){const r=e.selection.getRng();$p.setEditorTimeout(e,()=>{e.selection.setRng(r),Gp(e,t)},0)}else Gp(e,t)})},OF=e=>t=>{!t.isDefaultPrevented()&&w7(e)&&N3(t,y7(e),_F(e),lt)},cX=(e,t)=>{e.on("cut",C7(e,t)),e.on("copy",OF(e))},DF=(e,t)=>Ig.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),S7=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},x7=(e,t)=>{t&&e.selection.setRng(t),e.focus()},E7=e=>Ve(e.files,t=>/^image\//.test(t.type)),uX=(e,t,o,r)=>{const i=e.getParent(o,v=>Ma(t,v));if(!G(e.getParent(o,"summary")))return!0;if(i&&Jn(r,"text/html")){const v=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!G(v.querySelector(i.nodeName.toLowerCase()))}else return!1},dX=e=>{e.on("input",t=>{const o=r=>G(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=at(e.dom.select("details"),o);De(r,i=>{ka(i.firstChild)&&i.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Dh().dom),i.prepend(f)})}})},B3=(e,t)=>{oM(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Y2(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&E7(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=DF(e,o);if(ct(r))return;const i=d7(o.dataTransfer),f=Jm(i,D3());if((!f7(i)||S7(i))&&m7(e,o,r))return;const v=i[D3()],S=v||i["text/html"]||i["text/plain"],A=uX(e.dom,e.schema,r.startContainer,i),P=t.get();P&&!A||S&&(o.preventDefault(),$p.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(v||P&&A)&&e.execCommand("Delete"),x7(e,r);const U=EF(S);i["text/html"]?tC(e,U,f,!0):TF(e,U,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{Y2(e)&&!t.get()&&(o.preventDefault(),x7(e,DF(e,o))),o.type==="dragend"&&t.set(!1)}),dX(e)},fX=e=>{const t=i=>f=>{i(e,f)},o=c_(e);ce(o)&&e.on("PastePreProcess",t(o));const r=u_(e);ce(r)&&e.on("PastePostProcess",t(r))},mX=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},A7=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,PF=e=>pn.trim(e).replace(A7,rd).toLowerCase(),pX=(e,t,o)=>{const r=wS(e);if(o||r==="all"||!f_(e))return t;const i=r?r.split(/[, ]/):[];if(i&&r!=="none"){const f=e.dom,v=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(S,A,P,U)=>{const j=f.parseStyle(f.decode(P)),Y={};for(let Oe=0;Oe<i.length;Oe++){const ge=j[i[Oe]];let ke=ge,nt=f.getStyle(v,i[Oe],!0);/color/.test(i[Oe])&&(ke=PF(ke),nt=PF(nt)),nt!==ke&&(Y[i[Oe]]=ge)}const ie=f.serializeStyle(Y,"span");return ie?A+' style="'+ie+'"'+U:A+U})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,v,S,A)=>v+' style="'+S+'"'+A),t},gX=e=>{(ps.browser.isChromium()||ps.browser.isSafari())&&mX(e,pX)},hX=(e,t)=>{const o=Kn(!1),r=Kn(m_(e)?"text":"html"),i=r7(e);gX(e),iX(e,r),fX(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),e.on("PreInit",()=>{cX(e,t),B3(e,o),aX(e,i,r)})},vX=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},bX=e=>{e.parser.addNodeFilter("details",t=>{const o=Ev(e);De(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=Dg(e);De(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},T7=e=>{vX(e),bX(e)},yX=ka,k7=fn,wX=e=>sr(e.dom),CX=e=>Du(e.dom),_7=e=>t=>_s(Pe.fromDom(e),t),SX=(e,t,o)=>wr(Pe.fromDom(e),r=>CX(r)||o.isBlock(cs(r)),_7(t)).getOr(Pe.fromDom(t)).dom,O7=(e,t)=>wr(Pe.fromDom(e),wX,_7(t)),D7=(e,t,o)=>{const r=new Fa(e,t),i=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let v=o?e:i();v&&!yX(v);v=i())Ba(v)&&(f=v);return f},P7=(e,t,o)=>{const i=It.fromRangeStart(e).getNode(),f=SX(i,t,o),v=D7(i,f,!1),S=D7(i,f,!0),A=document.createRange();return O7(v,f).fold(()=>{k7(v)?A.setStart(v,0):A.setStartBefore(v)},P=>A.setStartBefore(P.dom)),O7(S,f).fold(()=>{k7(S)?A.setEnd(S,S.data.length):A.setEndAfter(S)},P=>A.setEndAfter(P.dom)),A},R7=e=>{const t=P7(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(KO(t))},xX=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),R7(e))})};var sC;(function(e){e.Before="before",e.After="after"})(sC||(sC={}));const EX=(e,t)=>Math.abs(e.left-t),hE=(e,t)=>Math.abs(e.right-t),AX=(e,t)=>e>=t.top&&e<=t.bottom,TX=(e,t)=>e.top<t.bottom&&e.bottom>t.top,F7=(e,t)=>{const o=KE(e,t)/Math.min(e.height,t.height);return TX(e,t)&&o>.5},kX=(e,t)=>{const o=at(e,r=>AX(t,r));return Ab(o).fold(()=>[[],e],r=>{const{pass:i,fail:f}=Tt(e,v=>F7(v,r));return[i,f]})},_X=(e,t)=>({node:e.node,position:EX(e,t)<hE(e,t)?sC.Before:sC.After}),OX=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),RF=(e,t,o,r)=>{const i=j=>Ba(j.node)?W.some(j):_n(j.node)?RF(po(j.node.childNodes),t,o,!1):W.none(),f=(j,Y,ie)=>i(Y).filter(Oe=>Math.abs(ie(j,t,o)-ie(Oe,t,o))<2&&fn(Oe.node)),v=(j,Y)=>{const ie=Xs(j,(Oe,ge)=>Y(Oe,t,o)-Y(ge,t,o));return rs(ie,i).map(Oe=>r&&!fn(Oe.node)&&ie.length>1?f(Oe,ie[1],Y).getOr(Oe):Oe)},[S,A]=kX(hR(e),o),{pass:P,fail:U}=Tt(A,j=>j.top<o);return v(S,OX).orThunk(()=>v(U,IC)).orThunk(()=>v(P,IC))},DX=(e,t,o,r)=>{const i=(f,v)=>{const S=P=>_n(P)&&P.classList.contains("mce-drag-container"),A=at(f.dom.childNodes,$e(S));return v.fold(()=>RF(A,o,r,!0),P=>{const U=at(A,j=>j!==P.dom);return RF(U,o,r,!0)}).orThunk(()=>(_s(f,e)?W.none():rc(f)).bind(U=>i(U,W.some(f))))};return i(t,W.none())},I3=(e,t,o)=>{const r=Pe.fromDom(e),i=xu(r),v=Pe.fromPoint(i,t,o).filter(S=>oc(r,S)).getOr(r);return DX(r,v,t,o)},FF=(e,t,o)=>I3(e,t,o).filter(r=>Xb(r.node)).map(r=>_X(r,t)),MF=e=>{const t=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,i=o.defaultView;return{top:t.top+(i?.scrollY??0)-r.clientTop,left:t.left+(i?.scrollX??0)-r.clientLeft}},PX=e=>e.inline?MF(e.getBody()):{left:0,top:0},RX=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},FX=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:i},Mne=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=MF(e.getContentAreaContainer()),r=FX(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},MX=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),NX=(e,t)=>MX(PX(e),RX(e),Mne(e,t)),$3=e=>({target:e,srcElement:e}),L3=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...$3(o)}),BX=(e,t,o)=>{const r=Mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:lt,stopImmediatePropagation:lt,stopPropagation:lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...$3(t)}},IX=(e,t)=>{const o=eK(e);return t==="dragstart"?(N8(o),ZR(o)):t==="drop"?(YG(o),g3(o)):(XG(o),qR(o)),o},$X=(e,t,o,r)=>{const i=IX(o,e);return Ft(r)?BX(e,t,i):L3(e,r,t,i)},vE=32,LX=100,rC=8,bE=16,M7=sr,HX=$C(M7,Du),N7=(e,t,o)=>M7(o)&&o!==t&&e.isEditable(o.parentElement),zX=(e,t,o)=>ct(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Nne=(e,t,o,r)=>{const i=e.dom,f=t.cloneNode(!0);i.setStyles(f,{width:o,height:r}),i.setAttrib(f,"data-mce-selected",null);const v=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),i.setStyles(f,{margin:0,boxSizing:"border-box"}),v.appendChild(f),v},UX=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},H3=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},B7=H3("left",-vE),NF=H3("left",vE),z3=H3("top",-vE),yE=H3("top",vE),I7=(e,t,o,r,i,f,v,S,A,P,U,j)=>{let Y=0,ie=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>i&&(Y=t.pageX+o-i),t.pageY+r>f&&(ie=t.pageY+r-f),e.style.width=o-Y+"px",e.style.height=r-ie+"px";const Oe=A.clientHeight,ge=A.clientWidth,ke=v+A.getBoundingClientRect().top,nt=S+A.getBoundingClientRect().left;U.on(rt=>{rt.intervalId.clear(),rt.dragging&&j&&(v+rC>=Oe?rt.intervalId.set(yE(P)):v-rC<=0?rt.intervalId.set(z3(P)):S+rC>=ge?rt.intervalId.set(NF(P)):S-rC<=0?rt.intervalId.set(B7(P)):ke+bE>=window.innerHeight?rt.intervalId.set(yE(window)):ke-bE<=0?rt.intervalId.set(z3(window)):nt+bE>=window.innerWidth?rt.intervalId.set(NF(window)):nt-bE<=0&&rt.intervalId.set(B7(window)))})},$7=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},VX=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);$7(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Ph(Pe.fromDom(o))},WX=e=>e.button===0,jX=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),L7=(e,t)=>o=>{if(WX(o)){const r=vn(t.dom.getParents(o.target),HX).getOr(null);if(Ce(r)&&N7(t.dom,t.getBody(),r)){const i=t.dom.getPos(r),f=t.getBody(),v=t.getDoc().documentElement;e.set({element:r,dataTransfer:Kw(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?f.scrollWidth:v.offsetWidth)-2,maxY:(t.inline?f.scrollHeight:v.offsetHeight)-2,relX:o.pageX-i.x,relY:o.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:Nne(t,r,r.offsetWidth,r.offsetHeight),intervalId:br(LX)})}}},ZX=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),FF(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const i=e._selectionOverrides.showCaret(1,r.node,r.position===sC.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,o)})},aC=(e,t,o,r,i)=>{t==="dragstart"&&U8(r,e.dom.getOuterHTML(o));const f=$X(t,o,r,i);return e.dispatch(t,f)},qX=(e,t)=>{const o=An((i,f)=>ZX(t,i,f),0);t.on("remove",o.cancel);const r=e;return i=>e.on(f=>{const v=Math.max(Math.abs(i.screenX-f.screenX),Math.abs(i.screenY-f.screenY));if(!f.dragging&&v>10){const S=aC(t,"dragstart",f.element,f.dataTransfer,i);if(Ce(S.dataTransfer)&&(f.dataTransfer=S.dataTransfer),S.isDefaultPrevented())return;f.dragging=!0,t.focus()}if(f.dragging){const S=i.currentTarget===t.getDoc().documentElement,A=jX(f,NX(t,i));UX(f.ghost,t.getBody()),I7(f.ghost,A,f.width,f.height,f.maxX,f.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),r,S),o.throttle(i.clientX,i.clientY)}})},GX=e=>{const t=e.getSel();if(Ce(t)){const r=t.getRangeAt(0).startContainer;return fn(r)?r.parentNode:r}else return null},BF=(e,t)=>o=>{e.on(r=>{if(r.intervalId.clear(),r.dragging){if(zX(t,GX(t.selection),r.element)){const i=t.getDoc().elementFromPoint(o.clientX,o.clientY)??t.getBody();aC(t,"drop",i,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{VX(t.dom,r.element),z8(r.dataTransfer).each(v=>t.insertContent(v)),t._selectionOverrides.hideFakeCaret()})}aC(t,"dragend",t.getBody(),r.dataTransfer,o)}}),H7(e)},IF=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>aC(t,"dragend",r.element,r.dataTransfer),i=>aC(t,"dragend",r.element,r.dataTransfer,i))}),H7(e)},Bne=(e,t)=>o=>IF(e,t,W.some(o)),H7=e=>{e.on(t=>{t.intervalId.clear(),$7(t.ghost)}),e.clear()},z7=e=>{const t=Ls(),o=Ns.DOM,r=document,i=L7(t,e),f=qX(t,e),v=BF(t,e),S=Bne(t,e);e.on("mousedown",i),e.on("mousemove",f),e.on("mouseup",v),o.bind(r,"mousemove",f),o.bind(r,"mouseup",S),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",S)}),e.on("keydown",A=>{A.keyCode===Hn.ESC&&IF(t,e,W.none())})},KX=e=>{const t=i=>{if(!i.isDefaultPrevented()){const f=i.dataTransfer;f&&(Re(f.types,"Files")||f.files.length>0)&&(i.preventDefault(),i.type==="drop"&&kk(e,"Dropped file type is not supported"))}},o=i=>{ST(e,i.target)&&t(i)},r=()=>{const i=Ns.DOM,f=e.dom,v=document,S=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];De(A,P=>{i.bind(v,P,o),f.bind(S,P,t)}),e.on("remove",()=>{De(A,P=>{i.unbind(v,P,o),f.unbind(S,P,t)})})};e.on("init",()=>{$p.setEditorTimeout(e,r,0)})},$F=e=>{z7(e),r_(e)&&KX(e)},YX=e=>{const t=An(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=y0(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},XX=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(od(o)){const r=$g(e.getBody(),o),i=sr(r)?r:o;e.selection.getNode()!==i&&e1(e,i).each(f=>e.selection.setRng(f))}})})},wE=sr,LF=(e,t)=>$g(e.getBody(),t),U3=e=>{const t=e.selection,o=e.dom,r=e.getBody(),i=Xo(e,r,o.isBlock,()=>hw(e)),f="sel-"+o.uniqueId(),v="data-mce-selected";let S;const A=$t=>Ce($t)&&o.hasClass($t,"mce-offscreen-selection"),P=$t=>$t!==r&&(wE($t)||od($t))&&o.isChildOf($t,r)&&o.isEditable($t.parentNode),U=$t=>{$t&&t.setRng($t)},j=($t,At,Ht,Bn=!0)=>e.dispatch("ShowCaret",{target:At,direction:$t,before:Ht}).isDefaultPrevented()?null:(Bn&&t.scrollIntoView(At,$t===-1),i.show(Ht,At)),Y=$t=>{$t.hasAttribute("data-mce-caret")&&(Yf($t),t.scrollIntoView($t))},ie=()=>{e.on("click",At=>{o.isEditable(At.target)||(At.preventDefault(),e.focus())}),e.on("blur NewBlock",on),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",At=>{const Ht=At.target,Bn=LF(e,Ht);wE(Bn)?(At.preventDefault(),e1(e,Bn).each(Lt)):P(Ht)&&e1(e,Ht).each(Lt)},!0),e.on("mousedown",At=>{const Ht=At.target;if(Ht!==r&&Ht.nodeName!=="HTML"&&!o.isChildOf(Ht,r)||!Bj(e,At.clientX,At.clientY))return;on(),fo();const Bn=LF(e,Ht);wE(Bn)?(At.preventDefault(),e1(e,Bn).each(Lt)):FF(r,At.clientX,At.clientY).each(jo=>{At.preventDefault();const Zo=j(1,jo.node,jo.position===sC.Before,!1);U(Zo),Vl(Bn)?Bn.focus():e.getBody().focus()})}),e.on("keypress",At=>{Hn.modifierPressed(At)||wE(t.getNode())&&At.preventDefault()}),e.on("GetSelectionRange",At=>{let Ht=At.range;if(S){if(!S.parentNode){S=null;return}Ht=Ht.cloneRange(),Ht.selectNode(S),At.range=Ht}}),e.on("focusin",At=>{if(!od(At.target)&&e.getBody().contains(At.target)&&At.target!==e.getBody()&&!e.dom.isEditable(At.target.parentNode)){i.isShowing()&&i.hide(),At.target.contains(e.selection.getNode())||(e.selection.select(At.target,!0),e.selection.collapse(!0));const Ht=Lt(e.selection.getRng(),!0);Ht&&e.selection.setRng(Ht)}}),e.on("SetSelectionRange",At=>{At.range=ke(At.range);const Ht=Lt(At.range,At.forward);Ht&&(At.range=Ht)});const $t=At=>_n(At)&&At.id==="mcepastebin";e.on("AfterSetSelectionRange",At=>{const Ht=At.range,Bn=Ht.startContainer.parentElement;!ge(Ht)&&!$t(Bn)&&fo(),A(Bn)||on()}),$F(e),YX(e),XX(e)},Oe=$t=>nf($t)||Nd($t)||Rh($t),ge=$t=>Oe($t.startContainer)||Oe($t.endContainer),ke=$t=>{const At=e.schema.getVoidElements(),Ht=o.createRng(),Bn=$t.startContainer,jo=$t.startOffset,Zo=$t.endContainer,Ks=$t.endOffset;return Jn(At,Bn.nodeName.toLowerCase())?jo===0?Ht.setStartBefore(Bn):Ht.setStartAfter(Bn):Ht.setStart(Bn,jo),Jn(At,Zo.nodeName.toLowerCase())?Ks===0?Ht.setEndBefore(Zo):Ht.setEndAfter(Zo):Ht.setEnd(Zo,Ks),Ht},nt=($t,At)=>{const Ht=Pe.fromDom(e.getBody()),Bn=e.getDoc(),jo=ed(Ht,"#"+f).getOrThunk(()=>{const Lr=Pe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Bn);return Nr(Lr,"id",f),As(Ht,Lr),Lr}),Zo=o.createRng();Wa(jo),wl(jo,[Pe.fromText(xr,Bn),Pe.fromDom(At),Pe.fromText(xr,Bn)]),Zo.setStart(jo.dom.firstChild,1),Zo.setEnd(jo.dom.lastChild,0),Ol(jo,{top:o.getPos($t,e.getBody()).y+"px"}),ug(jo);const Ks=t.getSel();return Ks&&(Ks.removeAllRanges(),Ks.addRange(Zo)),Zo},rt=$t=>{const At=e.getDoc().createElement("div");At.style.width=$t.style.width,At.style.height=$t.style.height;const Ht=$t.getAttribute("width");Ht&&At.setAttribute("width",Ht);const Bn=$t.getAttribute("height");return Bn&&At.setAttribute("height",Bn),At},ft=$t=>{const At=vh($t)?rt($t):$t.cloneNode(!0),Ht=e.dispatch("ObjectSelected",{target:$t,targetClone:At});if(Ht.isDefaultPrevented())return null;const Bn=nt($t,Ht.targetClone),jo=Pe.fromDom($t);return De(Ot(Pe.fromDom(e.getBody()),`*[${v}]`),Zo=>{_s(jo,Zo)||Hs(Zo,v)}),o.getAttrib($t,v)||$t.setAttribute(v,"1"),S=$t,fo(),Bn},Lt=($t,At)=>{if(!$t)return null;if($t.collapsed){if(!ge($t)){const Zo=At?1:-1,Ks=Wh(Zo,r,$t),Lr=Ks.getNode(!At);if(Ce(Lr)){if(Xb(Lr))return j(Zo,Lr,At?!Ks.isAtEnd():!1,!1);if(Mm(Lr)&&sr(Lr.nextSibling)){const La=o.createRng();return La.setStart(Lr,0),La.setEnd(Lr,0),La}}const ya=Ks.getNode(At);if(Ce(ya)){if(Xb(ya))return j(Zo,ya,At?!1:!Ks.isAtEnd(),!1);if(Mm(ya)&&sr(ya.previousSibling)){const La=o.createRng();return La.setStart(ya,1),La.setEnd(ya,1),La}}}return null}let Ht=$t.startContainer,Bn=$t.startOffset;const jo=$t.endOffset;if(fn(Ht)&&Bn===0&&wE(Ht.parentNode)&&(Ht=Ht.parentNode,Bn=o.nodeIndex(Ht),Ht=Ht.parentNode),!_n(Ht))return null;if(jo===Bn+1&&Ht===$t.endContainer){const Zo=Ht.childNodes[Bn];if(P(Zo))return ft(Zo)}return null},on=()=>{S&&S.removeAttribute(v),ed(Pe.fromDom(e.getBody()),"#"+f).each(Is),S=null},In=()=>{i.destroy(),S=null},fo=()=>{i.hide()};return Wg(e)||ie(),{showCaret:j,showBlockCaretContainer:Y,hideFakeCaret:fo,destroy:In}},U7=(e,t)=>{let o=t;for(let r=e.previousSibling;fn(r);r=r.previousSibling)o+=r.data.length;return o},HF=(e,t,o,r,i)=>{if(fn(o)&&(r<0||r>o.data.length))return[];const f=i&&fn(o)?[U7(o,r)]:[r];let v=o;for(;v!==t&&v.parentNode;)f.push(e.nodeIndex(v,i)),v=v.parentNode;return v===t?f.reverse():[]},zF=(e,t,o,r,i,f,v=!1)=>{const S=HF(e,t,o,r,v),A=HF(e,t,i,f,v);return{start:S,end:A}},V7=(e,t)=>{const o=t.slice(),r=o.pop();return Pt(r)?kt(o,(f,v)=>f.bind(S=>W.from(S.childNodes[v])),W.some(e)).bind(f=>fn(f)&&(r<0||r>f.data.length)?W.none():W.some({node:f,offset:r})):W.none()},UF=(e,t)=>V7(e,t.start).bind(({node:o,offset:r})=>V7(e,t.end).map(({node:i,offset:f})=>{const v=document.createRange();return v.setStart(o,r),v.setEnd(i,f),v})),QX=(e,t,o,r=!1)=>zF(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),iC=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,fn(t.firstChild)&&vg(t.firstChild.data)),iC(e,r,o)}},V3=(e,t,o,r=!0)=>{const i=t.startContainer.parentNode,f=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(fn(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),fn(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),iC(e,i,o),i!==f&&iC(e,f,o))},lC=(e,t)=>W.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),VF=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:V4(r).concat(e.blockPatterns),inlinePatterns:Bb(r).concat(e.inlinePatterns)}},WF=(e,t,o,r)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(o,r),i.toString()},W7=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),W3=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},j7=(e,t,o)=>{const r=UF(e.getRoot(),o).getOrDie("Unable to resolve path range"),i=r.startContainer,f=r.endContainer,v=r.endOffset===0?f:f.splitText(r.endOffset),S=r.startOffset===0?i:i.splitText(r.startOffset),A=S.parentNode,P=v.parentNode;return{prefix:t,end:P.insertBefore(W7(e,t+"-end"),v),start:A.insertBefore(W7(e,t+"-start"),S)}},Z7=(e,t,o)=>{iC(e,e.get(t.prefix+"-end"),o),iC(e,e.get(t.prefix+"-start"),o)},CE=e=>e.start.length===0,JX=e=>(t,o)=>{const i=t.data.substring(0,o),f=i.lastIndexOf(e.charAt(e.length-1)),v=i.lastIndexOf(e);return v!==-1?v+e.length:f!==-1?f+1:-1},q7=(e,t,o,r)=>{const i=t.start;return sF(e,r.container,r.offset,JX(i),o).bind(v=>{const S=o.textContent?.indexOf(i)??-1;if(S!==-1&&v.offset>=S+i.length){const P=e.createRng();return P.setStart(v.container,v.offset-i.length),P.setEnd(v.container,v.offset),W.some(P)}else{const P=v.offset-i.length;return nF(v.container,P,o).map(U=>{const j=e.createRng();return j.setStart(U.container,U.offset),j.setEnd(v.container,v.offset),j}).filter(U=>U.toString()===i).orThunk(()=>q7(e,t,o,Xg(v.container,0)))}})},eQ=(e,t,o,r,i,f=!1)=>{if(t.start.length===0&&!f){const v=e.createRng();return v.setStart(o,r),v.setEnd(o,r),W.some(v)}return eF(o,r,i).bind(v=>q7(e,t,i,v).bind(A=>{if(f){if(A.endContainer===v.container&&A.endOffset===v.offset)return W.none();if(v.offset===0&&A.endContainer.textContent?.length===A.endOffset)return W.none()}return W.some(A)}))},G7=(e,t,o,r)=>{const i=e.dom,f=i.getRoot(),v=o.pattern,S=o.position.container,A=o.position.offset;return nF(S,A-o.pattern.end.length,t).bind(P=>{const U=zF(i,f,P.container,P.offset,S,A,r);if(CE(v))return W.some({matches:[{pattern:v,startRng:U,endRng:U}],position:P});{const j=j3(e,o.remainingPatterns,P.container,P.offset,t,r),Y=j.getOr({matches:[],position:P}),ie=Y.position;return eQ(i,v,ie.container,ie.offset,t,j.isNone()).map(ge=>{const ke=QX(i,f,ge,r);return{matches:Y.matches.concat([{pattern:v,startRng:ke,endRng:U}]),position:Xg(ge.startContainer,ge.startOffset)}})}})},j3=(e,t,o,r,i,f)=>{const v=e.dom;return eF(o,r,v.getRoot()).bind(S=>{const A=WF(v,i,o,r);for(let P=0;P<t.length;P++){const U=t[P];if(!Ya(A,U.end))continue;const j=t.slice();j.splice(P,1);const Y=G7(e,i,{pattern:U,remainingPatterns:j,position:S},f);if(Y.isNone()&&r>0)return j3(e,t,o,r-1,i,f);if(Y.isSome())return Y}return W.none()})},K7=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?De(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},tQ=(e,t,o,r)=>{const i=W3(e.dom,o);V3(e.dom,i,r),K7(e,t,i)},nQ=(e,t,o,r,i)=>{const f=e.dom,v=W3(f,r),S=W3(f,o);V3(f,S,i),V3(f,v,i);const A={prefix:o.prefix,start:o.end,end:r.start},P=W3(f,A);K7(e,t,P)},oQ=(e,t)=>{const o=Ms("mce_textpattern"),r=wt(t,(i,f)=>{const v=j7(e,o+`_end${i.length}`,f.endRng);return i.concat([{...f,endMarker:v}])},[]);return wt(r,(i,f)=>{const v=r.length-i.length-1,S=CE(f.pattern)?f.endMarker:j7(e,o+`_start${v}`,f.startRng);return i.concat([{...f,startMarker:S}])},[])},sQ=e=>Xs(e,(t,o)=>o.end.length-t.end.length),rQ=(e,t)=>{const o=ts(e,r=>Ve(t,i=>r.pattern.start===i.pattern.start&&r.pattern.end===i.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},Y7=(e,t,o,r,i,f)=>{const v=j3(e,i.inlinePatterns,o,r,t,f).fold(()=>[],A=>A.matches),S=j3(e,sQ(i.inlinePatterns),o,r,t,f).fold(()=>[],A=>A.matches);return rQ(v,S)},jF=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),i=oQ(o,t);De(i,f=>{const v=o.getParent(f.startMarker.start,o.isBlock),S=A=>A===v;CE(f.pattern)?tQ(e,f.pattern,f.endMarker,S):nQ(e,f.pattern,f.startMarker,f.endMarker,S),Z7(o,f.endMarker,S),Z7(o,f.startMarker,S)}),e.selection.moveToBookmark(r)},X7=(e,t,o)=>tF(t,0,t).map(r=>{const i=r.container;return oF(i,o.start.length,t).each(f=>{const v=e.createRng();v.setStart(i,0),v.setEnd(f.container,f.offset),V3(e,v,S=>S===t)}),i}),Z3=e=>(t,o)=>{const r=t.dom,i=o.pattern,f=UF(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),v=(S,A)=>{const P=A.get(S);return Ae(P)&&bt(P).exists(U=>Jn(U,"block"))};return lC(t,f).each(S=>{i.type==="block-format"?v(i.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,S,i),t.formatter.apply(i.format)}):i.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,S,i),t.execCommand(i.cmd,!1,i.value)})}),!0},aQ=e=>Xs(e,(t,o)=>o.start.length-t.start.length),Q7=e=>(t,o)=>{const r=aQ(t),i=o.replace(xr," ");return vn(r,f=>e(f,o,i))},J7=(e,t)=>(o,r,i,f,v=r.textContent??"")=>{const S=o.dom,A=rl(o);return S.is(r,A)?e(i.blockPatterns,v).map(P=>t&&pn.trim(v).length===P.start.length?[]:[{pattern:P,range:zF(S,S.getRoot(),r,0,r,0,f)}]).getOr([]):[]},iQ=e=>/^\s[^\s]/.test(e),lQ=Z3((e,t,o)=>{X7(e,t,o).each(r=>{const i=Pe.fromDom(r),f=Oi(i);iQ(f)&&x1(i,f.slice(1))})}),q3=Q7((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),cQ=J7(q3,!0),uQ=(e,t)=>{const o=e.selection.getRng();return lC(e,o).map(r=>{const i=Math.max(0,o.startOffset),f=VF(t,r,r.textContent??""),v=Y7(e,r,o.startContainer,i,f,!0),S=cQ(e,r,f,!0);return{inlineMatches:v,blockMatches:S}}).filter(({inlineMatches:r,blockMatches:i})=>i.length>0||r.length>0)},dQ=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();De(t,r=>lQ(e,r)),e.selection.moveToBookmark(o)},fQ=Z3(X7),mQ=Q7((e,t,o)=>t===e.start||o===e.start),pQ=J7(mQ,!1),gQ=(e,t)=>{const o=e.selection.getRng();return lC(e,o).map(r=>{const i=Math.max(0,o.startOffset),f=WF(e.dom,r,o.startContainer,i),v=VF(t,r,f);return pQ(e,r,v,!1,f)}).filter(r=>r.length>0)},hQ=(e,t)=>{De(t,o=>fQ(e,o))},vQ=(e,t)=>uQ(e,t).fold(He,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{m2(e),jF(e,o),dQ(e,r);const i=e.selection.getRng(),f=eF(i.startContainer,i.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(v=>{const S=v.container;S.data.charAt(v.offset-1)===ci&&(S.deleteData(v.offset-1,1),iC(e.dom,S.parentNode,A=>A===e.dom.getRoot()))})}),!0)),e9=(e,t)=>{const o=e.selection.getRng();lC(e,o).map(r=>{const i=Math.max(0,o.startOffset-1),f=WF(e.dom,r,o.startContainer,i),v=VF(t,r,f),S=Y7(e,r,o.startContainer,i,v,!1);S.length>0&&e.undoManager.transact(()=>{jF(e,S)})})},bQ=(e,t)=>gQ(e,t).fold(He,o=>(e.undoManager.transact(()=>{hQ(e,o)}),!0)),ZF=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},yQ=(e,t)=>ZF(e,t,(o,r)=>o===r.keyCode&&!Hn.modifierPressed(r)),wQ=(e,t)=>ZF(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),t9=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>W4(VA(e).filter(v=>v.type==="inline-command"||v.type==="block-command"?e.queryCommandSupported(v.cmd):!0),ho(e)),i=()=>xv(e);e.on("keydown",v=>{if(v.keyCode===13&&!Hn.modifierPressed(v)&&e.selection.isCollapsed()&&e.selection.isEditable()){const S=Ib(r(),"enter");(S.inlinePatterns.length>0||S.blockPatterns.length>0||i())&&vQ(e,S)&&v.preventDefault()}},!0),e.on("keydown",v=>{if(v.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const S=Ib(r(),"space");(S.blockPatterns.length>0||i())&&bQ(e,S)&&v.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const v=Ib(r(),"space");(v.inlinePatterns.length>0||i())&&e9(e,v)}};e.on("keyup",v=>{yQ(o,v)&&f()}),e.on("keypress",v=>{wQ(t,v)&&$p.setEditorTimeout(e,f)})},SE=e=>{t9(e)},CQ=e=>{const t=pn.each,o=Hn.BACKSPACE,r=Hn.DELETE,i=e.dom,f=e.selection,v=e.parser,S=ps.browser,A=S.isFirefox(),P=S.isChromium()||S.isSafari(),U=ps.deviceType.isiPhone()||ps.deviceType.isiPad(),j=ps.os.isMacOS()||ps.os.isiOS(),Y=(Vt,Tn)=>{try{e.getDoc().execCommand(Vt,!1,String(Tn))}catch{}},ie=Vt=>Vt.isDefaultPrevented(),Oe=()=>{const Vt=oo=>{const Vs=i.create("body"),Ps=oo.cloneContents();return Vs.appendChild(Ps),f.serializer.serialize(Vs,{format:"html"})},Tn=oo=>{const Vs=Vt(oo),Ps=i.createRng();Ps.selectNode(e.getBody());const Zr=Vt(Ps);return Vs===Zr};e.on("keydown",oo=>{const Vs=oo.keyCode;if(!ie(oo)&&(Vs===r||Vs===o)&&e.selection.isEditable()){const Ps=e.selection.isCollapsed(),Zr=e.getBody();if(Ps&&!bo(e.schema,Zr)||!Ps&&!Tn(e.selection.getRng()))return;oo.preventDefault(),e.setContent(""),Zr.firstChild&&i.isBlock(Zr.firstChild)?e.selection.setCursorLocation(Zr.firstChild,0):e.selection.setCursorLocation(Zr,0),e.nodeChanged()}})},ge=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ke=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",Vt=>{let Tn;if(Vt.target===e.getDoc().documentElement)if(Tn=f.getRng(),e.getDoc().getSelection()?.anchorNode!==null&&e.getBody().focus(),Vt.type==="mousedown"){if(nf(Tn.startContainer))return;f.placeCaretAt(Vt.clientX,Vt.clientY)}else f.setRng(Tn)})},nt=()=>{e.on("keydown",Vt=>{if(!ie(Vt)&&Vt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Tn=f.getNode(),oo=Tn.previousSibling;if(Tn.nodeName==="HR"){i.remove(Tn),Vt.preventDefault();return}oo&&oo.nodeName&&oo.nodeName.toLowerCase()==="hr"&&(i.remove(oo),Vt.preventDefault())}}})},rt=()=>{Range.prototype.getClientRects||e.on("mousedown",Vt=>{if(!ie(Vt)&&Vt.target.nodeName==="HTML"){const Tn=e.getBody();Tn.blur(),$p.setEditorTimeout(e,()=>{Tn.focus()})}})},ft=()=>{const Vt=G2(e);e.on("click",Tn=>{const oo=Tn.target;/^(IMG|HR)$/.test(oo.nodeName)&&i.isEditable(oo)&&(Tn.preventDefault(),e.selection.select(oo),e.nodeChanged()),oo.nodeName==="A"&&i.hasClass(oo,Vt)&&oo.childNodes.length===0&&i.isEditable(oo.parentNode)&&(Tn.preventDefault(),f.select(oo))})},Lt=()=>{const Vt=Tn=>Tn.nodeName==="IMG"&&e.dom.isEditable(Tn);e.on("mousedown",Tn=>{Dn(W.from(Tn.clientX),W.from(Tn.clientY),(oo,Vs)=>{const Ps=e.getDoc().caretPositionFromPoint(oo,Vs),Zr=Ps?.offsetNode?.childNodes[Ps.offset-(Ps.offset>0?1:0)]||Ps?.offsetNode;if(Ce(Zr)&&Vt(Zr)){const Mf=Zr.getBoundingClientRect();Tn.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Zr),Tn.clientX<Mf.left||Tn.clientY<Mf.top?e.selection.collapse(!0):(Tn.clientX>Mf.right||Tn.clientY>Mf.bottom)&&e.selection.collapse(!1)}})})},on=()=>{const Vt=()=>{const oo=i.getAttribs(f.getStart().cloneNode(!1));return()=>{const Vs=f.getStart();Vs!==e.getBody()&&(i.setAttrib(Vs,"style",null),t(oo,Ps=>{Vs.setAttributeNode(Ps.cloneNode(!0))}))}},Tn=()=>!f.isCollapsed()&&i.getParent(f.getStart(),i.isBlock)!==i.getParent(f.getEnd(),i.isBlock);e.on("keypress",oo=>{let Vs;return!ie(oo)&&(oo.keyCode===8||oo.keyCode===46)&&Tn()?(Vs=Vt(),e.getDoc().execCommand("delete",!1),Vs(),oo.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",oo=>{if(!ie(oo)&&Tn()){const Vs=Vt();$p.setEditorTimeout(e,()=>{Vs()})}})},In=()=>{e.on("keydown",Vt=>{if(!ie(Vt)&&Vt.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const Tn=f.getNode().previousSibling;if(Tn&&Tn.nodeName&&Tn.nodeName.toLowerCase()==="table")return Vt.preventDefault(),!1}return!0})},fo=()=>{e.on("keydown",Vt=>{if(ie(Vt)||Vt.keyCode!==Hn.BACKSPACE)return;let Tn=f.getRng();const oo=Tn.startContainer,Vs=Tn.startOffset,Ps=i.getRoot();let Zr=oo;if(!(!Tn.collapsed||Vs!==0)){for(;Zr.parentNode&&Zr.parentNode.firstChild===Zr&&Zr.parentNode!==Ps;)Zr=Zr.parentNode;Zr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zr),Tn=i.createRng(),Tn.setStart(oo,0),Tn.setEnd(oo,0),f.setRng(Tn))}})},$t=()=>{const Vt=ti("figcaption");e.on("keydown",Tn=>{if(Tn.keyCode===Hn.LEFT||Tn.keyCode===Hn.RIGHT){const oo=Pe.fromDom(e.selection.getNode());Vt(oo)&&e.selection.isCollapsed()&&Ci(oo).bind(Vs=>e.selection.getRng().startOffset===0&&Tn.keyCode===Hn.LEFT?Eu(Vs):e.selection.getRng().endOffset===oo.dom.textContent?.length&&Tn.keyCode===Hn.RIGHT?ul(Vs):W.none()).each(Vs=>{e.selection.setCursorLocation(Vs.dom,0)})}})},At=()=>{const Vt=()=>{Y("StyleWithCSS",!1),Y("enableInlineTableEditing",!1),BA(e)||Y("enableObjectResizing",!1)};Wb(e)||e.on("BeforeExecCommand mousedown",Vt)},Ht=()=>{const Vt=()=>{t(i.select("a:not([data-mce-block])"),Tn=>{let oo=Tn.parentNode;const Vs=i.getRoot();if(oo?.lastChild===Tn){for(;oo&&!i.isBlock(oo);){if(oo.parentNode?.lastChild!==oo||oo===Vs)return;oo=oo.parentNode}i.add(oo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Tn=>{(Tn.type==="setcontent"||Tn.command==="mceInsertLink")&&Vt()})},Bn=()=>{e.on("init",()=>{Y("DefaultParagraphSeparator",rl(e))})},jo=Vt=>{const Tn=Vt.getBody(),oo=Vt.selection.getRng();return oo.startContainer===oo.endContainer&&oo.startContainer===Tn&&oo.startOffset===0&&oo.endOffset===Tn.childNodes.length},Zo=()=>{e.on("keyup focusin mouseup",Vt=>{!Hn.modifierPressed(Vt)&&!jo(e)&&f.normalize()},!0)},Ks=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Lr=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ya=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Vt=>{let Tn;Vt.target.nodeName==="HTML"&&(Tn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Tn),e.selection.normalize(),e.nodeChanged())}))},La=()=>{j&&e.on("keydown",Vt=>{Hn.metaKeyPressed(Vt)&&!Vt.shiftKey&&(Vt.keyCode===37||Vt.keyCode===39)&&(Vt.preventDefault(),e.selection.getSel().modify("move",Vt.keyCode===37?"backward":"forward","lineboundary"))})},wc=()=>{e.on("click",Vt=>{let Tn=Vt.target;do if(Tn.tagName==="A"){Vt.preventDefault();return}while(Tn=Tn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ff=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Vt=>{Vt.preventDefault()})})},Un=()=>{v.addNodeFilter("br",Vt=>{let Tn=Vt.length;for(;Tn--;)Vt[Tn].attr("class")==="Apple-interchange-newline"&&Vt[Tn].remove()})},Eo=lt,Dr=()=>{if(!A||e.removed)return!1;const Vt=e.selection.getSel();return!Vt||!Vt.rangeCount||Vt.rangeCount===0},vr=()=>{P&&(ke(),ft(),Ff(),ge(),U&&(Lr(),ya(),wc())),A&&(rt(),At(),Ks(),La())},Yc=()=>{fo(),Oe(),ps.windowsPhone||Zo(),P&&(ke(),ft(),Bn(),Ff(),In(),Un(),U?(Lr(),ya(),wc()):ge()),A&&($t(),Lt(),nt(),rt(),on(),At(),Ht(),Ks(),La(),In())};return Wg(e)?vr():Yc(),{refreshContentEditable:Eo,isHidden:Dr}};class qF extends Error{url;constructor(t,o){super(t),this.url=o}}const GF={},SQ=(e,t,o)=>new Promise((r,i)=>{const f=Pe.fromTag("script");Ti(f,{type:"text/javascript",src:e,...o});const v=()=>{Is(f)};up(f,"load",()=>{v(),r()}),up(f,"error",()=>{v(),i(new Error(`Failed to load script url: ${e}`))}),As(ih(t),f)}),n9=async(e,t)=>{const o=dr.ScriptLoader.getScriptAttributes(e);return await SQ(e,t,o).catch(()=>Promise.reject(new qF(`Failed to load component url: ${e}`,e))),e},xQ=e=>qn(e,(t,o)=>_o(GF,t).getOrThunk(()=>{if(ct(window.customElements.get(o))){const r=n9(t,lh());return GF[t]=r,r}else return Promise.resolve(t)}).catch(r=>(delete GF[t],Promise.reject(r)))),o9=(e,t)=>{const o=xs(Co(e));return qe(o,r=>n9(r,Pe.fromDom(t)))},EQ=e=>{const t=e.schema.getComponentUrls();return e.inline?xQ(t):o9(t,e.getDoc())},s9=async e=>{const t=EQ(e),o=at(await Promise.allSettled(t),r=>r.status==="rejected");o.length>0&&De(o,r=>{if(r.reason instanceof qF){const{url:i}=r.reason;Hj(e,i)}})},AQ=e=>{s9(e)},KF=Ns.DOM,TQ=(e,t)=>{const o=Pe.fromDom(e.getBody()),r=lp(oi(o)),i=Pe.fromTag("style");Nr(i,"type","text/css"),As(i,Pe.fromText(t)),As(r,i),e.on("remove",()=>{Is(i)})},kQ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,YF=e=>to(e,t=>Ft(t)===!1),r9=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return YF({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:kQ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Pg(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},a9=e=>{const t=e.options.get;return YF({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},_Q=e=>{const t=e.options.get;return{...r9(e),...a9(e),...YF({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},OQ=e=>{const t=Ew(r9(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const i=e.dom,f="data-mce-"+r;let v=o.length;for(;v--;){const S=o[v];let A=S.attr(r);if(A&&!S.attr(f)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;r==="style"?(A=i.serializeStyle(i.parseStyle(A),S.name),A.length||(A=null),S.attr(f,A),S.attr(r,A)):r==="tabindex"?(S.attr(f,A),S.attr(r,null)):S.attr(f,e.convertURL(A,r,S.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const i=o[r],f=i.attr("type")||"no/type";f.indexOf("mce-")!==0&&i.attr("type","mce-"+f)}}),xS(e)&&t.addNodeFilter("#cdata",o=>{let r=o.length;for(;r--;){const i=o[r];i.type=8,i.name="#comment",i.value="[CDATA["+e.dom.encode(i.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const i=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(i)&&f.getAll("br").length===0&&f.append(new vc("br",1))}}),t},i9=e=>{const t=i_(e);t&&$p.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},XF=e=>{const t=e.dom.getRoot();!e.inline&&(!zS(e)||e.selection.getStart(!0)===t)&&M(t).each(o=>{const r=o.getNode(),i=Fc(r)?M(r).getOr(o):o;e.selection.setRng(i.toRange())})},l9=e=>{e.bindPendingEventDelegates(),e.initialized=!0,gA(e),e.focus(!0),XF(e),e.nodeChanged({initial:!0});const t=a_(e);ce(t)&&t.call(e,e),i9(e),g0(e)&&AI(e,!0)},G3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,DQ=(e,t,o)=>{const{pass:r,fail:i}=Tt(t,S=>tinymce.Resource.has(zv(S))),v=[...r.map(S=>{const A=tinymce.Resource.get(zv(S));return J(A)?Promise.resolve(G3(e).loadRawCss(S,A)):Promise.resolve()}),G3(e).loadAll(i)];return e.inline?v:v.concat([e.ui.styleSheetLoader.loadAll(o)])},c9=e=>{const t=G3(e),o=pS(e),r=e.contentCSS,i=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let A="";pn.each(e.contentStyles,P=>{A+=P+`\r
`}),e.dom.addStyle(A)}const v=Promise.all(DQ(e,r,o)).then(f).catch(f),S=Q1(e);return S&&TQ(e,S),v},PQ=e=>{const t=e.getDoc(),o=e.getBody();pA(e),zA(e)||(t.body.spellcheck=!1,KF.setAttrib(o,"spellcheck","false")),e.quirks=CQ(e),fr(e);const r=X4(e);r!==void 0&&(o.dir=r);const i=l_(e);i&&e.on("BeforeSetContent",f=>{pn.each(i,v=>{f.content=f.content.replace(v,S=>"<!--mce:protected "+escape(S)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},u9=e=>{Wg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},K3=e=>{e.removed!==!0&&(u9(e),l9(e))},RQ=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},d9=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(KF.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=Wb(e),e._editableRoot=q2(e),!tm(e)&&e.hasEditableRoot()&&(e.inline&&KF.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=xy(e),e.schema=gl(a9(e)),e.dom=Ns(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:FA(e),referrerPolicy:U2(e),crossOrigin:X1(e),onSetAttrib:v=>{e.dispatch("SetAttrib",v)}}),e.parser=OQ(e),e.serializer=KD(_Q(e),e),e.selection=qD(e.dom,e.getWin(),e.serializer,e),e.annotator=yM(e),e.formatter=PI(e),e.undoManager=uZ(e),e._nodeChangeDispatcher=new LY(e),e._selectionOverrides=U3(e),Qr(e),RG(e),T7(e),BG(e),Wg(e)||(xX(e),SE(e));const i=PY(e);RR(e,i),Kp(e),pZ(e),hX(e,i);const f=gj(e);PQ(e),AQ(e),f.fold(()=>{const v=RQ(e);c9(e).then(()=>{K3(e),v()})},v=>{e.setProgressState(!0),c9(e).then(()=>{v().then(S=>{e.setProgressState(!1),K3(e),xk(e)},S=>{e.notificationManager.open({type:"error",text:String(S)}),K3(e),xk(e)})})})},xE=Ns.DOM,Y3=(e,t,o,r)=>{const i=Pe.fromTag("iframe");return r.each(f=>Nr(i,"tabindex",f)),Ti(i,o),Ti(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...ps.browser.isFirefox()?{title:t}:{}}),ic(i,"tox-edit-area__iframe"),i},f9=e=>{let t=cS(e)+"<html><head>";uS(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=EA(e),r=AA(e),i=e.translate(K2(e)),f=ps.browser.isFirefox()?"":`aria-label="${i}"`;return TA(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+TA(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" ${f}><br></body></html>`,t},m9=(e,t)=>{const o=K2(e),r=e.translate(o),i=_l(Pe.fromDom(e.getElement()),"tabindex").bind(ff),f=Y3(e.id,r,xA(e),i).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=f,e.iframeHTML=f9(e),xE.add(t.iframeContainer,f)},p9=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,d9(e)};if(Kb(e)||ps.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=up(Pe.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},FQ=(e,t)=>{m9(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=xE.isHidden(t.editorContainer)),e.getElement().style.display="none",xE.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,p9(e)},g9=Ns.DOM,MQ=(e,t,o)=>{const r=Hv.get(o),i=Hv.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=pn.trim(o),r&&pn.inArray(t,o)===-1){if(e.plugins[o])return;try{const f=r(e,i)||{};e.plugins[o]=f,ce(f.init)&&(f.init(e,i),t.push(o))}catch(f){zj(e,o,f)}}},NQ=e=>{const t=o=>{o.keyCode===Hn.ESC&&!o.defaultPrevented&&SA(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},a1=e=>e.replace(/^\-/,""),h9=e=>{const t=[];De(jb(e),o=>{MQ(e,t,a1(o))})},BQ=e=>{const t=pn.trim(Ub(e)),o=e.ui.registry.getAll().icons,r={...Tk.get("default").icons,...Tk.get(t).icons};Io(r,(i,f)=>{Jn(o,f)||e.ui.registry.addIcon(f,i)})},v9=e=>{const t=Pp(e);if(J(t)){const o=vy.get(t);e.theme=o(e,vy.urls[t])||{},ce(e.theme.init)&&e.theme.init(e,vy.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},IQ=e=>{const t=j2(e),o=Fw.get(t);e.model=o(e,Fw.urls[t])},$Q=e=>{fP.init(e)},QF=e=>{const t=e.theme.renderUI;return t?t():y9(e)},X3=e=>{const t=e.getElement(),r=Pp(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},b9=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),LQ=e=>{const t=g9.create("div");return g9.insertAfter(t,e),b9(t,t)},y9=e=>{const t=e.getElement();return e.inline?b9(null):LQ(t)},w9=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,J(Pp(e))?QF(e):ce(Pp(e))?X3(e):y9(e)},HQ=(e,t)=>{const o={show:W.from(t.show).getOr(lt),hide:W.from(t.hide).getOr(lt),isEnabled:W.from(t.isEnabled).getOr(ut),setEnabled:r=>{r&&(e.mode.get()==="readonly"||g0(e))||W.from(t.setEnabled).each(f=>f(r))}};e.ui={...e.ui,...o}},C9=async e=>{e.dispatch("ScriptsLoaded"),BQ(e),NQ(e),v9(e),IQ(e),$Q(e),h9(e);const t=await w9(e);HQ(e,W.from(t.api).getOr({})),e.editorContainer=t.editorContainer,Qj(e),e.inline?d9(e):FQ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Iy=Ns.DOM,S9=e=>e.charAt(0)==="-",zQ=(e,t)=>{const o=MA(t),r=NA(t);if(!Nn.hasCode(o)&&o!=="en"){const i=Fr(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(i).catch(()=>{yy(t,i,o)})}},UQ=(e,t)=>{const o=Pp(e);if(J(o)&&!S9(o)&&!Jn(vy.urls,o)){const r=IA(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;vy.load(o,i).catch(()=>{pI(e,i,o)})}},VQ=(e,t)=>{const o=j2(e);if(o!=="plugin"&&!Jn(Fw.urls,o)){const r=e_(e),i=J(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;Fw.load(o,i).catch(()=>{Lj(e,i,o)})}},x9=(e,t)=>{fP.load(e,t)},Q3=e=>W.from(fS(e)).filter(Fr).map(t=>({url:t,name:W.none()})),J3=(e,t,o)=>W.from(t).filter(r=>Fr(r)&&!Tk.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:W.some(r)})),WQ=(e,t,o)=>{const r=J3(t,"default",o),i=Q3(t).orThunk(()=>J3(t,Ub(t),""));De(ro([r,i]),f=>{e.add(f.url).catch(()=>{$j(t,f.url,f.name.getOrUndefined())})})},E9=(e,t)=>{const o=(r,i)=>{r!=="licensekeymanager"&&Hv.load(r,i).catch(()=>{mI(e,i,r)})};Io(yS(e),(r,i)=>{o(i,r),e.options.set("plugins",jb(e).concat(i))}),De(jb(e),r=>{r=pn.trim(r),r&&!Hv.urls[r]&&!S9(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},A9=e=>{const t=Pp(e);return!J(t)||Ce(vy.get(t))},jQ=e=>{const t=j2(e);return Ce(Fw.get(t))},T9=(e,t)=>{const o=dr.ScriptLoader,r=()=>{!e.removed&&A9(e)&&jQ(e)&&C9(e)};UQ(e,t),VQ(e,t),x9(e,t),zQ(o,e),WQ(o,e,t),E9(e,t),o.loadQueue().then(r,r)},ZQ=(e,t)=>ef.forElement(e,{contentCssCors:bS(t),referrerPolicy:U2(t)}),qQ=e=>{const t=e.id;Nn.setCode(MA(e));const o=()=>{Iy.unbind(window,"ready",o),e.render()};if(!kh.Event.domLoaded){Iy.bind(window,"ready",o);return}if(!e.getElement())return;const r=Pe.fromDom(e.getElement()),i=fs(r);e.on("remove",()=>{Ye(r.dom.attributes,v=>Hs(r,v.name)),Ti(r,i)}),e.ui.styleSheetLoader=ZQ(r,e),Vb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||Iy.getParent(t,"form");f&&(e.formElement=f,vS(e)&&!Ou(e.getElement())&&(Iy.insertAfter(Iy.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=v=>{e.dispatch(v.type,v)},Iy.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),o_(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=fI(e),e.notificationManager=Mx(e),jA(e)&&e.on("GetContent",v=>{v.save&&(v.content=Iy.encode(v.content))}),s_(e)&&e.on("submit",()=>{e.initialized&&e.save()}),Z2(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),T9(e,e.suffix)},k9=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],GQ=e=>Intl.Segmenter?`${new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value?.segment}`:e.trim()[0],_9=(e,t)=>{let o=5381;for(let r=0;r<e.length;r++)o=(o<<5)+o+e.charCodeAt(r);return(o>>>0)%(t+1)},O9=e=>{const t=_9(e??"",k9.length-1);return k9[t]},D9=(e,t,o)=>{const r=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+"</text></svg>"},P9=(e,t,o)=>"data:image/svg+xml,"+encodeURIComponent(D9(e,t,o)),e4=(e,t={size:36})=>P9(GQ(e.name),O9(e.id),t.size),R9=Iu([_g("id"),$h("name"),$h("avatar"),Gs("custom")]),JF=e=>{const t={};return Io(e,(o,r)=>{o.each(i=>{t[r]=i})}),t},F9=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=qe(e,i=>yv("Invalid user object",R9,i)),{errors:o,values:r}=sa(t);if(o.length>0){const i=qe(o,(f,v)=>`User at index ${v}: ${Op(f)}`);console.warn(`User validation errors:
`+i.join(`
`))}return qe(r,i=>{const{id:f,name:v,avatar:S,...A}=i;return{id:f,name:v.getOr(f),avatar:S.getOr(e4({id:f,name:v.getOr(f)})),...JF(A)}})},M9=e=>{const t=new Map,o=new Map,r=P=>W.from(t.get(P)),i=(P,U)=>{t.set(U,P)},f=(P,U)=>W.from(o.get(P)).each(({reject:j})=>{j(U),o.delete(P)}),v=(P,U)=>W.from(o.get(P)).each(({resolve:j})=>{j(U),o.delete(P)}),S=P=>{const U=KA(e);if(Array.isArray(P)){if(!U)return Ys(P,Y=>Promise.resolve({id:Y,name:Y,avatar:e4({id:Y,name:Y})}))}else return{};const j=xs(at(P,Y=>!r(Y).isSome()));return De(j,Y=>{const ie=new Promise((Oe,ge)=>{o.set(Y,{resolve:Oe,reject:ge})});i(ie,Y)}),j.length>0&&U(j).then(F9).then(Y=>{const ie=new Set(qe(Y,Oe=>Oe.id));De(Y,Oe=>v(Oe.id,Oe)),De(j,Oe=>{ie.has(Oe)||f(Oe,new Error(`User ${Oe} not found`))})}).catch(Y=>{De(j,ie=>f(ie,Y instanceof Error?Y:new Error("Network error")))}),kt(P,(Y,ie)=>(Y[ie]=r(ie).getOr(Promise.resolve({id:ie,name:ie,avatar:e4({id:ie,name:ie})})),Y),{})},A=GA(e);return Object.freeze({userId:A,fetchUsers:S})},N9=e=>M9(e),KQ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,g0(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),CA(e,t))},YQ=e=>e._editableRoot,B9=(e,t)=>({sections:Te(e),options:Te(t)}),e5=Es().deviceType,t5=e5.isPhone(),I9=e5.isTablet(),$y=e=>{if(ct(e))return[];{const t=Ae(e)?e:e.split(/[ ,]/),o=qe(t,Kr);return at(o,Fr)}},n5=(e,t)=>{const o=jt(t,(r,i)=>Re(e,i));return B9(o.t,o.f)},t4=(e,t,o={})=>{const r=e.sections(),i=_o(r,t).getOr({});return pn.extend({},o,i)},n4=(e,t)=>Jn(e.sections(),t),$9=(e,t)=>n4(e,t)?e.sections()[t]:{},L9=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:_o(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),o5=(e,t)=>{const o=t.external_plugins??{};return e&&e.external_plugins?pn.extend({},e.external_plugins,o):o},H9=(e,t)=>[...$y(e),...$y(t)],z9=(e,t,o,r)=>e&&n4(t,"mobile")?r:o,XQ=(e,t,o,r)=>{const i=$y(o.forced_plugins),f=$y(r.plugins),v=$9(t,"mobile"),S=v.plugins?$y(v.plugins):f,A=z9(e,t,f,S),P=H9(i,A);return pn.extend(r,{forced_plugins:i,plugins:P})},U9=(e,t)=>e&&n4(t,"mobile"),QQ=(e,t,o,r,i)=>{const f=e?{mobile:L9(i.mobile??{},t)}:{},v=n5(["mobile"],Gt(f,i)),S=pn.extend(o,r,v.options(),U9(e,v)?t4(v,"mobile"):{},{external_plugins:o5(r,v.options())});return XQ(e,v,r,S)},JQ=(e,t)=>{const o=On(t);return QQ(t5||I9,t5,o,e,o)},eJ=(e,t)=>tI(e,t),V9=e=>{const t=(r,i)=>{e.formatter.toggle(r,i),e.nodeChanged()},o=r=>()=>{De("left,center,right,justify".split(","),i=>{r!==i&&e.formatter.remove("align"+i)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},tJ=e=>{const t=o=>()=>{const r=e.selection,i=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Ve(i,f=>Ce(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},W9=e=>{V9(e),tJ(e)},o4=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ps.os.isMacOS()||ps.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:i,type:"error"})}}})},nJ=(e,t,o,r)=>{const i=Pe.fromDom(e.getRoot());return ox(i,It.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Hu(i,It.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},j9=e=>{if(typeof e!="string"){const t=pn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},oJ=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?nJ(r,o.getRng(),t,e.schema):t},EE=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=j9(t);wx(e,{...r,content:oJ(e,o),format:"html",set:!1,selection:!0}).each(i=>{const f=m0(e,i.content,r);hD(e,f,i),e.addVisual()})}},s5=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{EE(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{EE(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{EE(e,r)},mceInsertContent:(t,o,r)=>{EE(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(d_(e))}})},sJ={"font-size":"size","font-family":"face"},rJ=ti("font"),Z9=(e,t,o)=>{const r=f=>Br(f,e).orThunk(()=>rJ(f)?_o(sJ,e).bind(v=>_l(f,v)):W.none()),i=f=>_s(Pe.fromDom(t),f);return lu(Pe.fromDom(o),f=>r(f),i)},aJ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),iJ=(e,t)=>W.from(Ns.DOM.getStyle(t,e,!0)),q9=e=>(t,o)=>W.from(o).map(Pe.fromDom).filter(da).bind(r=>Z9(e,t,r.dom).or(iJ(e,r.dom))).getOr(""),lJ=q9("font-size"),cJ=F(aJ,q9("font-family")),G9=e=>M(e.getBody()).bind(t=>{const o=t.container();return W.from(fn(o)?o.parentNode:o)}),K9=e=>W.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?W.none():W.from(e.selection.getStart(!0))}),uJ=(e,t)=>K9(e).orThunk(se(G9,e)).map(Pe.fromDom).filter(da).bind(t),r5=(e,t)=>uJ(e,dn(W.some,t)),Y9=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=ES(e),i=AS(e);return i.length>0?i[o-1]||t:r[o-1]||t}else return t}else return t},dJ=e=>{const t=e.split(/\s*,\s*/);return qe(t,o=>o.indexOf(" ")!==-1&&!(Do(o,'"')||Do(o,"'"))?`'${o}'`:o).join(",")},n=(e,t)=>{const o=Y9(e,t);e.formatter.toggle("fontname",{value:dJ(o)}),e.nodeChanged()},s=e=>r5(e,t=>cJ(e.getBody(),t.dom)).getOr(""),a=(e,t)=>{e.formatter.toggle("fontsize",{value:Y9(e,t)}),e.nodeChanged()},c=e=>r5(e,t=>lJ(e.getBody(),t.dom)).getOr(""),g=e=>r5(e,t=>{const o=Pe.fromDom(e.getBody()),r=lu(t,f=>Br(f,"line-height"),se(_s,o)),i=()=>{const f=parseFloat(pa(t,"line-height")),v=parseFloat(pa(t,"font-size"));return String(f/v)};return r.getOrThunk(i)}).getOr(""),y=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},w=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,i)=>{t(o,{value:i})},BackColor:(o,r,i)=>{t("hilitecolor",{value:i})},FontName:(o,r,i)=>{n(e,i)},FontSize:(o,r,i)=>{a(e,i)},LineHeight:(o,r,i)=>{y(e,i)},Lang:(o,r,i)=>{t(o,{value:i.code,customValue:i.customCode??null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,i)=>{t(J(i)?i:"p")},mceToggleFormat:(o,r,i)=>{t(i)}})},k=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>s(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>c(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>g(e))},O=e=>{w(e),k(e)},N=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},z=e=>{e.editorCommands.addCommands({Indent:()=>{o8(e)},Outdent:()=>{w0(e)}}),e.editorCommands.addCommands({Outdent:()=>e8(e),Indent:()=>OG(e)},"state")},Z=e=>{const t=(o,r,i)=>{if(e.mode.isReadOnly())return;const f=J(i)?{href:i}:i,v=e.dom.getParent(e.selection.getNode(),"a");dt(f)&&J(f.href)&&(f.href=f.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!v||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,v))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},oe=(e,t,o,r)=>{const i=e.dom,f=S=>i.isBlock(S)&&S.parentElement===o,v=f(t)?t:i.getParent(r,f,o);return W.from(v).map(Pe.fromDom)},fe=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),f=t?r.startContainer:r.endContainer,v=lE(o,f);if(!v||!v.isContentEditable)return;const S=t?ui:Ii,A=rl(e);oe(e,i,v,f).each(P=>{const U=EL(e,f,P.dom,v,!1,A);S(P,Pe.fromDom(U)),e.selection.setCursorLocation(U,0),e.dispatch("NewBlock",{newBlock:U}),aE(e,"insertParagraph")})},ye=e=>fe(e,!0),Fe=e=>fe(e,!1),Le=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ye(e)},InsertNewBlockAfter:()=>{Fe(e)}})},Ee=e=>{e.editorCommands.addCommands({insertParagraph:()=>{T3(uE,e)},mceInsertNewLine:(t,o,r)=>{zL(e,r)},InsertLineBreak:(t,o,r)=>{T3(BL,e)}})},Xe=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),f=>_n(f)&&i++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Du);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},st=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const i=r??e.selection.getNode();if(i!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{_M(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},xt=e=>{W9(e),o4(e),N(e),Xe(e),s5(e),Z(e),z(e),Le(e),Ee(e),O(e),st(e)},Rt=["toggleview"],Rn=e=>Re(Rt,e.toLowerCase());class nn{editor;commands={state:{},exec:{},value:{}};constructor(t){this.editor=t}execCommand(t,o=!1,r,i){const f=this.editor,v=t.toLowerCase(),S=i?.skip_focus;if(f.removed||(v!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(v)&&!S?f.focus():Cz(f)),f.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const P=this.commands.exec[v];return ce(P)?(P(v,o,r,i),f.dispatch("ExecCommand",{command:t,ui:o,value:r,args:i}),!0):!1}queryCommandState(t){if(!Rn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return ce(r)?r(o):!1}queryCommandValue(t){if(!Rn(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return ce(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Io(t,(i,f)=>{De(f.toLowerCase().split(","),v=>{r[o][v]=i})})}addCommand(t,o,r){const i=t.toLowerCase();this.commands.exec[i]=(f,v,S,A)=>o.call(r??this.editor,v,S,A)}removeCommand(t,o){const r=t.toLowerCase();o?delete this.commands[o][r]:(delete this.commands.exec[r],delete this.commands.state[r],delete this.commands.value[r])}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const mn=pn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class un{static isNative(t){return!!mn[t.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(t){this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||He}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),i=Th(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const f=this.bindings[r];if(f)for(let v=0,S=f.length;v<S;v++){const A=f[v];if(!A.removed){if(A.once&&this.off(r,A.func),i.isImmediatePropagationStopped())return i;if(A.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(t,o,r,i){if(o===!1&&(o=He),o){const f={func:o,removed:!1};i&&pn.extend(f,i);const v=t.toLowerCase().split(" ");let S=v.length;for(;S--;){const A=v[S];let P=this.bindings[A];P||(P=[],this.toggleEvent(A,!0)),r?P=[f,...P]:P=[...P,f],this.bindings[A]=P}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let i=r.length;for(;i--;){const f=r[i];let v=this.bindings[f];if(!f)return Io(this.bindings,(S,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(v){if(!o)v.length=0;else{const S=Tt(v,A=>A.func===o);v=S.fail,this.bindings[f]=v,De(S.pass,A=>{A.removed=!0})}v.length||(this.toggleEvent(t,!1),delete this.bindings[f])}}}else Io(this.bindings,(r,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const yo=e=>(e._eventDispatcher||(e._eventDispatcher=new un({scope:e,toggleEvent:(t,o)=>{un.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),ao={fire(e,t,o){return Cx("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Th(e.toLowerCase(),t??{},r);const i=yo(r).dispatch(e,t);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!i.isPropagationStopped();)f.dispatch(e,i,!1),f=f.parent?f.parent():void 0}return i},on(e,t,o){return yo(this).on(e,t,o)},off(e,t){return yo(this).off(e,t)},once(e,t){return yo(this).once(e,t)},hasEventListeners(e){return yo(this).has(e)}},ks=Ns.DOM;let wo;const Qo=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=W2(e);return o?(e.eventRoot||(e.eventRoot=ks.select(o)[0]),e.eventRoot):e.getBody()},io=e=>!e.hidden&&!g0(e),Xt=(e,t,o)=>{io(e)?e.dispatch(t,o):g0(e)&&qj(e,o)},Sn=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=Qo(e,t);if(W2(e)){if(wo||(wo={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||wo&&(Io(wo,(i,f)=>{e.dom.unbind(Qo(e,f))}),wo=null)})),wo[t])return;const r=i=>{const f=i.target,v=e.editorManager.get();let S=v.length;for(;S--;){const A=v[S].getBody();(A===f||ks.isChildOf(f,A))&&Xt(v[S],t,i)}};wo[t]=r,ks.bind(o,t,r)}else{const r=i=>{Xt(e,t,i)};ks.bind(o,t,r),e.delegates[t]=r}},Mo={...ao,bindPendingEventDelegates(){const e=this;pn.each(e._pendingNativeEvents,t=>{Sn(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?Sn(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Qo(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Io(e.delegates,(r,i)=>{e.dom.unbind(Qo(e,i),i,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},ls=e=>J(e)?{value:e.split(/[ ,]/),valid:!0}:je(e,J)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},uo=e=>{const t=(()=>{switch(e){case"array":return Ae;case"boolean":return Ze;case"function":return ce;case"number":return Pt;case"object":return dt;case"string":return J;case"string[]":return ls;case"object[]":return o=>je(o,dt);case"regexp":return o=>it(o,RegExp);default:return ut}})();return o=>bu(o,t,`The value must be a ${e}.`)},ss=e=>J(e.processor),jr=(e,t)=>{const o=xc(t.message)?"":`. ${t.message}`;return e+o},hr=e=>e.valid,bu=(e,t,o="")=>{const r=t(e);return Ze(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},$a=(e,t,o)=>{if(!Ft(t)){const r=bu(t,o);if(hr(r))return r.value;console.error(jr(`Invalid default value passed for the "${e}" option`,r))}},cf=(e,t,o=t)=>{const r={},i={},f=(ie,Oe,ge)=>{const ke=bu(Oe,ge);return hr(ke)?(i[ie]=ke.value,!0):(console.warn(jr(`Invalid value passed for the ${ie} option`,ke)),!1)},v=(ie,Oe)=>{const ge=ss(Oe)?uo(Oe.processor):Oe.processor,ke=$a(ie,Oe.default,ge);r[ie]={...Oe,default:ke,processor:ge},_o(i,ie).orThunk(()=>_o(t,ie)).each(rt=>f(ie,rt,ge))},S=ie=>Jn(r,ie);return{register:v,isRegistered:S,get:ie=>_o(i,ie).orThunk(()=>_o(r,ie).map(Oe=>Oe.default)).getOrUndefined(),set:(ie,Oe)=>{if(S(ie)){const ge=r[ie];return ge.immutable?(console.error(`"${ie}" is an immutable option and cannot be updated`),!1):f(ie,Oe,ge.processor)}else return console.warn(`"${ie}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ie=>{const Oe=S(ie);return Oe&&delete i[ie],Oe},isSet:ie=>Jn(i,ie),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ie,Oe)=>Ze(Oe)||Pt(Oe)||J(Oe)||G(Oe)||Ae(Oe)||Wt(Oe)?Oe:Object.prototype.toString.call(Oe))))}catch(ie){console.error(ie)}}}},yc=(e,t)=>{e.dom.contentEditable="true"},um=(e,t)=>{const o=Pe.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&yc(o),gP(e)):(e.readonly=!1,EI(e))},Gc=e=>e.readonly,ep=e=>{const t=e.undoManager.add();Ce(t)&&(e.undoManager.undo(),e.undoManager.reset())},Xv=e=>Ve(e,t=>t.type==="characterData"||t.type==="childList"),i1=e=>{const t=r=>{Gc(e)&&Xv(r)&&ep(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",r=>{Gc(e)&&r.preventDefault()}),e.on("BeforeExecCommand",r=>{(r.command==="Undo"||r.command==="Redo")&&Gc(e)&&r.preventDefault()}),e.on("compositionstart",()=>{Gc(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(Gc(e)){const r=o.takeRecords();t(r)}o.disconnect()})},cC=["design","readonly"],l1=(e,t,o,r)=>{const i=o[t.get()],f=o[r];try{f.activate()}catch(v){console.error(`problem while activating editor mode ${r}:`,v);return}i.deactivate(),i.editorReadOnly!==f.editorReadOnly&&um(e,f.editorReadOnly),t.set(r),Z4(e,r)},AE=(e,t,o,r)=>{if(!(r===o.get()||e.initialized&&g0(e))){if(!Jn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?l1(e,o,t,r):e.on("init",()=>l1(e,o,t,r))}},a5=(e,t,o)=>{if(Re(cC,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},uC=e=>{const t=Kn("design"),o=Kn({design:{activate:lt,deactivate:lt,editorReadOnly:!1},readonly:{activate:lt,deactivate:lt,editorReadOnly:!0}});return i1(e),Gj(e),{isReadOnly:()=>Gc(e),set:r=>AE(e,o.get(),t,r),get:()=>t.get(),register:(r,i)=>{o.set(a5(o.get(),r,i))}}},dC=pn.each,fC=pn.explode,X9={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},i5=pn.makeMap("alt,ctrl,shift,meta,access"),fJ=e=>e in i5,l5=e=>{const t={},o=ps.os.isMacOS()||ps.os.isiOS();dC(fC(e.toLowerCase(),"+"),f=>{fJ(f)?t[f]=!0:/^[0-9]{2,}$/.test(f)?t.keyCode=parseInt(f,10):(t.charCode=f.charCodeAt(0),t.keyCode=X9[f]||f.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let i;for(i in i5)t[i]?r.push(i):t[i]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class mC{editor;shortcuts={};pendingPatterns=[];constructor(t){this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(dC(o.shortcuts,i=>{o.matchShortcut(r,i)&&(o.pendingPatterns=i.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(i))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,i){const f=this,v=f.normalizeCommandFunc(r);return dC(fC(pn.trim(t)),S=>{const A=f.createShortcut(S,o,v,i);f.shortcuts[A.id]=A}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:pn.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,i){const f=pn.map(fC(t,">"),l5);return f[f.length-1]=pn.extend(f[f.length-1],{func:r,scope:i||this.editor}),pn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const pC=()=>{const e=DK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Yp=Ns.DOM,c5=pn.extend,Q9=pn.each;class TE{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(t,o,r){this.editorManager=r,c5(this,Mo);const i=this;this.id=t,this.editorUid=$o(),this.hidden=!1;const f=JQ(r.defaultOptions,o);this.options=cf(i,f,o),zb(i),this.userLookup=N9(this);const v=this.options.get;v("deprecation_warnings")&&CW(o,f);const S=v("suffix");S&&(r.suffix=S),this.suffix=r.suffix;const A=v("base_url");A&&r._setBaseUrl(A),this.baseUri=r.baseURI;const P=U2(i);P&&(dr.ScriptLoader._setReferrerPolicy(P),Ns.DOM.styleSheetLoader._setReferrerPolicy(P)),dr.ScriptLoader._setCrossOrigin(ie=>X1(i)(ie,"script")),Ns.DOM.styleSheetLoader._setCrossOrigin(ie=>X1(i)(ie,"stylesheet"));const U=bS(i);Ce(U)&&Ns.DOM.styleSheetLoader._setContentCssCors(U),Pn.languageLoad=v("language_load"),Pn.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Vp(uS(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Vb(i),this.hasVisual=Zb(i),this.shortcuts=new mC(this),this.editorCommands=new nn(this),xt(this);const j=v("cache_suffix");j&&(ps.cacheSuffix=j.replace(/^[\?\&]+/,"")),this.ui={registry:pC(),styleSheetLoader:void 0,show:lt,hide:lt,setEnabled:lt,isEnabled:ut},this.mode=uC(i),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),r.dispatch("SetupEditor",{editor:this});const Y=J1(i);ce(Y)&&Y.call(i,i)}render(){qQ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return hw(this)}translate(t){return Nn.translate(t)}getParam(t,o,r){const i=this.options;return i.isRegistered(t)||(Ce(r)?i.register(t,{processor:r,default:o}):i.register(t,{processor:ut,default:o})),!i.isSet(t)&&!Ft(o)?o:i.get(t)}hasPlugin(t,o){return Re(jb(this),t)?o?Hv.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,i){this.shortcuts.add(t,o,r,i)}execCommand(t,o,r,i){return this.editorCommands.execCommand(t,o,r,i)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Yp.show(t.getContainer()),Yp.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Yp.hide(t.getContainer()),Yp.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(!o.removed&&r){const i={...t,load:!0},f=Ou(r)?r.value:r.innerHTML;o.setContent(f,i),i.no_events||o.dispatch("LoadContent",{...i,element:r})}}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const i={...t,save:!0,element:r};let f=o.getContent(i);const v={...i,content:f};if(v.no_events||o.dispatch("SaveContent",v),v.format==="raw"&&o.dispatch("RawSaveContent",v),f=v.content,Ou(r))r.value=f;else{(t.is_removing||!o.inline)&&(r.innerHTML=f);const S=Yp.getParent(o.id,"form");S&&Q9(S.elements,A=>A.name===o.id?(A.value=f,!1):!0)}return v.element=i.element=r=null,v.set_dirty!==!1&&o.setDirty(!1),f}setContent(t,o){YD(this,t,o)}getContent(t){return Pj(this,t)}insertContent(t,o){o&&(t=c5({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?YD(this,this.startContent,{initial:!0,format:"raw"}):YD(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Yp.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Yp.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??t?.body??null}convertURL(t,o,r){const i=this,f=i.options.get,v=Rp(i);if(ce(v))return v.call(i,t,r,!0,o);if(!f("convert_urls")||r==="link"||dt(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const S=new Vp(t);return S.protocol!=="http"&&S.protocol!=="https"&&S.protocol!==""?t:f("relative_urls")?i.documentBaseURI.toRelative(t):(t=i.documentBaseURI.toAbsolute(t,f("remove_script_host")),t)}addVisual(t){eJ(this,t)}setEditableRoot(t){KQ(this,t)}hasEditableRoot(){return YQ(this)}remove(){QD(this)}destroy(t){dI(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Qv=Ns.DOM,kE=pn.each;let _E=!1,Ly,Nl=[];const x0=e=>{const t=e.type;kE(Qg.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},s4=e=>{if(e!==_E){const t=Ns.DOM;e?(t.bind(window,"resize",x0),t.bind(window,"scroll",x0)):(t.unbind(window,"resize",x0),t.unbind(window,"scroll",x0)),_E=e}},r4=e=>{const t=Nl;return Nl=at(Nl,o=>e!==o),Qg.activeEditor===e&&(Qg.activeEditor=Nl.length>0?Nl[0]:null),Qg.focusedEditor===e&&(Qg.focusedEditor=null),t.length!==Nl.length},mJ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(r4(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},a4=document.compatMode!=="CSS1Compat",Qg={...ao,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:$o(),majorVersion:"8",minorVersion:"3.1",releaseDate:"2025-12-17",i18n:Nn,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=Vp.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,o=i.suffix;else{const f=document.getElementsByTagName("script");for(let v=0;v<f.length;v++){const S=f[v].src||"";if(S==="")continue;const A=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){A.indexOf(".min")!==-1&&(o=".min"),t=S.substring(0,S.lastIndexOf("/"));break}}if(!t&&document.currentScript){const v=document.currentScript.src;v.indexOf(".min")!==-1&&(o=".min"),t=v.substring(0,v.lastIndexOf("/"))}}e.baseURL=new Vp(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Vp(e.baseURL),e.suffix=o,EM(e),De(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],f=>Object.defineProperty(e,f,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Io(r,(i,f)=>{Pn.PluginManager.urls[f]=i})},init(e){const t=this;let o;const r=pn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(U,j)=>U.inline&&j.tagName.toLowerCase()in r,f=U=>{let j=U.id;return j||(j=_o(U,"name").filter(Y=>!Qv.get(Y)).getOrThunk(Qv.uniqueId),U.setAttribute("id",j)),j},v=U=>{const j=e[U];if(j)return j.apply(t,[])},S=U=>ps.browser.isIE()||ps.browser.isEdge()?(_k("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):a4?(_k("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):J(U.selector)?Qv.select(U.selector):Ce(U.target)?[U.target]:[];let A=U=>{o=U};const P=()=>{let U=0;const j=[];let Y;const ie=(Oe,ge,ke)=>{const nt=new TE(Oe,ge,t);j.push(nt),nt.on("init",()=>{++U===Y.length&&A(j)}),nt.targetElm=nt.targetElm||ke,nt.render()};Qv.unbind(window,"ready",P),v("onpageload"),Y=xs(S(e)),pn.each(Y,Oe=>{mJ(t.get(Oe.id))}),Y=pn.grep(Y,Oe=>!t.get(Oe.id)),Y.length===0?A([]):kE(Y,Oe=>{i(e,Oe)?_k("Could not initialize inline editor on invalid inline target element",Oe):ie(f(Oe),e,Oe)})};return Qv.bind(window,"ready",P),new Promise(U=>{o?U(o):A=j=>{U(j)}})},get(e){return arguments.length===0?Nl.slice(0):J(e)?vn(Nl,t=>t.id===e).getOr(null):Pt(e)&&Nl[e]?Nl[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&Nl.push(e),s4(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),Ly||(Ly=r=>{const i=t.dispatch("BeforeUnload");if(i.returnValue)return r.preventDefault(),r.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",Ly))),e},createEditor(e,t){return this.add(new TE(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=Nl.length-1;r>=0;r--)t.remove(Nl[r]);return}if(J(e)){kE(Qv.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,G(t.get(o.id))?null:(r4(o)&&t.dispatch("RemoveEditor",{editor:o}),Nl.length===0&&window.removeEventListener("beforeunload",Ly),o.remove(),s4(Nl.length>0),o)},execCommand(e,t,o){const r=this,i=dt(o)?o.id??o.index:o;switch(e){case"mceAddEditor":{if(!r.get(i)){const f=o.options;new TE(i,f,r).render()}return!0}case"mceRemoveEditor":{const f=r.get(i);return f&&f.remove(),!0}case"mceToggleEditor":{const f=r.get(i);return f?(f.isHidden()?f.show():f.hide(),!0):(r.execCommand("mceAddEditor",!1,o),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{kE(Nl,e=>{e.save()})},addI18n:(e,t)=>{Nn.add(e,t)},translate:e=>Nn.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Vp(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Vp(this.baseURL)},_addLicenseKeyManager:e=>fP.add(e)};Qg.setup();const OE=(()=>{const e=Ls(),t=f=>({items:f,types:sn(f),getType:v=>_o(f,v).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:i}})(),J9=Math.min,gC=Math.max,Kc=Math.round,Hy=(e,t,o)=>{let r=t.x,i=t.y;const f=e.w,v=e.h,S=t.w,A=t.h,P=(o||"").split("");return P[0]==="b"&&(i+=A),P[1]==="r"&&(r+=S),P[0]==="c"&&(i+=Kc(A/2)),P[1]==="c"&&(r+=Kc(S/2)),P[3]==="b"&&(i-=v),P[4]==="r"&&(r-=f),P[3]==="c"&&(i-=Kc(v/2)),P[4]==="c"&&(r-=Kc(f/2)),zy(r,i,f,v)},pJ=(e,t,o,r)=>{for(let i=0;i<r.length;i++){const f=Hy(e,t,r[i]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[i]}return null},eH=(e,t,o)=>zy(e.x-t,e.y-o,e.w+t*2,e.h+o*2),u5=(e,t)=>{const o=gC(e.x,t.x),r=gC(e.y,t.y),i=J9(e.x+e.w,t.x+t.w),f=J9(e.y+e.h,t.y+t.h);return i-o<0||f-r<0?null:zy(o,r,i-o,f-r)},tH=(e,t,o)=>{let r=e.x,i=e.y,f=e.x+e.w,v=e.y+e.h;const S=t.x+t.w,A=t.y+t.h,P=gC(0,t.x-r),U=gC(0,t.y-i),j=gC(0,f-S),Y=gC(0,v-A);return r+=P,i+=U,o&&(f+=P,v+=U,r-=j,i-=Y),f-=j,v-=Y,zy(r,i,f-r,v-i)},zy=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),c1={inflate:eH,relativePosition:Hy,findBestRelativePosition:pJ,intersect:u5,clamp:tH,create:zy,fromClientRect:e=>zy(e.left,e.top,e.width,e.height)},hC=(e,t,o=1e3)=>{let r=!1,i=null;const f=P=>(...U)=>{r||(r=!0,i!==null&&(window.clearTimeout(i),i=null),P.apply(null,U))},v=f(e),S=f(t);return{start:(...P)=>{!r&&i===null&&(i=window.setTimeout(()=>S.apply(null,P),o))},resolve:v,reject:S}},nH=(()=>{const e={},t={},o={};return{load:(A,P)=>{const U=`Script at URL "${P}" failed to load`,j=`Script at URL "${P}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const Y=new Promise((ie,Oe)=>{const ge=hC(ie,Oe);t[A]=ge.resolve,dr.ScriptLoader.loadScript(P).then(()=>ge.start(j),()=>ge.reject(U))});return e[A]=Y,Y}},add:(A,P)=>{t[A]!==void 0&&(t[A](P),delete t[A]),e[A]=Promise.resolve(P),o[A]=P},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),d5=()=>(()=>{let e={},t=[];const o={getItem:r=>{const i=e[r];return i||null},setItem:(r,i)=>{t.push(r),e[r]=String(i)},key:r=>t[r],removeItem:r=>{t=t.filter(i=>i===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let vC;try{const e="__storage_test__";vC=window.localStorage,vC.setItem(e,e),vC.removeItem(e)}catch{vC=d5()}var E0=vC;const oH={geom:{Rect:c1},util:{Delay:$p,Tools:pn,VK:Hn,URI:Vp,EventDispatcher:un,Observable:ao,I18n:Nn,LocalStorage:E0,ImageUploader:_I},dom:{EventUtils:kh,TreeWalker:Fa,TextSeeker:Gf,DOMUtils:Ns,ScriptLoader:dr,RangeUtils:Ig,Serializer:KD,StyleSheetLoader:uu,ControlSelection:Nz,BookmarkManager:pw,Selection:qD,Event:kh.Event},html:{Styles:Om,Entities:fc,Node:vc,Schema:gl,DomParser:Ew,Writer:tO,Serializer:Ov},Env:ps,AddOnManager:Pn,Annotator:yM,Formatter:PI,UndoManager:uZ,EditorCommands:nn,WindowManager:fI,NotificationManager:Mx,EditorObservable:Mo,Shortcuts:mC,Editor:TE,FocusManager:SM,EditorManager:Qg,DOM:Ns.DOM,ScriptLoader:dr.ScriptLoader,PluginManager:Hv,ThemeManager:vy,ModelManager:Fw,IconManager:Tk,Resource:nH,FakeClipboard:OE,trim:pn.trim,isArray:pn.isArray,is:pn.is,toArray:pn.toArray,makeMap:pn.makeMap,each:pn.each,map:pn.map,grep:pn.grep,inArray:pn.inArray,extend:pn.extend,walk:pn.walk,resolve:pn.resolve,explode:pn.explode,_addCacheSuffix:pn._addCacheSuffix},f5=pn.extend(Qg,oH),sH=e=>{try{l.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(f5),sH(f5)})()})(Lee)),Lee.exports}oye();var Fre={},Mre={},Nre;function sye(){return Nre||(Nre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.ModelManager");const m=(d,h,C)=>C(d,h.prototype)?!0:d.constructor?.name===h.name,b=d=>{const h=typeof d;return d===null?"null":h==="object"&&Array.isArray(d)?"array":h==="object"&&m(d,String,(C,T)=>T.isPrototypeOf(C))?"string":h},E=d=>h=>b(h)===d,D=d=>h=>typeof h===d,$=d=>h=>d===h,I=E("string"),H=E("object"),K=E("array"),X=$(null),ae=D("boolean"),le=$(void 0),me=d=>d==null,Me=d=>!me(d),de=D("function"),Se=D("number"),re=()=>{},ot=(d,h)=>(...C)=>d(h.apply(null,C)),it=(d,h)=>C=>d(h(C)),J=d=>()=>d,dt=d=>d,Wt=(d,h)=>d===h;function Ae(d,...h){return(...C)=>{const T=h.concat(C);return d.apply(null,T)}}const G=d=>h=>!d(h),Ze=d=>()=>{throw new Error(d)},Ft=d=>d(),ct=J(!1),Ce=J(!0);class ce{tag;value;static singletonNone=new ce(!1);constructor(h,C){this.tag=h,this.value=C}static some(h){return new ce(!0,h)}static none(){return ce.singletonNone}fold(h,C){return this.tag?C(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ce.some(h(this.value)):ce.none()}bind(h){return this.tag?h(this.value):ce.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ce.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Me(h)?ce.some(h):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Pt=Array.prototype.slice,je=Array.prototype.indexOf,lt=Array.prototype.push,F=(d,h)=>je.call(d,h),dn=(d,h)=>F(d,h)>-1,Te=(d,h)=>{for(let C=0,T=d.length;C<T;C++){const M=d[C];if(h(M,C))return!0}return!1},rn=(d,h)=>{const C=[];for(let T=0;T<d;T++)C.push(h(T));return C},yt=(d,h)=>{const C=d.length,T=new Array(C);for(let M=0;M<C;M++){const V=d[M];T[M]=h(V,M)}return T},se=(d,h)=>{for(let C=0,T=d.length;C<T;C++){const M=d[C];h(M,C)}},$e=(d,h)=>{for(let C=d.length-1;C>=0;C--){const T=d[C];h(T,C)}},Mt=(d,h)=>{const C=[],T=[];for(let M=0,V=d.length;M<V;M++){const te=d[M];(h(te,M)?C:T).push(te)}return{pass:C,fail:T}},Qe=(d,h)=>{const C=[];for(let T=0,M=d.length;T<M;T++){const V=d[T];h(V,T)&&C.push(V)}return C},Ct=(d,h,C)=>($e(d,(T,M)=>{C=h(C,T,M)}),C),He=(d,h,C)=>(se(d,(T,M)=>{C=h(C,T,M)}),C),ut=(d,h,C)=>{for(let T=0,M=d.length;T<M;T++){const V=d[T];if(h(V,T))return ce.some(V);if(C(V,T))break}return ce.none()},W=(d,h)=>ut(d,h,ct),Wn=(d,h)=>{for(let C=0,T=d.length;C<T;C++){const M=d[C];if(h(M,C))return ce.some(C)}return ce.none()},Yt=d=>{const h=[];for(let C=0,T=d.length;C<T;++C){if(!K(d[C]))throw new Error("Arr.flatten item "+C+" was not an array, input: "+d);lt.apply(h,d[C])}return h},jn=(d,h)=>Yt(yt(d,h)),Cn=(d,h)=>{for(let C=0,T=d.length;C<T;++C){const M=d[C];if(h(M,C)!==!0)return!1}return!0},No=d=>{const h=Pt.call(d,0);return h.reverse(),h},Re=(d,h)=>{const C={};for(let T=0,M=d.length;T<M;T++){const V=d[T];C[String(V)]=h(V,T)}return C},Ve=(d,h)=>{const C=Pt.call(d,0);return C.sort(h),C},qe=(d,h)=>h>=0&&h<d.length?ce.some(d[h]):ce.none(),De=d=>qe(d,0),Ye=d=>qe(d,d.length-1),Tt=(d,h)=>{for(let C=0;C<d.length;C++){const T=h(d[C],C);if(T.isSome())return T}return ce.none()},at=Object.keys,En=Object.hasOwnProperty,wt=(d,h)=>{const C=at(d);for(let T=0,M=C.length;T<M;T++){const V=C[T],te=d[V];h(te,V)}},kt=(d,h)=>an(d,(C,T)=>({k:T,v:h(C,T)})),an=(d,h)=>{const C={};return wt(d,(T,M)=>{const V=h(T,M);C[V.k]=V.v}),C},vn=d=>(h,C)=>{d[C]=h},Fn=(d,h,C,T)=>{wt(d,(M,V)=>{(h(M,V)?C:T)(M,V)})},mo=(d,h)=>{const C={};return Fn(d,h,vn(C),re),C},es=(d,h)=>{const C=[];return wt(d,(T,M)=>{C.push(h(T,M))}),C},vo=d=>es(d,dt),ts=(d,h)=>Bo(d,h)?ce.from(d[h]):ce.none(),Bo=(d,h)=>En.call(d,h),ds=(d,h)=>Bo(d,h)&&d[h]!==void 0&&d[h]!==null,Ys=d=>{for(const h in d)if(En.call(d,h))return!1;return!0},lr={generate:d=>{if(!K(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const h=[],C={};return se(d,(T,M)=>{const V=at(T);if(V.length!==1)throw new Error("one and only one name per case");const te=V[0],ue=T[te];if(C[te]!==void 0)throw new Error("duplicate key detected:"+te);if(te==="cata")throw new Error("cannot have a case named cata (sorry)");if(!K(ue))throw new Error("case arguments must be an array");h.push(te),C[te]=(...xe)=>{const We=xe.length;if(We!==ue.length)throw new Error("Wrong number of arguments to case "+te+". Expected "+ue.length+" ("+ue+"), got "+We);return{fold:(...ln)=>{if(ln.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+ln.length);return ln[M].apply(null,xe)},match:ln=>{const zn=at(ln);if(h.length!==zn.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+zn.join(","));if(!Cn(h,co=>dn(zn,co)))throw new Error("Not all branches were specified when using match. Specified: "+zn.join(", ")+`
Required: `+h.join(", "));return ln[te].apply(null,xe)},log:ln=>{console.log(ln,{constructors:h,constructor:te,params:xe})}}}}),C}},bt=d=>{let h=d;return{get:()=>h,set:M=>{h=M}}},Bt=d=>d.slice(0).sort(),po=(d,h)=>{throw new Error("All required keys ("+Bt(d).join(", ")+") were not specified. Specified keys were: "+Bt(h).join(", ")+".")},rs=d=>{throw new Error("Unsupported keys for object: "+Bt(d).join(", "))},xs=(d,h)=>{if(!K(h))throw new Error("The "+d+" fields must be an array. Was: "+h+".");se(h,C=>{if(!I(C))throw new Error("The value "+C+" in the "+d+" fields was not a string.")})},sn=(d,h)=>{throw new Error("All values need to be of type: "+h+". Keys ("+Bt(d).join(", ")+") were not.")},Ho=d=>{const h=Bt(d);W(h,(T,M)=>M<h.length-1&&T===h[M+1]).each(T=>{throw new Error("The field: "+T+" occurs more than once in the combined fields: ["+h.join(", ")+"].")})},Io=(d,h)=>_r(d,h,{validate:de,label:"function"}),_r=(d,h,C)=>{if(h.length===0)throw new Error("You must specify at least one required field.");return xs("required",h),Ho(h),T=>{const M=at(T);Cn(h,ue=>dn(M,ue))||po(h,M),d(h,M);const te=Qe(h,ue=>!C.validate(T[ue],ue));return te.length>0&&sn(te,C.label),T}},Hr=(d,h)=>{const C=Qe(h,T=>!dn(d,T));C.length>0&&rs(C)},Mn=d=>Io(Hr,d),qt=d=>{const h=V=>V(d),C=J(d),T=()=>M,M={tag:!0,inner:d,fold:(V,te)=>te(d),isValue:Ce,isError:ct,map:V=>qn.value(V(d)),mapError:T,bind:h,exists:h,forall:h,getOr:C,or:T,getOrThunk:C,orThunk:T,getOrDie:C,each:V=>{V(d)},toOptional:()=>ce.some(d)};return M},jt=d=>{const h=()=>C,C={tag:!1,inner:d,fold:(T,M)=>T(d),isValue:ct,isError:Ce,map:h,mapError:T=>qn.error(T(d)),bind:h,exists:ct,forall:Ce,getOr:dt,or:dt,getOrThunk:Ft,orThunk:Ft,getOrDie:Ze(String(d)),each:re,toOptional:ce.none};return C},qn={value:qt,error:jt,fromOption:(d,h)=>d.fold(()=>jt(h),qt)},Co=typeof window<"u"?window:Function("return this;")(),_o=d=>{const h=d.replace(/\./g,"-");return{resolve:T=>h+"-"+T}},Jn=(d,h,C=Wt)=>d.exists(T=>C(T,h)),as=d=>{const h=[],C=T=>{h.push(T)};for(let T=0;T<d.length;T++)d[T].each(C);return h},qr=(d,h)=>d!=null?h(d):ce.none(),Ha=(d,h)=>d?ce.some(h):ce.none(),xa=(d,h)=>{let C=h??Co;for(let T=0;T<d.length&&C!==void 0&&C!==null;++T)C=C[d[T]];return C},Kn=(d,h)=>{const C=d.split(".");return xa(C,h)},ua=d=>{const h=bt(ce.none()),C=()=>h.get().each(d);return{clear:()=>{C(),h.set(ce.none())},isSet:()=>h.get().isSome(),get:()=>h.get(),set:ue=>{C(),h.set(ce.some(ue))}}},ta=()=>{const d=ua(re);return{...d,on:C=>d.get().each(C)}},hi=(d,h)=>d.substring(h),Be=(d,h,C)=>h===""||d.length>=h.length&&d.substr(C,C+h.length)===h,ze=(d,h)=>hn(d,h)?hi(d,h.length):d,et=(d,h,C=0,T)=>{const M=d.indexOf(h,C);return M!==-1?le(T)?!0:M+h.length<=T:!1},hn=(d,h)=>Be(d,h,0),Po=(d,h)=>Be(d,h,d.length-h.length),is=(d=>h=>h.replace(d,""))(/^\s+|\s+$/g),Ms=d=>d.length>0,$o=d=>{const h=parseFloat(d);return isNaN(h)?ce.none():ce.some(h)},hs=(d,h)=>{let C=null;const T=()=>{X(C)||(clearTimeout(C),C=null)};return{cancel:T,throttle:(...V)=>{T(),C=setTimeout(()=>{C=null,d.apply(null,V)},h)}}},pe=d=>{let h=!1,C;return(...T)=>(h||(h=!0,C=d.apply(null,T)),C)},Ue="",Gt=["tfoot","thead","tbody","colgroup"],On=d=>dn(Gt,d),tn=(d,h)=>({rows:d,columns:h}),Oo=(d,h)=>({row:d,column:h}),ro=(d,h,C)=>({element:d,rowspan:h,colspan:C}),Dn=(d,h,C,T)=>({element:d,rowspan:h,colspan:C,isNew:T}),Jo=(d,h,C,T,M,V)=>({element:d,rowspan:h,colspan:C,row:T,column:M,isLocked:V}),ms=(d,h,C)=>({element:d,cells:h,section:C}),$s=(d,h,C,T)=>({element:d,cells:h,section:C,isNew:T}),nr=(d,h,C)=>({element:d,isNew:h,isLocked:C}),ji=(d,h,C,T)=>({element:d,cells:h,section:C,isNew:T}),sa=(d,h,C,T)=>({startRow:d,startCol:h,finishRow:C,finishCol:T}),Uu=(d,h,C)=>({element:d,colspan:h,column:C}),br=(d,h)=>({element:d,columns:h}),Ls=(d,h,C)=>{const T=d.cells,M=T.slice(0,h),V=T.slice(h),te=M.concat(C).concat(V);return Sc(d,te)},Sr=(d,h,C)=>Ls(d,h,[C]),Mi=(d,h,C)=>{const T=d.cells;T[h]=C},Sc=(d,h)=>ji(d.element,h,d.section,d.isNew),Gr=(d,h)=>{const C=d.cells,T=yt(C,h);return ji(d.element,T,d.section,d.isNew)},Do=(d,h)=>d.cells[h],Ya=(d,h)=>Do(d,h).element,Ni=d=>d.cells.length,Kr=d=>{const h=Mt(d,C=>C.section==="colgroup");return{rows:h.fail,cols:h.pass}},Pr=(d,h,C)=>{const T=yt(d.cells,C);return ji(h(d.element),T,d.section,!0)},yu=(d,h)=>{const T=(h||document).createElement("div");if(T.innerHTML=d,!T.hasChildNodes()||T.childNodes.length>1){const M="HTML does not have a single root node";throw console.error(M,d),new Error(M)}return Il(T.childNodes[0])},Fr=(d,h)=>{const T=(h||document).createElement(d);return Il(T)},xc=(d,h)=>{const T=(h||document).createTextNode(d);return Il(T)},Il=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},An={fromHtml:yu,fromTag:Fr,fromText:xc,fromDom:Il,fromPoint:(d,h,C)=>ce.from(d.dom.elementFromPoint(h,C)).map(Il)},Yl=(d,h)=>{const C=d.document.createRange();return C.selectNode(h.dom),C},vi=(d,h)=>{const C=d.document.createRange();return ci(C,h),C},ci=(d,h)=>d.selectNodeContents(h.dom),xr=(d,h)=>{h.fold(C=>{d.setStartBefore(C.dom)},(C,T)=>{d.setStart(C.dom,T)},C=>{d.setStartAfter(C.dom)})},Xl=(d,h)=>{h.fold(C=>{d.setEndBefore(C.dom)},(C,T)=>{d.setEnd(C.dom,T)},C=>{d.setEndAfter(C.dom)})},bi=(d,h,C)=>{const T=d.document.createRange();return xr(T,h),Xl(T,C),T},il=(d,h,C,T,M)=>{const V=d.document.createRange();return V.setStart(h.dom,C),V.setEnd(T.dom,M),V},Ql=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),gm=d=>{const h=d.getClientRects(),C=h.length>0?h[0]:d.getBoundingClientRect();return C.width>0||C.height>0?ce.some(C).map(Ql):ce.none()},Jc=lr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pd=(d,h,C)=>h(An.fromDom(C.startContainer),C.startOffset,An.fromDom(C.endContainer),C.endOffset),gd=(d,h)=>h.match({domRange:C=>({ltr:J(C),rtl:ce.none}),relative:(C,T)=>({ltr:pe(()=>bi(d,C,T)),rtl:pe(()=>ce.some(bi(d,T,C)))}),exact:(C,T,M,V)=>({ltr:pe(()=>il(d,C,T,M,V)),rtl:pe(()=>ce.some(il(d,M,V,C,T)))})}),eu=(d,h)=>{const C=h.ltr();return C.collapsed?h.rtl().filter(M=>M.collapsed===!1).map(M=>Jc.rtl(An.fromDom(M.endContainer),M.endOffset,An.fromDom(M.startContainer),M.startOffset)).getOrThunk(()=>pd(d,Jc.ltr,C)):pd(d,Jc.ltr,C)},tu=(d,h)=>{const C=gd(d,h);return eu(d,C)},yn=(d,h)=>tu(d,h).match({ltr:(T,M,V,te)=>{const ue=d.document.createRange();return ue.setStart(T.dom,M),ue.setEnd(V.dom,te),ue},rtl:(T,M,V,te)=>{const ue=d.document.createRange();return ue.setStart(V.dom,te),ue.setEnd(T.dom,M),ue}});Jc.ltr,Jc.rtl;const Vu=8,wu=9,Zi=11,yi=1,Cu=3,qi=(d,h)=>{const C=d.dom;if(C.nodeType!==yi)return!1;{const T=C;if(T.matches!==void 0)return T.matches(h);if(T.msMatchesSelector!==void 0)return T.msMatchesSelector(h);if(T.webkitMatchesSelector!==void 0)return T.webkitMatchesSelector(h);if(T.mozMatchesSelector!==void 0)return T.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},nu=d=>d.nodeType!==yi&&d.nodeType!==wu&&d.nodeType!==Zi||d.childElementCount===0,Ec=(d,h)=>{const C=h===void 0?document:h.dom;return nu(C)?[]:yt(C.querySelectorAll(d),An.fromDom)},$l=(d,h)=>{const C=h===void 0?document:h.dom;return nu(C)?ce.none():ce.from(C.querySelector(d)).map(An.fromDom)},rr=(d,h)=>d.dom===h.dom,hd=(d,h)=>{const C=d.dom,T=h.dom;return C===T?!1:C.contains(T)},Q=qi,be=(d,h,C,T)=>{const M=d.isiOS()&&/ipad/i.test(C)===!0,V=d.isiOS()&&!M,te=d.isiOS()||d.isAndroid(),ue=te||T("(pointer:coarse)"),xe=M||!V&&te&&T("(min-device-width:768px)"),We=V||te&&!xe,gt=h.isSafari()&&d.isiOS()&&/safari/i.test(C)===!1,ln=!We&&!xe&&!gt;return{isiPad:J(M),isiPhone:J(V),isTablet:J(xe),isPhone:J(We),isTouch:J(ue),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:J(gt),isDesktop:J(ln)}},Ie=(d,h)=>{for(let C=0;C<d.length;C++){const T=d[C];if(T.test(h))return T}},Nt=(d,h)=>{const C=Ie(d,h);if(!C)return{major:0,minor:0};const T=M=>Number(h.replace(C,"$"+M));return ar(T(1),T(2))},Qn=(d,h)=>{const C=String(h).toLowerCase();return d.length===0?Cs():Nt(d,C)},Cs=()=>ar(0,0),ar=(d,h)=>({major:d,minor:h}),yr={nu:ar,detect:Qn,unknown:Cs},za=(d,h)=>Tt(h.brands,C=>{const T=C.brand.toLowerCase();return W(d,M=>T===M.brand?.toLowerCase()).map(M=>({current:M.name,version:yr.nu(parseInt(C.version,10),0)}))}),Gi=(d,h)=>{const C=String(h).toLowerCase();return W(d,T=>T.search(C))},ee=(d,h)=>Gi(d,h).map(C=>{const T=yr.detect(C.versionRegexes,h);return{current:C.name,version:T}}),_e=(d,h)=>Gi(d,h).map(C=>{const T=yr.detect(C.versionRegexes,h);return{current:C.name,version:T}}),Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Et=d=>h=>et(h,d),wn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>et(d,"edge/")&&et(d,"chrome")&&et(d,"safari")&&et(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:d=>et(d,"chrome")&&!et(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>et(d,"msie")||et(d,"trident")},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Et("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(et(d,"safari")||et(d,"mobile/"))&&et(d,"applewebkit")}],Xn=[{name:"Windows",search:Et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>et(d,"iphone")||et(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Et("linux"),versionRegexes:[]},{name:"Solaris",search:Et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vo={browsers:J(wn),oses:J(Xn)},Qs="Edge",Bs="Chromium",Ki="IE",ra="Opera",vd="Firefox",Bf="Safari",mf=()=>Ac({current:void 0,version:yr.unknown()}),Ac=d=>{const h=d.current,C=d.version,T=M=>()=>h===M;return{current:h,version:C,isEdge:T(Qs),isChromium:T(Bs),isIE:T(Ki),isOpera:T(ra),isFirefox:T(vd),isSafari:T(Bf)}},th={unknown:mf,nu:Ac},ag="Windows",ve="iOS",Ne="Android",pt="Linux",Qt="macOS",xo="Solaris",Es="FreeBSD",Pa="ChromeOS",Ll=()=>wi({current:void 0,version:yr.unknown()}),wi=d=>{const h=d.current,C=d.version,T=M=>()=>h===M;return{current:h,version:C,isWindows:T(ag),isiOS:T(ve),isAndroid:T(Ne),isMacOS:T(Qt),isLinux:T(pt),isSolaris:T(xo),isFreeBSD:T(Es),isChromeOS:T(Pa)}},Hl={unknown:Ll,nu:wi},zl={detect:(d,h,C)=>{const T=Vo.browsers(),M=Vo.oses(),V=h.bind(xe=>za(T,xe)).orThunk(()=>ee(T,d)).fold(th.unknown,th.nu),te=_e(M,d).fold(Hl.unknown,Hl.nu),ue=be(te,V,d,C);return{browser:V,os:te,deviceType:ue}}},hm=d=>window.matchMedia(d).matches;let Ul=pe(()=>zl.detect(window.navigator.userAgent,ce.from(window.navigator.userAgentData),hm));const Jl=()=>Ul(),bd=(d,h)=>Kn(d,h),kl=(d,h)=>{const C=bd(d,h);if(C==null)throw new Error(d+" not available on this browser");return C},ps=Object.getPrototypeOf,sp=d=>kl("HTMLElement",d),ig=d=>{const h=Kn("ownerDocument.defaultView",d);return H(d)&&(sp(h).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(ps(d).constructor.name))},Ua=d=>d.dom.nodeName.toLowerCase(),cb=d=>d.dom.nodeType,nh=d=>h=>cb(h)===d,ub=d=>cb(d)===Vu||Ua(d)==="#comment",vm=d=>Va(d)&&ig(d.dom),Va=nh(yi),bm=nh(Cu),db=nh(wu),pn=nh(Zi),Tc=d=>h=>Va(h)&&Ua(h)===d,pf=d=>An.fromDom(d.dom.ownerDocument),ec=d=>db(d)?d:pf(d),rp=d=>An.fromDom(ec(d).dom.documentElement),ap=d=>An.fromDom(ec(d).dom.defaultView),Pe=d=>ce.from(d.dom.parentNode).map(An.fromDom),tc=d=>ce.from(d.dom.parentElement).map(An.fromDom),jd=(d,h)=>{const C=de(h)?h:ct;let T=d.dom;const M=[];for(;T.parentNode!==null&&T.parentNode!==void 0;){const V=T.parentNode,te=An.fromDom(V);if(M.push(te),C(te)===!0)break;T=V}return M},lg=d=>ce.from(d.dom.previousSibling).map(An.fromDom),ym=d=>ce.from(d.dom.nextSibling).map(An.fromDom),bl=d=>yt(d.dom.childNodes,An.fromDom),nc=(d,h)=>{const C=d.dom.childNodes;return ce.from(C[h]).map(An.fromDom)},v1=d=>nc(d,0),b1=(d,h,C,T)=>{const V=pf(d).dom.createRange();return V.setStart(d.dom,h),V.setEnd(C.dom,T),V},cg=(d,h,C,T)=>{const M=b1(d,h,C,T),V=rr(d,C)&&h===T;return M.collapsed&&!V},kc=d=>pn(d)&&Me(d.dom.host),y1=d=>An.fromDom(d.dom.getRootNode()),ll=d=>kc(d)?d:An.fromDom(ec(d).dom.body),gf=d=>{const h=y1(d);return kc(h)?ce.some(h):ce.none()},oh=d=>An.fromDom(d.dom.host),_c=d=>{if(Me(d.target)){const h=An.fromDom(d.target);if(Va(h)&&sh(h)&&d.composed&&d.composedPath){const C=d.composedPath();if(C)return De(C)}}return ce.from(d.target)},sh=d=>Me(d.dom.shadowRoot),Wu=(d,h,C,T,M,V,te)=>({target:d,x:h,y:C,stop:T,prevent:M,kill:V,raw:te}),Zd=d=>{const h=An.fromDom(_c(d).getOr(d.target)),C=()=>d.stopPropagation(),T=()=>d.preventDefault(),M=ot(T,C);return Wu(h,d.clientX,d.clientY,C,T,M,d)},_s=(d,h)=>C=>{d(C)&&h(Zd(C))},oc=(d,h,C,T,M)=>{const V=_s(C,T);return d.dom.addEventListener(h,V,M),{unbind:Ae(rh,d,h,V,M)}},yd=(d,h,C,T)=>oc(d,h,C,T,!1),rh=(d,h,C,T)=>{d.dom.removeEventListener(h,C,T)},cs=Ce,wd=(d,h,C)=>yd(d,h,cs,C),ei=Zd,ou=(d,h)=>{Pe(d).each(T=>{T.dom.insertBefore(h.dom,d.dom)})},sc=(d,h)=>{ym(d).fold(()=>{Pe(d).each(M=>{or(M,h)})},T=>{ou(T,h)})},da=(d,h)=>{v1(d).fold(()=>{or(d,h)},T=>{d.dom.insertBefore(h.dom,T.dom)})},or=(d,h)=>{d.dom.appendChild(h.dom)},ah=(d,h,C)=>{nc(d,C).fold(()=>{or(d,h)},T=>{ou(T,h)})},I0=(d,h)=>{ou(d,h),or(h,d)},ti=(d,h)=>{se(h,(C,T)=>{const M=T===0?d:h[T-1];sc(M,C)})},Su=(d,h)=>{se(h,C=>{or(d,C)})},xu=(d,h,C)=>{if(I(C)||ae(C)||Se(C))d.setAttribute(h,C+"");else throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",C,":: Element ",d),new Error("Attribute value was not simple")},ni=(d,h,C)=>{xu(d.dom,h,C)},ju=(d,h)=>{const C=d.dom;wt(h,(T,M)=>{xu(C,M,T)})},Ci=(d,h)=>{wt(h,(C,T)=>{C.fold(()=>{cr(d,T)},M=>{xu(d.dom,T,M)})})},rc=(d,h)=>{const C=d.dom.getAttribute(h);return C===null?void 0:C},cl=(d,h)=>ce.from(rc(d,h)),cr=(d,h)=>{d.dom.removeAttribute(h)},Eu=d=>He(d.dom.attributes,(h,C)=>(h[C.name]=C.value,h),{}),ul=d=>{d.dom.textContent="",se(bl(d),h=>{dl(h)})},dl=d=>{const h=d.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Bi=d=>{const h=bl(d);h.length>0&&ti(d,h),dl(d)},fa=(d,h)=>An.fromDom(d.dom.cloneNode(h)),Mr=d=>fa(d,!1),Si=d=>fa(d,!0),Ra=(d,h)=>{const C=An.fromTag(h),T=Eu(d);return ju(C,T),C},Zu=(d,h)=>{const C=Ra(d,h),T=bl(Si(d));return Su(C,T),C},ih=(d,h)=>{const C=Ra(d,h);sc(d,C);const T=bl(d);return Su(C,T),dl(d),C},ip=(d,h)=>{const T=document.createElement("div");return T.innerHTML=d,bl(An.fromDom(T))},oi=d=>yt(d,An.fromDom),lp=d=>d.dom.innerHTML,wm=d=>{const h=An.fromTag("div"),C=An.fromDom(d.dom.cloneNode(!0));return or(h,C),lp(h)},If=d=>d.style!==void 0&&de(d.style.getPropertyValue),Ao=d=>{const h=bm(d)?d.dom.parentNode:d.dom;if(h==null||h.ownerDocument===null)return!1;const C=h.ownerDocument;return gf(An.fromDom(h)).fold(()=>C.body.contains(h),it(Ao,oh))},w1=d=>{const h=d.dom.body;if(h==null)throw new Error("Body is not available yet");return An.fromDom(h)},xi=(d,h,C)=>{if(!I(C))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",C,":: Element ",d),new Error("CSS value must be a string: "+C);If(d)&&d.style.setProperty(h,C)},Ei=(d,h)=>{If(d)&&d.style.removeProperty(h)},Ai=(d,h,C)=>{const T=d.dom;xi(T,h,C)},zr=(d,h)=>{const C=d.dom;wt(h,(T,M)=>{xi(C,M,T)})},qd=(d,h)=>{const C=d.dom,M=window.getComputedStyle(C).getPropertyValue(h);return M===""&&!Ao(d)?cp(C,h):M},cp=(d,h)=>If(d)?d.style.getPropertyValue(h):"",Oc=(d,h)=>{const C=d.dom,T=cp(C,h);return ce.from(T).filter(M=>M.length>0)},Cd=(d,h)=>{const C=d.dom;Ei(C,h),Jn(cl(d,"style").map(is),"")&&cr(d,"style")},up=(d,h)=>{const C=d.dom,T=h.dom;If(C)&&If(T)&&(T.style.cssText=C.style.cssText)},lh=(d,h)=>{const C=(ue,xe)=>{if(!Se(xe)&&!xe.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+xe);const We=ue.dom;If(We)&&(We.style[d]=xe+"px")},T=ue=>{const xe=h(ue);if(xe<=0||xe===null){const We=qd(ue,d);return parseFloat(We)||0}return xe},M=T,V=(ue,xe)=>He(xe,(We,gt)=>{const ln=qd(ue,gt),zn=ln===void 0?0:parseInt(ln,10);return isNaN(zn)?We:We+zn},0);return{set:C,get:T,getOuter:M,aggregate:V,max:(ue,xe,We)=>{const gt=V(ue,We);return xe>gt?xe-gt:0}}},ug=(d,h)=>$o(d).getOr(h),qu=(d,h,C)=>ug(qd(d,h),C),yl=(d,h,C,T)=>{const M=qu(d,`padding-${C}`,0),V=qu(d,`padding-${T}`,0),te=qu(d,`border-${C}-width`,0),ue=qu(d,`border-${T}-width`,0);return h-M-V-te-ue},ch=(d,h)=>{const C=d.dom,T=C.getBoundingClientRect().width||C.offsetWidth;return yl(d,T,"left","right")},ui=d=>qu(d,"height",d.dom.offsetHeight),Ii=d=>qu(d,"width",d.dom.offsetWidth),su=d=>ch(d),As=lh("height",d=>{const h=d.dom;return Ao(d)?h.getBoundingClientRect().height:h.offsetHeight}),ac=d=>As.get(d),$0=d=>As.getOuter(d),dg=ui,wl=lh("width",d=>{const h=d.dom;return Ao(d)?h.getBoundingClientRect().width:h.offsetWidth}),To=d=>wl.get(d),Nr=d=>wl.getOuter(d),Ti=su,Ur=Ii,_l=(d,h)=>({left:d,top:h,translate:(T,M)=>_l(d+T,h+M)}),Er=_l,Hs=d=>{const h=d.getBoundingClientRect();return Er(h.left,h.top)},ma=(d,h)=>d!==void 0?d:h!==void 0?h:0,fs=d=>{const h=d.dom.ownerDocument,C=h.body,T=h.defaultView,M=h.documentElement;if(C===d.dom)return Er(C.offsetLeft,C.offsetTop);const V=ma(T?.pageYOffset,M.scrollTop),te=ma(T?.pageXOffset,M.scrollLeft),ue=ma(M.clientTop,C.clientTop),xe=ma(M.clientLeft,C.clientLeft);return Wa(d).translate(te-xe,V-ue)},Wa=d=>{const h=d.dom,T=h.ownerDocument.body;return T===h?Er(T.offsetLeft,T.offsetTop):Ao(d)?Hs(h):Er(0,0)},Is=d=>{const h=d!==void 0?d.dom:document,C=h.body.scrollLeft||h.documentElement.scrollLeft,T=h.body.scrollTop||h.documentElement.scrollTop;return Er(C,T)},Yi=(d,h,C)=>{const M=(C!==void 0?C.dom:document).defaultView;M&&M.scrollBy(d,h)},Rr=((d,h)=>{const C=V=>{if(!d(V))throw new Error("Can only get "+h+" value of a "+h+" node");return T(V).getOr("")},T=V=>d(V)?ce.from(V.dom.nodeValue):ce.none();return{get:C,getOption:T,set:(V,te)=>{if(!d(V))throw new Error("Can only set raw "+h+" value of a "+h+" node");V.dom.nodeValue=te}}})(bm,"text"),Au=d=>Rr.get(d),Cm=d=>Rr.getOption(d),Gd=(d,h)=>Rr.set(d,h),Sd=(d,h)=>C=>hf(C)==="rtl"?h:d,hf=d=>qd(d,"direction")==="rtl"?"rtl":"ltr",ja=(d,h)=>{const C=rc(d,h);return C===void 0||C===""?[]:C.split(" ")},Gu=(d,h,C)=>{const M=ja(d,h).concat([C]);return ni(d,h,M.join(" ")),!0},C1=(d,h,C)=>{const T=Qe(ja(d,h),M=>M!==C);return T.length>0?ni(d,h,T.join(" ")):cr(d,h),!1};var vf=(d,h,C,T,M)=>d(C,T)?ce.some(C):de(M)&&M(C)?ce.none():h(C,T,M);const mr=(d,h,C)=>{let T=d.dom;const M=de(C)?C:ct;for(;T.parentNode;){T=T.parentNode;const V=An.fromDom(T);if(h(V))return ce.some(V);if(M(V))break}return ce.none()},Kd=(d,h,C)=>vf((M,V)=>V(M),mr,d,h,C),xd=(d,h)=>{const C=M=>h(An.fromDom(M));return W(d.dom.childNodes,C).map(An.fromDom)},ki=(d,h)=>{const C=T=>{for(let M=0;M<T.childNodes.length;M++){const V=An.fromDom(T.childNodes[M]);if(h(V))return ce.some(V);const te=C(T.childNodes[M]);if(te.isSome())return te}return ce.none()};return C(d.dom)},Ol=(d,h,C)=>mr(d,T=>qi(T,h),C),pa=(d,h)=>xd(d,C=>qi(C,h)),fl=(d,h)=>$l(h,d),Br=(d,h,C)=>vf((M,V)=>qi(M,V),Ol,d,h,C),Ku=d=>d.dom.classList!==void 0,Yu=d=>ja(d,"class"),Ed=(d,h)=>Gu(d,"class",h),dp=(d,h)=>C1(d,"class",h),Xu=(d,h)=>{Ku(d)?d.dom.classList.add(h):Ed(d,h)},S1=d=>{(Ku(d)?d.dom.classList:Yu(d)).length===0&&cr(d,"class")},fg=(d,h)=>{Ku(d)?d.dom.classList.remove(h):dp(d,h),S1(d)},_i=(d,h)=>Ku(d)&&d.dom.classList.contains(h),ru=(d,h)=>{se(h,C=>{fg(d,C)})},Aa=d=>Br(d,"[contenteditable]"),Dc=(d,h=!1)=>Ao(d)?d.dom.isContentEditable:Aa(d).fold(J(h),C=>fp(C)==="true"),fp=d=>d.dom.contentEditable,uh=d=>h=>{Xu(h,d)},dh=d=>h=>{ru(h,d)},au=(d,h,C)=>Qe(jd(d,C),h),L0=(d,h)=>Qe(bl(d),h),Ad=(d,h)=>{let C=[];return se(bl(d),T=>{h(T)&&(C=C.concat([T])),C=C.concat(Ad(T,h))}),C},ur=(d,h,C)=>au(d,T=>qi(T,h),C),Oi=(d,h)=>L0(d,C=>qi(C,h)),Qu=(d,h)=>Ec(h,d),x1=(d,h,C,T)=>({parent:d,children:h,element:C,index:T}),Ju=d=>Pe(d).bind(h=>{const C=bl(h);return mp(C,d).map(T=>x1(h,C,d,T))}),mp=(d,h)=>Wn(d,Ae(rr,h)),E1=(d,h,C)=>mr(d,h,C).isSome(),Td=d=>Ua(d)==="img"?1:Cm(d).fold(()=>bl(d).length,h=>h.length),Pc=d=>Cm(d).filter(h=>h.trim().length!==0||h.indexOf(Ue)>-1).isSome(),wr=d=>vm(d)&&rc(d,"contenteditable")==="false",mg=["img","br"],na=d=>Pc(d)||dn(mg,Ua(d))||wr(d),kd=d=>ki(d,na),Za=d=>ed(d,na),ed=(d,h)=>{const C=T=>{const M=bl(T);for(let V=M.length-1;V>=0;V--){const te=M[V];if(h(te))return ce.some(te);const ue=C(te);if(ue.isSome())return ue}return ce.none()};return C(d)},_d={create:(d,h,C,T)=>({start:d,soffset:h,finish:C,foffset:T})},bf=lr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),iu=(d,h,C,T)=>d.fold(h,C,T),yf=d=>d.fold(dt,dt,dt),A1=bf.before,ic=bf.on,Cl=bf.after,aa={before:A1,on:ic,after:Cl,cata:iu,getStart:yf},Di=lr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pg=d=>Di.exact(d.start,d.soffset,d.finish,d.foffset),Tu=d=>d.match({domRange:h=>An.fromDom(h.startContainer),relative:(h,C)=>aa.getStart(h),exact:(h,C,T,M)=>h}),Od=Di.domRange,gg=Di.relative,ku=Di.exact,T1=d=>{const h=Tu(d);return ap(h)},R=_d.create,B={domRange:Od,relative:gg,exact:ku,exactFromRange:pg,getWin:T1,range:R},ne=(d,h,C)=>ce.from(d.caretPositionFromPoint?.(h,C)).bind(T=>{if(T.offsetNode===null)return ce.none();const M=d.createRange();return M.setStart(T.offsetNode,T.offset),M.collapse(),ce.some(M)}),we=(d,h,C)=>ce.from(d.caretRangeFromPoint?.(h,C)),Ke=(d,h,C)=>d.caretPositionFromPoint?ne(d,h,C):d.caretRangeFromPoint?we(d,h,C):ce.none(),Ot=(d,h,C)=>{const T=d.document;return Ke(T,h,C).map(M=>_d.create(An.fromDom(M.startContainer),M.startOffset,An.fromDom(M.endContainer),M.endOffset))},xn=(d,h)=>{const C=Ua(d);return C==="input"?aa.after(d):dn(["br","img"],C)?h===0?aa.before(d):aa.after(d):aa.on(d,h)},no=(d,h)=>{const C=d.fold(aa.before,xn,aa.after),T=h.fold(aa.before,xn,aa.after);return B.relative(C,T)},Ko=(d,h,C,T)=>{const M=xn(d,h),V=xn(C,T);return B.relative(M,V)},vs=d=>ce.from(d.getSelection()),Ss=(d,h)=>{vs(d).each(C=>{C.removeAllRanges(),C.addRange(h)})},Yr=(d,h,C,T,M)=>{const V=il(d,h,C,T,M);Ss(d,V)},qa=(d,h,C,T,M,V)=>{h.collapse(C.dom,T),h.extend(M.dom,V)},lc=(d,h)=>tu(d,h).match({ltr:(C,T,M,V)=>{Yr(d,C,T,M,V)},rtl:(C,T,M,V)=>{vs(d).each(te=>{if(te.setBaseAndExtent)te.setBaseAndExtent(C.dom,T,M.dom,V);else if(te.extend)try{qa(d,te,C,T,M,V)}catch{Yr(d,M,V,C,T)}else Yr(d,M,V,C,T)})}}),lu=(d,h,C,T,M)=>{const V=Ko(h,C,T,M);lc(d,V)},Dd=(d,h,C)=>{const T=no(h,C);lc(d,T)},Dl=d=>{if(d.rangeCount>0){const h=d.getRangeAt(0),C=d.getRangeAt(d.rangeCount-1);return ce.some(_d.create(An.fromDom(h.startContainer),h.startOffset,An.fromDom(C.endContainer),C.endOffset))}else return ce.none()},si=d=>{if(d.anchorNode===null||d.focusNode===null)return Dl(d);{const h=An.fromDom(d.anchorNode),C=An.fromDom(d.focusNode);return cg(h,d.anchorOffset,C,d.focusOffset)?ce.some(_d.create(h,d.anchorOffset,C,d.focusOffset)):Dl(d)}},di=(d,h,C=!0)=>{const M=(C?vi:Yl)(d,h);Ss(d,M)},$i=d=>vs(d).filter(h=>h.rangeCount>0).bind(si),$f=d=>$i(d).map(h=>B.exact(h.start,h.soffset,h.finish,h.foffset)),wf=(d,h)=>{const C=yn(d,h);return gm(C)},Yd=(d,h,C)=>Ot(d,h,C),fh=d=>{vs(d).each(h=>h.removeAllRanges())},cc={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},k1=(()=>{const d="[0-9]+",C="[eE]"+("[+-]?"+d),T="\\.",M=ue=>`(?:${ue})?`,te=`[+-]?(?:${["Infinity",d+T+M(d)+M(C),T+d+M(C),d+M(C)].join("|")})`;return new RegExp(`^(${te})(.*)$`)})(),Ws=(d,h)=>Te(h,C=>Te(cc[C],T=>d===T)),wa=(d,h)=>ce.from(k1.exec(d)).bind(T=>{const M=Number(T[1]),V=T[2];return Ws(V,h)?ce.some({value:M,unit:V}):ce.none()}),Ir=d=>yt(d,J(0)),Ta=(d,h,C,T,M)=>M(d.slice(0,h)).concat(T).concat(M(d.slice(C))),Lf=d=>(h,C,T,M)=>{if(d(T)){const V=Math.max(M,h[C]-Math.abs(T)),te=Math.abs(V-h[C]);return T>=0?te:-te}else return T},Sm=Lf(d=>d<0),pp=Lf(Ce),hg=()=>{const d=(ue,xe,We,gt,ln)=>{const zn=Sm(ue,xe,gt,ln);return Ta(ue,xe,We+1,[zn,0],Ir)},h=(ue,xe,We,gt)=>{const ln=(100+We)/100,zn=Math.max(gt,(ue[xe]+We)/ln);return yt(ue,($n,co)=>(co===xe?zn:$n/ln)-$n)},C=(ue,xe,We,gt,ln,zn)=>zn?h(ue,xe,gt,ln):d(ue,xe,We,gt,ln);return{resizeTable:(ue,xe)=>ue(xe),clampTableDelta:Sm,calcLeftEdgeDeltas:C,calcMiddleDeltas:(ue,xe,We,gt,ln,zn,$n)=>C(ue,We,gt,ln,zn,$n),calcRightEdgeDeltas:(ue,xe,We,gt,ln,zn)=>{if(zn)return h(ue,We,gt,ln);{const $n=Sm(ue,We,gt,ln);return Ir(ue.slice(0,We)).concat([$n])}},calcRedestributedWidths:(ue,xe,We,gt)=>{if(gt){const zn=(xe+We)/xe,$n=yt(ue,co=>co/zn);return{delta:zn*100-100,newSizes:$n}}else return{delta:We,newSizes:ue}}}},fb=()=>{const d=(te,ue,xe,We,gt)=>{const ln=We>=0?xe:ue,zn=pp(te,ln,We,gt);return Ta(te,ue,xe+1,[zn,-zn],Ir)};return{resizeTable:(te,ue,xe)=>{xe&&te(ue)},clampTableDelta:(te,ue,xe,We,gt)=>{if(gt){if(xe>=0)return xe;{const ln=He(te,(zn,$n)=>zn+$n-We,0);return Math.max(-ln,xe)}}else return Sm(te,ue,xe,We)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(te,ue,xe,We,gt,ln)=>d(te,xe,We,gt,ln),calcRightEdgeDeltas:(te,ue,xe,We,gt,ln)=>{if(ln)return Ir(te);{const zn=We/te.length;return yt(te,J(zn))}},calcRedestributedWidths:(te,ue,xe,We)=>({delta:0,newSizes:te})}},Hf=(d,h,C=0)=>cl(d,h).map(T=>parseInt(T,10)).getOr(C),mh=(d,h)=>Hf(d,h,1),xm=d=>Tc("col")(d)?Hf(d,"span",1)>1:mh(d,"colspan")>1,Qy=d=>mh(d,"rowspan")>1,Pi=(d,h)=>parseInt(qd(d,h),10),fi=J(10),Xd=J(10),zf=(d,h)=>ph(d,h,Ce),ph=(d,h,C)=>jn(bl(d),T=>qi(T,h)?C(T)?[T]:[]:ph(T,h,C)),ml=(d,h,C=ct)=>{if(C(h))return ce.none();if(dn(d,Ua(h)))return ce.some(h);const T=M=>qi(M,"table")||C(M);return Ol(h,d.join(","),T)},H0=(d,h)=>ml(["td","th"],d,h),Uf=d=>zf(d,"th,td"),_1=d=>qi(d,"colgroup")?Oi(d,"col"):jn(cu(d),h=>Oi(h,"col")),_u=(d,h)=>Br(d,"table",h),z0=d=>zf(d,"tr"),cu=d=>_u(d).fold(J([]),h=>Oi(h,"colgroup")),Fa=Tc("th"),O1=d=>Cn(d,h=>Fa(h.element)),vg=(d,h)=>d&&h?"sectionCells":d?"section":"cells",mb=d=>{const h=d.section==="thead",C=Jn(pb(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:h||C?{type:"header",subType:vg(h,C)}:{type:"body"}},pb=d=>{const h=Qe(d,C=>Fa(C.element));return h.length===0?ce.some("td"):h.length===d.length?ce.some("th"):ce.none()},gb=d=>{const h=yt(d,M=>mb(M).type),C=dn(h,"header"),T=dn(h,"footer");if(!C&&!T)return ce.some("body");{const M=dn(h,"body");return C&&!M&&!T?ce.some("header"):!C&&!M&&T?ce.some("footer"):ce.none()}},Jy=d=>Tt(d.all,h=>{const C=mb(h);return C.type==="header"?ce.from(C.subType):ce.none()}),U0=(d,h)=>yt(d,C=>{if(Ua(C)==="colgroup"){const T=yt(_1(C),M=>{const V=Hf(M,"span",1);return ro(M,1,V)});return ms(C,T,"colgroup")}else{const T=yt(Uf(C),M=>{const V=Hf(M,"rowspan",1),te=Hf(M,"colspan",1);return ro(M,V,te)});return ms(C,T,h(C))}}),bg=d=>Pe(d).map(h=>{const C=Ua(h);return On(C)?C:"tbody"}).getOr("tbody"),D1=d=>{const h=z0(d),T=[...cu(d),...h];return U0(T,bg)},_n=(d,h)=>U0(d,()=>h),Vl="data-snooker-locked-cols",_C=d=>cl(d,Vl).bind(h=>ce.from(h.match(/\d+/g))).map(h=>Re(h,Ce)),Rc=d=>{const h=He(Kr(d).rows,(T,M)=>(se(M.cells,(V,te)=>{V.isLocked&&(T[te]=!0)}),T),{}),C=es(h,(T,M)=>parseInt(M,10));return Ve(C)},Pd=(d,h)=>d+","+h,td=(d,h,C)=>ce.from(d.access[Pd(h,C)]),hb=(d,h,C)=>{const T=Cf(d,M=>C(h,M.element));return T.length>0?ce.some(T[0]):ce.none()},Cf=(d,h)=>{const C=jn(d.all,T=>T.cells);return Qe(C,h)},e2=d=>{const h={};let C=0;return se(d.cells,T=>{const M=T.colspan;rn(M,V=>{const te=C+V;h[te]=Uu(T.element,M,te)}),C+=M}),h},Fc=d=>{const h={},C=[],M=De(d).map($n=>$n.element).bind(_u).bind(_C).getOr({});let V=0,te=0,ue=0;const{pass:xe,fail:We}=Mt(d,$n=>$n.section==="colgroup");se(We,$n=>{const co=[];se($n.cells,Ut=>{let cn=0;for(;h[Pd(ue,cn)]!==void 0;)cn++;const Fo=ds(M,cn.toString()),us=Jo(Ut.element,Ut.rowspan,Ut.colspan,ue,cn,Fo);for(let eo=0;eo<Ut.colspan;eo++)for(let Tr=0;Tr<Ut.rowspan;Tr++){const kr=ue+Tr,os=cn+eo,zi=Pd(kr,os);h[zi]=us,te=Math.max(te,os+1)}co.push(us)}),V++,C.push(ms($n.element,co,$n.section)),ue++});const{columns:gt,colgroups:ln}=Ye(xe).map($n=>{const co=e2($n);return{colgroups:[br($n.element,vo(co))],columns:co}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:tn(V,te),access:h,all:C,columns:gt,colgroups:ln}},bs={fromTable:d=>{const h=D1(d);return Fc(h)},generate:Fc,getAt:td,findItem:hb,filterItems:Cf,justCells:d=>jn(d.all,h=>h.cells),justColumns:d=>vo(d.columns),hasColumns:d=>at(d.columns).length>0,getColumnAt:(d,h)=>ce.from(d.columns[h])},Vf=(d,h,C)=>nr(C(d.element,h),!0,d.isLocked),yg=(d,h)=>d.section!==h?ji(d.element,d.cells,h,d.isNew):d,ka=()=>({transformRow:yg,transformCell:(d,h,C)=>{const T=C(d.element,h),M=Ua(T)!=="td"?ih(T,"td"):T;return nr(M,d.isNew,d.isLocked)}}),nd=()=>({transformRow:yg,transformCell:Vf}),gh=()=>({transformRow:(d,h)=>yg(d,h==="thead"?"tbody":h),transformCell:Vf}),Qi={getTableSectionType:(d,h)=>{const C=bs.fromTable(d);switch(Jy(C).getOr(h)){case"section":return ka();case"sectionCells":return nd();case"cells":return gh()}},section:ka,sectionCells:nd,cells:gh,fallback:()=>({transformRow:dt,transformCell:Vf})},wg=(d,h=Ce)=>{const C=d.grid,T=rn(C.columns,dt),M=rn(C.rows,dt);return yt(T,V=>V0(()=>jn(M,We=>bs.getAt(d,We,V).filter(gt=>gt.column===V).toArray()),We=>We.colspan===1&&h(We.element),()=>bs.getAt(d,0,V)))},V0=(d,h,C)=>{const T=d();return W(T,h).orThunk(()=>ce.from(T[0]).orThunk(C)).map(te=>te.element)},W0=d=>{const h=d.grid,C=rn(h.rows,dt),T=rn(h.columns,dt);return yt(C,M=>V0(()=>jn(T,xe=>bs.getAt(d,M,xe).filter(We=>We.row===M).fold(J([]),We=>[We])),xe=>xe.rowspan===1,()=>bs.getAt(d,M,0)))},od=(d,h)=>{if(h<0||h>=d.length-1)return ce.none();const C=d[h].fold(()=>{const M=No(d.slice(0,h));return Tt(M,(V,te)=>V.map(ue=>({value:ue,delta:te+1})))},M=>ce.some({value:M,delta:0})),T=d[h+1].fold(()=>{const M=d.slice(h+1);return Tt(M,(V,te)=>V.map(ue=>({value:ue,delta:te+1})))},M=>ce.some({value:M,delta:1}));return C.bind(M=>T.map(V=>{const te=V.delta+M.delta;return Math.abs(V.value-M.value)/te}))},hh=(d,h)=>({row:d,y:h}),Cg=(d,h)=>({col:d,x:h}),t2=d=>fs(d).left+Nr(d),j0=d=>fs(d).left,vh=(d,h)=>Cg(d,j0(h)),Z0=(d,h)=>Cg(d,t2(h)),bh=d=>fs(d).top,bb=(d,h)=>hh(d,bh(h)),n2=(d,h)=>hh(d,bh(h)+$0(h)),R1=(d,h,C)=>{if(C.length===0)return[];const T=yt(C.slice(1),(V,te)=>V.map(ue=>d(te,ue))),M=C[C.length-1].map(V=>h(C.length-1,V));return T.concat([M])},q0=d=>-d,F1={delta:dt,positions:d=>R1(bb,n2,d),edge:bh},bo=Sd({delta:dt,edge:j0,positions:d=>R1(vh,Z0,d)},{delta:q0,edge:t2,positions:d=>R1(Z0,vh,d)}),_a={delta:(d,h)=>bo(h).delta(d,h),positions:(d,h)=>bo(h).positions(d,h),edge:d=>bo(d).edge(d)},sd=/(\d+(\.\d+)?)%/,o2=/(\d+(\.\d+)?)px|em/,gp=Tc("col"),hp=Tc("tr"),G0=(d,h,C)=>{const T=tc(d).getOrThunk(()=>w1(pf(d)));return h(d)/C(T)*100},vp=(d,h)=>{Ai(d,"width",h+"px")},yh=(d,h)=>{Ai(d,"width",h+"%")},Fi=(d,h)=>{Ai(d,"height",h+"px")},s2=d=>{Cd(d,"height")},yb=d=>dg(d)+"px",ia=(d,h,C,T)=>{const M=_u(d).map(V=>{const te=C(V);return Math.floor(h/100*te)}).getOr(h);return T(d,M),M},Xa=(d,h,C,T)=>{const M=parseFloat(d);return Po(d,"%")&&Ua(h)!=="table"?ia(h,M,C,T):M},Nc=d=>{const h=yb(d);return h?Xa(h,d,ac,Fi):ac(d)},qo=(d,h,C)=>{const T=C(d),M=mh(d,h);return T/M},pl=(d,h)=>Oc(d,h).orThunk(()=>cl(d,h).map(C=>C+"px")),Em=d=>pl(d,"width"),Ji=d=>pl(d,"height"),Bc=d=>G0(d,To,Ti),bp=d=>gp(d)?Math.round(To(d)):Ur(d),Jt=d=>hp(d)?ac(d):qo(d,"rowspan",Nc),uc=d=>Em(d).bind(C=>wa(C,["fixed","relative","empty"])),wh=(d,h,C)=>{Ai(d,"width",h+C)},Ma=d=>To(d)+"px",Rd=d=>ac(d)+"px",Ic=d=>G0(d,To,Ti)+"%",wb=d=>Em(d).exists(h=>sd.test(h)),mi=d=>Em(d).exists(h=>o2.test(h)),Qd=d=>Em(d).isNone(),el=J(sd),pr=Tc("col"),Jd=d=>Em(d).getOrThunk(()=>bp(d)+"px"),uu=d=>Ji(d).getOrThunk(()=>Jt(d)+"px"),Na=d=>yt(bs.justColumns(d),h=>ce.from(h.element)),ef=d=>{const h=Jl().browser,C=h.isChromium()||h.isFirefox();return pr(d)?C:!0},Cb=(d,h,C,T,M,V)=>d.filter(T).fold(()=>V(od(C,h)),te=>M(te)),Fd=(d,h,C,T)=>{const M=wg(d),V=bs.hasColumns(d)?Na(d):M,te=[ce.some(_a.edge(h))].concat(yt(_a.positions(M,h),xe=>xe.map(We=>We.x))),ue=G(xm);return yt(V,(xe,We)=>Cb(xe,We,te,ue,gt=>{if(ef(gt))return C(gt);{const ln=qr(M[We],dt);return Cb(ln,We,te,ue,zn=>T(ce.some(Math.round(To(zn)))),T)}},T))},M1=d=>d.map(h=>h+"px").getOr(""),$c=(d,h)=>Fd(d,h,Jd,M1),r2=(d,h,C)=>Fd(d,h,Bc,T=>T.fold(()=>C.minCellWidth(),M=>M/C.pixelWidth()*100)),ht=(d,h,C)=>Fd(d,h,bp,T=>T.getOrThunk(C.minCellWidth)),Lc=(d,h,C,T)=>{const M=W0(d),V=yt(d.all,ue=>ce.some(ue.element)),te=[ce.some(F1.edge(h))].concat(yt(F1.positions(M,h),ue=>ue.map(xe=>xe.y)));return yt(V,(ue,xe)=>Cb(ue,xe,te,Ce,C,T))},Sg=(d,h)=>Lc(d,h,Jt,C=>C.getOrThunk(Xd)),Ar=(d,h)=>Lc(d,h,uu,M1),Zs=(d,h)=>()=>Ao(d)?h(d):parseFloat(Oc(d,"width").getOr("0")),Or=d=>{const h=Zs(d,To),C=J(0);return{width:h,pixelWidth:h,getWidths:(M,V)=>ht(M,d,V),getCellDelta:C,singleColumnWidth:J([0]),minCellWidth:C,setElementWidth:re,adjustTableWidth:re,isRelative:!0,label:"none"}},Os=d=>{const h=Zs(d,xe=>parseFloat(Ic(xe))),C=Zs(d,To);return{width:h,pixelWidth:C,getWidths:(xe,We)=>r2(xe,d,We),getCellDelta:xe=>xe/C()*100,singleColumnWidth:(xe,We)=>[100-xe],minCellWidth:()=>fi()/C()*100,setElementWidth:yh,adjustTableWidth:xe=>{const We=h(),gt=xe/100*We,ln=We+gt;yh(d,ln)},isRelative:!0,label:"percent"}},dc=d=>{const h=Zs(d,To);return{width:h,pixelWidth:h,getWidths:(te,ue)=>ht(te,d,ue),getCellDelta:dt,singleColumnWidth:(te,ue)=>[Math.max(fi(),te+ue)-te],minCellWidth:fi,setElementWidth:vp,adjustTableWidth:te=>{const ue=h()+te;vp(d,ue)},isRelative:!1,label:"pixel"}},Pl=(d,h)=>el().exec(h)!==null?Os(d):dc(d),Li={getTableSize:d=>Em(d).fold(()=>Or(d),C=>Pl(d,C)),pixelSize:dc,percentageSize:Os,noneSize:Or},Am=(d,h,C,T)=>{C===T?cr(d,h):ni(d,h,C)},Tm=(d,h,C)=>{Ye(Oi(d,h)).fold(()=>da(d,C),T=>sc(T,C))},Ch=(d,h)=>{const C=pa(d,h).getOrThunk(()=>{const T=An.fromTag(h,pf(d).dom);return h==="thead"?Tm(d,"caption,colgroup",T):h==="colgroup"?Tm(d,"caption",T):or(d,T),T});return ul(C),C},Wf=(d,h)=>{const C=[],T=[],M=$n=>yt($n,co=>{co.isNew&&C.push(co.element);const Ut=co.element;return ul(Ut),se(co.cells,cn=>{cn.isNew&&T.push(cn.element),Am(cn.element,"colspan",cn.colspan,1),Am(cn.element,"rowspan",cn.rowspan,1),or(Ut,cn.element)}),Ut}),V=$n=>jn($n,co=>yt(co.cells,Ut=>(Am(Ut.element,"span",Ut.colspan,1),Ut.element))),te=($n,co)=>{const Ut=Ch(d,co),Fo=(co==="colgroup"?V:M)($n);Su(Ut,Fo)},ue=$n=>{pa(d,$n).each(dl)},xe=($n,co)=>{$n.length>0?te($n,co):ue(co)},We=[],gt=[],ln=[],zn=[];return se(h,$n=>{switch($n.section){case"thead":We.push($n);break;case"tbody":gt.push($n);break;case"tfoot":ln.push($n);break;case"colgroup":zn.push($n);break}}),xe(zn,"colgroup"),xe(We,"thead"),xe(gt,"tbody"),xe(ln,"tfoot"),{newRows:C,newCells:T}},jf=d=>yt(d,h=>{const C=Mr(h.element);return se(h.cells,T=>{const M=Si(T.element);Am(M,"colspan",T.colspan,1),Am(M,"rowspan",T.rowspan,1),or(C,M)}),C}),Pu=(d,h)=>yt(d,C=>Do(C,h)),N1=(d,h)=>d[h],Sh=(d,h)=>{if(d.length===0)return 0;const C=d[0];return Wn(d,M=>!h(C.element,M.element)).getOr(d.length)},ri=(d,h,C,T)=>{const M=N1(d,h),V=M.section==="colgroup",te=Sh(M.cells.slice(C),T),ue=V?1:Sh(Pu(d.slice(h),C),T);return{colspan:te,rowspan:ue}},fc=(d,h)=>{const C=yt(d,M=>yt(M.cells,ct)),T=(M,V,te,ue)=>{for(let xe=M;xe<M+te;xe++)for(let We=V;We<V+ue;We++)C[xe][We]=!0};return yt(d,(M,V)=>{const te=jn(M.cells,(ue,xe)=>{if(C[V][xe]===!1){const We=ri(d,V,xe,h);return T(V,xe,We.rowspan,We.colspan),[Dn(ue.element,We.rowspan,We.colspan,ue.isNew)]}else return[]});return $s(M.element,te,M.section,M.isNew)})},Ga=(d,h,C)=>{const T=[];se(d.colgroups,M=>{const V=[];for(let te=0;te<d.grid.columns;te++){const ue=bs.getColumnAt(d,te).map(xe=>nr(xe.element,C,!1)).getOrThunk(()=>nr(h.colGap(),!0,!1));V.push(ue)}T.push(ji(M.element,V,"colgroup",C))});for(let M=0;M<d.grid.rows;M++){const V=[];for(let xe=0;xe<d.grid.columns;xe++){const We=bs.getAt(d,M,xe).map(gt=>nr(gt.element,C,gt.isLocked)).getOrThunk(()=>nr(h.gap(),!0,!1));V.push(We)}const te=d.all[M],ue=ji(te.element,V,te.section,C);T.push(ue)}return T},Ru=(d,h)=>Ga(d,h,!1),yp=d=>fc(d,rr),tl=(d,h)=>Tt(d.all,C=>W(C.cells,T=>rr(h,T.element))),km=(d,h,C)=>{const T=yt(h.selection,V=>H0(V).bind(te=>tl(d,te)).filter(C)),M=as(T);return Ha(M.length>0,M)},Qa=(d,h,C,T,M,V,te,ue,xe)=>{const We=bs.fromTable(V),gt=ce.from(xe?.section).getOrThunk(Qi.fallback);return h(We,te).map(zn=>{const $n=Ru(We,ue),co=d($n,zn,rr,M(ue),gt),Ut=Rc(co.grid),cn=yp(co.grid);return{info:zn,grid:cn,cursor:co.cursor,lockedColumns:Ut}}).bind(zn=>{const $n=Wf(V,zn.grid),co=ce.from(xe?.sizing).getOrThunk(()=>Li.getTableSize(V)),Ut=ce.from(xe?.resize).getOrThunk(fb);return C(V,zn.grid,zn.info,{sizing:co,resize:Ut,section:gt}),T(V),cr(V,Vl),zn.lockedColumns.length>0&&ni(V,Vl,zn.lockedColumns.join(",")),ce.some({cursor:zn.cursor,newRows:$n.newRows,newCells:$n.newCells})})},xh=(d,h)=>H0(h.element).bind(C=>tl(d,C).map(T=>({...T,generators:h.generators,clipboard:h.clipboard}))),Hc=(d,h)=>km(d,h,Ce).map(C=>({cells:C,generators:h.generators,clipboard:h.clipboard})),Fu=(d,h)=>h.mergable,zc=(d,h)=>h.unmergable,Ka=(d,h)=>km(d,h,Ce),du=(d,h)=>km(d,h,C=>!C.isLocked),Hi=(d,h)=>tl(d,h).exists(C=>!C.isLocked),wp=(d,h)=>Cn(h,C=>Hi(d,C)),_m=(d,h)=>Fu(d,h).filter(C=>wp(d,C.cells)),Sb=(d,h)=>zc(d,h).filter(C=>wp(d,C)),fu={...lr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Eh=(d,h)=>d.length===0?fu.none():d.length===1?fu.only(0):h===0?fu.left(0,1):h===d.length-1?fu.right(h-1,h):h>0&&h<d.length-1?fu.middle(h-1,h,h+1):fu.none(),$r=(d,h,C,T,M)=>{const V=d.slice(0),te=Eh(d,h),ue=J(yt(V,J(0))),xe=zn=>T.singleColumnWidth(V[zn],C),We=(zn,$n)=>M.calcLeftEdgeDeltas(V,zn,$n,C,T.minCellWidth(),T.isRelative),gt=(zn,$n,co)=>M.calcMiddleDeltas(V,zn,$n,co,C,T.minCellWidth(),T.isRelative),ln=(zn,$n)=>M.calcRightEdgeDeltas(V,zn,$n,C,T.minCellWidth(),T.isRelative);return te.fold(ue,xe,We,gt,ln)},Cp=(d,h,C)=>{let T=0;for(let M=d;M<h;M++)T+=C[M]!==void 0?C[M]:0;return T},Sf=(d,h)=>{const C=bs.justCells(d);return yt(C,T=>{const M=Cp(T.column,T.column+T.colspan,h);return{element:T.element,width:M,colspan:T.colspan}})},tf=(d,h)=>{const C=bs.justColumns(d);return yt(C,(T,M)=>({element:T.element,width:h[M],colspan:T.colspan}))},B1=(d,h)=>yt(d.all,(C,T)=>({element:C.element,height:h[T]})),Zf=d=>Ct(d,(h,C)=>h+C,0),gl=(d,h)=>bs.hasColumns(d)?tf(d,h):Sf(d,h),qf=(d,h,C)=>{const T=gl(d,h);se(T,M=>{C.setElementWidth(M.element,M.width)})},Ah=(d,h,C,T,M)=>{const V=bs.fromTable(d),te=M.getCellDelta(h),ue=M.getWidths(V,M),xe=C===V.grid.columns-1,We=T.clampTableDelta(ue,C,te,M.minCellWidth(),xe),gt=$r(ue,C,We,M,T),ln=yt(gt,(zn,$n)=>zn+ue[$n]);qf(V,ln,M),T.resizeTable(M.adjustTableWidth,We,xe)},Y0=(d,h,C)=>{const T=bs.fromTable(d),M=Sg(T,d),V=yt(M,(xe,We)=>C===We?Math.max(h+xe,Xd()):xe),te=B1(T,V);se(te,xe=>{Fi(xe.element,xe.height)}),se(bs.justCells(T),xe=>{s2(xe.element)});const ue=Zf(V);Fi(d,ue)},I1=(d,h,C,T,M)=>{const V=bs.generate(h),te=T.getWidths(V,T),ue=T.pixelWidth(),{newSizes:xe,delta:We}=M.calcRedestributedWidths(te,ue,C.pixelDelta,T.isRelative);qf(V,xe,T),T.adjustTableWidth(We)},$1=(d,h,C,T)=>{const M=bs.generate(h),V=T.getWidths(M,T);qf(M,V,T)},xf=(d,h)=>{xm(d)||uc(d).each(T=>{const M=T.value/2;wh(d,M,T.unit),wh(h,M,T.unit)})},a2=(d,h,C)=>{const T=Hf(d,h,1);C===1||T<=1?cr(d,h):ni(d,h,Math.min(C,T))},Sp=(d,h)=>C=>{const T=C.column+C.colspan-1,M=C.column;return T>=d&&M<h},X0=(d,h,C)=>{if(bs.hasColumns(d)){const T=Qe(bs.justColumns(d),Sp(h,C)),M=yt(T,te=>{const ue=Si(te.element);return a2(ue,"span",C-h),ue}),V=An.fromTag("colgroup");return Su(V,M),[V]}else return[]},ai=(d,h,C)=>yt(d.all,T=>{const M=Qe(T.cells,Sp(h,C)),V=yt(M,ue=>{const xe=Si(ue.element);return a2(xe,"colspan",C-h),xe}),te=An.fromTag("tr");return Su(te,V),te}),Ef=(d,h)=>{const C=bs.fromTable(d);return du(C,h).map(M=>{const V=M[M.length-1],te=M[0].column,ue=V.column+V.colspan,xe=X0(C,te,ue),We=ai(C,te,ue);return[...xe,...We]})},rd=(d,h,C)=>{const T=bs.fromTable(d);return Ka(T,h).bind(V=>{const te=Ga(T,C,!1),xe=Kr(te).rows.slice(V[0].row,V[V.length-1].row+V[V.length-1].rowspan),We=jn(xe,ln=>{const zn=Qe(ln.cells,$n=>!$n.isLocked);return zn.length>0?[{...ln,cells:zn}]:[]}),gt=yp(We);return Ha(gt.length>0,gt)}).map(V=>jf(V))},Om=(d,h,C,T,M,V)=>({minRow:d,minCol:h,maxRow:C,maxCol:T,allCells:M,selectedCells:V}),i2=(d,h)=>{const C=d.grid.columns;let M=d.grid.rows,V=C,te=0,ue=0;const xe=[],We=[];return wt(d.access,gt=>{if(xe.push(gt),h(gt)){We.push(gt);const ln=gt.row,zn=ln+gt.rowspan-1,$n=gt.column,co=$n+gt.colspan-1;ln<M?M=ln:zn>te&&(te=zn),$n<V?V=$n:co>ue&&(ue=co)}}),Om(M,V,te,ue,xe,We)},L1=(d,h,C)=>{const T=d[C].element,M=An.fromTag("td");or(M,An.fromTag("br")),(h?or:da)(T,M)},Q0=(d,h,C,T)=>{const M=Qe(d,ue=>ue.section!=="colgroup"),V=h.grid.columns,te=h.grid.rows;for(let ue=0;ue<te;ue++){let xe=!1;for(let We=0;We<V;We++)ue<C.minRow||ue>C.maxRow||We<C.minCol||We>C.maxCol||(bs.getAt(h,ue,We).filter(T).isNone()?L1(M,xe,ue):xe=!0)}},l2=(d,h,C,T)=>{wt(C.columns,te=>{(te.column<h.minCol||te.column>h.maxCol)&&dl(te.element)});const M=Qe(zf(d,"tr"),te=>te.dom.childElementCount===0);se(M,dl),(h.minCol===h.maxCol||h.minRow===h.maxRow)&&se(zf(d,"th,td"),te=>{cr(te,"rowspan"),cr(te,"colspan")}),cr(d,Vl),cr(d,"data-snooker-col-series"),Li.getTableSize(d).adjustTableWidth(T)},ad=(d,h,C,T)=>{if(T.minCol===0&&h.grid.columns===T.maxCol+1)return 0;const M=ht(h,d,C),V=He(M,(We,gt)=>We+gt,0),xe=He(M.slice(T.minCol,T.maxCol+1),(We,gt)=>We+gt,0)/V*C.pixelWidth()-C.pixelWidth();return C.getCellDelta(xe)},Th=(d,h)=>{const C=zn=>qi(zn.element,h),T=Si(d),M=D1(T),V=Li.getTableSize(d),te=bs.generate(M),ue=i2(te,C),xe="th:not("+h+"),td:not("+h+")",We=ph(T,"th,td",zn=>qi(zn,xe));se(We,dl),Q0(M,te,ue,C);const gt=bs.fromTable(d),ln=ad(d,gt,V,ue);return l2(T,ue,te,ln),T},J0=Tc("col"),Af=Tc("colgroup"),id=d=>Ua(d)==="tr"||Af(d),Tf=d=>{const h=Hf(d,"colspan",1),C=Hf(d,"rowspan",1);return{element:d,colspan:h,rowspan:C}},Dm=(d,h=Tf)=>{const C=ue=>J0(ue.element)?d.col(ue):d.cell(ue),T=ue=>Af(ue.element)?d.colgroup(ue):d.row(ue),M=ue=>{if(id(ue))return T({element:ue});{const xe=ue,We=C(h(xe));return V=ce.some({item:xe,replacement:We}),We}};let V=ce.none();return{getOrInit:(ue,xe)=>V.fold(()=>M(ue),We=>xe(ue,We.item)?We.replacement:M(ue))}},Pm=d=>h=>{const C=[],T=(te,ue)=>W(C,xe=>ue(xe.item,te)),M=te=>{const ue=d==="td"?{scope:null}:{},xe=h.replace(te,d,ue);return C.push({item:te,sub:xe}),xe};return{replaceOrInit:(te,ue)=>{if(id(te)||J0(te))return te;{const xe=te;return T(xe,ue).fold(()=>M(xe),We=>ue(te,We.item)?We.sub:M(xe))}}}},ev=d=>cl(d,"scope").map(h=>h.substr(0,3)),Wl={modification:Dm,transform:Pm,merging:d=>({unmerge:T=>{const M=ev(T);return M.each(V=>ni(T,"scope",V)),()=>{const V=d.cell({element:T,colspan:1,rowspan:1});return Cd(V,"width"),Cd(T,"width"),M.each(te=>ni(V,"scope",te)),V}},merge:T=>{const M=()=>{const V=as(yt(T,ev));if(V.length===0)return ce.none();{const te=V[0],ue=["row","col"];return Te(V,We=>We!==te&&dn(ue,We))?ce.none():ce.from(te)}};return Cd(T[0],"width"),M().fold(()=>cr(T[0],"scope"),V=>ni(T[0],"scope",V+"group")),J(T[0])}})},DC=(d,h)=>{const C=d.slice(0,h[h.length-1].row+1),T=yp(C);return jn(T,M=>{const V=M.cells.slice(0,h[h.length-1].column+1);return yt(V,te=>te.element)})},tv=(d,h)=>{const C=d.slice(h[0].row+h[0].rowspan-1,d.length),T=yp(C);return jn(T,M=>{const V=M.cells.slice(h[0].column+h[0].colspan-1,M.cells.length);return yt(V,te=>te.element)})},nv=(d,h,C)=>{const T=bs.fromTable(d);return Ka(T,h).map(V=>{const te=Ga(T,C,!1),{rows:ue}=Kr(te),xe=DC(ue,V),We=tv(ue,V);return{upOrLeftCells:xe,downOrRightCells:We}})},ov={only:(d,h)=>{const C=db(d)?rp(d):d;return{parent:J(C),view:J(d),dragContainer:J(C),origin:J(Er(0,0)),isResizable:h}},detached:(d,h,C)=>{const T=()=>fs(h);return{parent:J(h),view:J(d),dragContainer:J(h),origin:T,isResizable:C}},body:(d,h)=>({parent:J(d),view:J(d),dragContainer:J(d),origin:()=>fs(d),isResizable:h})},z1=lr.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),sv=(d,h,C)=>{const T=C.substring(0,C.length-d.length),M=parseFloat(T);return T===M.toString()?h(M):z1.invalid(C)},Ns={...z1,from:d=>Po(d,"%")?sv("%",z1.percent,d):Po(d,"px")?sv("px",z1.pixels,d):z1.invalid(d)},_h=(d,h)=>yt(d,C=>Ns.from(C).fold(()=>C,M=>M/h*100+"%",M=>M+"%")),zs=(d,h,C)=>{const T=C/h;return yt(d,M=>Ns.from(M).fold(()=>M,te=>te*T+"px",te=>te/100*C+"px"))},mu=(d,h)=>{const C=d.fold(()=>J(""),T=>{const M=T/h;return J(M+"px")},()=>{const T=100/h;return J(T+"%")});return rn(h,C)},Ep=(d,h,C)=>d.fold(()=>h,T=>zs(h,C,T),T=>_h(h,C)),Ap=(d,h,C)=>{const T=Ns.from(C),M=Cn(d,V=>V==="0px")?mu(T,d.length):Ep(T,d,h);return av(M)},dr=(d,h)=>d.length===0?h:Ct(d,(C,T)=>Ns.from(T).fold(J(0),dt,dt)+C,0),Oh=(d,h)=>{const C=Math.floor(d);return{value:C+h,remainder:d-C}},c2=(d,h)=>Ns.from(d).fold(J(d),C=>C+h+"px",C=>C+h+"%"),av=d=>{if(d.length===0)return d;const h=Ct(d,(T,M)=>{const V=Ns.from(M).fold(()=>({value:M,remainder:0}),te=>Oh(te,"px"),te=>({value:te+"%",remainder:0}));return{output:[V.value].concat(T.output),remainder:T.remainder+V.remainder}},{output:[],remainder:0}),C=h.output;return C.slice(0,C.length-1).concat([c2(C[C.length-1],Math.round(h.remainder))])},u=Ns.from,p=(d,h,C)=>{se(h,T=>{const M=d.slice(T.column,T.colspan+T.column),V=dr(M,fi());Ai(T.element,"width",V+C)})},x=(d,h,C)=>{se(h,(T,M)=>{const V=dr([d[M]],fi());Ai(T.element,"width",V+C)})},_=(d,h,C)=>{se(C,T=>{Cd(T.element,"height")}),se(h,(T,M)=>{Ai(T.element,"height",d[M])})},L=d=>u(d).fold(J("px"),J("px"),J("%")),q=(d,h,C)=>{const T=bs.fromTable(d),M=T.all,V=bs.justCells(T),te=bs.justColumns(T);h.each(ue=>{const xe=L(ue),We=To(d),gt=$c(T,d),ln=Ap(gt,We,ue);bs.hasColumns(T)?x(ln,te,xe):p(ln,V,xe),Ai(d,"width",ue)}),C.each(ue=>{const xe=ac(d),We=Ar(T,d),gt=Ap(We,xe,ue);_(gt,M,V),Ai(d,"height",ue)})},he=wb,tt=mi,mt=Qd;var en=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Nn=()=>{const d=We=>An.fromDom(We.dom.cloneNode(!1)),h=We=>ec(We).dom,C=We=>Va(We)?Ua(We)==="body"?!0:dn(en,Ua(We)):!1,T=We=>Va(We)?dn(["br","img","hr","input"],Ua(We)):!1,M=We=>Va(We)&&rc(We,"contenteditable")==="false",V=(We,gt)=>We.dom.compareDocumentPosition(gt.dom),te=(We,gt)=>{const ln=Eu(We);ju(gt,ln)},ue=We=>{const gt=Ua(We);return dn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],gt)},xe=We=>Va(We)?cl(We,"lang"):ce.none();return{up:J({selector:Ol,closest:Br,predicate:mr,all:jd}),down:J({selector:Qu,predicate:Ad}),styles:J({get:qd,getRaw:Oc,set:Ai,remove:Cd}),attrs:J({get:rc,set:ni,remove:cr,copyTo:te}),insert:J({before:ou,after:sc,afterAll:ti,append:or,appendAll:Su,prepend:da,wrap:I0}),remove:J({unwrap:Bi,remove:dl}),create:J({nu:An.fromTag,clone:d,text:An.fromText}),query:J({comparePosition:V,prevSibling:lg,nextSibling:ym}),property:J({children:bl,name:Ua,parent:Pe,document:h,isText:bm,isComment:ub,isElement:Va,isSpecial:ue,getLanguage:xe,getText:Au,setText:Gd,isBoundary:C,isEmptyTag:T,isNonEditable:M}),eq:rr,is:Q}};const Pn=(d,h)=>({item:d,mode:h}),Ln=(d,h,C,T=Ro)=>d.property().parent(h).map(M=>Pn(M,T)),Ro=(d,h,C,T=zo)=>C.sibling(d,h).map(M=>Pn(M,T)),zo=(d,h,C,T=zo)=>{const M=d.property().children(h);return C.first(M).map(te=>Pn(te,T))},ns=[{current:Ln,next:Ro,fallback:ce.none()},{current:Ro,next:zo,fallback:ce.some(Ln)},{current:zo,next:zo,fallback:ce.some(Ro)}],pi=(d,h,C,T,M=ns)=>W(M,te=>te.current===C).bind(te=>te.current(d,h,T,te.next).orThunk(()=>te.fallback.bind(ue=>pi(d,h,ue,T)))),Kt={left:()=>({sibling:(C,T)=>C.query().prevSibling(T),first:C=>C.length>0?ce.some(C[C.length-1]):ce.none()}),right:()=>({sibling:(C,T)=>C.query().nextSibling(T),first:C=>C.length>0?ce.some(C[0]):ce.none()})},lo=(d,h,C,T,M,V)=>pi(d,h,T,M).bind(ue=>V(ue.item)?ce.none():C(ue.item)?ce.some(ue.item):lo(d,ue.item,C,ue.mode,M,V)),gs=(d,h,C,T)=>lo(d,h,C,Ro,Kt.left(),T),Ts=(d,h,C,T)=>lo(d,h,C,Ro,Kt.right(),T),ys=(d,h)=>({element:d,offset:h}),js=(d,h,C)=>d.property().isText(h)&&d.property().getText(h).trim().length===0||d.property().isComment(h)?C(h).bind(T=>js(d,T,C).orThunk(()=>ce.some(T))):ce.none(),hl=(d,h)=>d.property().isText(h)?d.property().getText(h).length:d.property().children(h).length,oa=(d,h)=>{const C=js(d,h,d.query().prevSibling).getOr(h);if(d.property().isText(C))return ys(C,hl(d,C));const T=d.property().children(C);return T.length>0?oa(d,T[T.length-1]):ys(C,hl(d,C))},Rm=oa,Gf=Nn(),u2=d=>Rm(Gf,d),jE=d=>h=>d.property().children(h).length===0,x4=(d,h,C)=>ZE(d,h,jE(d),C),E4=(d,h,C)=>PC(d,h,jE(d),C),ZE=gs,PC=Ts,Tp=Nn(),qE=(d,h)=>x4(Tp,d,h),Kf=(d,h)=>E4(Tp,d,h),pu=(d,h,C)=>ZE(Tp,d,h,C),kf=(d,h,C)=>PC(Tp,d,h,C),Mu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],d2=(d,h)=>{const C=d.property().name(h);return dn(["ol","ul"],C)},U1=(d,h)=>{const C=d.property().name(h);return dn(Mu,C)},f2=(d,h)=>dn(["br","img","hr","input"],d.property().name(h)),RC=(d,h,C,T)=>{const M=C[0],V=C.slice(1);return T(d,h,M,V)},A4=(d,h,C)=>C.length>0?RC(d,h,C,Dh):ce.none(),Dh=(d,h,C,T)=>{const M=h(d,C);return Ct(T,(V,te)=>{const ue=h(d,te);return Ph(d,V,ue)},M)},Ph=(d,h,C)=>h.bind(T=>C.filter(Ae(d.eq,T))),FC=(d,h)=>Ae(d.eq,h),Sl=(d,h,C,T=ct)=>{const M=[h].concat(d.up().all(h)),V=[C].concat(d.up().all(C)),te=gt=>Wn(gt,T).fold(()=>gt,zn=>gt.slice(0,zn+1)),ue=te(M),xe=te(V),We=W(ue,gt=>Te(xe,FC(d,gt)));return{firstpath:ue,secondpath:xe,shared:We}},xb=A4,ld=Sl,m2=Nn(),Xr=(d,h)=>xb(m2,(C,T)=>d(T),h),Fm=(d,h,C)=>ld(m2,d,h,C),Eg=Nn(),Mm=d=>U1(Eg,d),nf=d=>d2(Eg,d),p2=d=>f2(Eg,d),GE=d=>{const h=Tc("br"),C=xe=>Cn(xe,We=>h(We)||bm(We)&&Au(We).trim().length===0),T=xe=>Ua(xe)==="li"||mr(xe,nf).isSome(),M=xe=>ym(xe).map(We=>Mm(We)?!0:p2(We)?Ua(We)!=="img":!1).getOr(!1),V=xe=>Za(xe).bind(We=>{const gt=M(We);return Pe(We).map(ln=>gt===!0||T(ln)||h(We)||Mm(ln)&&!rr(xe,ln)?[]:[An.fromTag("br")])}).getOr([]),ue=(()=>{const xe=jn(d,We=>{const gt=bl(We);return C(gt)?[]:gt.concat(V(We))});return xe.length===0?[An.fromTag("br")]:xe})();ul(d[0]),Su(d[0],ue)},Ag=d=>{cr(d,"width"),cr(d,"height")},V1=d=>{const h=Ic(d);q(d,ce.some(h),ce.none()),Ag(d)},MC=d=>{const h=Ma(d);q(d,ce.some(h),ce.none()),Ag(d)},Nd=d=>{const h=Rd(d);q(d,ce.none(),ce.some(h)),Ag(d)},Rh=d=>{Cd(d,"width");const h=_1(d),C=h.length>0?h:Uf(d);se(C,T=>{Cd(T,"width"),Ag(T)}),Ag(d)},mc={scope:["row","col"]},Yf=d=>()=>{const h=An.fromTag("td",d.dom);return or(h,An.fromTag("br",d.dom)),h},g2=d=>()=>An.fromTag("col",d.dom),W1=d=>()=>An.fromTag("colgroup",d.dom),Fh=d=>()=>An.fromTag("tr",d.dom),Eb=(d,h,C)=>{const T=Zu(d,h);return wt(C,(M,V)=>{M===null?cr(T,V):ni(T,V,M)}),T},NC=d=>d,h2=(d,h,C)=>kd(d).map(M=>{const V=C.join(","),te=ur(M,V,ue=>rr(ue,d));return Ct(te,(ue,xe)=>{const We=Mr(xe);return or(ue,We),We},h)}).getOr(h),j1=(d,h)=>{wt(mc,(C,T)=>cl(d,T).filter(M=>dn(C,M)).each(M=>ni(h,T,M)))},Mh=(d,h,C)=>{const T=(te,ue)=>{up(te.element,ue),Cd(ue,"height"),te.colspan!==1&&Cd(ue,"width")},M=te=>{const ue=An.fromTag(Ua(te.element),h.dom),xe=C.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),We=xe.length>0?h2(te.element,ue,xe):ue;return or(We,An.fromTag("br")),T(te,ue),j1(te.element,ue),d(te.element,ue),ue};return{col:te=>{const ue=An.fromTag(Ua(te.element),h.dom);return T(te,ue),d(te.element,ue),ue},colgroup:W1(h),row:Fh(h),cell:M,replace:Eb,colGap:g2(h),gap:Yf(h)}},BC=d=>({col:g2(d),colgroup:W1(d),row:Fh(d),cell:Yf(d),replace:NC,colGap:g2(d),gap:Yf(d)}),Ab=d=>bs.fromTable(d).grid,IC=(d,h,C,T)=>{const M=Kr(d).rows;if(M.length===0)return d;for(let V=h.startRow;V<=h.finishRow;V++)for(let te=h.startCol;te<=h.finishCol;te++){const ue=M[V],xe=Do(ue,te).isLocked;Mi(ue,te,nr(T(),!1,xe))}return d},KE=(d,h,C,T)=>{const M=Kr(d).rows;let V=!0;for(let te=0;te<M.length;te++)for(let ue=0;ue<Ni(M[0]);ue++){const xe=M[te],We=Do(xe,ue),gt=We.element,ln=C(gt,h);ln&&!V?Mi(xe,ue,nr(T(),!0,We.isLocked)):ln&&(V=!1)}return d},xl=(d,h)=>He(d,(C,T)=>Te(C,M=>h(M.element,T.element))?C:C.concat([T]),[]),Nh=(d,h,C,T)=>(h>0&&h<d[0].cells.length&&se(d,M=>{const V=M.cells[h-1];let te=0;const ue=T();for(;M.cells.length>h+te&&C(V.element,M.cells[h+te].element);)Mi(M,h+te,nr(ue,!0,M.cells[h+te].isLocked)),te++}),d),Bh=(d,h,C,T)=>{const M=Kr(d).rows;if(h>0&&h<M.length){const V=M[h-1].cells,te=xl(V,C);se(te,ue=>{let xe=ce.none();for(let We=h;We<M.length;We++)for(let gt=0;gt<Ni(M[0]);gt++){const ln=M[We],zn=Do(ln,gt);C(zn.element,ue.element)&&(xe.isNone()&&(xe=ce.some(T())),xe.each(co=>{Mi(ln,gt,nr(co,!0,zn.isLocked))}))}})}return d},YE=(d,h,C)=>{if(d.row>=h.length||d.column>Ni(h[0]))return qn.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const T=h.slice(d.row),M=T[0].cells.slice(d.column),V=Ni(C[0]),te=C.length;return qn.value({rowDelta:T.length-te,colDelta:M.length-V})},v2=(d,h)=>{const C=Ni(d[0]),T=Ni(h[0]);return{rowDelta:0,colDelta:C-T}},$C=(d,h)=>{const C=d.length,T=h.length;return{rowDelta:C-T,colDelta:0}},Tb=(d,h,C,T)=>{const M=h.section==="colgroup"?C.col:C.cell;return rn(d,V=>nr(M(),!0,T(V)))},b2=(d,h,C,T)=>{const M=d[d.length-1];return d.concat(rn(h,()=>{const V=M.section==="colgroup"?C.colgroup:C.row,te=Pr(M,V,dt),ue=Tb(te.cells.length,te,C,xe=>Bo(T,xe.toString()));return Sc(te,ue)}))},XE=(d,h,C,T)=>yt(d,M=>{const V=Tb(h,M,C,ct);return Ls(M,T,V)}),T4=(d,h,C)=>yt(d,T=>He(C,(M,V)=>{const te=Tb(1,T,h,Ce)[0];return Sr(M,V,te)},T)),kb=(d,h,C)=>{const T=h.colDelta<0?XE:dt,M=h.rowDelta<0?b2:dt,V=Rc(d),te=Ni(d[0]),ue=Te(V,gt=>gt===te-1),xe=T(d,Math.abs(h.colDelta),C,ue?te-1:te),We=Rc(xe);return M(xe,Math.abs(h.rowDelta),C,Re(We,Ce))},vl=(d,h,C,T)=>{const M=Do(d[h],C),V=Ae(T,M.element),te=d[h];return d.length>1&&Ni(te)>1&&(C>0&&V(Ya(te,C-1))||C<te.cells.length-1&&V(Ya(te,C+1))||h>0&&V(Ya(d[h-1],C))||h<d.length-1&&V(Ya(d[h+1],C)))},nl=(d,h,C,T,M,V)=>{const te=d.row,ue=d.column,xe=C.length,We=Ni(C[0]),gt=te+xe,ln=ue+We+V.length,zn=Re(V,Ce);for(let $n=te;$n<gt;$n++){let co=0;for(let Ut=ue;Ut<ln;Ut++){if(zn[Ut]){co++;continue}vl(h,$n,Ut,M)&&KE(h,Ya(h[$n],Ut),M,T.cell);const cn=Ut-ue-co,Fo=Do(C[$n-te],cn),us=Fo.element,eo=T.replace(us);Mi(h[$n],Ut,nr(eo,!0,Fo.isLocked))}}return h},pc=(d,h,C)=>{const T=Ni(h[0]),M=Kr(h).cols.length+d.row,V=rn(T-d.column,ue=>ue+d.column),te=W(V,ue=>Cn(C,xe=>xe!==ue)).getOr(T-1);return{row:M,column:te}},jl=(d,h,C)=>Qe(C,T=>T>=d.column&&T<=Ni(h[0])+d.column),Ba=(d,h,C,T,M)=>{const V=Rc(h),te=pc(d,h,V),ue=Kr(C).rows,xe=jl(te,ue,V);return YE(te,h,ue).map(gt=>{const ln={...gt,colDelta:gt.colDelta-xe.length},zn=kb(h,ln,T),$n=Rc(zn),co=jl(te,ue,$n);return nl(te,zn,ue,T,M,co)})},ol=(d,h,C,T,M)=>{Nh(h,d,M,T.cell);const V=$C(C,h),te=kb(C,V,T),ue=$C(h,te),xe=kb(h,ue,T);return yt(xe,(We,gt)=>Ls(We,d,te[gt].cells))},iv=(d,h,C,T,M)=>{Bh(h,d,M,T.cell);const V=Rc(h),te=v2(h,C),ue={...te,colDelta:te.colDelta-V.length},xe=kb(h,ue,T),{cols:We,rows:gt}=Kr(xe),ln=Rc(xe),zn=v2(C,h),$n={...zn,colDelta:zn.colDelta+ln.length},co=T4(C,T,ln),Ut=kb(co,$n,T);return[...We,...gt.slice(0,d),...Ut,...gt.slice(d,gt.length)]},LC=(d,h,C,T)=>Pr(d,M=>T(M,C),h),HC=(d,h,C,T,M)=>{const{rows:V,cols:te}=Kr(d),ue=V.slice(0,h),xe=V.slice(h),We=LC(V[C],(gt,ln)=>h>0&&h<V.length&&T(Ya(V[h-1],ln),Ya(V[h],ln))?Do(V[h],ln):nr(M(gt.element,T),!0,gt.isLocked),T,M);return[...te,...ue,We,...xe]},QE=(d,h,C,T,M,V,te)=>{if(C==="colgroup"||!T){const ue=Do(d,M);return nr(te(ue.element,V),!0,!1)}else return Do(d,h)},y2=(d,h,C,T,M)=>yt(d,V=>{const te=h>0&&h<Ni(V)&&T(Ya(V,h-1),Ya(V,h)),ue=QE(V,h,V.section,te,C,T,M);return Sr(V,h,ue)}),zC=(d,h)=>jn(d,C=>{const T=C.cells,M=Ct(h,(V,te)=>te>=0&&te<V.length?V.slice(0,te).concat(V.slice(te+1)):V,T);return M.length>0?[ji(C.element,M,C.section,C.isNew)]:[]}),UC=(d,h,C)=>{const{rows:T,cols:M}=Kr(d);return[...M,...T.slice(0,h),...T.slice(C+1)]},w2=(d,h,C,T)=>Ya(d[h],C)!==void 0&&h>0&&T(Ya(d[h-1],C),Ya(d[h],C)),VC=(d,h,C)=>h>0&&C(Ya(d,h-1),Ya(d,h)),lv=(d,h,C,T)=>w2(d,h,C,T)||VC(d[h],C,T),JE=(d,h)=>Cn(h,dt)&&O1(d.cells)?Ce:(T,M,V)=>!(Ua(T.element)==="th"&&h[V]),_b=(d,h)=>Cn(h,dt)&&O1(d)?Ce:(T,M,V)=>!(Ua(T.element)==="th"&&h[M]),Nm=(d,h,C,T)=>{const M=te=>te==="row"?Qy(h):xm(h),V=te=>M(te)?`${te}group`:te;return d?Fa(h)?V(C):null:T&&Fa(h)?V(C==="row"?"col":"row"):null},C2=(d,h)=>(C,T,M)=>ce.some(Nm(d,C.element,"col",h[M])),Ob=(d,h)=>(C,T)=>ce.some(Nm(d,C.element,"row",h[T])),cv=(d,h,C)=>nr(C(d.element,h),!0,d.isLocked),Z1=(d,h,C,T,M,V,te)=>{const ue=xe=>Te(h,We=>C(xe.element,We.element));return yt(d,(xe,We)=>Gr(xe,(gt,ln)=>{if(ue(gt)){const zn=te(gt,We,ln)?M(gt,C,T):gt;return V(zn,We,ln).each($n=>{Ci(zn.element,{scope:ce.from($n)})}),zn}else return gt}))},Db=(d,h,C)=>jn(d,(T,M)=>lv(d,M,h,C)?[]:[Do(T,h)]),S2=(d,h,C)=>{const T=d[h];return jn(T.cells,(M,V)=>lv(d,h,V,C)?[]:[M])},Pb=(d,h,C,T,M)=>{const V=Kr(d).rows,te=jn(h,gt=>Db(V,gt,T)),ue=yt(V,gt=>O1(gt.cells)),xe=_b(te,ue),We=Ob(C,ue);return Z1(d,te,T,M,cv,We,xe)},x2=(d,h,C,T,M,V,te)=>{const{cols:ue,rows:xe}=Kr(d),We=xe[h[0]],gt=jn(h,cn=>S2(xe,cn,M)),ln=yt(We.cells,(cn,Fo)=>O1(Db(xe,Fo,M))),zn=[...xe];se(h,cn=>{zn[cn]=te.transformRow(xe[cn],C)});const $n=[...ue,...zn],co=JE(We,ln),Ut=C2(T,ln);return Z1($n,gt,M,V,te.transformCell,Ut,co)},q1=(d,h,C,T)=>{const M=Kr(d).rows,V=yt(h,te=>Do(M[te.row],te.column));return Z1(d,V,C,T,cv,ce.none,Ce)},Nu=d=>He(d,(C,T)=>Te(C,V=>V.column===T.column)?C:C.concat([T]),[]).sort((C,T)=>C.column-T.column),Uc=d=>Dc(d,!0),uv=d=>{Uf(d).length===0&&dl(d)},It=(d,h)=>({grid:d,cursor:h}),Rb=d=>Tt(d,h=>Tt(h.cells,C=>{const T=C.element;return Ha(Uc(T),T)})),k4=(d,h,C)=>{const T=Kr(d).rows;return ce.from(T[h]?.cells[C]?.element).filter(Uc).orThunk(()=>Rb(T))},Bu=(d,h,C)=>{const T=k4(d,h,C);return It(d,T)},dv=d=>He(d,(C,T)=>Te(C,V=>V.row===T.row)?C:C.concat([T]),[]).sort((C,T)=>C.row-T.row),Bm=(d,h,C,T)=>{const M=h[0].row,V=dv(h),te=Ct(V,(ue,xe)=>({grid:HC(ue.grid,M,xe.row+ue.delta,C,T.getOrInit),delta:ue.delta+1}),{grid:d,delta:0}).grid;return Bu(te,M,h[0].column)},WC=(d,h,C,T)=>{const M=dv(h),V=M[M.length-1],te=V.row+V.rowspan,ue=Ct(M,(xe,We)=>HC(xe,te,We.row,C,T.getOrInit),d);return Bu(ue,te,h[0].column)},jC=(d,h,C,T)=>{const M=h.details,V=Nu(M),te=V[0].column,ue=Ct(V,(xe,We)=>({grid:y2(xe.grid,te,We.column+xe.delta,C,T.getOrInit),delta:xe.delta+1}),{grid:d,delta:0}).grid;return Bu(ue,M[0].row,te)},G1=(d,h,C,T)=>{const M=h.details,V=M[M.length-1],te=V.column+V.colspan,ue=Nu(M),xe=Ct(ue,(We,gt)=>y2(We,te,gt.column,C,T.getOrInit),d);return Bu(xe,M[0].row,te)},Fb=(d,h,C,T)=>{const M=Nu(h),V=yt(M,ue=>ue.column),te=Pb(d,V,!0,C,T.replaceOrInit);return Bu(te,h[0].row,h[0].column)},Tg=(d,h,C,T)=>{const M=q1(d,h,C,T.replaceOrInit);return Bu(M,h[0].row,h[0].column)},E2=(d,h,C,T)=>{const M=Nu(h),V=yt(M,ue=>ue.column),te=Pb(d,V,!1,C,T.replaceOrInit);return Bu(te,h[0].row,h[0].column)},_4=(d,h,C,T)=>{const M=q1(d,h,C,T.replaceOrInit);return Bu(M,h[0].row,h[0].column)},Vc=(d,h)=>(C,T,M,V,te)=>{const ue=dv(T),xe=yt(ue,gt=>gt.row),We=x2(C,xe,d,h,M,V.replaceOrInit,te);return Bu(We,T[0].row,T[0].column)},Im=Vc("thead",!0),Bd=Vc("tbody",!1),O4=Vc("tfoot",!1),fv=(d,h,C,T)=>{const M=Nu(h.details),V=zC(d,yt(M,ue=>ue.column)),te=V.length>0?V[0].cells.length-1:0;return Bu(V,M[0].row,Math.min(M[0].column,te))},eA=(d,h,C,T)=>{const M=dv(h),V=UC(d,M[0].row,M[M.length-1].row),te=Math.max(Kr(V).rows.length-1,0);return Bu(V,Math.min(h[0].row,te),h[0].column)},A2=(d,h,C,T)=>{const M=h.cells;GE(M);const V=IC(d,h.bounds,C,T.merge(M));return It(V,ce.from(M[0]))},D4=(d,h,C,T)=>{const V=Ct(h,(te,ue)=>KE(te,ue,C,T.unmerge(ue)),d);return It(V,ce.from(h[0]))},tA=(d,h,C,T)=>{const V=((xe,We)=>{const gt=bs.fromTable(xe);return Ga(gt,We,!0)})(h.clipboard,h.generators),te=Oo(h.row,h.column);return Ba(te,d,V,h.generators,C).fold(()=>It(d,ce.some(h.element)),xe=>Bu(xe,h.row,h.column))},Ds=(d,h,C)=>{const T=_n(d,C.section),M=bs.generate(T);return Ga(M,h,!0)},So=(d,h,C,T)=>{const M=Kr(d).rows,V=h.cells[0].column,te=M[h.cells[0].row],ue=Ds(h.clipboard,h.generators,te),xe=ol(V,d,ue,h.generators,C);return Bu(xe,h.cells[0].row,h.cells[0].column)},mv=(d,h,C,T)=>{const M=Kr(d).rows,V=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,te=M[h.cells[0].row],ue=Ds(h.clipboard,h.generators,te),xe=ol(V,d,ue,h.generators,C);return Bu(xe,h.cells[0].row,V)},T2=(d,h,C,T)=>{const M=Kr(d).rows,V=h.cells[0].row,te=M[V],ue=Ds(h.clipboard,h.generators,te),xe=iv(V,d,ue,h.generators,C);return Bu(xe,h.cells[0].row,h.cells[0].column)},k2=(d,h,C,T)=>{const M=Kr(d).rows,V=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,te=M[h.cells[0].row],ue=Ds(h.clipboard,h.generators,te),xe=iv(V,d,ue,h.generators,C);return Bu(xe,V,h.cells[0].column)},P4=(d,h)=>{const C=bs.fromTable(d);return Ka(C,h).bind(M=>{const V=M[M.length-1],te=M[0].column,ue=V.column+V.colspan,xe=Yt(yt(C.all,We=>Qe(We.cells,gt=>gt.column>=te&&gt.column<ue)));return pb(xe)}).getOr("")},ZC=(d,h)=>{const C=bs.fromTable(d);return Ka(C,h).bind(pb).getOr("")},Oa=(d,h)=>{const C=bs.fromTable(d);return Ka(C,h).bind(M=>{const V=M[M.length-1],te=M[0].row,ue=V.row+V.rowspan,xe=C.all.slice(te,ue);return gb(xe)}).getOr("")},_2=(d,h,C,T)=>$1(d,h,C,T.sizing),O2=(d,h,C,T)=>I1(d,h,C,T.sizing,T.resize),qC=(d,h)=>Te(h,C=>C.column===0&&C.isLocked),zt=(d,h)=>Te(h,C=>C.column+C.colspan>=d.grid.columns&&C.isLocked),pv=(d,h)=>{const C=wg(d),T=Nu(h);return He(T,(M,V)=>{const ue=C[V.column].map(Nr).getOr(0);return M+ue},0)},K1=d=>(h,C)=>Ka(h,C).filter(T=>!(d?qC:zt)(h,T)).map(T=>({details:T,pixelDelta:pv(h,T)})),kp=(d,h)=>du(d,h).map(C=>({details:C,pixelDelta:-pv(d,C)})),Xf=d=>(h,C)=>Hc(h,C).filter(T=>!(d?qC:zt)(h,T.cells)),_p=Wl.transform("th"),gv=Wl.transform("td"),Y1=(d,h,C,T)=>Qa(Bm,Ka,re,re,Wl.modification,d,h,C,T),R4=(d,h,C,T)=>Qa(WC,Ka,re,re,Wl.modification,d,h,C,T),hv=(d,h,C,T)=>Qa(jC,K1(!0),O2,re,Wl.modification,d,h,C,T),ga=(d,h,C,T)=>Qa(G1,K1(!1),O2,re,Wl.modification,d,h,C,T),Qf=(d,h,C,T)=>Qa(fv,kp,O2,uv,Wl.modification,d,h,C,T),GC=(d,h,C,T)=>Qa(eA,Ka,re,uv,Wl.modification,d,h,C,T),Ih=(d,h,C,T)=>Qa(Fb,du,re,re,_p,d,h,C,T),$m=(d,h,C,T)=>Qa(E2,du,re,re,gv,d,h,C,T),Wc=(d,h,C,T)=>Qa(Im,Ka,re,re,_p,d,h,C,T),nA=(d,h,C,T)=>Qa(Bd,Ka,re,re,gv,d,h,C,T),KC=(d,h,C,T)=>Qa(O4,Ka,re,re,gv,d,h,C,T),oA=(d,h,C,T)=>Qa(Tg,du,re,re,_p,d,h,C,T),F4=(d,h,C,T)=>Qa(_4,du,re,re,gv,d,h,C,T),M4=(d,h,C,T)=>Qa(A2,_m,_2,re,Wl.merging,d,h,C,T),YC=(d,h,C,T)=>Qa(D4,Sb,_2,re,Wl.merging,d,h,C,T),sA=(d,h,C,T)=>Qa(tA,xh,_2,re,Wl.modification,d,h,C,T),bn=(d,h,C,T)=>Qa(So,Xf(!0),re,re,Wl.modification,d,h,C,T),XC=(d,h,C,T)=>Qa(mv,Xf(!1),re,re,Wl.modification,d,h,C,T),Zl=(d,h,C,T)=>Qa(T2,Hc,re,re,Wl.modification,d,h,C,T),QC=(d,h,C,T)=>Qa(k2,Hc,re,re,Wl.modification,d,h,C,T),JC=P4,eS=ZC,N4=Oa,Wo=(d,h)=>{const C=h.column,T=h.column+h.colspan-1,M=h.row,V=h.row+h.rowspan-1;return C<=d.finishCol&&T>=d.startCol&&M<=d.finishRow&&V>=d.startRow},rA=(d,h)=>h.column>=d.startCol&&h.column+h.colspan-1<=d.finishCol&&h.row>=d.startRow&&h.row+h.rowspan-1<=d.finishRow,aA=(d,h)=>{let C=!0;const T=Ae(rA,h);for(let M=h.startRow;M<=h.finishRow;M++)for(let V=h.startCol;V<=h.finishCol;V++)C=C&&bs.getAt(d,M,V).exists(T);return C?ce.some(h):ce.none()},B4=(d,h)=>sa(Math.min(d.row,h.row),Math.min(d.column,h.column),Math.max(d.row+d.rowspan-1,h.row+h.rowspan-1),Math.max(d.column+d.colspan-1,h.column+h.colspan-1)),I4=(d,h,C)=>{const T=bs.findItem(d,h,rr),M=bs.findItem(d,C,rr);return T.bind(V=>M.map(te=>B4(V,te)))},iA=(d,h,C)=>I4(d,h,C).bind(T=>aA(d,T)),rz=(d,h,C,T)=>bs.findItem(d,h,rr).bind(M=>{const V=C>0?M.row+M.rowspan-1:M.row,te=T>0?M.column+M.colspan-1:M.column;return bs.getAt(d,V+C,te+T).map(xe=>xe.element)}),Y5=(d,h,C)=>I4(d,h,C).map(T=>{const M=bs.filterItems(d,Ae(Wo,T));return yt(M,V=>V.element)}),lA=(d,h)=>{const C=(T,M)=>hd(M,T);return bs.findItem(d,h,C).map(T=>T.element)},$4=(d,h,C)=>_u(d).bind(T=>{const M=_f(T);return rz(M,d,h,C)}),Go=(d,h,C)=>{const T=_f(d);return Y5(T,h,C)},tS=(d,h,C,T,M)=>{const V=_f(d),te=rr(d,C)?ce.some(h):lA(V,h),ue=rr(d,M)?ce.some(T):lA(V,T);return te.bind(xe=>ue.bind(We=>Y5(V,xe,We)))},kg=(d,h,C)=>{const T=_f(d);return iA(T,h,C)},_f=bs.fromTable,D2={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Iu=()=>An.fromTag("th"),vv=()=>An.fromTag("td"),Mb=()=>An.fromTag("col"),P2=(d,h,C,T)=>{const M=An.fromTag("tr");for(let V=0;V<d;V++){const te=T<h||V<C?Iu():vv();V<C&&ni(te,"scope","row"),T<h&&ni(te,"scope","col"),or(te,An.fromTag("br")),or(M,te)}return M},bv=d=>{const h=An.fromTag("colgroup");return rn(d,()=>or(h,Mb())),h},yv=(d,h,C,T)=>rn(d,M=>P2(h,C,T,M)),Op=(d,h,C,T,M,V=D2)=>{const te=An.fromTag("table"),ue=M!=="cells";zr(te,V.styles),ju(te,V.attributes),V.colGroups&&or(te,bv(h));const xe=Math.min(d,C);if(ue&&C>0){const $n=An.fromTag("thead");or(te,$n);const Ut=yv(C,h,M==="sectionCells"?xe:0,T);Su($n,Ut)}const We=An.fromTag("tbody");or(te,We);const gt=ue?d-xe:d,zn=yv(gt,h,ue?0:C,T);return Su(We,zn),te},sl=d=>{let h=[];return{bind:V=>{if(V===void 0)throw new Error("Event bind error: undefined handler");h.push(V)},unbind:V=>{h=Qe(h,te=>te!==V)},trigger:(...V)=>{const te={};se(d,(ue,xe)=>{te[ue]=V[xe]}),se(h,ue=>{ue(te)})}}},_g=d=>{const h=kt(d,T=>({bind:T.bind,unbind:T.unbind})),C=kt(d,T=>T.trigger);return{registry:h,trigger:C}},cA=Mn(["compare","extract","mutate","sink"]),nS=Mn(["element","start","stop","destroy"]),uA=Mn(["forceDrop","drop","move","delayDrop"]),L4=()=>{let d=ce.none();const h=()=>{d=ce.none()},C=(V,te)=>{const ue=d.map(xe=>V.compare(xe,te));return d=ce.some(te),ue},T=(V,te)=>{te.extract(V).each(xe=>{C(te,xe).each(gt=>{M.trigger.move(gt)})})},M=_g({move:sl(["info"])});return{onEvent:T,reset:h,events:M.registry}},Gs=()=>{const d=_g({move:sl(["info"])});return{onEvent:re,reset:re,events:d.registry}},Jf=()=>{const d=Gs(),h=L4();let C=d;return{on:()=>{C.reset(),C=h},off:()=>{C.reset(),C=d},isOn:()=>C===h,onEvent:(ue,xe)=>{C.onEvent(ue,xe)},events:h.events}},$h=(d,h,C)=>{let T=!1;const M=_g({start:sl([]),stop:sl([])}),V=Jf(),te=()=>{co.stop(),V.isOn()&&(V.off(),M.trigger.stop())},ue=hs(te,200),xe=cn=>{co.start(cn),V.on(),M.trigger.start()},We=cn=>{ue.cancel(),V.onEvent(cn,h)};V.events.move.bind(cn=>{h.mutate(d,cn.info)});const gt=()=>{T=!0},ln=()=>{T=!1},zn=()=>T,$n=cn=>(...Fo)=>{T&&cn.apply(null,Fo)},co=h.sink(uA({forceDrop:te,drop:$n(te),move:$n(We),delayDrop:$n(ue.throttle)}),C),Ut=()=>{co.destroy()};return{element:co.element,go:xe,on:gt,off:ln,isActive:zn,destroy:Ut,events:M.registry}},wv=_o("ephox-dragster").resolve,Js=d=>{const h={layerClass:wv("blocker"),...d},C=An.fromTag("div");return ni(C,"role","presentation"),ni(C,"data-mce-bogus","all"),zr(C,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Xu(C,wv("blocker")),Xu(C,h.layerClass),{element:J(C),destroy:()=>{dl(C)}}};var Nb=cA({compare:(d,h)=>Er(h.left-d.left,h.top-d.top),extract:d=>ce.some(Er(d.x,d.y)),sink:(d,h)=>{const C=Js(h),T=wd(C.element(),"mousedown",d.forceDrop),M=wd(C.element(),"mouseup",d.drop),V=wd(C.element(),"mousemove",d.move),te=wd(C.element(),"mouseout",d.delayDrop),ue=()=>{C.destroy(),M.unbind(),V.unbind(),te.unbind(),T.unbind()},xe=gt=>{or(gt,C.element())},We=()=>{dl(C.element())};return nS({element:C.element,start:xe,stop:We,destroy:ue})},mutate:(d,h)=>{d.mutate(h.left,h.top)}});const U4=(d,h={})=>{const C=h.mode??Nb;return $h(d,C,h)},Bb=_o("ephox-snooker").resolve,W4=()=>{const d=_g({drag:sl(["xDelta","yDelta"])});return{mutate:(C,T)=>{d.trigger.drag(C,T)},events:d.registry}},Ib=()=>{const d=_g({drag:sl(["xDelta","yDelta","target"])});let h=ce.none();const C=W4();return C.events.drag.bind(V=>{h.each(te=>{d.trigger.drag(V.xDelta,V.yDelta,te)})}),{assign:V=>{h=ce.some(V)},get:()=>h,mutate:C.mutate,events:d.registry}},dA=(d,h,C,T,M)=>{const V=An.fromTag("div");return zr(V,{position:"absolute",left:h-T/2+"px",top:C+"px",height:M+"px",width:T+"px"}),ju(V,{"data-mce-bogus":"all","data-column":d,role:"presentation"}),V},j4=(d,h,C,T,M)=>{const V=An.fromTag("div");return zr(V,{position:"absolute",left:h+"px",top:C-M/2+"px",height:M+"px",width:T+"px"}),ju(V,{"data-mce-bogus":"all","data-row":d,role:"presentation"}),V},R2=Bb("resizer-bar"),oS=Bb("resizer-rows"),sS=Bb("resizer-cols"),fA=7,Z4=(d,h)=>jn(d.all,(C,T)=>h(C.element)?[T]:[]),mA=(d,h)=>{const C=[];return rn(d.grid.columns,T=>{bs.getColumnAt(d,T).map(V=>V.element).forall(h)&&C.push(T)}),Qe(C,T=>{const M=bs.filterItems(d,V=>V.column===T);return Cn(M,V=>h(V.element))})},rS=d=>{const h=Qu(d.parent(),"."+R2);se(h,dl)},pA=(d,h,C)=>{const T=d.origin();se(h,M=>{M.each(V=>{const te=C(T,V);Xu(te,R2),or(d.parent(),te)})})},fr=(d,h,C,T)=>{pA(d,h,(M,V)=>{const te=dA(V.col,V.x-M.left,C.top-M.top,fA,T);return Xu(te,sS),te})},gA=(d,h,C,T)=>{pA(d,h,(M,V)=>{const te=j4(V.row,C.left-M.left,V.y-M.top,T,fA);return Xu(te,oS),te})},aS=(d,h,C,T,M)=>{const V=fs(C),te=h.isResizable,ue=T.length>0?F1.positions(T,C):[],xe=ue.length>0?Z4(d,te):[],We=Qe(ue,($n,co)=>Te(xe,Ut=>co===Ut));gA(h,We,V,Nr(C));const gt=M.length>0?_a.positions(M,C):[],ln=gt.length>0?mA(d,te):[],zn=Qe(gt,($n,co)=>Te(ln,Ut=>co===Ut));fr(h,zn,V,$0(C))},F2=(d,h)=>{if(rS(d),d.isResizable(h)){const C=bs.fromTable(h),T=W0(C),M=wg(C);aS(C,d,h,T,M)}},Og=(d,h)=>{const C=Qu(d.parent(),"."+R2);se(C,h)},iS=d=>{Og(d,h=>{Ai(h,"display","none")})},q4=d=>{Og(d,h=>{Ai(h,"display","block")})},hA=d=>_i(d,oS),Cv=d=>_i(d,sS),vA=Bb("resizer-bar-dragging"),$b=d=>{const h=Ib(),C=U4(h,{});let T=ce.none();const M=(Ut,cn)=>ce.from(rc(Ut,cn));h.events.drag.bind(Ut=>{M(Ut.target,"data-row").each(cn=>{const Fo=Pi(Ut.target,"top");Ai(Ut.target,"top",Fo+Ut.yDelta+"px")}),M(Ut.target,"data-column").each(cn=>{const Fo=Pi(Ut.target,"left");Ai(Ut.target,"left",Fo+Ut.xDelta+"px")})});const V=(Ut,cn)=>{const Fo=Pi(Ut,cn),us=Hf(Ut,"data-initial-"+cn,0);return Fo-us};C.events.stop.bind(()=>{h.get().each(Ut=>{T.each(cn=>{M(Ut,"data-row").each(Fo=>{const us=V(Ut,"top");cr(Ut,"data-initial-top"),co.trigger.adjustHeight(cn,us,parseInt(Fo,10))}),M(Ut,"data-column").each(Fo=>{const us=V(Ut,"left");cr(Ut,"data-initial-left"),co.trigger.adjustWidth(cn,us,parseInt(Fo,10))}),F2(d,cn)})})});const te=(Ut,cn)=>{co.trigger.startAdjust(),h.assign(Ut),ni(Ut,"data-initial-"+cn,Pi(Ut,cn)),Xu(Ut,vA),Ai(Ut,"opacity","0.2"),C.go(d.dragContainer())},ue=wd(d.parent(),"mousedown",Ut=>{hA(Ut.target)&&te(Ut.target,"top"),Cv(Ut.target)&&te(Ut.target,"left")}),xe=Ut=>rr(Ut,d.view()),We=Ut=>Br(Ut,"table",xe).filter(Dc),gt=Ut=>_i(Ut,"ephox-snooker-resizer-bar")||_i(Ut,"ephox-dragster-blocker"),ln=wd(d.view(),"mouseover",Ut=>{We(Ut.target).fold(()=>{Ao(Ut.target)&&!gt(Ut.target)&&rS(d)},cn=>{C.isActive()&&(T=ce.some(cn),F2(d,cn))})}),zn=()=>{ue.unbind(),ln.unbind(),C.destroy(),rS(d)},$n=Ut=>{F2(d,Ut)},co=_g({adjustHeight:sl(["table","delta","row"]),adjustWidth:sl(["table","delta","column"]),startAdjust:sl([])});return{destroy:zn,refresh:$n,on:C.on,off:C.off,hideBars:Ae(iS,d),showBars:Ae(q4,d),events:co.registry}},lS={create:(d,h,C)=>{const T=F1,M=_a,V=$b(d),te=_g({beforeResize:sl(["table","type"]),afterResize:sl(["table","type"]),startDrag:sl([])});return V.events.adjustHeight.bind(ue=>{const xe=ue.table;te.trigger.beforeResize(xe,"row");const We=T.delta(ue.delta,xe);Y0(xe,We,ue.row),te.trigger.afterResize(xe,"row")}),V.events.startAdjust.bind(ue=>{te.trigger.startDrag()}),V.events.adjustWidth.bind(ue=>{const xe=ue.table;te.trigger.beforeResize(xe,"col");const We=M.delta(ue.delta,xe),gt=C(xe);Ah(xe,We,ue.column,h,gt),te.trigger.afterResize(xe,"col")}),{on:V.on,off:V.off,refreshBars:V.refresh,hideBars:V.hideBars,showBars:V.showBars,destroy:V.destroy,events:te.registry}}},Lh=d=>h=>h.options.get(d),bA="100%",yA=d=>{const h=d.dom,C=h.getParent(d.selection.getStart(),h.isBlock)??d.getBody();return Ti(An.fromDom(C))+"px"},wA=(d,h)=>zb(d)||!cS(d)?h:Dp(d)?{...h,width:yA(d)}:{...h,width:bA},CA=(d,h)=>zb(d)||cS(d)?h:Dp(d)?{...h,width:yA(d)}:{...h,width:bA},eM=d=>{const h=d.options.register;h("table_clone_elements",{processor:"string[]"}),h("table_use_colgroups",{processor:"boolean",default:!0}),h("table_header_type",{processor:C=>{const T=dn(["section","cells","sectionCells","auto"],C);return T?{value:C,valid:T}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),h("table_sizing_mode",{processor:"string",default:"auto"}),h("table_default_attributes",{processor:"object",default:{border:"1"}}),h("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),h("table_column_resizing",{processor:C=>{const T=dn(["preservetable","resizetable"],C);return T?{value:C,valid:T}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),h("table_resize_bars",{processor:"boolean",default:!0}),h("table_style_by_css",{processor:"boolean",default:!0}),h("table_merge_content_on_paste",{processor:"boolean",default:!0})},SA=d=>ce.from(d.options.get("table_clone_elements")),M2=d=>{const h=d.options.get("object_resizing");return dn(h.split(","),"table")},N2=Lh("table_header_type"),Hb=Lh("table_column_resizing"),B2=d=>Hb(d)==="preservetable",I2=d=>Hb(d)==="resizetable",Gn=Lh("table_sizing_mode"),Hh=d=>Gn(d)==="relative",Dp=d=>Gn(d)==="fixed",zb=d=>Gn(d)==="responsive",xA=Lh("table_resize_bars"),cS=Lh("table_style_by_css"),uS=Lh("table_merge_content_on_paste"),EA=d=>{const h=d.options,C=h.get("table_default_attributes");return h.isSet("table_default_attributes")?C:CA(d,C)},AA=d=>{const h=d.options,C=h.get("table_default_styles");return h.isSet("table_default_styles")?C:wA(d,C)},TA=Lh("table_use_colgroups"),$2=d=>An.fromDom(d.getBody()),rl=d=>h=>rr(h,$2(d)),em=d=>{cr(d,"data-mce-style");const h=C=>cr(C,"data-mce-style");se(Uf(d),h),se(_1(d),h),se(z0(d),h)},L2=d=>An.fromDom(d.selection.getStart()),kA=d=>d.getBoundingClientRect().width,_A=d=>d.getBoundingClientRect().height,OA=d=>(h,C)=>{const T=h.dom.getStyle(C,d)||h.dom.getAttrib(C,d);return ce.from(T).filter(Ms)},H2=OA("width"),dS=OA("height"),DA=d=>/^(\d+(\.\d+)?)%$/.test(d),PA=d=>/^(\d+(\.\d+)?)px$/.test(d),Ub=d=>Kd(d,Tc("table")).exists(Dc),fS=d=>Ol(d,"table"),z2=(d,h,C)=>{const T=M=>V=>C!==void 0&&C(V)||rr(V,M);return rr(d,h)?ce.some({boxes:ce.some([d]),start:d,finish:h}):fS(d).bind(M=>fS(h).bind(V=>{if(rr(M,V))return ce.some({boxes:Go(M,d,h),start:d,finish:h});if(hd(M,V)){const te=ur(h,"td,th",T(M)),ue=te.length>0?te[te.length-1]:h;return ce.some({boxes:tS(M,d,M,h,V),start:d,finish:ue})}else if(hd(V,M)){const te=ur(d,"td,th",T(V)),ue=te.length>0?te[te.length-1]:d;return ce.some({boxes:tS(V,d,M,h,V),start:d,finish:ue})}else return Fm(d,h).shared.bind(te=>Br(te,"table",C).bind(ue=>{const xe=ur(h,"td,th",T(ue)),We=xe.length>0?xe[xe.length-1]:h,gt=ur(d,"td,th",T(ue)),ln=gt.length>0?gt[gt.length-1]:d;return ce.some({boxes:tS(ue,d,M,h,V),start:ln,finish:We})}))}))},mS=(d,h)=>{const C=Qu(d,h);return C.length>0?ce.some(C):ce.none()},G4=(d,h)=>W(d,C=>qi(C,h)),RA=(d,h,C)=>fl(d,h).bind(T=>fl(d,C).bind(M=>Xr(fS,[T,M]).map(V=>({first:T,last:M,table:V})))),FA=(d,h)=>Ol(d,"table").bind(C=>fl(C,h).bind(T=>z2(T,d).bind(M=>M.boxes.map(V=>({boxes:V,start:M.start,finish:M.finish}))))),U2=(d,h,C,T,M)=>G4(d,M).bind(V=>$4(V,h,C).bind(te=>FA(te,T))),X1=(d,h)=>mS(d,h),MA=(d,h,C)=>RA(d,h,C).bind(T=>{const M=xe=>rr(d,xe),V="thead,tfoot,tbody,table",te=Ol(T.first,V,M),ue=Ol(T.last,V,M);return te.bind(xe=>ue.bind(We=>rr(xe,We)?kg(T.table,T.first,T.last):ce.none()))}),NA=dt,V2=d=>{const h=(T,M)=>cl(T,M).exists(V=>parseInt(V,10)>1),C=T=>h(T,"rowspan")||h(T,"colspan");return d.length>0&&Cn(d,C)?ce.some(d):ce.none()},K4=(d,h,C)=>h.length<=1?ce.none():MA(d,C.firstSelectedSelector,C.lastSelectedSelector).map(T=>({bounds:T,cells:h})),Q1={create:(d,h)=>({selection:d,kill:h})},pS=(d,h,C,T)=>{switch(d.tag){case"none":return h();case"single":return T(d.element);case"multiple":return C(d.elements)}},X4=()=>({tag:"none"}),Q4=d=>({tag:"multiple",elements:d}),BA=d=>({tag:"single",element:d}),J4=(d,h,C)=>({get:()=>X1(d(),C).fold(()=>h().fold(X4,BA),Q4)}),W2={create:(d,h,C,T)=>({start:aa.on(d,h),finish:aa.on(C,T)})},hS=(d,h)=>{const C=yn(d,h);return _d.create(An.fromDom(C.startContainer),C.startOffset,An.fromDom(C.endContainer),C.endOffset)},Pp=W2.create,IA=(d,h,C,T,M,V,te)=>rr(C,M)&&T===V?ce.none():Br(C,"td,th",h).bind(ue=>Br(M,"td,th",h).bind(xe=>j2(d,h,ue,xe,te))),j2=(d,h,C,T,M)=>rr(C,T)?ce.none():z2(C,T,h).bind(V=>{const te=V.boxes.getOr([]);return te.length>1?(M(d,te,V.start,V.finish),ce.some(Q1.create(ce.some(Pp(C,0,C,Td(C))),!0))):ce.none()}),e_=(d,h,C,T,M)=>{const V=te=>(M.clearBeforeUpdate(C),M.selectRange(C,te.boxes,te.start,te.finish),te.boxes);return U2(T,d,h,M.firstSelectedSelector,M.lastSelectedSelector).map(V)},zh=lr.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),t_=(d,h,C)=>{const T=d.getRect(h),M=d.getRect(C);return M.right>T.left&&M.left<T.right},n_=d=>Br(d,"tr"),Sv={...zh,verify:(d,h,C,T,M,V,te)=>Br(T,"td,th",te).bind(ue=>Br(h,"td,th",te).map(xe=>rr(ue,xe)?rr(T,ue)&&Td(ue)===M?V(xe):zh.none("in same cell"):Xr(n_,[ue,xe]).fold(()=>t_(d,xe,ue)?zh.success():V(xe),We=>V(xe)))).getOr(zh.none("default")),cata:(d,h,C,T,M)=>d.fold(h,C,T,M)},Vb=Tc("br"),vS=(d,h,C)=>h(d,C).bind(T=>bm(T)&&Au(T).trim().length===0?vS(T,h,C):ce.some(T)),o_=(d,h,C)=>C.traverse(h).orThunk(()=>vS(h,C.gather,d)).map(C.relative),s_=(d,h)=>nc(d,h).filter(Vb).orThunk(()=>nc(d,h-1).filter(Vb)),Z2=(d,h,C,T)=>s_(h,C).bind(M=>T.traverse(M).fold(()=>vS(M,T.gather,d).map(T.relative),V=>Ju(V).map(te=>aa.on(te.parent,te.index)))),$A=(d,h,C,T)=>(Vb(h)?o_(d,h,T):Z2(d,h,C,T)).map(V=>({start:V,finish:V})),LA=d=>Sv.cata(d,h=>ce.none(),()=>ce.none(),h=>ce.some(ys(h,0)),h=>ce.some(ys(h,Td(h)))),Wb=(d,h)=>({left:d.left,top:d.top+h,right:d.right,bottom:d.bottom+h}),q2=(d,h)=>({left:d.left,top:d.top-h,right:d.right,bottom:d.bottom-h}),bS=(d,h,C)=>({left:d.left+h,top:d.top+C,right:d.right+h,bottom:d.bottom+C}),jb=d=>d.top,yS=d=>d.bottom,r_=(d,h,C)=>C>=0&&C<Td(h)?d.getRangedRect(h,C,h,C+1):C>0?d.getRangedRect(h,C-1,h,C):ce.none(),Zb=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),HA=(d,h)=>ce.some(d.getRect(h)),G2=(d,h,C)=>Va(h)?HA(d,h).map(Zb):bm(h)?r_(d,h,C).map(Zb):ce.none(),K2=(d,h)=>Va(h)?HA(d,h).map(Zb):bm(h)?d.getRangedRect(h,0,h,Td(h)).map(Zb):ce.none(),J1=5,a_=100,Rp=lr.generate([{none:[]},{retry:["caret"]}]),i_=(d,h)=>d.left<h.left||Math.abs(h.right-d.left)<1||d.left>h.right,zA=(d,h,C)=>Kd(h,Mm).fold(ct,T=>K2(d,T).exists(M=>i_(C,M))),l_=(d,h,C,T,M)=>{const V=Wb(M,J1);return Math.abs(C.bottom-T.bottom)<1||C.top>M.bottom?Rp.retry(V):C.top===M.bottom?Rp.retry(Wb(M,1)):zA(d,h,M)?Rp.retry(bS(V,J1,0)):Rp.none()},Y2={point:jb,adjuster:(d,h,C,T,M)=>{const V=q2(M,J1);return Math.abs(C.top-T.top)<1||C.bottom<M.top?Rp.retry(V):C.bottom===M.top?Rp.retry(q2(M,1)):zA(d,h,M)?Rp.retry(bS(V,J1,0)):Rp.none()},move:q2,gather:qE},c_={point:yS,adjuster:l_,move:Wb,gather:Kf},u_=(d,h,C)=>d.elementFromPoint(h,C).filter(T=>Ua(T)==="table").isSome(),d_=(d,h,C,T,M)=>wS(d,h,C,h.move(T,J1),M),wS=(d,h,C,T,M)=>M===0?ce.some(T):u_(d,T.left,h.point(T))?d_(d,h,C,T,M-1):d.situsFromPoint(T.left,h.point(T)).bind(V=>V.start.fold(ce.none,te=>K2(d,te).bind(ue=>h.adjuster(d,te,ue,C,T).fold(ce.none,xe=>wS(d,h,C,xe,M-1))).orThunk(()=>ce.some(T)),ce.none)),f_=(d,h,C)=>d.point(h)>C.getInnerHeight()?ce.some(d.point(h)-C.getInnerHeight()):d.point(h)<0?ce.some(-d.point(h)):ce.none(),UA=(d,h,C)=>{const T=d.move(C,J1),M=wS(h,d,C,T,a_).getOr(T);return f_(d,M,h).fold(()=>h.situsFromPoint(M.left,d.point(M)),V=>(h.scrollBy(0,V),h.situsFromPoint(M.left,d.point(M)-V)))},CS={tryUp:Ae(UA,Y2),tryDown:Ae(UA,c_),getJumpSize:J(J1)},m_=20,p_=(d,h,C)=>d.getSelection().bind(T=>$A(h,T.finish,T.foffset,C).fold(()=>ce.some(ys(T.finish,T.foffset)),M=>{const V=d.fromSitus(M),te=Sv.verify(d,T.finish,T.foffset,V.finish,V.foffset,C.failure,h);return LA(te)})),SS=(d,h,C,T,M,V)=>V===0?ce.none():qb(d,h,C,T,M).bind(te=>{const ue=d.fromSitus(te),xe=Sv.verify(d,C,T,ue.finish,ue.foffset,M.failure,h);return Sv.cata(xe,()=>ce.none(),()=>ce.some(te),We=>rr(C,We)&&T===0?VA(d,C,T,q2,M):SS(d,h,We,0,M,V-1),We=>rr(C,We)&&T===Td(We)?VA(d,C,T,Wb,M):SS(d,h,We,Td(We),M,V-1))}),VA=(d,h,C,T,M)=>G2(d,h,C).bind(V=>ho(d,M,T(V,CS.getJumpSize()))),ho=(d,h,C)=>{const T=Jl().browser;return T.isChromium()||T.isSafari()||T.isFirefox()?h.retry(d,C):ce.none()},qb=(d,h,C,T,M)=>G2(d,C,T).bind(V=>ho(d,M,V)),WA=(d,h,C)=>p_(d,h,C).bind(T=>SS(d,h,T.element,T.offset,C,m_).map(d.fromSitus)),g_=(d,h)=>E1(d,C=>Pe(C).exists(T=>rr(T,h))),xS=(d,h,C,T,M)=>Br(T,"td,th",h).bind(V=>Br(V,"table",h).bind(te=>g_(M,te)?WA(d,h,C).bind(ue=>Br(ue.finish,"td,th",h).map(xe=>({start:V,finish:xe,range:ue}))):ce.none())),Gb=(d,h,C,T,M,V)=>V(T,h).orThunk(()=>xS(d,h,C,T,M).map(te=>{const ue=te.range;return Q1.create(ce.some(Pp(ue.start,ue.soffset,ue.finish,ue.foffset)),!0)})),X2=(d,h)=>Br(d,"tr",h).bind(C=>Br(C,"table",h).bind(T=>{const M=Qu(T,"tr");return rr(C,M[0])?pu(T,V=>Za(V).isSome(),h).map(V=>{const te=Td(V);return Q1.create(ce.some(Pp(V,te,V,te)),!0)}):ce.none()})),Kb=(d,h)=>Br(d,"tr",h).bind(C=>Br(C,"table",h).bind(T=>{const M=Qu(T,"tr");return rr(C,M[M.length-1])?kf(T,V=>kd(V).isSome(),h).map(V=>Q1.create(ce.some(Pp(V,0,V,0)),!0)):ce.none()})),xv=(d,h,C,T,M,V,te)=>xS(d,C,T,M,V).bind(ue=>j2(h,C,ue.start,ue.finish,te)),ES=(d,h)=>Br(d,"td,th",h),AS=d=>tc(d).exists(Dc),jA=(d,h,C,T)=>{const M=ta(),V=M.clear,te=gt=>{M.on(ln=>{T.clearBeforeUpdate(h),ES(gt.target,C).each(zn=>{z2(ln,zn,C).each($n=>{const co=$n.boxes.getOr([]);if(co.length===1){const Ut=co[0],cn=fp(Ut)==="false",Fo=Jn(Aa(gt.target),Ut,rr);cn&&Fo&&T.selectRange(h,co,Ut,Ut)}else co.length>1&&(T.selectRange(h,co,$n.start,$n.finish),d.selectContents(zn))})})})};return{clearstate:V,mousedown:gt=>{T.clear(h),ES(gt.target,C).filter(AS).each(M.set)},mouseover:gt=>{te(gt)},mouseup:gt=>{te(gt),V()}}},TS={traverse:ym,gather:Kf,relative:aa.before,retry:CS.tryDown,failure:Sv.failedDown},ZA={traverse:lg,gather:qE,relative:aa.before,retry:CS.tryUp,failure:Sv.failedUp},Ev=d=>h=>h===d,Dg=Ev(38),Av=Ev(40),Pg=d=>d>=37&&d<=40,Rg={isBackward:Ev(37),isForward:Ev(39)},qA={isBackward:Ev(39),isForward:Ev(37)},Yb=d=>({elementFromPoint:(cn,Fo)=>An.fromPoint(An.fromDom(d.document),cn,Fo),getRect:cn=>cn.dom.getBoundingClientRect(),getRangedRect:(cn,Fo,us,eo)=>{const Tr=B.exact(cn,Fo,us,eo);return wf(d,Tr)},getSelection:()=>$f(d).map(cn=>hS(d,cn)),fromSitus:cn=>{const Fo=B.relative(cn.start,cn.finish);return hS(d,Fo)},situsFromPoint:(cn,Fo)=>Yd(d,cn,Fo).map(us=>W2.create(us.start,us.soffset,us.finish,us.foffset)),clearSelection:()=>{fh(d)},collapseSelection:(cn=!1)=>{$f(d).each(Fo=>Fo.fold(us=>us.collapse(cn),(us,eo)=>{const Tr=cn?us:eo;Dd(d,Tr,Tr)},(us,eo,Tr,kr)=>{const os=cn?us:Tr,zi=cn?eo:kr;lu(d,os,zi,os,zi)}))},setSelection:cn=>{lu(d,cn.start,cn.soffset,cn.finish,cn.foffset)},setRelativeSelection:(cn,Fo)=>{Dd(d,cn,Fo)},selectNode:cn=>{di(d,cn,!1)},selectContents:cn=>{di(d,cn)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>Is(An.fromDom(d.document)).top,scrollBy:(cn,Fo)=>{Yi(cn,Fo,An.fromDom(d.document))}}),tm=(d,h)=>({rows:d,cols:h}),GA=(d,h,C,T)=>{const M=Yb(d),V=jA(M,h,C,T);return{clearstate:V.clearstate,mousedown:V.mousedown,mouseover:V.mouseover,mouseup:V.mouseup}},KA=d=>Kd(d,vm).exists(Dc),kS=(d,h)=>KA(d)||KA(h),_S=(d,h,C,T)=>{const M=Yb(d),V=()=>(T.clear(h),ce.none());return{keydown:(xe,We,gt,ln,zn,$n)=>{const co=xe.raw,Ut=co.which,cn=co.shiftKey===!0;return mS(h,T.selectedSelector).fold(()=>(Pg(Ut)&&!cn&&T.clearBeforeUpdate(h),Pg(Ut)&&cn&&!kS(We,ln)?ce.none:Av(Ut)&&cn?Ae(xv,M,h,C,TS,ln,We,T.selectRange):Dg(Ut)&&cn?Ae(xv,M,h,C,ZA,ln,We,T.selectRange):Av(Ut)?Ae(Gb,M,C,TS,ln,We,Kb):Dg(Ut)?Ae(Gb,M,C,ZA,ln,We,X2):ce.none),us=>{const eo=Tr=>()=>Tt(Tr,os=>e_(os.rows,os.cols,h,us,T)).fold(()=>RA(h,T.firstSelectedSelector,T.lastSelectedSelector).map(os=>{const zi=Av(Ut)||$n.isForward(Ut)?aa.after:aa.before;return M.setRelativeSelection(aa.on(os.first,0),zi(os.table)),T.clear(h),Q1.create(ce.none(),!0)}),os=>ce.some(Q1.create(ce.none(),!0)));return Pg(Ut)&&cn&&!kS(We,ln)?ce.none:Av(Ut)&&cn?eo([tm(1,0)]):Dg(Ut)&&cn?eo([tm(-1,0)]):$n.isBackward(Ut)&&cn?eo([tm(0,-1),tm(-1,0)]):$n.isForward(Ut)&&cn?eo([tm(0,1),tm(1,0)]):Pg(Ut)&&!cn?V:ce.none})()},keyup:(xe,We,gt,ln,zn)=>mS(h,T.selectedSelector).fold(()=>{const $n=xe.raw,co=$n.which;return $n.shiftKey===!0&&Pg(co)&&kS(We,ln)?IA(h,C,We,gt,ln,zn,T.selectRange):ce.none()},ce.none)}},YA=(d,h,C,T)=>{const M=Yb(d);return(V,te)=>{T.clearBeforeUpdate(h),z2(V,te,C).each(ue=>{const xe=ue.boxes.getOr([]);T.selectRange(h,xe,ue.start,ue.finish),M.selectContents(te),M.collapseSelection()})}},QA={byClass:d=>{const h=uh(d.selected),C=dh([d.selected,d.lastSelected,d.firstSelected]),T=V=>{const te=Qu(V,d.selectedSelector);se(te,C)};return{clearBeforeUpdate:T,clear:T,selectRange:(V,te,ue,xe)=>{T(V),se(te,h),Xu(ue,d.firstSelected),Xu(xe,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,h,C)=>{const T=xe=>{cr(xe,d.selected),cr(xe,d.firstSelected),cr(xe,d.lastSelected)},M=xe=>{ni(xe,d.selected,"1")},V=xe=>{te(xe),C()},te=xe=>{const We=Qu(xe,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);se(We,T)};return{clearBeforeUpdate:te,clear:V,selectRange:(xe,We,gt,ln)=>{V(xe),se(We,M),ni(gt,d.firstSelected,"1"),ni(ln,d.lastSelected,"1"),h(We,gt,ln)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},e0="data-mce-selected",OS="td["+e0+"],th["+e0+"]",JA="["+e0+"]",DS="data-mce-first-selected",PS="td["+DS+"],th["+DS+"]",RS="data-mce-last-selected",v_="td["+RS+"],th["+RS+"]",t0=JA,n0={selected:e0,selectedSelector:OS,firstSelected:DS,firstSelectedSelector:PS,lastSelected:RS,lastSelectedSelector:v_},Q2=(d,h,C)=>({element:C,mergable:K4(h,d,n0),unmergable:V2(d),selection:NA(d)}),J2=(d,h,C)=>({element:d,clipboard:h,generators:C}),eT=(d,h,C,T)=>({selection:NA(d),clipboard:C,generators:T}),b_=d=>_u(d).bind(h=>X1(h,n0.firstSelectedSelector)).fold(J(d),h=>h[0]),tT=d=>(h,C)=>{const T=Ua(h),M=T==="col"||T==="colgroup"?b_(h):h;return Br(M,d,C)},Xo=tT("th,td,caption"),ew=tT("th,td"),of=d=>oi(d.model.table.getSelectedCells()),Xb=d=>Qe(of(d),h=>qi(h,n0.selectedSelector)),y_=d=>_u(d[0]).map(h=>{const C=Th(h,t0);return em(C),[C]}),tw=(d,h)=>yt(h,C=>d.selection.serializer.serialize(C.dom,{})).join(""),w_=(d,h)=>{const C=d.getDoc(),T=y1(An.fromDom(d.getBody())),M=An.fromTag("div",C);ni(M,"data-mce-bogus","all"),zr(M,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const V=ll(T);Su(M,h),or(V,M);const te=M.dom.innerText;return dl(M),te},FS=(d,h)=>{d.on("BeforeGetContent",C=>{const T=M=>{C.preventDefault(),y_(M).each(V=>{const te=C.format==="text"?w_(d,V):tw(d,V);C.content=te})};if(C.selection===!0){const M=Xb(d);M.length>=1&&T(M)}}),d.on("BeforeSetContent",C=>{if(C.selection===!0&&C.paste===!0){const T=of(d);De(T).each(M=>{_u(M).each(V=>{const te=Qe(ip(C.content),xe=>Ua(xe)!=="meta"),ue=Tc("table");if(uS(d)&&te.length===1&&ue(te[0])){C.preventDefault();const xe=An.fromDom(d.getDoc()),We=BC(xe),gt=J2(M,te[0],We);h.pasteCells(V,gt).each(()=>{d.focus()})}})})}})},MS=(d,h)=>d.dispatch("NewRow",{node:h}),Qb=(d,h)=>d.dispatch("NewCell",{node:h}),Lm=(d,h,C)=>{d.dispatch("TableModified",{...C,table:h})},Tv=(d,h,C,T,M)=>{d.dispatch("TableSelectionChange",{cells:h,start:C,finish:T,otherCells:M})},C_=d=>{d.dispatch("TableSelectionClear")},o0=(d,h,C,T,M)=>{d.dispatch("ObjectResizeStart",{target:h,width:C,height:T,origin:M})},Jb=(d,h,C,T,M)=>{d.dispatch("ObjectResized",{target:h,width:C,height:T,origin:M})},nw={structure:!1,style:!0},El={structure:!0,style:!1},S_={structure:!0,style:!0},NS=(d,h)=>Hh(d)?Li.percentageSize(h):Dp(d)?Li.pixelSize(h):Li.getTableSize(h),Uh=(d,h,C)=>{const T=gc=>Ua($2(gc))==="table",M=gc=>!T(d)||Ab(gc).rows>1,V=gc=>!T(d)||Ab(gc).columns>1,te=SA(d),ue=I2(d)?re:xf,xe=gc=>{switch(N2(d)){case"section":return Qi.section();case"sectionCells":return Qi.sectionCells();case"cells":return Qi.cells();default:return Qi.getTableSectionType(gc,"section")}},We=(gc,uw)=>uw.cursor.fold(()=>{const oy=Uf(gc);return De(oy).filter(Ao).map(Mg=>{C.clearSelectedCells(gc.dom);const hu=d.dom.createRng();return hu.selectNode(Mg.dom),d.selection.setRng(hu),ni(Mg,"data-mce-selected","1"),hu})},oy=>{const Mg=u2(oy),hu=d.dom.createRng();return hu.setStart(Mg.element.dom,Mg.offset),hu.setEnd(Mg.element.dom,Mg.offset),d.selection.setRng(hu),C.clearSelectedCells(gc.dom),ce.some(hu)}),gt=(gc,uw,oy,Mg)=>(hu,__,lT=!1)=>{em(hu);const so=An.fromDom(d.getDoc()),cd=Mh(oy,so,te),O_={sizing:NS(d,hu),resize:I2(d)?hg():fb(),section:xe(hu)};return uw(hu)?gc(hu,__,cd,O_).bind(dw=>{h.refresh(hu.dom),se(dw.newRows,r0=>{MS(d,r0.dom)}),se(dw.newCells,r0=>{Qb(d,r0.dom)});const cT=We(hu,dw);return Ao(hu)&&(em(hu),lT||Lm(d,hu.dom,Mg)),cT.map(r0=>({rng:r0,effect:Mg}))}):ce.none()},ln=gt(GC,M,re,El),zn=gt(Qf,V,re,El),$n=gt(Y1,Ce,re,El),co=gt(R4,Ce,re,El),Ut=gt(hv,Ce,ue,El),cn=gt(ga,Ce,ue,El),Fo=gt(M4,Ce,re,El),us=gt(YC,Ce,re,El),eo=gt(bn,Ce,re,El),Tr=gt(XC,Ce,re,El),kr=gt(Zl,Ce,re,El),os=gt(QC,Ce,re,El),zi=gt(sA,Ce,re,S_),Of=gt(oA,Ce,re,El),Fg=gt(F4,Ce,re,El),jh=gt(Ih,Ce,re,El),s0=gt($m,Ce,re,El),Vr=gt(Wc,Ce,re,El),$u=gt(nA,Ce,re,El),ii=gt(KC,Ce,re,El);return{deleteRow:ln,deleteColumn:zn,insertRowsBefore:$n,insertRowsAfter:co,insertColumnsBefore:Ut,insertColumnsAfter:cn,mergeCells:Fo,unmergeCells:us,pasteColsBefore:eo,pasteColsAfter:Tr,pasteRowsBefore:kr,pasteRowsAfter:os,pasteCells:zi,makeCellsHeader:Of,unmakeCellsHeader:Fg,makeColumnsHeader:jh,unmakeColumnsHeader:s0,makeRowsHeader:Vr,makeRowsBody:$u,makeRowsFooter:ii,getTableRowType:N4,getTableCellType:eS,getTableColType:JC}},Fp=(d,h)=>{d.selection.select(h.dom,!0),d.selection.collapse(!0)},BS=(d,h)=>{fl(h,"td,th").each(Ae(Fp,d))},nT=(d,h)=>{se(Qu(h,"tr"),C=>{MS(d,C.dom),se(Qu(C,"th,td"),T=>{Qb(d,T.dom)})})},x_=d=>I(d)&&d.indexOf("%")!==-1,ow=(d,h,C,T,M)=>{const V=AA(d),te={styles:V,attributes:EA(d),colGroups:TA(d)};return d.undoManager.ignore(()=>{const ue=Op(C,h,M,T,N2(d),te);ni(ue,"data-mce-id","__mce");const xe=wm(ue);d.insertContent(xe),d.addVisual()}),fl($2(d),'table[data-mce-id="__mce"]').map(ue=>(Dp(d)?MC(ue):zb(d)?Rh(ue):(Hh(d)||x_(V.width))&&V1(ue),em(ue),cr(ue,"data-mce-id"),nT(d,ue),BS(d,ue),ue.dom)).getOrNull()},ey=(d,h,C,T={})=>{const M=V=>Se(V)&&V>0;if(M(h)&&M(C)){const V=T.headerRows||0,te=T.headerColumns||0;return ow(d,C,h,te,V)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Vh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const sw="x-tinymce/dom-table-",rw=sw+"rows",Wh=sw+"columns",ty=d=>{const h=Vh.FakeClipboardItem(d);Vh.write([h])},IS=d=>{const h=Vh.read()??[];return Tt(h,C=>ce.from(C.getType(d)))},aw=d=>{IS(d).isSome()&&Vh.clear()},Hm=d=>{d.fold(Mp,h=>ty({[rw]:h}))},oT=()=>IS(rw),Mp=()=>aw(rw),$S=d=>{d.fold(kv,h=>ty({[Wh]:h}))},iw=()=>IS(Wh),kv=()=>aw(Wh),ny=d=>Xo(L2(d),rl(d)).filter(Ub),lw=d=>ew(L2(d),rl(d)).filter(Ub),E_=(d,h)=>{const C=rl(d),T=()=>ny(d).each(cn=>{_u(cn,C).filter(G(C)).each(Fo=>{const us=An.fromText("");if(sc(Fo,us),dl(Fo),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const eo=d.dom.createRng();eo.setStart(us.dom,0),eo.setEnd(us.dom,0),d.selection.setRng(eo),d.nodeChanged()}})}),M=cn=>ny(d).each(Fo=>{zb(d)||Dp(d)||Hh(d)||_u(Fo,C).each(eo=>{cn==="relative"&&!he(eo)?V1(eo):cn==="fixed"&&!tt(eo)?MC(eo):cn==="responsive"&&!mt(eo)&&Rh(eo),em(eo),Lm(d,eo.dom,El)})}),V=cn=>_u(cn,C),te=cn=>lw(d).bind(Fo=>V(Fo).map(us=>cn(us,Fo))),ue=(cn,Fo)=>{te(us=>{d.formatter.toggle("tableclass",{value:Fo},us.dom),Lm(d,us.dom,nw)})},xe=(cn,Fo)=>{te(us=>{const eo=of(d),kr=Cn(eo,os=>d.formatter.match("tablecellclass",{value:Fo},os.dom))?d.formatter.remove:d.formatter.apply;se(eo,os=>kr("tablecellclass",{value:Fo},os.dom)),Lm(d,us.dom,nw)})},We=()=>{ny(d).each(cn=>{_u(cn,C).each(Fo=>{pa(Fo,"caption").fold(()=>{const us=An.fromTag("caption");or(us,An.fromText("Caption")),ah(Fo,us,0),d.selection.setCursorLocation(us.dom,0)},us=>{Tc("caption")(cn)&&$l("td",Fo).each(eo=>d.selection.setCursorLocation(eo.dom,0)),dl(us)}),Lm(d,Fo.dom,El)})})},gt=cn=>{d.focus()},ln=(cn,Fo=!1)=>te((us,eo)=>{const Tr=Q2(of(d),us,eo);cn(us,Tr,Fo).each(gt)}),zn=()=>te((cn,Fo)=>{const us=Q2(of(d),cn,Fo),eo=Mh(re,An.fromDom(d.getDoc()),ce.none());return rd(cn,us,eo)}),$n=()=>te((cn,Fo)=>{const us=Q2(of(d),cn,Fo);return Ef(cn,us)}),co=(cn,Fo)=>Fo().each(us=>{const eo=yt(us,Tr=>Si(Tr));te((Tr,kr)=>{const os=BC(An.fromDom(d.getDoc())),zi=eT(of(d),kr,eo,os);cn(Tr,zi).each(gt)})}),Ut=cn=>(Fo,us)=>ts(us,"type").each(eo=>{ln(cn(eo),us.no_events)});wt({mceTableSplitCells:()=>ln(h.unmergeCells),mceTableMergeCells:()=>ln(h.mergeCells),mceTableInsertRowBefore:()=>ln(h.insertRowsBefore),mceTableInsertRowAfter:()=>ln(h.insertRowsAfter),mceTableInsertColBefore:()=>ln(h.insertColumnsBefore),mceTableInsertColAfter:()=>ln(h.insertColumnsAfter),mceTableDeleteCol:()=>ln(h.deleteColumn),mceTableDeleteRow:()=>ln(h.deleteRow),mceTableCutCol:()=>$n().each(cn=>{$S(cn),ln(h.deleteColumn)}),mceTableCutRow:()=>zn().each(cn=>{Hm(cn),ln(h.deleteRow)}),mceTableCopyCol:()=>$n().each(cn=>$S(cn)),mceTableCopyRow:()=>zn().each(cn=>Hm(cn)),mceTablePasteColBefore:()=>co(h.pasteColsBefore,iw),mceTablePasteColAfter:()=>co(h.pasteColsAfter,iw),mceTablePasteRowBefore:()=>co(h.pasteRowsBefore,oT),mceTablePasteRowAfter:()=>co(h.pasteRowsAfter,oT),mceTableDelete:T,mceTableCellToggleClass:xe,mceTableToggleClass:ue,mceTableToggleCaption:We,mceTableSizingMode:(cn,Fo)=>M(Fo),mceTableCellType:Ut(cn=>cn==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:Ut(cn=>cn==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:Ut(cn=>{switch(cn){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(cn,Fo)=>d.addCommand(Fo,cn)),d.addCommand("mceInsertTable",(cn,Fo)=>{ey(d,Fo.rows,Fo.columns,Fo.options)}),d.addCommand("mceTableApplyCellStyle",(cn,Fo)=>{const us=kr=>"tablecell"+kr.toLowerCase().replace("-","");if(!H(Fo))return;const eo=Qe(of(d),Ub);if(eo.length===0)return;const Tr=mo(Fo,(kr,os)=>d.formatter.has(us(os))&&I(kr));Ys(Tr)||(wt(Tr,(kr,os)=>{const zi=us(os);se(eo,Of=>{kr===""?d.formatter.remove(zi,{value:null},Of.dom,!0):d.formatter.apply(zi,{value:kr},Of.dom)})}),V(eo[0]).each(kr=>Lm(d,kr.dom,nw)))})},sT=(d,h)=>{const C=rl(d),T=M=>ew(L2(d)).bind(V=>_u(V,C).map(te=>{const ue=Q2(of(d),te,V);return M(te,ue)})).getOr("");wt({mceTableRowType:()=>T(h.getTableRowType),mceTableCellType:()=>T(h.getTableCellType),mceTableColType:()=>T(h.getTableColType)},(M,V)=>d.addQueryValueHandler(V,M))},cw=d=>!_i(An.fromDom(d.target),"ephox-snooker-resizer-bar"),A_=(d,h)=>{const C=J4(()=>An.fromDom(d.getBody()),()=>ew(L2(d),rl(d)),n0.selectedSelector),T=(xe,We,gt)=>{_u(We).each(zn=>{const $n=yt(xe,us=>us.dom),co=SA(d),Ut=Mh(re,An.fromDom(d.getDoc()),co),cn=of(d),Fo=nv(zn,{selection:cn},Ut).map(us=>kt(us,eo=>yt(eo,Tr=>Tr.dom))).getOrUndefined();Tv(d,$n,We.dom,gt.dom,Fo)})},M=()=>C_(d),V=QA.byAttr(n0,T,M);return d.on("init",xe=>{const We=d.getWin(),gt=$2(d),ln=rl(d),zn=()=>{const Vr=d.selection,$u=An.fromDom(Vr.getStart()),ii=An.fromDom(Vr.getEnd());Xr(_u,[$u,ii]).fold(()=>V.clear(gt),re)},$n=GA(We,gt,ln,V),co=_S(We,gt,ln,V),Ut=YA(We,gt,ln,V),cn=Vr=>Vr.raw.shiftKey===!0;d.on("TableSelectorChange",Vr=>Ut(Vr.start,Vr.finish));const Fo=(Vr,$u)=>{cn(Vr)&&($u.kill&&Vr.kill(),$u.selection.each(ii=>{const Um=B.relative(ii.start,ii.finish),gu=yn(We,Um);d.selection.setRng(gu)}))},us=Vr=>{const $u=ei(Vr);if($u.raw.shiftKey&&Pg($u.raw.which)){const ii=d.selection.getRng(),Um=An.fromDom(ii.startContainer),gu=An.fromDom(ii.endContainer);co.keyup($u,Um,ii.startOffset,gu,ii.endOffset).each(rf=>{Fo($u,rf)})}},eo=Vr=>{const $u=ei(Vr);h.hide();const ii=d.selection.getRng(),Um=An.fromDom(ii.startContainer),gu=An.fromDom(ii.endContainer),rf=Sd(Rg,qA)(An.fromDom(d.selection.getStart()));co.keydown($u,Um,ii.startOffset,gu,ii.endOffset,rf).each(gc=>{Fo($u,gc)}),h.show()},Tr=Vr=>Vr.button===0,kr=Vr=>Vr.buttons===void 0?!0:(Vr.buttons&1)!==0,os=Vr=>{$n.clearstate()},zi=Vr=>{Tr(Vr)&&cw(Vr)&&$n.mousedown(ei(Vr))},Of=Vr=>{kr(Vr)&&cw(Vr)&&$n.mouseover(ei(Vr))},Fg=Vr=>{Tr(Vr)&&cw(Vr)&&$n.mouseup(ei(Vr))},s0=(()=>{const Vr=bt(An.fromDom(gt)),$u=bt(0);return{touchEnd:Um=>{const gu=An.fromDom(Um.target);if(Tc("td")(gu)||Tc("th")(gu)){const rf=Vr.get(),gc=$u.get();rr(rf,gu)&&Um.timeStamp-gc<300&&(Um.preventDefault(),Ut(gu,gu))}Vr.set(gu),$u.set(Um.timeStamp)}}})();d.on("dragstart",os),d.on("mousedown",zi),d.on("mouseover",Of),d.on("mouseup",Fg),d.on("touchend",s0.touchEnd),d.on("keyup",us),d.on("keydown",eo),d.on("NodeChange",zn)}),d.on("PreInit",()=>{d.serializer.addTempAttr(n0.firstSelected),d.serializer.addTempAttr(n0.lastSelected)}),{getSelectedCells:()=>pS(C.get(),J([]),xe=>yt(xe,We=>We.dom),xe=>[xe.dom]),clearSelectedCells:xe=>V.clear(An.fromDom(xe))}},LS=(d,h)=>{const C=An.fromDom(d.getBody());return ov.body(C,h)},zm=d=>Me(d)&&d.nodeName==="TABLE",HS="bar-",T_=d=>rc(d,"data-mce-resize")!=="false",rT=d=>{const h=bs.fromTable(d);bs.hasColumns(h)||se(Uf(d),C=>{const T=qd(C,"width");Ai(C,"width",T),cr(C,"width")})},aT=d=>hn(d,"corner-"),iT=d=>ze(d,"corner-"),k_=d=>{const h=ta(),C=ta(),T=ta();let M,V,te,ue;const xe=eo=>NS(d,eo),We=()=>B2(d)?fb():hg(),gt=eo=>Ab(eo).columns,ln=eo=>Ab(eo).rows,zn=(eo,Tr,kr,os)=>{const zi=iT(Tr),Of=Po(zi,"e"),Fg=hn(zi,"n");if(V===""&&V1(eo),ue===""&&Nd(eo),kr!==M&&V!==""){Ai(eo,"width",V);const jh=We(),s0=xe(eo),Vr=B2(d)||Of?gt(eo)-1:0;Ah(eo,kr-M,Vr,jh,s0)}else if(DA(V)){const jh=parseFloat(V.replace("%","")),s0=kr*jh/M;Ai(eo,"width",s0+"%")}if(PA(V)&&rT(eo),os!==te&&ue!==""){Ai(eo,"height",ue);const jh=Fg?0:ln(eo)-1;Y0(eo,os-te,jh)}},$n=()=>{C.on(eo=>{eo.destroy()})};d.on("init",()=>{const eo=LS(d,T_);if(T.set(eo),M2(d)&&xA(d)){const Tr=We(),kr=lS.create(eo,Tr,xe);d.mode.isReadOnly()||kr.on(),kr.events.startDrag.bind(os=>{h.set(d.selection.getRng())}),kr.events.beforeResize.bind(os=>{const zi=os.table.dom;o0(d,zi,kA(zi),_A(zi),HS+os.type)}),kr.events.afterResize.bind(os=>{const zi=os.table,Of=zi.dom;em(zi),h.on(Fg=>{d.selection.setRng(Fg),d.focus()}),Jb(d,Of,kA(Of),_A(Of),HS+os.type),d.undoManager.add()}),C.set(kr)}}),d.on("ObjectResizeStart",eo=>{const Tr=eo.target;if(zm(Tr)&&!d.mode.isReadOnly()){const kr=An.fromDom(Tr);se(d.dom.select(".mce-clonedresizable"),os=>{d.dom.addClass(os,"mce-"+Hb(d)+"-columns")}),!tt(kr)&&Dp(d)?MC(kr):!he(kr)&&Hh(d)&&V1(kr),mt(kr)&&hn(eo.origin,HS)&&V1(kr),M=eo.width,V=zb(d)?"":H2(d,Tr).getOr(""),te=eo.height,ue=dS(d,Tr).getOr("")}}),d.on("ObjectResized",eo=>{const Tr=eo.target;if(zm(Tr)){const kr=An.fromDom(Tr),os=eo.origin;aT(os)&&zn(kr,os,eo.width,eo.height),em(kr),Lm(d,kr.dom,nw)}});const co=()=>{C.on(eo=>{eo.on(),eo.showBars()})},Ut=()=>{C.on(eo=>{eo.off(),eo.hideBars()})};return d.on("DisabledStateChange",eo=>{eo.state?Ut():co()}),d.on("SwitchMode",()=>{d.mode.isReadOnly()?Ut():co()}),d.on("dragstart dragend",eo=>{eo.type==="dragstart"?Ut():co()}),d.on("remove",()=>{$n()}),{refresh:eo=>{C.on(Tr=>Tr.refreshBars(An.fromDom(eo)))},hide:()=>{C.on(eo=>eo.hideBars())},show:()=>{C.on(eo=>eo.showBars())}}},Ca=d=>{eM(d);const h=k_(d),C=A_(d,h),T=Uh(d,h,C);return E_(d,T),sT(d,T),FS(d,T),{getSelectedCells:C.getSelectedCells,clearSelectedCells:C.clearSelectedCells}},sf=d=>({table:Ca(d)});var _v=()=>{l.add("dom",sf)};_v()})()),Mre}var Bre;function rye(){return Bre||(Bre=1,sye()),Fre}rye();var Ire={},$re={},Lre;function aye(){return Lre||(Lre=1,(function(){const l=Object.getPrototypeOf,m=(n,s,a)=>a(n,s.prototype)?!0:n.constructor?.name===s.name,b=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&m(n,String,(a,c)=>c.isPrototypeOf(a))?"string":s},E=n=>s=>b(s)===n,D=n=>s=>typeof s===n,$=n=>s=>n===s,I=(n,s)=>K(n)&&m(n,s,(a,c)=>l(a)===c),H=E("string"),K=E("object"),X=n=>I(n,Object),ae=E("array"),le=$(null),me=D("boolean"),Me=$(void 0),de=n=>n==null,Se=n=>!de(n),re=D("function"),ot=D("number"),it=(n,s)=>{if(ae(n)){for(let a=0,c=n.length;a<c;++a)if(!s(n[a]))return!1;return!0}return!1},J=()=>{},dt=n=>()=>n(),Wt=(n,s)=>(...a)=>n(s.apply(null,a)),Ae=(n,s)=>a=>n(s(a)),G=n=>()=>n,Ze=n=>n,Ft=(n,s)=>n===s;function ct(n,...s){return(...a)=>{const c=s.concat(a);return n.apply(null,c)}}const Ce=n=>s=>!n(s),ce=n=>()=>{throw new Error(n)},Pt=n=>n(),je=G(!1),lt=G(!0);class F{tag;value;static singletonNone=new F(!1);constructor(s,a){this.tag=s,this.value=a}static some(s){return new F(!0,s)}static none(){return F.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?F.some(s(this.value)):F.none()}bind(s){return this.tag?s(this.value):F.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:F.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Se(s)?F.some(s):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const dn=Array.prototype.slice,Te=Array.prototype.indexOf,rn=Array.prototype.push,yt=(n,s)=>Te.call(n,s),se=(n,s)=>{const a=yt(n,s);return a===-1?F.none():F.some(a)},$e=(n,s)=>yt(n,s)>-1,Mt=(n,s)=>{for(let a=0,c=n.length;a<c;a++){const g=n[a];if(s(g,a))return!0}return!1},Qe=(n,s)=>{const a=[];for(let c=0;c<n;c++)a.push(s(c));return a},Ct=(n,s)=>{const a=[];for(let c=0;c<n.length;c+=s){const g=dn.call(n,c,c+s);a.push(g)}return a},He=(n,s)=>{const a=n.length,c=new Array(a);for(let g=0;g<a;g++){const y=n[g];c[g]=s(y,g)}return c},ut=(n,s)=>{for(let a=0,c=n.length;a<c;a++){const g=n[a];s(g,a)}},W=(n,s)=>{for(let a=n.length-1;a>=0;a--){const c=n[a];s(c,a)}},Wn=(n,s)=>{const a=[],c=[];for(let g=0,y=n.length;g<y;g++){const w=n[g];(s(w,g)?a:c).push(w)}return{pass:a,fail:c}},Yt=(n,s)=>{const a=[];for(let c=0,g=n.length;c<g;c++){const y=n[c];s(y,c)&&a.push(y)}return a},jn=(n,s,a)=>(W(n,(c,g)=>{a=s(a,c,g)}),a),Cn=(n,s,a)=>(ut(n,(c,g)=>{a=s(a,c,g)}),a),No=(n,s,a)=>{for(let c=0,g=n.length;c<g;c++){const y=n[c];if(s(y,c))return F.some(y);if(a(y,c))break}return F.none()},Re=(n,s)=>No(n,s,je),Ve=(n,s)=>{for(let a=0,c=n.length;a<c;a++){const g=n[a];if(s(g,a))return F.some(a)}return F.none()},qe=n=>{const s=[];for(let a=0,c=n.length;a<c;++a){if(!ae(n[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+n);rn.apply(s,n[a])}return s},De=(n,s)=>qe(He(n,s)),Ye=(n,s)=>{for(let a=0,c=n.length;a<c;++a){const g=n[a];if(s(g,a)!==!0)return!1}return!0},Tt=n=>{const s=dn.call(n,0);return s.reverse(),s},at=(n,s)=>Yt(n,a=>!$e(s,a)),En=(n,s)=>{const a={};for(let c=0,g=n.length;c<g;c++){const y=n[c];a[String(y)]=s(y,c)}return a},wt=n=>[n],kt=(n,s)=>{const a=dn.call(n,0);return a.sort(s),a},an=(n,s)=>s>=0&&s<n.length?F.some(n[s]):F.none(),vn=n=>an(n,0),Fn=n=>an(n,n.length-1),mo=re(Array.from)?Array.from:n=>dn.call(n),es=(n,s)=>{for(let a=0;a<n.length;a++){const c=s(n[a],a);if(c.isSome())return c}return F.none()},vo=Object.keys,ts=Object.hasOwnProperty,Bo=(n,s)=>{const a=vo(n);for(let c=0,g=a.length;c<g;c++){const y=a[c],w=n[y];s(w,y)}},ds=(n,s)=>Ys(n,(a,c)=>({k:c,v:s(a,c)})),Ys=(n,s)=>{const a={};return Bo(n,(c,g)=>{const y=s(c,g);a[y.k]=y.v}),a},Xs=n=>(s,a)=>{n[a]=s},lr=(n,s,a,c)=>{Bo(n,(g,y)=>{(s(g,y)?a:c)(g,y)})},bt=(n,s)=>{const a={},c={};return lr(n,s,Xs(a),Xs(c)),{t:a,f:c}},Bt=(n,s)=>{const a={};return lr(n,s,Xs(a),J),a},po=(n,s)=>{const a=[];return Bo(n,(c,g)=>{a.push(s(c,g))}),a},rs=(n,s)=>{const a=vo(n);for(let c=0,g=a.length;c<g;c++){const y=a[c],w=n[y];if(s(w,y,n))return F.some(w)}return F.none()},xs=n=>po(n,Ze),sn=(n,s)=>Ho(n,s)?F.from(n[s]):F.none(),Ho=(n,s)=>ts.call(n,s),Io=(n,s)=>Ho(n,s)&&n[s]!==void 0&&n[s]!==null,Hr={generate:n=>{if(!ae(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],a={};return ut(n,(c,g)=>{const y=vo(c);if(y.length!==1)throw new Error("one and only one name per case");const w=y[0],k=c[w];if(a[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ae(k))throw new Error("case arguments must be an array");s.push(w),a[w]=(...O)=>{const N=O.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+N);return{fold:(...Z)=>{if(Z.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+Z.length);return Z[g].apply(null,O)},match:Z=>{const oe=vo(Z);if(s.length!==oe.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+oe.join(","));if(!Ye(s,ye=>$e(oe,ye)))throw new Error("Not all branches were specified when using match. Specified: "+oe.join(", ")+`
Required: `+s.join(", "));return Z[w].apply(null,O)},log:Z=>{console.log(Z,{constructors:s,constructor:w,params:O})}}}}),a}},Mn=n=>{let s=n;return{get:()=>s,set:g=>{s=g}}},qt=n=>{let s=F.none(),a=[];const c=N=>qt(z=>{g(Z=>{z(N(Z))})}),g=N=>{w()?O(N):a.push(N)},y=N=>{w()||(s=F.some(N),k(a),a=[])},w=()=>s.isSome(),k=N=>{ut(N,O)},O=N=>{s.each(z=>{setTimeout(()=>{N(z)},0)})};return n(y),{get:g,map:c,isReady:w}},to={nu:qt,pure:n=>qt(s=>{s(n)})},qn=n=>{setTimeout(()=>{throw n},0)},Co=n=>{const s=O=>{n().then(O,qn)};return{map:O=>Co(()=>n().then(O)),bind:O=>Co(()=>n().then(N=>O(N).toPromise())),anonBind:O=>Co(()=>n().then(()=>O.toPromise())),toLazy:()=>to.nu(s),toCached:()=>{let O=null;return Co(()=>(O===null&&(O=n()),O))},toPromise:n,get:s}},as={nu:n=>Co(()=>new Promise(n)),pure:n=>Co(()=>Promise.resolve(n))},qr=n=>{const s=y=>y(n),a=G(n),c=()=>g,g={tag:!0,inner:n,fold:(y,w)=>w(n),isValue:lt,isError:je,map:y=>Kn.value(y(n)),mapError:c,bind:s,exists:s,forall:s,getOr:a,or:c,getOrThunk:a,orThunk:c,getOrDie:a,each:y=>{y(n)},toOptional:()=>F.some(n)};return g},Ha=n=>{const s=()=>a,a={tag:!1,inner:n,fold:(c,g)=>c(n),isValue:je,isError:lt,map:s,mapError:c=>Kn.error(c(n)),bind:s,exists:je,forall:lt,getOr:Ze,or:Ze,getOrThunk:Pt,orThunk:Pt,getOrDie:ce(String(n)),each:J,toOptional:F.none};return a},Kn={value:qr,error:Ha,fromOption:(n,s)=>n.fold(()=>Ha(s),qr)},ua=n=>({...n,toCached:()=>ua(n.toCached()),bindFuture:O=>ua(n.bind(N=>N.fold(z=>as.pure(Kn.error(z)),z=>O(z)))),bindResult:O=>ua(n.map(N=>N.bind(O))),mapResult:O=>ua(n.map(N=>N.map(O))),mapError:O=>ua(n.map(N=>N.mapError(O))),foldResult:(O,N)=>n.map(z=>z.fold(O,N)),withTimeout:(O,N)=>ua(as.nu(z=>{let Z=!1;const oe=setTimeout(()=>{Z=!0,z(Kn.error(N()))},O);n.get(fe=>{Z||(clearTimeout(oe),z(fe))})}))}),ta=n=>ua(as.nu(n)),hi=n=>ua(as.pure(Kn.value(n))),Po={nu:ta,wrap:ua,pure:hi,value:hi,error:n=>ua(as.pure(Kn.error(n))),fromResult:n=>ua(as.pure(n)),fromFuture:n=>ua(n.map(Kn.value)),fromPromise:n=>ta(s=>{n.then(a=>{s(Kn.value(a))},a=>{s(Kn.error(a))})})},go=typeof window<"u"?window:Function("return this;")(),is=(n,s,a,c)=>{const g=n+s;return g>c?a:g<a?c:g},Ms=(n,s,a)=>Math.min(Math.max(n,s),a),$o=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let hs=0;const pe=n=>{const a=new Date().getTime(),c=Math.floor($o()*1e9);return hs++,n+"_"+c+hs+String(a)},Ue=(n,s)=>s,Gt=(n,s)=>X(n)&&X(s)?tn(n,s):s,On=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let c=0;c<s.length;c++){const g=s[c];for(const y in g)Ho(g,y)&&(a[y]=n(a[y],g[y]))}return a},tn=On(Gt),Oo=On(Ue),ro=(n,s,a=Ft)=>n.exists(c=>a(c,s)),Dn=(n,s,a=Ft)=>$s(n,s,a).getOr(n.isNone()&&s.isNone()),Jo=n=>{const s=[],a=c=>{s.push(c)};for(let c=0;c<n.length;c++)n[c].each(a);return s},ms=n=>{const s=[];for(let a=0;a<n.length;a++){const c=n[a];if(c.isSome())s.push(c.getOrDie());else return F.none()}return F.some(s)},$s=(n,s,a)=>n.isSome()&&s.isSome()?F.some(a(n.getOrDie(),s.getOrDie())):F.none(),nr=(n,s,a,c)=>n.isSome()&&s.isSome()&&a.isSome()?F.some(c(n.getOrDie(),s.getOrDie(),a.getOrDie())):F.none(),ji=(n,s)=>n!=null?F.some(s(n)):F.none(),sa=(n,s)=>n?F.some(s):F.none(),Uu=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),br=(n,s)=>{let a=s??go;for(let c=0;c<n.length&&a!==void 0&&a!==null;++c)a=a[n[c]];return a},Ls=(n,s)=>{const a=n.split(".");return br(a,s)};Hr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Sr=n=>{const s=[],a=[];return ut(n,c=>{c.fold(g=>{s.push(g)},g=>{a.push(g)})}),{errors:s,values:a}},Mi=n=>{const s=Mn(F.none()),a=()=>s.get().each(n);return{clear:()=>{a(),s.set(F.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:k=>{a(),s.set(F.some(k))}}},Sc=()=>Mi(n=>n.destroy()),Gr=()=>Mi(n=>n.unbind()),Do=()=>{const n=Mi(J);return{...n,on:a=>n.get().each(a)}},Ya=(n,s)=>n+s,Ni=(n,s)=>n.substring(s),Kr=(n,s,a)=>s===""||n.length>=s.length&&n.substr(a,a+s.length)===s,Pr=(n,s)=>xc(n,s)?Ni(n,s.length):n,yu=(n,s)=>Il(n,s)?n:Ya(n,s),Fr=(n,s,a=0,c)=>{const g=n.indexOf(s,a);return g!==-1?Me(c)?!0:g+s.length<=c:!1},xc=(n,s)=>Kr(n,s,0),Il=(n,s)=>Kr(n,s,n.length-s.length),An=(n=>s=>s.replace(n,""))(/^\s+|\s+$/g),Yl=n=>n.length>0,vi=n=>!Yl(n),ci=n=>{const s=parseFloat(n);return isNaN(s)?F.none():F.some(s)},xr=(n,s)=>{let a=null,c=null;return{cancel:()=>{le(a)||(clearTimeout(a),a=null,c=null)},throttle:(...w)=>{c=w,le(a)&&(a=setTimeout(()=>{const k=c;a=null,c=null,n.apply(null,k)},s))}}},Xl=(n,s)=>{let a=null;return{cancel:()=>{le(a)||(clearTimeout(a),a=null)},throttle:(...y)=>{le(a)&&(a=setTimeout(()=>{a=null,n.apply(null,y)},s))}}},bi=(n,s)=>{let a=null;const c=()=>{le(a)||(clearTimeout(a),a=null)};return{cancel:c,throttle:(...y)=>{c(),a=setTimeout(()=>{a=null,n.apply(null,y)},s)}}},il=n=>{let s=!1,a;return(...c)=>(s||(s=!0,a=n.apply(null,c)),a)},Ql="\uFEFF",gm="",Jc=(n,s)=>{const c=(s||document).createElement("div");if(c.innerHTML=n,!c.hasChildNodes()||c.childNodes.length>1){const g="HTML does not have a single root node";throw console.error(g,n),new Error(g)}return eu(c.childNodes[0])},pd=(n,s)=>{const c=(s||document).createElement(n);return eu(c)},gd=(n,s)=>{const c=(s||document).createTextNode(n);return eu(c)},eu=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},yn={fromHtml:Jc,fromTag:pd,fromText:gd,fromDom:eu,fromPoint:(n,s,a)=>F.from(n.dom.elementFromPoint(s,a)).map(eu)},Vu=(n,s)=>{s.fold(a=>{n.setStartBefore(a.dom)},(a,c)=>{n.setStart(a.dom,c)},a=>{n.setStartAfter(a.dom)})},wu=(n,s)=>{s.fold(a=>{n.setEndBefore(a.dom)},(a,c)=>{n.setEnd(a.dom,c)},a=>{n.setEndAfter(a.dom)})},Zi=(n,s,a)=>{const c=n.document.createRange();return Vu(c,s),wu(c,a),c},yi=(n,s,a,c,g)=>{const y=n.document.createRange();return y.setStart(s.dom,a),y.setEnd(c.dom,g),y},Cu=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),qi=n=>{const s=n.getClientRects(),a=s.length>0?s[0]:n.getBoundingClientRect();return a.width>0||a.height>0?F.some(a).map(Cu):F.none()},nu=n=>{const s=n.getBoundingClientRect();return s.width>0||s.height>0?F.some(s).map(Cu):F.none()},Ec=Hr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$l=(n,s,a)=>s(yn.fromDom(a.startContainer),a.startOffset,yn.fromDom(a.endContainer),a.endOffset),rr=(n,s)=>s.match({domRange:a=>({ltr:G(a),rtl:F.none}),relative:(a,c)=>({ltr:il(()=>Zi(n,a,c)),rtl:il(()=>F.some(Zi(n,c,a)))}),exact:(a,c,g,y)=>({ltr:il(()=>yi(n,a,c,g,y)),rtl:il(()=>F.some(yi(n,g,y,a,c)))})}),hd=(n,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(g=>g.collapsed===!1).map(g=>Ec.rtl(yn.fromDom(g.endContainer),g.endOffset,yn.fromDom(g.startContainer),g.startOffset)).getOrThunk(()=>$l(n,Ec.ltr,a)):$l(n,Ec.ltr,a)},Q=(n,s)=>{const a=rr(n,s);return hd(n,a)},be=(n,s)=>Q(n,s).match({ltr:(c,g,y,w)=>{const k=n.document.createRange();return k.setStart(c.dom,g),k.setEnd(y.dom,w),k},rtl:(c,g,y,w)=>{const k=n.document.createRange();return k.setStart(y.dom,w),k.setEnd(c.dom,g),k}});Ec.ltr,Ec.rtl;const Ie=9,Nt=11,Qn=1,Cs=3,ar=(n,s)=>{const a=n.dom;if(a.nodeType!==Qn)return!1;{const c=a;if(c.matches!==void 0)return c.matches(s);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(s);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(s);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},yr=n=>n.nodeType!==Qn&&n.nodeType!==Ie&&n.nodeType!==Nt||n.childElementCount===0,za=(n,s)=>{const a=s===void 0?document:s.dom;return yr(a)?[]:He(a.querySelectorAll(n),yn.fromDom)},Gi=(n,s)=>{const a=s===void 0?document:s.dom;return yr(a)?F.none():F.from(a.querySelector(n)).map(yn.fromDom)},ee=(n,s)=>n.dom===s.dom,_e=(n,s)=>{const a=n.dom,c=s.dom;return a===c?!1:a.contains(c)},Je=(n,s,a,c)=>{const g=n.isiOS()&&/ipad/i.test(a)===!0,y=n.isiOS()&&!g,w=n.isiOS()||n.isAndroid(),k=w||c("(pointer:coarse)"),O=g||!y&&w&&c("(min-device-width:768px)"),N=y||w&&!O,z=s.isSafari()&&n.isiOS()&&/safari/i.test(a)===!1,Z=!N&&!O&&!z;return{isiPad:G(g),isiPhone:G(y),isTablet:G(O),isPhone:G(N),isTouch:G(k),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:G(z),isDesktop:G(Z)}},Et=(n,s)=>{for(let a=0;a<n.length;a++){const c=n[a];if(c.test(s))return c}},wn=(n,s)=>{const a=Et(n,s);if(!a)return{major:0,minor:0};const c=g=>Number(s.replace(a,"$"+g));return Qs(c(1),c(2))},Xn=(n,s)=>{const a=String(s).toLowerCase();return n.length===0?Vo():wn(n,a)},Vo=()=>Qs(0,0),Qs=(n,s)=>({major:n,minor:s}),Bs={nu:Qs,detect:Xn,unknown:Vo},Ki=(n,s)=>es(s.brands,a=>{const c=a.brand.toLowerCase();return Re(n,g=>c===g.brand?.toLowerCase()).map(g=>({current:g.name,version:Bs.nu(parseInt(a.version,10),0)}))}),ra=(n,s)=>{const a=String(s).toLowerCase();return Re(n,c=>c.search(a))},vd=(n,s)=>ra(n,s).map(a=>{const c=Bs.detect(a.versionRegexes,s);return{current:a.name,version:c}}),Bf=(n,s)=>ra(n,s).map(a=>{const c=Bs.detect(a.versionRegexes,s);return{current:a.name,version:c}}),mf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ac=n=>s=>Fr(s,n),th=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Fr(n,"edge/")&&Fr(n,"chrome")&&Fr(n,"safari")&&Fr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mf],search:n=>Fr(n,"chrome")&&!Fr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Fr(n,"msie")||Fr(n,"trident")},{name:"Opera",versionRegexes:[mf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ac("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ac("firefox")},{name:"Safari",versionRegexes:[mf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Fr(n,"safari")||Fr(n,"mobile/"))&&Fr(n,"applewebkit")}],ag=[{name:"Windows",search:Ac("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Fr(n,"iphone")||Fr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ac("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ac("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ac("linux"),versionRegexes:[]},{name:"Solaris",search:Ac("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ac("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ac("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ve={browsers:G(th),oses:G(ag)},Ne="Edge",pt="Chromium",Qt="IE",xo="Opera",Es="Firefox",Pa="Safari",Ll=()=>wi({current:void 0,version:Bs.unknown()}),wi=n=>{const s=n.current,a=n.version,c=g=>()=>s===g;return{current:s,version:a,isEdge:c(Ne),isChromium:c(pt),isIE:c(Qt),isOpera:c(xo),isFirefox:c(Es),isSafari:c(Pa)}},Hl={unknown:Ll,nu:wi},Wd="Windows",zl="iOS",hm="Android",Ul="Linux",Jl="macOS",bd="Solaris",kl="FreeBSD",ps="ChromeOS",sp=()=>ig({current:void 0,version:Bs.unknown()}),ig=n=>{const s=n.current,a=n.version,c=g=>()=>s===g;return{current:s,version:a,isWindows:c(Wd),isiOS:c(zl),isAndroid:c(hm),isMacOS:c(Jl),isLinux:c(Ul),isSolaris:c(bd),isFreeBSD:c(kl),isChromeOS:c(ps)}},Ua={unknown:sp,nu:ig},nh={detect:(n,s,a)=>{const c=ve.browsers(),g=ve.oses(),y=s.bind(O=>Ki(c,O)).orThunk(()=>vd(c,n)).fold(Hl.unknown,Hl.nu),w=Bf(g,n).fold(Ua.unknown,Ua.nu),k=Je(w,y,n,a);return{browser:y,os:w,deviceType:k}}},ub=n=>window.matchMedia(n).matches;let vm=il(()=>nh.detect(window.navigator.userAgent,F.from(window.navigator.userAgentData),ub));const Va=()=>vm(),bm=(n,s)=>Ls(n,s),db=(n,s)=>{const a=bm(n,s);if(a==null)throw new Error(n+" not available on this browser");return a},pn=Object.getPrototypeOf,Tc=n=>db("HTMLElement",n),pf=n=>{const s=Ls("ownerDocument.defaultView",n);return K(n)&&(Tc(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(pn(n).constructor.name))},ec=n=>n.dom.nodeName.toLowerCase(),rp=n=>n.dom.nodeType,ap=n=>s=>rp(s)===n,Pe=n=>tc(n)&&pf(n.dom),tc=ap(Qn),jd=ap(Cs),lg=ap(Ie),ym=ap(Nt),bl=n=>s=>tc(s)&&ec(s)===n,nc=n=>yn.fromDom(n.dom.ownerDocument),v1=n=>lg(n)?n:nc(n),b1=n=>yn.fromDom(v1(n).dom.documentElement),cg=n=>yn.fromDom(v1(n).dom.defaultView),kc=n=>F.from(n.dom.parentNode).map(yn.fromDom),y1=n=>kc(n),ll=n=>F.from(n.dom.parentElement).map(yn.fromDom),gf=(n,s)=>{const a=re(s)?s:je;let c=n.dom;const g=[];for(;c.parentNode!==null&&c.parentNode!==void 0;){const y=c.parentNode,w=yn.fromDom(y);if(g.push(w),a(w)===!0)break;c=y}return g},oh=n=>F.from(n.dom.offsetParent).map(yn.fromDom),_c=n=>F.from(n.dom.previousSibling).map(yn.fromDom),sh=n=>F.from(n.dom.nextSibling).map(yn.fromDom),Wu=n=>He(n.dom.childNodes,yn.fromDom),Zd=(n,s)=>{const a=n.dom.childNodes;return F.from(a[s]).map(yn.fromDom)},_s=n=>Zd(n,0),oc=(n,s)=>({element:n,offset:s}),yd=(n,s)=>{const a=Wu(n);return a.length>0&&s<a.length?oc(a[s],0):oc(n,s)},rh=(n,s,a,c)=>{const y=nc(n).dom.createRange();return y.setStart(n.dom,s),y.setEnd(a.dom,c),y},cs=(n,s,a,c)=>{const g=rh(n,s,a,c),y=ee(n,a)&&s===c;return g.collapsed&&!y},wd=n=>ym(n)&&Se(n.dom.host),ei=n=>yn.fromDom(n.dom.getRootNode()),ou=n=>wd(n)?n:yn.fromDom(v1(n).dom.body),sc=n=>da(n).isSome(),da=n=>{const s=ei(n);return wd(s)?F.some(s):F.none()},or=n=>yn.fromDom(n.dom.host),ah=n=>{if(Se(n.target)){const s=yn.fromDom(n.target);if(tc(s)&&I0(s)&&n.composed&&n.composedPath){const a=n.composedPath();if(a)return vn(a)}}return F.from(n.target)},I0=n=>Se(n.dom.shadowRoot),ti=(n,s,a,c,g,y,w)=>({target:n,x:s,y:a,stop:c,prevent:g,kill:y,raw:w}),Su=n=>{const s=yn.fromDom(ah(n).getOr(n.target)),a=()=>n.stopPropagation(),c=()=>n.preventDefault(),g=Wt(c,a);return ti(s,n.clientX,n.clientY,a,c,g,n)},xu=(n,s)=>a=>{n(a)&&s(Su(a))},ni=(n,s,a,c,g)=>{const y=xu(a,c);return n.dom.addEventListener(s,y,g),{unbind:ct(rc,n,s,y,g)}},ju=(n,s,a,c)=>ni(n,s,a,c,!1),Ci=(n,s,a,c)=>ni(n,s,a,c,!0),rc=(n,s,a,c)=>{n.dom.removeEventListener(s,a,c)},cl=lt,cr=(n,s,a)=>ju(n,s,cl,a),Eu=(n,s,a)=>Ci(n,s,cl,a),ul=Su,dl=()=>yn.fromDom(document),Bi=(n,s=!1)=>n.dom.focus({preventScroll:s}),fa=n=>n.dom.blur(),Mr=n=>{const s=ei(n).dom;return n.dom===s.activeElement},Si=(n=dl())=>F.from(n.dom.activeElement).map(yn.fromDom),Ra=n=>Si(ei(n)).filter(s=>n.dom.contains(s.dom)),Zu=(n,s)=>{kc(n).each(c=>{c.dom.insertBefore(s.dom,n.dom)})},ih=(n,s)=>{sh(n).fold(()=>{kc(n).each(g=>{oi(g,s)})},c=>{Zu(c,s)})},ip=(n,s)=>{_s(n).fold(()=>{oi(n,s)},c=>{n.dom.insertBefore(s.dom,c.dom)})},oi=(n,s)=>{n.dom.appendChild(s.dom)},lp=(n,s,a)=>{Zd(n,a).fold(()=>{oi(n,s)},c=>{Zu(c,s)})},wm=(n,s)=>{ut(s,a=>{oi(n,a)})},If=(n,s,a)=>{if(H(a)||me(a)||ot(a))n.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",n),new Error("Attribute value was not simple")},Ao=(n,s,a)=>{If(n.dom,s,a)},w1=(n,s)=>{const a=n.dom;Bo(s,(c,g)=>{If(a,g,c)})},xi=(n,s)=>{const a=n.dom.getAttribute(s);return a===null?void 0:a},Ei=(n,s)=>F.from(xi(n,s)),Ai=(n,s)=>{const a=n.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},zr=(n,s)=>{n.dom.removeAttribute(s)},qd=n=>Cn(n.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),cp=n=>{n.dom.textContent="",ut(Wu(n),s=>{Oc(s)})},Oc=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Cd=(n,s)=>yn.fromDom(n.dom.cloneNode(s)),up=n=>Cd(n,!1),lh=n=>Cd(n,!0),ug=(n,s)=>{const c=(s||document).createElement("div");return c.innerHTML=n,Wu(yn.fromDom(c))},qu=n=>n.dom.innerHTML,yl=(n,s)=>{const c=nc(n).dom,g=yn.fromDom(c.createDocumentFragment()),y=ug(s,c);wm(g,y),cp(n),oi(n,g)},ch=n=>{const s=yn.fromTag("div"),a=yn.fromDom(n.dom.cloneNode(!0));return oi(s,a),qu(s)},ui=n=>{if(wd(n))return"#shadow-root";{const s=up(n);return ch(s)}},Ii=n=>new Promise((s,a)=>{const c=()=>{y(),s(n)},g=[cr(n,"load",c),cr(n,"error",()=>{y(),a("Unable to load data from image: "+n.dom.src)})],y=()=>ut(g,w=>w.unbind());n.dom.complete&&c()}),su=n=>n.style!==void 0&&re(n.style.getPropertyValue),As=n=>{const s=jd(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return da(yn.fromDom(s)).fold(()=>a.body.contains(s),Ae(As,or))},ac=()=>$0(yn.fromDom(document)),$0=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return yn.fromDom(s)},dg=(n,s,a)=>{if(!H(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",n),new Error("CSS value must be a string: "+a);su(n)&&n.style.setProperty(s,a)},wl=(n,s)=>{su(n)&&n.style.removeProperty(s)},To=(n,s,a)=>{const c=n.dom;dg(c,s,a)},Nr=(n,s)=>{const a=n.dom;Bo(s,(c,g)=>{dg(a,g,c)})},Ti=(n,s)=>{const a=n.dom;Bo(s,(c,g)=>{c.fold(()=>{wl(a,g)},y=>{dg(a,g,y)})})},Ur=(n,s)=>{const a=n.dom,g=window.getComputedStyle(a).getPropertyValue(s);return g===""&&!As(n)?_l(a,s):g},_l=(n,s)=>su(n)?n.style.getPropertyValue(s):"",Er=(n,s)=>{const a=n.dom,c=_l(a,s);return F.from(c).filter(g=>g.length>0)},Hs=n=>{const s={},a=n.dom;if(su(a))for(let c=0;c<a.style.length;c++){const g=a.style.item(c);s[g]=a.style[g]}return s},ma=(n,s,a)=>{const c=yn.fromTag(n);return To(c,s,a),Er(c,s).isSome()},fs=(n,s)=>{const a=n.dom;wl(a,s),ro(Ei(n,"style").map(An),"")&&zr(n,"style")},Wa=n=>n.dom.offsetWidth,Is=(n,s)=>{const a=(k,O)=>{if(!ot(O)&&!O.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+O);const N=k.dom;su(N)&&(N.style[n]=O+"px")},c=k=>{const O=s(k);if(O<=0||O===null){const N=Ur(k,n);return parseFloat(N)||0}return O},g=c,y=(k,O)=>Cn(O,(N,z)=>{const Z=Ur(k,z),oe=Z===void 0?0:parseInt(Z,10);return isNaN(oe)?N:N+oe},0);return{set:a,get:c,getOuter:g,aggregate:y,max:(k,O,N)=>{const z=y(k,N);return O>z?O-z:0}}},Yi=Is("height",n=>{const s=n.dom;return As(n)?s.getBoundingClientRect().height:s.offsetHeight}),Ea=n=>Yi.get(n),Rr=n=>Yi.getOuter(n),Au=(n,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=Yi.max(n,s,a);To(n,"max-height",c+"px")},Cm=n=>n.offsetWidth<=0&&n.offsetHeight<=0,Gd=n=>!Cm(n.dom),Sd=Is("width",n=>{const s=n.dom;return As(n)?s.getBoundingClientRect().width:s.offsetWidth}),hf=(n,s)=>Sd.set(n,s),ja=n=>Sd.get(n),Gu=n=>Sd.getOuter(n),C1=(n,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=Sd.max(n,s,a);To(n,"max-width",c+"px")},vf=(n,s)=>({left:n,top:s,translate:(c,g)=>vf(n+c,s+g)}),mr=vf,Kd=n=>{const s=n.getBoundingClientRect();return mr(s.left,s.top)},xd=(n,s)=>n!==void 0?n:s!==void 0?s:0,ki=n=>{const s=n.dom.ownerDocument,a=s.body,c=s.defaultView,g=s.documentElement;if(a===n.dom)return mr(a.offsetLeft,a.offsetTop);const y=xd(c?.pageYOffset,g.scrollTop),w=xd(c?.pageXOffset,g.scrollLeft),k=xd(g.clientTop,a.clientTop),O=xd(g.clientLeft,a.clientLeft);return Ol(n).translate(w-O,y-k)},Ol=n=>{const s=n.dom,c=s.ownerDocument.body;return c===s?mr(c.offsetLeft,c.offsetTop):As(n)?Kd(s):mr(0,0)},pa=n=>{const s=n!==void 0?n.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,c=s.body.scrollTop||s.documentElement.scrollTop;return mr(a,c)},fl=(n,s,a)=>{const g=(a!==void 0?a.dom:document).defaultView;g&&g.scrollTo(n,s)},Ku=((n,s)=>{const a=y=>{if(!n(y))throw new Error("Can only get "+s+" value of a "+s+" node");return c(y).getOr("")},c=y=>n(y)?F.from(y.dom.nodeValue):F.none();return{get:a,getOption:c,set:(y,w)=>{if(!n(y))throw new Error("Can only set raw "+s+" value of a "+s+" node");y.dom.nodeValue=w}}})(jd,"text"),Yu=n=>Ku.get(n),Ed=(n,s)=>a=>dp(a)==="rtl"?s:n,dp=n=>Ur(n,"direction")==="rtl"?"rtl":"ltr",Xu=(n,s)=>{const a=xi(n,s);return a===void 0||a===""?[]:a.split(" ")},S1=(n,s,a)=>{const g=Xu(n,s).concat([a]);return Ao(n,s,g.join(" ")),!0},fg=(n,s,a)=>{const c=Yt(Xu(n,s),g=>g!==a);return c.length>0?Ao(n,s,c.join(" ")):zr(n,s),!1};var _i=(n,s,a,c,g)=>n(a,c)?F.some(a):re(g)&&g(a)?F.none():s(a,c,g);const ru=(n,s,a)=>{let c=n.dom;const g=re(a)?a:je;for(;c.parentNode;){c=c.parentNode;const y=yn.fromDom(c);if(s(y))return F.some(y);if(g(y))break}return F.none()},Aa=(n,s,a)=>_i((g,y)=>y(g),ru,n,s,a),Dc=(n,s)=>{const a=n.dom;return a.parentNode?fp(yn.fromDom(a.parentNode),c=>!ee(n,c)&&s(c)):F.none()},fp=(n,s)=>{const a=g=>s(yn.fromDom(g));return Re(n.dom.childNodes,a).map(yn.fromDom)},uh=(n,s)=>{const a=c=>{for(let g=0;g<c.childNodes.length;g++){const y=yn.fromDom(c.childNodes[g]);if(s(y))return F.some(y);const w=a(c.childNodes[g]);if(w.isSome())return w}return F.none()};return a(n.dom)},dh=n=>Gi(n),au=(n,s,a)=>ru(n,c=>ar(c,s),a),L0=(n,s)=>Dc(n,a=>ar(a,s)),Ad=(n,s)=>fp(n,a=>ar(a,s)),ur=(n,s)=>Gi(s,n),Oi=(n,s,a)=>_i((g,y)=>ar(g,y),au,n,s,a),Qu=(n,s)=>{n.dom.checked=s},x1=n=>n.dom.checked,Ju=n=>n.dom.classList!==void 0,mp=n=>Xu(n,"class"),E1=(n,s)=>S1(n,"class",s),Td=(n,s)=>fg(n,"class",s),Pc=(n,s)=>$e(mp(n),s)?Td(n,s):E1(n,s),wr=(n,s)=>{Ju(n)?n.dom.classList.add(s):E1(n,s)},mg=n=>{(Ju(n)?n.dom.classList:mp(n)).length===0&&zr(n,"class")},na=(n,s)=>{Ju(n)?n.dom.classList.remove(s):Td(n,s),mg(n)},kd=(n,s)=>{const a=Ju(n)?n.dom.classList.toggle(s):Pc(n,s);return mg(n),a},Za=(n,s)=>Ju(n)&&n.dom.classList.contains(s),ed=(n,s)=>{ut(s,a=>{wr(n,a)})},Xi=(n,s)=>{ut(s,a=>{na(n,a)})},_d=(n,s)=>{ut(s,a=>{kd(n,a)})},bf=(n,s)=>Ye(s,a=>Za(n,a)),iu=n=>{const s=n.dom.classList,a=new Array(s.length);for(let c=0;c<s.length;c++){const g=s.item(c);g!==null&&(a[c]=g)}return a},yf=n=>Ju(n)?iu(n):mp(n),A1=n=>n.dom.textContent,ic=n=>n.dom.value,Cl=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},aa=(n,s,a)=>Yt(gf(n,a),s),Di=(n,s)=>za(s,n),pg=(n,s,a)=>Aa(n,s,a).isSome(),Tu=(n,s,a)=>Oi(n,s,a).isSome(),Od=n=>re(n)?n:je,gg=(n,s,a)=>{let c=n.dom;const g=Od(a);for(;c.parentNode;){c=c.parentNode;const y=yn.fromDom(c),w=s(y);if(w.isSome())return w;if(g(y))break}return F.none()},ku=(n,s,a)=>{const c=s(n),g=Od(a);return c.orThunk(()=>g(n)?F.none():gg(n,s,g))},R={create:(n,s,a,c)=>({start:n,soffset:s,finish:a,foffset:c})},B=Hr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ne=(n,s,a,c)=>n.fold(s,a,c),we=n=>n.fold(Ze,Ze,Ze),Ke=B.before,Ot=B.on,xn=B.after,no={before:Ke,on:Ot,after:xn,cata:ne,getStart:we},Ko=Hr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vs=n=>Ko.exact(n.start,n.soffset,n.finish,n.foffset),Ss=n=>n.match({domRange:s=>yn.fromDom(s.startContainer),relative:(s,a)=>no.getStart(s),exact:(s,a,c,g)=>s}),Yr=Ko.domRange,qa=Ko.relative,lc=Ko.exact,lu=n=>{const s=Ss(n);return cg(s)},Dd=R.create,Dl={domRange:Yr,relative:qa,exact:lc,exactFromRange:vs,getWin:lu,range:Dd},si=n=>F.from(n.getSelection()),di=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),a=n.getRangeAt(n.rangeCount-1);return F.some(R.create(yn.fromDom(s.startContainer),s.startOffset,yn.fromDom(a.endContainer),a.endOffset))}else return F.none()},$i=n=>{if(n.anchorNode===null||n.focusNode===null)return di(n);{const s=yn.fromDom(n.anchorNode),a=yn.fromDom(n.focusNode);return cs(s,n.anchorOffset,a,n.focusOffset)?F.some(R.create(s,n.anchorOffset,a,n.focusOffset)):di(n)}},$f=n=>si(n).filter(s=>s.rangeCount>0).bind($i),wf=(n,s)=>{const a=be(n,s);return qi(a)},Yd=(n,s)=>{const a=be(n,s);return nu(a)},fh={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},cc=(()=>{const n="[0-9]+",a="[eE]"+("[+-]?"+n),c="\\.",g=k=>`(?:${k})?`,w=`[+-]?(?:${["Infinity",n+c+g(n)+g(a),c+n+g(a),n+g(a)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),k1=(n,s)=>Mt(s,a=>Mt(fh[a],c=>n===c)),Ws=(n,s)=>F.from(cc.exec(n)).bind(c=>{const g=Number(c[1]),y=c[2];return k1(y,s)?F.some({value:g,unit:y}):F.none()}),wa=(n,s)=>Ws(n,s).map(({value:a,unit:c})=>a+c),Ir=n=>{const s=n===void 0?window:n;return Va().browser.isFirefox()?F.none():F.from(s.visualViewport)},Ta=(n,s,a,c)=>({x:n,y:s,width:a,height:c,right:n+a,bottom:s+c}),Lf=n=>{const s=n===void 0?window:n,a=s.document,c=pa(yn.fromDom(a));return Ir(s).fold(()=>{const g=s.document.documentElement,y=g.clientWidth,w=g.clientHeight;return Ta(c.left,c.top,y,w)},g=>Ta(Math.max(g.pageLeft,c.left),Math.max(g.pageTop,c.top),g.width,g.height))},Sm=(n,s)=>n.view(s).fold(G([]),c=>{const g=n.owner(c),y=Sm(n,g);return[c].concat(y)}),pp=(n,s)=>{const a=s.owner(n),c=Sm(s,a);return F.some(c)};var Hf=Object.freeze({__proto__:null,view:n=>(n.dom===document?F.none():F.from(n.dom.defaultView?.frameElement)).map(yn.fromDom),owner:n=>nc(n)});const mh=n=>{const s=dl(),a=pa(s);return pp(n,Hf).fold(ct(ki,n),g=>{const y=Ol(n),w=jn(g,(k,O)=>{const N=Ol(O);return{left:k.left+N.left,top:k.top+N.top}},{left:0,top:0});return mr(w.left+y.left+a.left,w.top+y.top+a.top)})},xm=(n,s,a)=>({point:n,width:s,height:a}),Qy=(n,s,a,c)=>({x:n,y:s,width:a,height:c}),Pi=(n,s,a,c)=>({x:n,y:s,width:a,height:c,right:n+a,bottom:s+c}),fi=n=>{const s=ki(n),a=Gu(n),c=Rr(n);return Pi(s.left,s.top,a,c)},Xd=n=>{const s=mh(n),a=Gu(n),c=Rr(n);return Pi(s.left,s.top,a,c)},zf=(n,s)=>{const a=Math.max(n.x,s.x),c=Math.max(n.y,s.y),g=Math.min(n.right,s.right),y=Math.min(n.bottom,s.bottom),w=g-a,k=y-c;return Pi(a,c,w,k)},ph=(n,s)=>Cn(s,(a,c)=>zf(a,c),n),ml=()=>Lf(window),H0=(n,s)=>ee(n.element,s.event.target),Uf=n=>(ro(Er(n,"position"),"fixed")?F.none():oh(n)).orThunk(()=>{const c=yn.fromTag("span");return kc(n).bind(g=>{oi(g,c);const y=oh(c);return Oc(c),y})}),_1=n=>Uf(n).map(ki).getOrThunk(()=>mr(0,0)),_u=(n,s)=>{const a=F.from(xi(n,"id")).getOrThunk(()=>{const c=pe("aria");return Ao(s,"id",c),c});Ao(n,"aria-describedby",a)},z0=n=>{zr(n,"aria-describedby")};var cu;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(cu||(cu={}));const Fa=(n,s,a)=>n.stype===cu.Error?s(n.serror):a(n.svalue),O1=n=>{const s=[],a=[];return ut(n,c=>{Fa(c,g=>a.push(g),g=>s.push(g))}),{values:s,errors:a}},vg=(n,s)=>n.stype===cu.Error?{stype:cu.Error,serror:s(n.serror)}:n,mb=(n,s)=>n.stype===cu.Value?{stype:cu.Value,svalue:s(n.svalue)}:n,pb=(n,s)=>n.stype===cu.Value?s(n.svalue):n,gb=(n,s)=>n.stype===cu.Error?s(n.serror):n,Jy=n=>({stype:cu.Value,svalue:n}),U0=n=>({stype:cu.Error,serror:n}),_n={fromResult:n=>n.fold(U0,Jy),toResult:n=>Fa(n,Kn.error,Kn.value),svalue:Jy,partition:O1,serror:U0,bind:pb,bindError:gb,map:mb,mapError:vg,fold:Fa},Vl=n=>K(n)&&vo(n).length>100?" removed due to size":JSON.stringify(n,null,2),_C=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):n;return He(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},Rc=(n,s)=>_n.serror([{path:n,getErrorInfo:s}]),Pd=(n,s,a)=>Rc(n,()=>'Could not find valid *required* value for "'+s+'" in '+Vl(a)),td=(n,s)=>Rc(n,()=>'Choice schema did not contain choice key: "'+s+'"'),hb=(n,s,a)=>Rc(n,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Vl(s)),Cf=(n,s)=>Rc(n,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),e2=(n,s)=>Rc(n,G(s)),Fc=n=>{const s=(c,g)=>_n.bindError(n(g),y=>e2(c,y)),a=G("val");return{extract:s,toString:a}},vb=Fc(_n.svalue),Ou=G(vb),fn=(n,s)=>Fc(a=>{const c=typeof a;return n(a)?_n.svalue(a):_n.serror(`Expected type: ${s} but got: ${c}`)}),P1=fn(ot,"number"),Ri=fn(H,"string"),bs=fn(me,"boolean"),Vf=fn(re,"function"),yg=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>yg(n[s]));default:return!1}},ka=Fc(n=>yg(n)?_n.svalue(n):_n.serror("Expected value to be acceptable for sending via postMessage")),nd=()=>({tag:"required",process:{}}),gh=n=>({tag:"defaultedThunk",process:n}),Du=n=>gh(G(n)),sr=()=>({tag:"option",process:{}}),Qi=n=>({tag:"mergeWithThunk",process:n}),wg=n=>Qi(G(n)),V0=(n,s,a,c)=>({tag:"field",key:n,newKey:s,presence:a,prop:c}),W0=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),od=(n,s,a)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return a(n.newKey,n.instantiator)}},hh=(n,s)=>_n.svalue(tn(s,Oo.apply(void 0,n))),Cg=n=>Wt(_n.serror,qe)(n),vh={consolidateObj:(n,s)=>{const a=_n.partition(n);return a.errors.length>0?Cg(a.errors):hh(a.values,s)},consolidateArr:n=>{const s=_n.partition(n);return s.errors.length>0?Cg(s.errors):_n.svalue(s.values)}},Z0=(n,s,a,c)=>sn(s,a).fold(()=>Pd(n,a,s),c),bh=(n,s,a,c)=>{const g=sn(n,s).getOrThunk(()=>a(n));return c(g)},bb=(n,s,a)=>a(sn(n,s)),n2=(n,s,a,c)=>{const g=sn(n,s).map(y=>y===!0?a(n):y);return c(g)},R1=(n,s,a,c,g)=>{const y=k=>g.extract(s.concat([c]),k),w=k=>k.fold(()=>_n.svalue(F.none()),O=>{const N=g.extract(s.concat([c]),O);return _n.map(N,F.some)});switch(n.tag){case"required":return Z0(s,a,c,y);case"defaultedThunk":return bh(a,c,n.process,y);case"option":return bb(a,c,w);case"defaultedOptionThunk":return n2(a,c,n.process,w);case"mergeWithThunk":return bh(a,c,G({}),k=>{const O=tn(n.process(a),k);return y(O)})}},q0=(n,s,a)=>{const c={},g=[];for(const y of a)od(y,(w,k,O,N)=>{const z=R1(O,n,s,w,N);_n.fold(z,Z=>{g.push(...Z)},Z=>{c[k]=Z})},(w,k)=>{c[w]=k(s)});return g.length>0?_n.serror(g):_n.svalue(c)},F1=n=>({extract:(c,g)=>n().extract(c,g),toString:()=>n().toString()}),OC=n=>vo(Bt(n,Se)),Mc=n=>{const s=bo(n),a=jn(n,(g,y)=>od(y,w=>tn(g,{[w]:!0}),G(g)),{});return{extract:(g,y)=>{const w=me(y)?[]:OC(y),k=Yt(w,O=>!Io(a,O));return k.length===0?s.extract(g,y):Cf(g,k)},toString:s.toString}},bo=n=>({extract:(c,g)=>q0(c,g,n),toString:()=>`obj{
`+He(n,g=>od(g,(y,w,k,O)=>y+" -> "+O.toString(),(y,w)=>"state("+y+")")).join(`
`)+"}"}),_a=n=>({extract:(c,g)=>{const y=He(g,(w,k)=>n.extract(c.concat(["["+k+"]"]),w));return vh.consolidateArr(y)},toString:()=>"array("+n.toString()+")"}),sd=(n,s)=>{const a=s!==void 0?s:Ze;return{extract:(y,w)=>{const k=[];for(const O of n){const N=O.extract(y,w);if(N.stype===cu.Value)return{stype:cu.Value,svalue:a(N.svalue)};k.push(N)}return vh.consolidateArr(k)},toString:()=>"oneOf("+He(n,y=>y.toString()).join(", ")+")"}},o2=(n,s)=>{const a=(y,w)=>_a(Fc(n)).extract(y,w);return{extract:(y,w)=>{const k=vo(w),O=a(y,k);return _n.bind(O,N=>{const z=He(N,Z=>V0(Z,Z,nd(),s));return bo(z).extract(y,w)})},toString:()=>"setOf("+s.toString()+")"}},gp=(n,s)=>{const a=il(s);return{extract:(y,w)=>a().extract(y,w),toString:()=>a().toString()}},hp=Wt(_a,bo),G0=(n,s,a,c)=>sn(a,c).fold(()=>hb(n,a,c),y=>y.extract(n.concat(["branch: "+c]),s)),vp=(n,s)=>({extract:(g,y)=>sn(y,n).fold(()=>td(g,n),k=>G0(g,y,s,k)),toString:()=>"chooseOn("+n+"). Possible values: "+vo(s)}),yh=()=>_a(vb),Fi=n=>Fc(s=>n(s).fold(_n.serror,_n.svalue)),s2=(n,s)=>o2(a=>_n.fromResult(n(a)),s),yb=(n,s,a)=>{const c=s.extract([n],a);return _n.mapError(c,g=>({input:a,errors:g}))},ia=(n,s,a)=>_n.toResult(yb(n,s,a)),Xa=n=>n.fold(s=>{throw new Error(qo(s))},Ze),Nc=(n,s,a)=>Xa(ia(n,s,a)),qo=n=>`Errors: 
`+_C(n.errors).join(`
`)+`

Input object: `+Vl(n.input),pl=(n,s)=>vp(n,ds(s,bo)),Em=(n,s)=>gp(n,s),Ji=V0,Bc=W0,bp=n=>Fi(s=>$e(n,s)?Kn.value(s):Kn.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Jt=n=>Ji(n,n,nd(),Ou()),uc=(n,s)=>Ji(n,n,nd(),s),wh=n=>uc(n,P1),Ma=n=>uc(n,Ri),Rd=(n,s)=>Ji(n,n,nd(),bp(s)),Ic=n=>uc(n,Vf),wb=(n,s)=>Ji(n,n,sr(),Fc(a=>_n.serror("The field: "+n+" is forbidden. "+s))),mi=(n,s)=>Ji(n,n,nd(),bo(s)),Qd=(n,s)=>Ji(n,n,nd(),hp(s)),el=(n,s)=>Ji(n,n,nd(),_a(s)),pr=n=>Ji(n,n,sr(),Ou()),Jd=(n,s)=>Ji(n,n,sr(),s),uu=n=>Jd(n,P1),Na=n=>Jd(n,Ri),ef=(n,s)=>Jd(n,bp(s)),Cb=n=>Jd(n,bs),Fd=n=>Jd(n,Vf),M1=(n,s)=>Jd(n,_a(s)),$c=(n,s)=>Jd(n,bo(s)),r2=(n,s)=>Jd(n,Mc(s)),ht=(n,s)=>Ji(n,n,Du(s),Ou()),Lc=(n,s,a)=>Ji(n,n,Du(s),a),Sg=(n,s)=>Lc(n,s,P1),Ar=(n,s)=>Lc(n,s,Ri),Zs=(n,s,a)=>Lc(n,s,bp(a)),Or=(n,s)=>Lc(n,s,bs),Os=(n,s)=>Lc(n,s,Vf),dc=(n,s)=>Lc(n,s,ka),Pl=(n,s,a)=>Lc(n,s,_a(a)),Md=(n,s,a)=>Lc(n,s,bo(a)),Li=(n,s)=>{const a={};return Bo(n,(c,g)=>{$e(s,g)||(a[g]=c)}),a},Am=(n,s)=>({[n]:s}),Tm=n=>{const s={};return ut(n,a=>{s[a.key]=a.value}),s},Ch=(n,s)=>Li(n,s),Wf=(n,s)=>Am(n,s),jf=n=>Tm(n),Pu=(n,s)=>n.length===0?Kn.value(s):Kn.value(tn(s,Oo.apply(void 0,n))),N1=n=>Kn.error(qe(n)),Sh=(n,s)=>{const a=Sr(n);return a.errors.length>0?N1(a.errors):Pu(a.values,s)},ri=G,fc=ri("touchstart"),Ga=ri("touchmove"),Ru=ri("touchend"),yp=ri("touchcancel"),tl=ri("mousedown"),km=ri("mousemove"),Qa=ri("mouseout"),xh=ri("mouseup"),Hc=ri("mouseover"),Fu=ri("focusin"),zc=ri("focusout"),Ka=ri("keydown"),du=ri("keyup"),Hi=ri("input"),wp=ri("change"),_m=ri("click"),Sb=ri("transitioncancel"),K0=ri("transitionend"),fu=ri("transitionstart"),Eh=ri("selectstart"),$r=n=>G("alloy."+n),Cp={tap:$r("tap")},Sf=$r("focus"),tf=$r("blur.post"),B1=$r("paste.post"),Zf=$r("receive"),gl=$r("execute"),qf=$r("focus.item"),Ah=Cp.tap,Y0=$r("longpress"),I1=$r("sandbox.close"),$1=$r("typeahead.cancel"),xf=$r("system.init"),a2=$r("system.touchmove"),Sp=$r("system.touchend"),X0=$r("system.scroll"),ai=$r("system.resize"),Ef=$r("system.attached"),rd=$r("system.detached"),Om=$r("system.dismissRequested"),i2=$r("system.repositionRequested"),L1=$r("focusmanager.shifted"),Q0=$r("slotcontainer.visibility"),l2=$r("system.external.element.scroll"),ad=$r("change.tab"),Th=$r("dismiss.tab"),J0=$r("highlight"),Af=$r("dehighlight"),id=n=>ui(n),Tf="unknown";var Dm;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Dm||(Dm={}));const Pm=Mn({}),ev=(n,s)=>{const a=[],c=new Date().getTime();return{logEventCut:(g,y,w)=>{a.push({outcome:"cut",target:y,purpose:w})},logEventStopped:(g,y,w)=>{a.push({outcome:"stopped",target:y,purpose:w})},logNoParent:(g,y,w)=>{a.push({outcome:"no-parent",target:y,purpose:w})},logEventNoHandlers:(g,y)=>{a.push({outcome:"no-handlers-left",target:y})},logEventResponse:(g,y,w)=>{a.push({outcome:"response",purpose:w,target:y})},write:()=>{const g=new Date().getTime();$e(["mousemove","mouseover","mouseout",xf()],n)||console.log(n,{event:n,time:g-c,target:s.dom,sequence:He(a,y=>$e(["cut","stopped","response"],y.outcome)?"{"+y.purpose+"} "+y.outcome+" at ("+id(y.target)+")":y.outcome)})}}},kh=(n,s,a)=>{switch(sn(Pm.get(),n).orThunk(()=>{const g=vo(Pm.get());return es(g,y=>n.indexOf(y)>-1?F.some(Pm.get()[y]):F.none())}).getOr(Dm.NORMAL)){case Dm.NORMAL:return a(xg());case Dm.LOGGING:{const g=ev(n,s),y=a(g);return g.write(),y}case Dm.STOP:return!0}},Wl=["alloy/data/Fields","alloy/debugging/Debugging"],DC=()=>{const n=new Error;if(n.stack!==void 0){const s=n.stack.split(`
`);return Re(s,a=>a.indexOf("alloy")>0&&!Mt(Wl,c=>a.indexOf(c)>-1)).getOr(Tf)}else return Tf},tv={logEventCut:J,logEventStopped:J,logNoParent:J,logEventNoHandlers:J,logEventResponse:J,write:J},nv=(n,s,a)=>kh(n,s,a),xg=G(tv),H1=G([Jt("menu"),Jt("selectedMenu")]),xp=G([Jt("item"),Jt("selectedItem")]);G(bo(xp().concat(H1())));const ov=G(bo(xp())),z1=mi("initSize",[Jt("numColumns"),Jt("numRows")]),sv=()=>uc("markers",ov()),rv=()=>mi("markers",[Jt("backgroundMenu")].concat(H1()).concat(xp())),Ns=n=>mi("markers",He(n,Jt)),_h=(n,s,a)=>(DC(),Ji(s,s,a,Fi(c=>Kn.value((...g)=>c.apply(void 0,g))))),zs=n=>_h("onHandler",n,Du(J)),mu=n=>_h("onKeyboardHandler",n,Du(F.none)),Ep=n=>_h("onHandler",n,nd()),Ap=n=>_h("onKeyboardHandler",n,nd()),dr=(n,s)=>Bc(n,G(s)),Oh=n=>Bc(n,Ze),c2=G(z1),av=(n,s,a)=>{const c=a.toString(),g=c.indexOf(")")+1,y=c.indexOf("("),w=c.substring(y+1,g-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:u(w.slice(0,1).concat(w.slice(3)))}),n},u=n=>He(n,s=>Il(s,"/*")?s.substring(0,s.length-2):s),p=(n,s)=>{const a=n.toString(),c=a.indexOf(")")+1,g=a.indexOf("("),y=a.substring(g+1,c-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:u(y)}),n},x=(n,s)=>{const a=s.toString(),c=a.indexOf(")")+1,g=a.indexOf("("),y=a.substring(g+1,c-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:u(y.slice(1))}),n},_=(n,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...y)=>{a=setTimeout(()=>{n.apply(null,y),a=null},s)}}},L=5,q=400,he=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?F.none():F.some(s.touches[0])},tt=(n,s)=>{const a=Math.abs(n.clientX-s.x),c=Math.abs(n.clientY-s.y);return a>L||c>L},mt=n=>{const s=Do(),a=Mn(!1),c=_(N=>{n.triggerEvent(Y0(),N),a.set(!0)},q),g=N=>(he(N).each(z=>{c.cancel();const Z={x:z.clientX,y:z.clientY,target:N.target};c.schedule(N),a.set(!1),s.set(Z)}),F.none()),y=N=>(c.cancel(),he(N).each(z=>{s.on(Z=>{tt(z,Z)&&s.clear()})}),F.none()),w=N=>{c.cancel();const z=Z=>ee(Z.target,N.target);return s.get().filter(z).map(Z=>a.get()?(N.prevent(),!1):n.triggerEvent(Ah(),N))},k=jf([{key:fc(),value:g},{key:Ga(),value:y},{key:Ru(),value:w}]);return{fireIfReady:(N,z)=>sn(k,z).bind(Z=>Z(N))}};var en;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(en||(en={}));const Nn="placeholder",Pn=Hr.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ln=n=>Ho(n,"uiType"),Ro=(n,s,a,c)=>n.exists(g=>g!==a.owner)?Pn.single(!0,G(a)):sn(c,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+vo(c)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},g=>g.replace()),zo=(n,s,a,c)=>Ln(a)&&a.uiType===Nn?Ro(n,s,a,c):Pn.single(!1,G(a)),ns=(n,s,a,c)=>zo(n,s,a,c).fold((y,w)=>{const k=Ln(a)?w(s,a.config,a.validated):w(s),O=sn(k,"components").getOr([]),N=De(O,z=>ns(n,s,z,c));return[{...k,components:N}]},(y,w)=>{if(Ln(a)){const k=w(s,a.config,a.validated);return a.validated.preprocess.getOr(Ze)(k)}else return w(s)}),pi=(n,s,a,c)=>De(a,g=>ns(n,s,g,c)),Zt=(n,s)=>{let a=!1;const c=()=>a,g=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+n);return a=!0,s},y=()=>s.fold((w,k)=>w,(w,k)=>w);return{name:G(n),required:y,used:c,replace:g}},St=(n,s,a,c)=>{const g=ds(c,(w,k)=>Zt(k,w)),y=pi(n,s,a,g);return Bo(g,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),y},Kt=Pn.single,lo=Pn.multiple,gs=G(Nn),Ts=Hr.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ys=ht("factory",{sketch:Ze}),js=ht("schema",[]),hl=Jt("name"),oa=Ji("pname","pname",gh(n=>"<alloy."+pe(n.name)+">"),Ou()),Rm=Bc("schema",()=>[pr("preprocess")]),Gf=ht("defaults",G({})),u2=ht("overrides",G({})),jE=bo([ys,js,hl,oa,Gf,u2]),x4=bo([ys,js,hl,Gf,u2]),E4=bo([ys,js,hl,oa,Gf,u2]),ZE=bo([ys,Rm,hl,Jt("unit"),oa,Gf,u2]),PC=n=>n.fold(F.some,F.none,F.some,F.some),Tp=n=>{const s=a=>a.name;return n.fold(s,s,s,s)},qE=n=>n.fold(Ze,Ze,Ze,Ze),Kf=(n,s)=>a=>{const c=Nc("Converting part type",s,a);return n(c)},pu=Kf(Ts.required,jE),kf=Kf(Ts.external,x4),Mu=Kf(Ts.optional,E4),d2=Kf(Ts.group,ZE),U1=G("entirety");var f2=Object.freeze({__proto__:null,required:pu,external:kf,optional:Mu,group:d2,asNamedPart:PC,name:Tp,asCommon:qE,original:U1});const RC=(n,s,a,c)=>tn(s.defaults(n,a,c),a,{uid:n.partUids[s.name]},s.overrides(n,a,c)),A4=(n,s,a)=>{const c={},g={};return ut(a,y=>{y.fold(w=>{c[w.pname]=Kt(!0,(k,O,N)=>w.factory.sketch(RC(k,w,O,N)))},w=>{const k=s.parts[w.name];g[w.name]=G(w.factory.sketch(RC(s,w,k[U1()]),k))},w=>{c[w.pname]=Kt(!1,(k,O,N)=>w.factory.sketch(RC(k,w,O,N)))},w=>{c[w.pname]=lo(!0,(k,O,N)=>{const z=k[w.name];return He(z,Z=>w.factory.sketch(tn(w.defaults(k,Z,N),Z,w.overrides(k,Z))))})})}),{internals:G(c),externals:G(g)}},Dh=(n,s)=>{const a={};return ut(s,c=>{PC(c).each(g=>{const y=Ph(n,g.pname);a[g.name]=w=>{const k=Nc("Part: "+g.name+" in "+n,bo(g.schema),w);return{...y,config:w,validated:k}}})}),a},Ph=(n,s)=>({uiType:gs(),owner:n,name:s}),FC=(n,s,a)=>({uiType:gs(),owner:n,name:s,config:a,validated:{}}),Sl=n=>De(n,s=>s.fold(F.none,F.some,F.none,F.none).map(a=>mi(a.name,a.schema.concat([Oh(U1())]))).toArray()),xb=n=>He(n,Tp),ld=(n,s,a)=>A4(n,s,a),m2=(n,s,a)=>St(F.some(n),s,s.components,a),Xr=(n,s,a)=>{const c=s.partUids[a];return n.getSystem().getByUid(c).toOptional()},Fm=(n,s,a)=>Xr(n,s,a).getOrDie("Could not find part: "+a),Eg=(n,s,a)=>{const c={},g=s.partUids,y=n.getSystem();return ut(a,w=>{c[w]=G(y.getByUid(g[w]))}),c},Mm=(n,s)=>{const a=n.getSystem();return ds(s.partUids,(c,g)=>G(a.getByUid(c)))},nf=n=>vo(n.partUids),p2=(n,s,a)=>{const c={},g=s.partUids,y=n.getSystem();return ut(a,w=>{c[w]=G(y.getByUid(g[w]).getOrDie())}),c},GE=(n,s)=>{const a=xb(s);return jf(He(a,c=>({key:c,value:n+"-"+c})))},Ag=n=>Ji("partUids","partUids",Qi(s=>GE(s.uid,n)),Ou());var V1=Object.freeze({__proto__:null,generate:Dh,generateOne:FC,schemas:Sl,names:xb,substitutes:ld,components:m2,defaultUids:GE,defaultUidsSchema:Ag,getAllParts:Mm,getAllPartNames:nf,getPart:Xr,getPartOrDie:Fm,getParts:Eg,getPartsOrDie:p2});const MC=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Nd=(n,s,a,c=1)=>{const g=n*c,y=s*c,w=O=>sn(a,O).getOr([]),k=(O,N,z)=>{const Z=at(MC,z);return{offset:mr(O,N),classesOn:De(z,w),classesOff:De(Z,w)}};return{southeast:()=>k(-n,s,["top","alignLeft"]),southwest:()=>k(n,s,["top","alignRight"]),south:()=>k(-n/2,s,["top","alignCentre"]),northeast:()=>k(-n,-s,["bottom","alignLeft"]),northwest:()=>k(n,-s,["bottom","alignRight"]),north:()=>k(-n/2,-s,["bottom","alignCentre"]),east:()=>k(n,-s/2,["valignCentre","left"]),west:()=>k(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>k(g,y,["top","alignLeft","inset"]),insetNorthwest:()=>k(-g,y,["top","alignRight","inset"]),insetNorth:()=>k(-g/2,y,["top","alignCentre","inset"]),insetSoutheast:()=>k(g,-y,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-g,-y,["bottom","alignRight","inset"]),insetSouth:()=>k(-g/2,-y,["bottom","alignCentre","inset"]),insetEast:()=>k(-g,-y/2,["valignCentre","right","inset"]),insetWest:()=>k(g,-y/2,["valignCentre","left","inset"])}},Rh=()=>Nd(0,0,{}),mc=(n,s,a,c,g,y,w,k=!1)=>({x:n,y:s,bubble:a,direction:c,placement:g,restriction:y,label:`${w}-${g}`,alwaysFit:k}),Yf=Hr.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),g2=(n,s,a,c,g,y,w,k,O)=>n.fold(s,a,c,g,y,w,k,O),W1=(n,s,a,c)=>n.fold(s,s,c,c,s,c,a,a),Fh=(n,s,a,c)=>n.fold(s,c,s,c,a,a,s,c),Eb=Yf.southeast,NC=Yf.southwest,h2=Yf.northeast,j1=Yf.northwest,Mh=Yf.south,BC=Yf.north,Ab=Yf.east,IC=Yf.west,KE=(n,s)=>{switch(s){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},xl=(n,s)=>En(["left","right","top","bottom"],a=>sn(s,a).map(c=>KE(n,c))),Nh=(n,s,a)=>{const c=(O,N)=>s[O].map(z=>{const Z=O==="top"||O==="bottom",oe=Z?a.top:a.left,ye=(O==="left"||O==="top"?Math.max:Math.min)(z,N)+oe;return Z?Ms(ye,n.y,n.bottom):Ms(ye,n.x,n.right)}).getOr(N),g=c("left",n.x),y=c("top",n.y),w=c("right",n.right),k=c("bottom",n.bottom);return Pi(g,y,w-g,k-y)},Bh="layout",YE=n=>n.x,v2=(n,s)=>n.x+n.width/2-s.width/2,$C=(n,s)=>n.x+n.width-s.width,Tb=(n,s)=>n.y-s.height,b2=n=>n.y+n.height,XE=(n,s)=>n.y+n.height/2-s.height/2,T4=n=>n.x+n.width,kb=(n,s)=>n.x-s.width,vl=(n,s,a)=>mc(YE(n),b2(n),a.southeast(),Eb(),"southeast",xl(n,{left:1,top:3}),Bh),nl=(n,s,a)=>mc($C(n,s),b2(n),a.southwest(),NC(),"southwest",xl(n,{right:0,top:3}),Bh),pc=(n,s,a)=>mc(YE(n),Tb(n,s),a.northeast(),h2(),"northeast",xl(n,{left:1,bottom:2}),Bh),jl=(n,s,a)=>mc($C(n,s),Tb(n,s),a.northwest(),j1(),"northwest",xl(n,{right:0,bottom:2}),Bh),Ba=(n,s,a)=>mc(v2(n,s),Tb(n,s),a.north(),BC(),"north",xl(n,{bottom:2}),Bh),ol=(n,s,a)=>mc(v2(n,s),b2(n),a.south(),Mh(),"south",xl(n,{top:3}),Bh),iv=(n,s,a)=>mc(T4(n),XE(n,s),a.east(),Ab(),"east",xl(n,{left:0}),Bh),LC=(n,s,a)=>mc(kb(n,s),XE(n,s),a.west(),IC(),"west",xl(n,{right:1}),Bh),HC=()=>[vl,nl,pc,jl,ol,Ba,iv,LC],QE=()=>[nl,vl,jl,pc,ol,Ba,iv,LC],y2=()=>[pc,jl,vl,nl,Ba,ol],zC=()=>[jl,pc,nl,vl,Ba,ol],UC=()=>[vl,nl,pc,jl,ol,Ba],w2=()=>[nl,vl,jl,pc,ol,Ba],VC="data-alloy-placement",lv=(n,s)=>{Ao(n,VC,s)},JE=n=>Ei(n,VC),_b=n=>zr(n,VC),Nm="layout-inset",C2=n=>n.x,Ob=(n,s)=>n.x+n.width/2-s.width/2,cv=(n,s)=>n.x+n.width-s.width,Z1=n=>n.y,Db=(n,s)=>n.y+n.height-s.height,S2=(n,s)=>n.y+n.height/2-s.height/2,Pb=(n,s,a)=>mc(cv(n,s),Db(n,s),a.insetSouthwest(),j1(),"southwest",xl(n,{right:0,bottom:3}),Nm),x2=(n,s,a)=>mc(C2(n),Db(n,s),a.insetSoutheast(),h2(),"southeast",xl(n,{left:1,bottom:3}),Nm),q1=(n,s,a)=>mc(cv(n,s),Z1(n),a.insetNorthwest(),NC(),"northwest",xl(n,{right:0,top:2}),Nm),Nu=(n,s,a)=>mc(C2(n),Z1(n),a.insetNortheast(),Eb(),"northeast",xl(n,{left:1,top:2}),Nm),Uc=(n,s,a)=>mc(Ob(n,s),Z1(n),a.insetNorth(),Mh(),"north",xl(n,{top:2}),Nm),uv=(n,s,a)=>mc(Ob(n,s),Db(n,s),a.insetSouth(),BC(),"south",xl(n,{bottom:3}),Nm),It=(n,s,a)=>mc(cv(n,s),S2(n,s),a.insetEast(),IC(),"east",xl(n,{right:0}),Nm),Rb=(n,s,a)=>mc(C2(n),S2(n,s),a.insetWest(),Ab(),"west",xl(n,{left:1}),Nm),k4=n=>{switch(n){case"north":return Uc;case"northeast":return Nu;case"northwest":return q1;case"south":return uv;case"southeast":return x2;case"southwest":return Pb;case"east":return It;case"west":return Rb}},Bu=(n,s,a,c,g)=>JE(c).map(k4).getOr(Uc)(n,s,a,c,g),dv=n=>{switch(n){case"north":return uv;case"northeast":return x2;case"northwest":return Pb;case"south":return Uc;case"southeast":return Nu;case"southwest":return q1;case"east":return Rb;case"west":return It}},Bm=(n,s,a,c,g)=>JE(c).map(dv).getOr(Uc)(n,s,a,c,g),WC=(n,s)=>{Au(n,Math.floor(s))},jC=G((n,s)=>{WC(n,s),Nr(n,{"overflow-x":"hidden","overflow-y":"auto"})}),G1=G((n,s)=>{WC(n,s)}),Fb=G((n,s)=>{C1(n,Math.floor(s))});var Tg;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Tg||(Tg={}));const E2="data-alloy-vertical-dir",_4=n=>pg(n,s=>tc(s)&&xi(s,"data-alloy-vertical-dir")===Tg.BottomToTop);var Vc;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Vc||(Vc={}));const Im={init:()=>Bd({readState:G("No State required")})},Bd=n=>n,O4={can:lt,abort:je,run:J},fv=n=>{if(!Io(n,"can")&&!Io(n,"abort")&&!Io(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...O4,...n}},eA=(n,s)=>(...a)=>Cn(n,(c,g)=>c&&s(g).apply(void 0,a),!0),A2=(n,s)=>(...a)=>Cn(n,(c,g)=>c||s(g).apply(void 0,a),!1),D4=n=>re(n)?{can:lt,abort:je,run:n}:n,tA=n=>{const s=eA(n,g=>g.can),a=A2(n,g=>g.abort);return{can:s,abort:a,run:(...g)=>{ut(n,y=>{y.run.apply(void 0,g)})}}},Ds=(n,s)=>{k2(n,n.element,s,{})},So=(n,s,a)=>{k2(n,n.element,s,a)},mv=n=>{Ds(n,gl())},T2=(n,s,a)=>{k2(n,s,a,{})},k2=(n,s,a,c)=>{const g={target:s,...c};n.getSystem().triggerEvent(a,s,g)},P4=(n,s,a,c)=>{const g={...c,target:s};n.getSystem().triggerEvent(a,s,g)},ZC=(n,s,a,c)=>{n.getSystem().triggerEvent(a,s,c.event)},Oa=n=>jf(n),_2=(n,s)=>({key:n,value:fv({abort:s})}),O2=(n,s)=>({key:n,value:fv({can:s})}),qC=n=>({key:n,value:fv({run:(s,a)=>{a.event.prevent()}})}),zt=(n,s)=>({key:n,value:fv({run:s})}),pv=(n,s,a)=>({key:n,value:fv({run:(c,g)=>{s.apply(void 0,[c,g].concat(a))}})}),K1=n=>s=>zt(n,s),kp=n=>s=>({key:n,value:fv({run:(a,c)=>{H0(a,c)&&s(a,c)}})}),Xf=(n,s)=>zt(n,(a,c)=>{a.getSystem().getByUid(s).each(g=>{ZC(g,g.element,n,c)})}),_p=(n,s,a)=>{const c=s.partUids[a];return Xf(n,c)},gv=(n,s)=>zt(n,(a,c)=>{const g=c.event,y=a.getSystem().getByDom(g.target).getOrThunk(()=>ku(g.target,k=>a.getSystem().getByDom(k).toOptional(),je).getOr(a));s(a,y,c)}),Y1=n=>zt(n,(s,a)=>{a.cut()}),R4=n=>zt(n,(s,a)=>{a.stop()}),hv=(n,s)=>kp(n)(s),ga=kp(Ef()),Qf=kp(rd()),GC=kp(xf()),Ih=K1(gl()),$m=n=>({classes:Me(n.classes)?[]:n.classes,attributes:Me(n.attributes)?{}:n.attributes,styles:Me(n.styles)?{}:n.styles}),Wc=(n,s)=>({...n,attributes:{...n.attributes,...s.attributes},styles:{...n.styles,...s.styles},classes:n.classes.concat(s.classes)}),nA=(n,s,a)=>Ih(c=>{a(c,n,s)}),KC=(n,s,a)=>GC((c,g)=>{a(c,n,s)}),oA=(n,s,a,c,g,y)=>{const w=Mc(n),k=$c(s,[r2("config",n)]);return sA(w,k,s,a,c,g,y)},F4=(n,s,a,c,g,y)=>{const w=n,k=$c(s,[Jd("config",n)]);return sA(w,k,s,a,c,g,y)},M4=(n,s,a)=>av((g,...y)=>{const w=[g].concat(y);return g.config({name:G(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+a)},k=>{const O=Array.prototype.slice.call(w,1);return s.apply(void 0,[g,k.config,k.state].concat(O))})},a,s),YC=n=>({key:n,value:void 0}),sA=(n,s,a,c,g,y,w)=>{const k=Z=>Io(Z,a)?Z[a]():F.none(),O=ds(g,(Z,oe)=>M4(a,Z,oe)),z={...ds(y,(Z,oe)=>p(Z,oe)),...O,revoke:ct(YC,a),config:Z=>{const oe=Nc(a+"-config",n,Z);return{key:a,value:{config:oe,me:z,configAsRaw:il(()=>Nc(a+"-config",n,Z)),initialConfig:Z,state:w}}},schema:G(s),exhibit:(Z,oe)=>$s(k(Z),sn(c,"exhibit"),(fe,ye)=>ye(oe,fe.config,fe.state)).getOrThunk(()=>$m({})),name:G(a),handlers:Z=>k(Z).map(oe=>sn(c,"events").getOr(()=>({}))(oe.config,oe.state)).getOr({})};return z},bn=n=>jf(n),XC=Mc([Jt("fields"),Jt("name"),ht("active",{}),ht("apis",{}),ht("state",Im),ht("extra",{})]),Zl=n=>{const s=Nc("Creating behaviour: "+n.name,XC,n);return oA(s.fields,s.name,s.active,s.apis,s.extra,s.state)},QC=Mc([Jt("branchKey"),Jt("branches"),Jt("name"),ht("active",{}),ht("apis",{}),ht("state",Im),ht("extra",{})]),JC=n=>{const s=Nc("Creating behaviour: "+n.name,QC,n);return F4(pl(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},eS=G(void 0),N4=(n,s)=>{const a=Oa(s);return Zl({fields:[Jt("enabled")],name:n,active:{events:G(a)}})},Wo=(n,s)=>{const a=N4(n,s);return{key:n,value:{config:{},me:a,configAsRaw:G({}),initialConfig:{},state:Im}}},rA=n=>({init:()=>{const a=Mn(n);return{get:()=>a.get(),set:k=>a.set(k),clear:()=>a.set(n),readState:()=>a.get()}}}),aA=(n,s)=>{s.ignore||(Bi(n.element),s.onFocus(n))};var iA=Object.freeze({__proto__:null,focus:aA,blur:(n,s)=>{s.ignore||fa(n.element)},isFocused:n=>Mr(n.element)}),lA=Object.freeze({__proto__:null,exhibit:(n,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return $m(a)},events:n=>Oa([zt(Sf(),(s,a)=>{aA(s,n),a.stop()})].concat(n.stopMousedown?[zt(tl(),(s,a)=>{a.event.prevent()})]:[]))}),$4=[zs("onFocus"),ht("stopMousedown",!1),ht("ignore",!1)];const Go=Zl({fields:$4,name:"focusing",active:lA,apis:iA}),tS=[8],kg=[9],_f=[13],D2=[27],Iu=[32],vv=[37],Mb=[38],P2=[39],bv=[40],yv=G("tooltipping.close.all"),Op=G("dismiss.popups"),sl=G("reposition.popups"),_g=G("mouse.released"),cA=(n,s,a)=>{const c=Tt(n.slice(0,s)),g=Tt(n.slice(s+1));return Re(c.concat(g),a)},nS=(n,s,a)=>{const c=Tt(n.slice(0,s));return Re(c,a)},uA=(n,s,a)=>{const c=n.slice(0,s),g=n.slice(s+1);return Re(g.concat(c),a)},L4=(n,s,a)=>{const c=n.slice(s+1);return Re(c,a)},Gs=n=>s=>{const a=s.raw;return $e(n,a.which)},Jf=n=>s=>Ye(n,a=>a(s)),$h=n=>n.raw.shiftKey===!0,X5=n=>n.raw.ctrlKey===!0,wv=Ce($h),Js=(n,s)=>({matches:n,classification:s}),H4=(n,s)=>Re(n,c=>c.matches(s)).map(c=>c.classification),z4=(n,s,a,c)=>{const g=Di(n.element,"."+s.highlightClass);ut(g,y=>{Mt(c,k=>ee(k.element,y))||(na(y,s.highlightClass),n.getSystem().getByDom(y).each(k=>{s.onDehighlight(n,k),Ds(k,Af())}))})},Q5=(n,s,a)=>z4(n,s,a,[]),J5=(n,s,a,c)=>{Ib(n,s,a,c)&&(na(c.element,s.highlightClass),s.onDehighlight(n,c),Ds(c,Af()))},Nb=(n,s,a,c)=>{z4(n,s,a,[c]),Ib(n,s,a,c)||(wr(c.element,s.highlightClass),s.onHighlight(n,c),Ds(c,J0()))},U4=(n,s,a)=>{R2(n,s).each(c=>{Nb(n,s,a,c)})},V4=(n,s,a)=>{oS(n,s).each(c=>{Nb(n,s,a,c)})},Bb=(n,s,a,c)=>{j4(n,s,a,c).fold(g=>{throw g},g=>{Nb(n,s,a,g)})},W4=(n,s,a,c)=>{const g=mA(n,s);Re(g,c).each(w=>{Nb(n,s,a,w)})},Ib=(n,s,a,c)=>Za(c.element,s.highlightClass),dA=(n,s,a)=>ur(n.element,"."+s.highlightClass).bind(c=>n.getSystem().getByDom(c).toOptional()),j4=(n,s,a,c)=>{const g=Di(n.element,"."+s.itemClass);return F.from(g[c]).fold(()=>Kn.error(new Error("No element found with index "+c)),n.getSystem().getByDom)},R2=(n,s,a)=>ur(n.element,"."+s.itemClass).bind(c=>n.getSystem().getByDom(c).toOptional()),oS=(n,s,a)=>{const c=Di(n.element,"."+s.itemClass);return(c.length>0?F.some(c[c.length-1]):F.none()).bind(y=>n.getSystem().getByDom(y).toOptional())},sS=(n,s,a,c)=>{const g=Di(n.element,"."+s.itemClass);return Ve(g,w=>Za(w,s.highlightClass)).bind(w=>{const k=is(w,c,0,g.length-1);return n.getSystem().getByDom(g[k]).toOptional()})},fA=(n,s,a)=>sS(n,s,a,-1),Z4=(n,s,a)=>sS(n,s,a,1),mA=(n,s,a)=>{const c=Di(n.element,"."+s.itemClass);return Jo(He(c,g=>n.getSystem().getByDom(g).toOptional()))};var rS=Object.freeze({__proto__:null,dehighlightAll:Q5,dehighlight:J5,highlight:Nb,highlightFirst:U4,highlightLast:V4,highlightAt:Bb,highlightBy:W4,isHighlighted:Ib,getHighlighted:dA,getFirst:R2,getLast:oS,getPrevious:fA,getNext:Z4,getCandidates:mA}),pA=[Jt("highlightClass"),Jt("itemClass"),zs("onHighlight"),zs("onDehighlight")];const fr=Zl({fields:pA,name:"highlighting",apis:rS}),gA=(n,s,a)=>{s.exists(g=>a.exists(y=>ee(y,g)))||So(n,L1(),{prevFocus:s,newFocus:a})},aS=()=>{const n=a=>Ra(a.element);return{get:n,set:(a,c)=>{const g=n(a);a.getSystem().triggerFocus(c,a.element);const y=n(a);gA(a,g,y)}}},F2=()=>{const n=a=>fr.getHighlighted(a).map(c=>c.element);return{get:n,set:(a,c)=>{const g=n(a);a.getSystem().getByDom(c).fold(J,w=>{fr.highlight(a,w)});const y=n(a);gA(a,g,y)}}},Og=(n,s,a,c,g)=>{const y=()=>n.concat([ht("focusManager",aS()),Lc("focusInside","onFocus",Fi(N=>$e(["onFocus","onEnterOrSpace","onApi"],N)?Kn.value(N):Kn.error("Invalid value for focusInside"))),dr("handler",O),dr("state",s),dr("sendFocusIn",g)]),w=(N,z,Z,oe,fe)=>{const ye=Z(N,z,oe,fe);return H4(ye,z.event).bind(Fe=>Fe(N,z,oe,fe))},O={schema:y,processKey:w,toEvents:(N,z)=>{const Z=N.focusInside!==en.OnFocusMode?F.none():g(N).map(ye=>zt(Sf(),(Fe,Le)=>{ye(Fe,N,z),Le.stop()})),oe=(ye,Fe)=>{const Le=Gs(Iu.concat(_f))(Fe.event);N.focusInside===en.OnEnterOrSpaceMode&&Le&&H0(ye,Fe)&&g(N).each(Ee=>{Ee(ye,N,z),Fe.stop()})},fe=[zt(Ka(),(ye,Fe)=>{w(ye,Fe,a,N,z).fold(()=>{oe(ye,Fe)},Le=>{Fe.stop()})}),zt(du(),(ye,Fe)=>{w(ye,Fe,c,N,z).each(Le=>{Fe.stop()})})];return Oa(Z.toArray().concat(fe))}};return O},iS=n=>{const s=[pr("onEscape"),pr("onEnter"),ht("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ht("firstTabstop",0),ht("useTabstopAt",lt),pr("visibilitySelector")].concat([n]),a=(Ee,Xe)=>{const st=Ee.visibilitySelector.bind(xt=>Oi(Xe,xt)).getOr(Xe);return Ea(st)>0},c=(Ee,Xe)=>{const st=Di(Ee.element,Xe.selector),xt=Yt(st,Rt=>a(Xe,Rt));return F.from(xt[Xe.firstTabstop])},g=(Ee,Xe)=>Xe.focusManager.get(Ee).bind(st=>Oi(st,Xe.selector)),y=(Ee,Xe)=>a(Ee,Xe)&&Ee.useTabstopAt(Xe),w=(Ee,Xe,st)=>{c(Ee,Xe).each(xt=>{Xe.focusManager.set(Ee,xt)})},k=(Ee,Xe,st,xt,Rt)=>Rt(Xe,st,Rn=>y(xt,Rn)).fold(()=>xt.cyclic?F.some(!0):F.none(),Rn=>(xt.focusManager.set(Ee,Rn),F.some(!0))),O=(Ee,Xe,st,xt)=>{const Rt=Yt(Di(Ee.element,st.selector),Rn=>a(st,Rn));return g(Ee,st).bind(Rn=>Ve(Rt,ct(ee,Rn)).bind(mn=>k(Ee,Rt,mn,st,xt)))},N=(Ee,Xe,st)=>{const xt=st.cyclic?cA:nS;return O(Ee,Xe,st,xt)},z=(Ee,Xe,st)=>{const xt=st.cyclic?uA:L4;return O(Ee,Xe,st,xt)},Z=Ee=>y1(Ee).bind(_s).exists(Xe=>ee(Xe,Ee)),oe=(Ee,Xe,st)=>g(Ee,st).filter(xt=>!st.useTabstopAt(xt)).bind(xt=>(Z(xt)?N:z)(Ee,Xe,st)),fe=(Ee,Xe,st)=>st.onEnter.bind(xt=>xt(Ee,Xe)),ye=(Ee,Xe,st)=>(Ee.getSystem().broadcastOn([yv()],{closedTooltip:()=>{Xe.stop()}}),Xe.isStopped()?F.none():st.onEscape.bind(xt=>xt(Ee,Xe))),Fe=G([Js(Jf([$h,Gs(kg)]),N),Js(Gs(kg),z),Js(Jf([wv,Gs(_f)]),fe)]),Le=G([Js(Gs(D2),ye),Js(Gs(kg),oe)]);return Og(s,Im.init,Fe,Le,()=>F.some(w))};var q4=iS(Bc("cyclic",je)),hA=iS(Bc("cyclic",lt));const Cv=n=>bl("input")(n)&&xi(n,"type")!=="radio"||bl("textarea")(n),vA=(n,s,a)=>(T2(n,a,gl()),F.some(!0)),$b=(n,s,a)=>Cv(a)&&Gs(Iu)(s.event)?F.none():vA(n,s,a),Lb=(n,s)=>F.some(!0),lS=[ht("execute",$b),ht("useSpace",!1),ht("useEnter",!0),ht("useControlEnter",!1),ht("useDown",!1)],Lh=(n,s,a)=>a.execute(n,s,n.element),bA=(n,s,a,c)=>{const g=a.useSpace&&!Cv(n.element)?Iu:[],y=a.useEnter?_f:[],w=a.useDown?bv:[],k=g.concat(y).concat(w);return[Js(Gs(k),Lh)].concat(a.useControlEnter?[Js(Jf([X5,Gs(_f)]),Lh)]:[])},yA=(n,s,a,c)=>a.useSpace&&!Cv(n.element)?[Js(Gs(Iu),Lb)]:[];var wA=Og(lS,Im.init,bA,yA,()=>F.none());const CA=()=>{const n=Do();return Bd({readState:()=>n.get().map(g=>({numRows:String(g.numRows),numColumns:String(g.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(g,y)=>{n.set({numRows:g,numColumns:y})},getNumRows:()=>n.get().map(g=>g.numRows),getNumColumns:()=>n.get().map(g=>g.numColumns)})};var SA=Object.freeze({__proto__:null,flatgrid:CA,init:n=>n.state(n)});const M2=n=>(s,a,c,g)=>{const y=n(s.element);return I2(y,s,a,c,g)},N2=(n,s)=>{const a=Ed(n,s);return M2(a)},Hb=(n,s)=>{const a=Ed(s,n);return M2(a)},B2=n=>(s,a,c,g)=>I2(n,s,a,c,g),I2=(n,s,a,c,g)=>c.focusManager.get(s).bind(w=>n(s.element,w,c,g)).map(w=>(c.focusManager.set(s,w),!0)),Gn=B2,Hh=B2,Dp=B2,zb=(n,s)=>Ve(n,s).map(a=>({index:a,candidates:n})),xA=(n,s,a)=>{const c=w=>ee(w,s),g=Di(n,a),y=Yt(g,Gd);return zb(y,c)},cS=(n,s)=>Ve(n,a=>ee(s,a)),uS=(n,s,a,c)=>{const g=Math.floor(s/a),y=s%a;return c(g,y).bind(w=>{const k=w.row*a+w.column;return k>=0&&k<n.length?F.some(n[k]):F.none()})},EA=(n,s,a,c,g)=>uS(n,s,c,(y,w)=>{const O=y===a-1?n.length-y*c:c,N=is(w,g,0,O-1);return F.some({row:y,column:N})}),AA=(n,s,a,c,g)=>uS(n,s,c,(y,w)=>{const k=is(y,g,0,a-1),N=k===a-1?n.length-k*c:c,z=Ms(w,0,N-1);return F.some({row:k,column:z})}),TA=(n,s,a,c)=>EA(n,s,a,c,1),$2=(n,s,a,c)=>EA(n,s,a,c,-1),rl=(n,s,a,c)=>AA(n,s,a,c,-1),em=(n,s,a,c)=>AA(n,s,a,c,1),L2=[Jt("selector"),ht("execute",$b),mu("onEscape"),ht("captureTab",!1),c2()],kA=(n,s,a)=>{ur(n.element,s.selector).each(c=>{s.focusManager.set(n,c)})},_A=(n,s)=>s.focusManager.get(n).bind(a=>Oi(a,s.selector)),OA=(n,s,a,c)=>_A(n,a).bind(g=>a.execute(n,s,g)),H2=n=>(s,a,c,g)=>xA(s,a,c.selector).bind(y=>n(y.candidates,y.index,g.getNumRows().getOr(c.initSize.numRows),g.getNumColumns().getOr(c.initSize.numColumns))),dS=(n,s,a)=>a.captureTab?F.some(!0):F.none(),DA=(n,s,a)=>a.onEscape(n,s),PA=H2($2),Ub=H2(TA),fS=H2(rl),z2=H2(em),mS=G([Js(Gs(vv),N2(PA,Ub)),Js(Gs(P2),Hb(PA,Ub)),Js(Gs(Mb),Gn(fS)),Js(Gs(bv),Hh(z2)),Js(Jf([$h,Gs(kg)]),dS),Js(Jf([wv,Gs(kg)]),dS),Js(Gs(Iu.concat(_f)),OA)]),G4=G([Js(Gs(D2),DA),Js(Gs(Iu),Lb)]);var RA=Og(L2,CA,mS,G4,()=>F.some(kA));const FA=(n,s,a,c,g)=>{const y=k=>ec(k)==="button"&&xi(k,"disabled")==="disabled",w=(k,O,N)=>g(k,O,c,0,N.length-1,N[O],z=>y(N[z])?w(k,z,N):F.from(N[z]));return xA(n,a,s).bind(k=>{const O=k.index,N=k.candidates;return w(O,O,N)})},U2=(n,s,a,c)=>FA(n,s,a,c,(g,y,w,k,O,N,z)=>{const Z=Ms(y+w,k,O);return Z===g?F.from(N):z(Z)}),X1=(n,s,a,c)=>FA(n,s,a,c,(g,y,w,k,O,N,z)=>{const Z=is(y,w,k,O);return Z===g?F.none():z(Z)}),MA=[Jt("selector"),ht("getInitial",F.none),ht("execute",$b),mu("onEscape"),ht("executeOnMove",!1),ht("allowVertical",!0),ht("allowHorizontal",!0),ht("cycles",!0)],NA=(n,s)=>s.focusManager.get(n).bind(a=>Oi(a,s.selector)),V2=(n,s,a)=>NA(n,a).bind(c=>a.execute(n,s,c)),K4=(n,s,a)=>{s.getInitial(n).orThunk(()=>ur(n.element,s.selector)).each(c=>{s.focusManager.set(n,c)})},Y4=(n,s,a)=>(a.cycles?X1:U2)(n,a.selector,s,-1),Q1=(n,s,a)=>(a.cycles?X1:U2)(n,a.selector,s,1),pS=n=>(s,a,c,g)=>n(s,a,c,g).bind(()=>c.executeOnMove?V2(s,a,c):F.some(!0)),X4=(n,s,a)=>a.onEscape(n,s),Q4=(n,s,a,c)=>{const g=[...a.allowHorizontal?vv:[]].concat(a.allowVertical?Mb:[]),y=[...a.allowHorizontal?P2:[]].concat(a.allowVertical?bv:[]);return[Js(Gs(g),pS(N2(Y4,Q1))),Js(Gs(y),pS(Hb(Y4,Q1))),Js(Gs(_f),V2),Js(Gs(Iu),V2)]},BA=G([Js(Gs(Iu),Lb),Js(Gs(D2),X4)]);var J4=Og(MA,Im.init,Q4,BA,()=>F.some(K4));const gS=(n,s,a)=>F.from(n[s]).bind(c=>F.from(c[a]).map(g=>({rowIndex:s,columnIndex:a,cell:g}))),W2=(n,s,a,c)=>{const y=n[s].length,w=is(a,c,0,y-1);return gS(n,s,w)},hS=(n,s,a,c)=>{const g=is(a,c,0,n.length-1),y=n[g].length,w=Ms(s,0,y-1);return gS(n,g,w)},Pp=(n,s,a,c)=>{const y=n[s].length,w=Ms(a+c,0,y-1);return gS(n,s,w)},IA=(n,s,a,c)=>{const g=Ms(a+c,0,n.length-1),y=n[g].length,w=Ms(s,0,y-1);return gS(n,g,w)},j2=(n,s,a)=>W2(n,s,a,1),e_=(n,s,a)=>W2(n,s,a,-1),zh=(n,s,a)=>hS(n,a,s,-1),t_=(n,s,a)=>hS(n,a,s,1),n_=(n,s,a)=>Pp(n,s,a,-1),tM=(n,s,a)=>Pp(n,s,a,1),nM=(n,s,a)=>IA(n,a,s,-1),Sv=(n,s,a)=>IA(n,a,s,1),Vb=[mi("selectors",[Jt("row"),Jt("cell")]),ht("cycles",!0),ht("previousSelector",F.none),ht("execute",$b)],vS=(n,s,a)=>{s.previousSelector(n).orThunk(()=>{const g=s.selectors;return ur(n.element,g.cell)}).each(g=>{s.focusManager.set(n,g)})},o_=(n,s,a)=>Ra(n.element).bind(c=>a.execute(n,s,c)),s_=(n,s)=>He(n,a=>Di(a,s.selectors.cell)),Z2=(n,s)=>(a,c,g)=>{const y=g.cycles?n:s;return Oi(c,g.selectors.row).bind(w=>{const k=Di(w,g.selectors.cell);return cS(k,c).bind(O=>{const N=Di(a,g.selectors.row);return cS(N,w).bind(z=>{const Z=s_(N,g);return y(Z,z,O).map(oe=>oe.cell)})})})},$A=Z2(e_,n_),LA=Z2(j2,tM),Wb=Z2(zh,nM),q2=Z2(t_,Sv),bS=G([Js(Gs(vv),N2($A,LA)),Js(Gs(P2),Hb($A,LA)),Js(Gs(Mb),Gn(Wb)),Js(Gs(bv),Hh(q2)),Js(Gs(Iu.concat(_f)),o_)]),jb=G([Js(Gs(Iu),Lb)]);var yS=Og(Vb,Im.init,bS,jb,()=>F.some(vS));const r_=[Jt("selector"),ht("execute",$b),ht("moveOnTab",!1)],Zb=(n,s,a)=>a.focusManager.get(n).bind(c=>a.execute(n,s,c)),HA=(n,s,a)=>{ur(n.element,s.selector).each(c=>{s.focusManager.set(n,c)})},G2=(n,s,a)=>X1(n,a.selector,s,-1),K2=(n,s,a)=>X1(n,a.selector,s,1),J1=(n,s,a,c)=>a.moveOnTab?Dp(G2)(n,s,a,c):F.none(),a_=(n,s,a,c)=>a.moveOnTab?Dp(K2)(n,s,a,c):F.none(),Rp=G([Js(Gs(Mb),Dp(G2)),Js(Gs(bv),Dp(K2)),Js(Jf([$h,Gs(kg)]),J1),Js(Jf([wv,Gs(kg)]),a_),Js(Gs(_f),Zb),Js(Gs(Iu),Zb)]),i_=G([Js(Gs(Iu),Lb)]);var zA=Og(r_,Im.init,Rp,i_,()=>F.some(HA));const l_=[mu("onSpace"),mu("onEnter"),mu("onShiftEnter"),mu("onLeft"),mu("onRight"),mu("onTab"),mu("onShiftTab"),mu("onUp"),mu("onDown"),mu("onEscape"),ht("stopSpaceKeyup",!1),pr("focusIn")],oM=(n,s,a)=>[Js(Gs(Iu),a.onSpace),Js(Jf([wv,Gs(_f)]),a.onEnter),Js(Jf([$h,Gs(_f)]),a.onShiftEnter),Js(Jf([$h,Gs(kg)]),a.onShiftTab),Js(Jf([wv,Gs(kg)]),a.onTab),Js(Gs(Mb),a.onUp),Js(Gs(bv),a.onDown),Js(Gs(vv),a.onLeft),Js(Gs(P2),a.onRight),Js(Gs(Iu),a.onSpace)],Y2=(n,s,a)=>[...a.stopSpaceKeyup?[Js(Gs(Iu),Lb)]:[],Js(Gs(D2),a.onEscape)];var c_=Og(l_,Im.init,oM,Y2,n=>n.focusIn);const u_=q4.schema(),d_=hA.schema(),wS=J4.schema(),f_=RA.schema(),UA=yS.schema(),CS=wA.schema(),m_=zA.schema(),p_=c_.schema();var SS=Object.freeze({__proto__:null,acyclic:u_,cyclic:d_,flow:wS,flatgrid:f_,matrix:UA,execution:CS,menu:m_,special:p_});const VA=n=>Io(n,"setGridSize"),ho=JC({branchKey:"mode",branches:SS,name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,a)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},c=>{c(n,s,a)})},setGridSize:(n,s,a,c,g)=>{VA(a)?a.setGridSize(c,g):console.error("Layout does not support setGridSize")}},state:SA}),qb=pe("alloy-premade"),WA=n=>(Object.defineProperty(n.element.dom,qb,{value:n.uid,writable:!0}),Wf(qb,n)),g_=n=>Ho(n.dom,qb),xS=n=>sn(n,qb),Gb=n=>x((s,...a)=>n(s.getApis(),s,...a),n),X2=n=>n.getSystem().isConnected(),Kb=n=>{Ds(n,rd());const s=n.components();ut(s,Kb)},xv=n=>{const s=n.components();ut(s,xv),Ds(n,Ef())},ES=(n,s)=>{n.getSystem().addToWorld(s),As(n.element)&&xv(s)},AS=n=>{Kb(n),n.getSystem().removeFromWorld(n)},jA=(n,s)=>{oi(n.element,s.element)},TS=n=>{ut(n.components(),s=>Oc(s.element)),cp(n.element),n.syncComponents()},ZA=(n,s,a)=>{const c=n.components();TS(n);const g=a(s),y=at(c,g);ut(y,w=>{Kb(w),n.getSystem().removeFromWorld(w)}),ut(g,w=>{X2(w)?jA(n,w):(n.getSystem().addToWorld(w),jA(n,w),As(n.element)&&xv(w))}),n.syncComponents()},Ev=(n,s,a)=>{const c=n.components(),g=De(s,k=>xS(k).toArray());ut(c,k=>{$e(g,k)||AS(k)});const y=a(s),w=at(c,y);ut(w,k=>{X2(k)&&AS(k)}),ut(y,k=>{X2(k)||ES(n,k)}),n.syncComponents()},Dg=(n,s)=>{Av(n,s,oi)},Av=(n,s,a)=>{n.getSystem().addToWorld(s),a(n.element,s.element),As(n.element)&&xv(s),n.syncComponents()},Pg=n=>{Kb(n),Oc(n.element),n.getSystem().removeFromWorld(n)},Rg=n=>{const s=kc(n.element).bind(a=>n.getSystem().getByDom(a).toOptional());Pg(n),s.each(a=>{a.syncComponents()})},qA=n=>{const s=n.components();ut(s,Pg),cp(n.element),n.syncComponents()},Yb=(n,s)=>{GA(n,s,oi)},tm=(n,s)=>{GA(n,s,ih)},GA=(n,s,a)=>{a(n,s.element);const c=Wu(s.element);ut(c,g=>{s.getByDom(g).each(xv)})},KA=n=>{const s=Wu(n.element);ut(s,a=>{n.getByDom(a).each(Kb)}),Oc(n.element)},kS=(n,s,a)=>Zd(n,s).map(g=>{if(a.exists(w=>!ee(w,g))){const w=a.map(ec).getOr("span"),k=yn.fromTag(w);return Zu(g,k),k}else return g}),_S=(n,s,a)=>{a.fold(()=>oi(n,s),c=>{ee(c,s)||(Zu(c,s),Oc(c))})},YA=(n,s,a)=>{const c=He(s,a),g=Wu(n);return ut(g.slice(c.length),Oc),c},XA=(n,s,a,c)=>{const g=Zd(n,s),y=c(a,g),w=kS(n,s,g);return _S(n,y.element,w),y},h_=(n,s,a)=>YA(n,s,(c,g)=>XA(n,g,c,a)),QA=(n,s)=>YA(n,s,(a,c)=>{const g=Zd(n,c);return _S(n,a,g),a}),e0=(n,s)=>{const a=ei(s),c=Si(a).bind(y=>{const w=k=>ee(y,k);return w(s)?F.some(s):uh(s,w)}),g=n(s);return c.each(y=>{Si(a).filter(w=>ee(w,y)).fold(()=>{Bi(y)},J)}),g},OS=(n,s)=>{e0(()=>{ZA(n,s,()=>He(s,n.getSystem().build))},n.element)},JA=(n,s)=>{e0(()=>{Ev(n,s,()=>h_(n.element,s,n.getSystem().buildOrPatch))},n.element)},DS=(n,s,a,c)=>{AS(s);const g=XA(n.element,a,c,n.getSystem().buildOrPatch);ES(n,g),n.syncComponents()},PS=(n,s,a)=>{const c=n.getSystem().build(a);Av(n,c,s)},RS=(n,s,a,c)=>{Rg(s),PS(n,(g,y)=>lp(g,y,a),c)},v_=(n,s,a,c)=>(s.reuseDom?JA:OS)(n,c),t0=(n,s,a,c)=>{PS(n,oi,c)},n0=(n,s,a,c)=>{PS(n,ip,c)},Q2=(n,s,a,c)=>{const g=J2(n);Re(g,w=>ee(c.element,w.element)).each(Rg)},J2=(n,s)=>n.components(),eT=(n,s,a,c,g)=>{const y=J2(n);return F.from(y[c]).map(w=>(g.fold(()=>Rg(w),k=>{(s.reuseDom?DS:RS)(n,w,c,k)}),w))};var tT=Object.freeze({__proto__:null,append:t0,prepend:n0,remove:Q2,replaceAt:eT,replaceBy:(n,s,a,c,g)=>{const y=J2(n);return Ve(y,c).bind(w=>eT(n,s,a,w,g))},set:v_,contents:J2});const Xo=Zl({fields:[Or("reuseDom",!0)],name:"replacing",apis:tT}),ew=(n,s,a)=>ee(s,n.element)&&!ee(s,a),of=Oa([O2(Sf(),(n,s)=>{const a=s.event,c=a.originator,g=a.target;return ew(n,c,g)?(console.warn(Sf()+` did not get interpreted by the desired target. 
Originator: `+id(c)+`
Target: `+id(g)+`
Check the `+Sf()+" event handlers"),!1):!0})]);var Xb=Object.freeze({__proto__:null,events:of});const y_=G("alloy-id-"),tw=G("data-alloy-id"),w_=y_(),FS=tw(),MS=(n,s)=>{const a=pe(w_+n);return Qb(s,a),a},Qb=(n,s)=>{Object.defineProperty(n.dom,FS,{value:s,writable:!0})},Lm=n=>{const s=tc(n)?n.dom[FS]:null;return F.from(s)},Tv=n=>pe(n),C_=Ze,o0=n=>{const s=g=>`The component must be in a context to execute: ${g}`+(n?`
`+id(n().element)+" is not in context.":""),a=g=>()=>{throw new Error(s(g))},c=g=>()=>{console.warn(s(g))};return{debugInfo:G("fake"),triggerEvent:c("triggerEvent"),triggerFocus:c("triggerFocus"),triggerEscape:c("triggerEscape"),broadcast:c("broadcast"),broadcastOn:c("broadcastOn"),broadcastEvent:c("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:je}},Jb=o0(),nw=(n,s)=>{const a=He(s,g=>$c(g.name(),[Jt("config"),ht("state",Im)])),c=ia("component.behaviours",bo(a),n.behaviours).fold(g=>{throw new Error(qo(g)+`
Complete spec:
`+JSON.stringify(n,null,2))},Ze);return{list:s,data:ds(c,g=>{const y=g.map(w=>({config:w.config,state:w.state.init(w.config)}));return G(y)})}},El=n=>n.list,S_=n=>n.data,NS=(n,s)=>{const a={};return Bo(n,(c,g)=>{Bo(c,(y,w)=>{const k=sn(a,w).getOr([]);a[w]=k.concat([s(g,y)])})}),a},Uh=(n,s,a,c)=>{const g={...s};ut(a,z=>{g[z.name()]=z.exhibit(n,c)});const y=NS(g,(z,Z)=>({name:z,modification:Z})),w=z=>jn(z,(Z,oe)=>({...oe.modification,...Z}),{}),k=jn(y.classes,(z,Z)=>Z.modification.concat(z),[]),O=w(y.attributes),N=w(y.styles);return $m({classes:k,attributes:O,styles:N})},Fp=(n,s,a,c)=>{try{const g=kt(a,(y,w)=>{const k=y[s],O=w[s],N=c.indexOf(k),z=c.indexOf(O);if(N===-1)throw new Error("The ordering for "+n+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(c,null,2));if(z===-1)throw new Error("The ordering for "+n+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(c,null,2));return N<z?-1:z<N?1:0});return Kn.value(g)}catch(g){return Kn.error([g])}},BS=(n,s)=>({handler:n,purpose:s}),nT=(n,s)=>({cHandler:n,purpose:s}),x_=(n,s)=>nT(ct.apply(void 0,[n.handler].concat(s)),n.purpose),ow=n=>n.cHandler,ey=(n,s)=>({name:n,handler:s}),Vh=(n,s)=>{const a={};return ut(n,c=>{a[c.name()]=c.handlers(s)}),a},sw=(n,s,a)=>{const c={...a,...Vh(s,n)};return NS(c,ey)},rw=(n,s,a,c)=>{const g=sw(n,a,c);return aw(g,s)},Wh=n=>{const s=D4(n);return(a,c,...g)=>{const y=[a,c].concat(g);s.abort.apply(void 0,y)?c.stop():s.can.apply(void 0,y)&&s.run.apply(void 0,y)}},ty=(n,s)=>Kn.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(He(s,a=>a.name),null,2)]),IS=(n,s,a)=>{const c=s[a];return c?Fp("Event: "+a,"name",n,c).map(g=>{const y=He(g,w=>w.handler);return tA(y)}):ty(a,n)},aw=(n,s)=>{const a=po(n,(c,g)=>(c.length===1?Kn.value(c[0].handler):IS(c,s,g)).map(w=>{const k=Wh(w),O=c.length>1?Yt(s[g],N=>Mt(c,z=>z.name===N)).join(" > "):c[0].name;return Wf(g,BS(k,O))}));return Sh(a,{})},Hm="alloy.base.behaviour",oT=bo([Ji("dom","dom",nd(),bo([Jt("tag"),ht("styles",{}),ht("classes",[]),ht("attributes",{}),pr("value"),pr("innerHtml")])),Jt("components"),Jt("uid"),ht("events",{}),ht("apis",{}),Ji("eventOrder","eventOrder",wg({[gl()]:["disabling",Hm,"toggling","typeaheadevents"],[Sf()]:[Hm,"focusing","keying"],[xf()]:[Hm,"disabling","toggling","representing","tooltipping"],[Hi()]:[Hm,"representing","streaming","invalidating"],[rd()]:[Hm,"representing","item-events","toolbar-button-events","tooltipping"],[tl()]:["focusing",Hm,"item-type-events"],[fc()]:["focusing",Hm,"item-type-events"],[Hc()]:["item-type-events","tooltipping"],[Zf()]:["receiving","reflecting","tooltipping"]}),Ou()),pr("domModification")]),Mp=n=>ia("custom.definition",oT,n),$S=n=>({...n.dom,uid:n.uid,domChildren:He(n.components,s=>s.element)}),iw=n=>n.domModification.fold(()=>$m({}),$m),kv=n=>n.events,ny=(n,s)=>{const a=vo(n),c=vo(s),g=at(c,a),y=bt(n,(w,k)=>!Ho(s,k)||w!==s[k]).t;return{toRemove:g,toSet:y}},lw=(n,s)=>{const{class:a,style:c,...g}=qd(s),{toSet:y,toRemove:w}=ny(n.attributes,g),k=()=>{ut(w,st=>zr(s,st)),w1(s,y)},O=Hs(s),{toSet:N,toRemove:z}=ny(n.styles,O),Z=()=>{ut(z,st=>fs(s,st)),Nr(s,N)},oe=yf(s),fe=at(oe,n.classes),ye=at(n.classes,oe),Fe=()=>{ed(s,ye),Xi(s,fe)},Le=st=>{yl(s,st)},Ee=()=>{const st=n.domChildren;QA(s,st)},Xe=()=>{const st=s,xt=n.value.getOrUndefined();xt!==ic(st)&&Cl(st,xt??"")};return k(),Fe(),Z(),n.innerHtml.fold(Ee,Le),Xe(),s},E_=n=>{const s=yn.fromTag(n.tag);w1(s,n.attributes),ed(s,n.classes),Nr(s,n.styles),n.innerHtml.each(c=>yl(s,c));const a=n.domChildren;return wm(s,a),n.value.each(c=>{Cl(s,c)}),s},sT=(n,s)=>{try{const a=lw(n,s);return F.some(a)}catch{return F.none()}},cw=n=>n.innerHtml.isSome()&&n.domChildren.length>0,A_=(n,s)=>{const a=g=>ec(g)===n.tag&&!cw(n)&&!g_(g),c=s.filter(a).bind(g=>sT(n,g)).getOrThunk(()=>E_(n));return Qb(c,n.uid),c},LS=n=>{const s=sn(n,"behaviours").getOr({});return De(vo(s),a=>{const c=s[a];return Se(c)?[c.me]:[]})},zm=(n,s)=>nw(n,s),HS=n=>{const s=LS(n);return zm(n,s)},T_=(n,s,a)=>{const c=$S(n),g=iw(n),y={"alloy.base.modification":g},w=s.length>0?Uh(a,y,s,c):g;return Wc(c,w)},rT=(n,s,a)=>{const c={"alloy.base.behaviour":kv(n)};return rw(a,n.eventOrder,s,c).getOrDie()},aT=(n,s)=>{const a=()=>st,c=Mn(Jb),g=Xa(Mp(n)),y=HS(n),w=El(y),k=S_(y),O=T_(g,w,k),N=A_(O,s),z=rT(g,w,k),Z=Mn(g.components),oe=xt=>{c.set(xt)},fe=()=>{c.set(o0(a))},ye=()=>{const xt=Wu(N),Rt=De(xt,Rn=>c.get().getByDom(Rn).fold(()=>[],wt));Z.set(Rt)},Fe=xt=>{const Rt=k;return(re(Rt[xt.name()])?Rt[xt.name()]:()=>{throw new Error("Could not find "+xt.name()+" in "+JSON.stringify(n,null,2))})()},Le=xt=>re(k[xt.name()]),Ee=()=>g.apis,Xe=xt=>k[xt]().map(Rt=>Rt.state.readState()).getOr("not enabled"),st={uid:n.uid,getSystem:c.get,config:Fe,hasConfigured:Le,spec:n,readState:Xe,getApis:Ee,connect:oe,disconnect:fe,element:N,syncComponents:ye,components:Z.get,events:z};return st},iT=(n,s)=>{const a=sn(n,"components").getOr([]);return s.fold(()=>He(a,C),c=>He(a,(g,y)=>h(g,Zd(c,y))))},k_=(n,s)=>{const{events:a,...c}=C_(n),g=iT(c,s),y={...c,events:{...Xb,...a},components:g};return Kn.value(aT(y,s))},Ca=n=>{const s=yn.fromText(n);return sf({element:s})},sf=n=>{const s=Nc("external.component",Mc([Jt("element"),pr("uid")]),n),a=Mn(o0()),c=k=>{a.set(k)},g=()=>{a.set(o0(()=>w))},y=s.uid.getOrThunk(()=>Tv("external"));Qb(s.element,y);const w={uid:y,getSystem:a.get,config:F.none,hasConfigured:je,connect:c,disconnect:g,getApis:()=>({}),element:s.element,spec:n,readState:G("No state"),syncComponents:J,components:G([]),events:{}};return WA(w)},_v=Tv,d=n=>Ho(n,"uid"),h=(n,s)=>xS(n).getOrThunk(()=>{const a=d(n)?n:{uid:_v(""),...n};return k_(a,s).getOrDie()}),C=n=>h(n,F.none()),T=WA;var ue=Object.freeze({__proto__:null,block:(n,s,a,c)=>{Ao(n.element,"aria-busy",!0);const g=s.getRoot(n).getOr(n),y=bn([ho.config({mode:"special",onTab:()=>F.some(!0),onShiftTab:()=>F.some(!0)}),Go.config({})]),w=c(g,y),k=g.getSystem().build(w);Xo.append(g,T(k)),k.hasConfigured(ho)&&s.focus&&ho.focusIn(k),a.isBlocked()||s.onBlock(n),a.blockWith(()=>Xo.remove(g,k))},unblock:(n,s,a)=>{zr(n.element,"aria-busy"),a.isBlocked()&&s.onUnblock(n),a.clear()},isBlocked:(n,s,a)=>a.isBlocked()}),xe=[Os("getRoot",F.none),Or("focus",!0),zs("onBlock"),zs("onUnblock")],gt=Object.freeze({__proto__:null,init:()=>{const n=Sc(),s=a=>{n.set({destroy:a})};return Bd({readState:n.isSet,blockWith:s,clear:n.clear,isBlocked:n.isSet})}});const ln=Zl({fields:xe,name:"blocking",apis:ue,state:gt});var $n=Object.freeze({__proto__:null,getCurrent:(n,s,a)=>s.find(n)});const co=[Jt("find")],Ut=Zl({fields:co,name:"composing",apis:$n});var us=Object.freeze({__proto__:null,getCoupled:(n,s,a,c)=>a.getOrCreate(n,s,c),getExistingCoupled:(n,s,a,c)=>a.getExisting(n,s,c)}),eo=[uc("others",s2(Kn.value,Ou()))],kr=Object.freeze({__proto__:null,init:()=>{const n={},s=(y,w)=>{if(vo(y.others).length===0)throw new Error("Cannot find any known coupled components");return sn(n,w)},a=(y,w,k)=>s(w,k).getOrThunk(()=>{const N=sn(w.others,k).getOrDie("No information found for coupled component: "+k)(y),z=y.getSystem().build(N);return n[k]=z,z}),c=(y,w,k)=>s(w,k).orThunk(()=>(sn(w.others,k).getOrDie("No information found for coupled component: "+k),F.none())),g=G({});return Bd({readState:g,getExisting:c,getOrCreate:a})}});const os=Zl({fields:eo,name:"coupling",apis:us,state:kr}),zi=["input","button","textarea","select"],Of=(n,s,a)=>{(s.disabled()?gu:rf)(n,s)},Fg=(n,s)=>s.useNative===!0&&$e(zi,ec(n.element)),jh=n=>Ai(n.element,"disabled"),s0=n=>{Ao(n.element,"disabled","disabled")},Vr=n=>{zr(n.element,"disabled")},$u=n=>xi(n.element,"aria-disabled")==="true",ii=n=>{Ao(n.element,"aria-disabled","true")},Um=n=>{Ao(n.element,"aria-disabled","false")},gu=(n,s,a)=>{s.disableClass.each(g=>{wr(n.element,g)}),(Fg(n,s)?s0:ii)(n),s.onDisabled(n)},rf=(n,s,a)=>{s.disableClass.each(g=>{na(n.element,g)}),(Fg(n,s)?Vr:Um)(n),s.onEnabled(n)},gc=(n,s)=>Fg(n,s)?jh(n):$u(n);var oy=Object.freeze({__proto__:null,enable:rf,disable:gu,isDisabled:gc,onLoad:Of,set:(n,s,a,c)=>{(c?gu:rf)(n,s)}}),__=Object.freeze({__proto__:null,exhibit:(n,s)=>$m({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>Oa([_2(gl(),(a,c)=>gc(a,n)),KC(n,s,Of)])}),lT=[Os("disabled",je),ht("useNative",!0),pr("disableClass"),zs("onDisabled"),zs("onEnabled")];const so=Zl({fields:lT,name:"disabling",active:__,apis:oy}),cd=(n,s,a,c,g)=>{const y=w=>w+"px";return{position:n,left:s.map(y),top:a.map(y),right:c.map(y),bottom:g.map(y)}},O_=n=>({...n,position:F.some(n.position)}),dw=(n,s)=>{Ti(n,O_(s))},cT=(n,s)=>{const a=n.element;wr(a,s.transitionClass),na(a,s.fadeOutClass),wr(a,s.fadeInClass),s.onShow(n)},r0=(n,s)=>{const a=n.element;wr(a,s.transitionClass),na(a,s.fadeInClass),wr(a,s.fadeOutClass),s.onHide(n)},D_=(n,s)=>n.y<s.bottom&&n.bottom>s.y,uT=(n,s)=>n.y>=s.y,zS=(n,s)=>n.bottom<=s.bottom,US=(n,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-n.y}),dT=(n,s,a)=>({location:"bottom",leftX:s,bottomY:n.bottom-a.bounds.bottom}),VS=n=>n.box.x-n.win.x,az=(n,s,a)=>{const c=s.win,g=s.box,y=VS(s);return es(n,w=>{switch(w){case"bottom":return zS(g,a.bounds)?F.none():F.some(dT(c,y,a));case"top":return uT(g,a.bounds)?F.none():F.some(US(c,y,a));default:return F.none()}}).getOr({location:"no-dock"})},iz=(n,s,a)=>Ye(n,c=>{switch(c){case"bottom":return zS(s,a.bounds);case"top":return uT(s,a.bounds)}}),lz=(n,s)=>{const a=s.optScrollEnv.fold(G(n.bounds.y),c=>c.scrollElmTop+(n.bounds.y-c.currentScrollTop));return mr(n.bounds.x,a)},WS=(n,s)=>{const a=s.optScrollEnv.fold(G(n.y),c=>n.y+c.currentScrollTop-c.scrollElmTop);return mr(n.x,a)},jS=(n,s,a)=>a.getInitialPos().map(c=>{const g=lz(c,s);return{box:Pi(g.left,g.top,ja(n),Ea(n)),location:c.location}}),sM=(n,s,a,c,g)=>{const y=WS(s,a),w=Pi(y.left,y.top,s.width,s.height);c.setInitialPos({style:Hs(n),position:Ur(n,"position")||"static",bounds:w,location:g.location})},rM=(n,s,a,c,g)=>{c.getInitialPos().fold(()=>sM(n,s,a,c,g),()=>J)},aM=(n,s,a)=>a.getInitialPos().bind(c=>{switch(a.clearInitialPos(),c.position){case"static":return F.some({morph:"static"});case"absolute":const g=Uf(n).getOr(ac()),y=fi(g),w=g.dom.scrollTop??0;return F.some({morph:"absolute",positionCss:cd("absolute",sn(c.style,"left").map(k=>s.x-y.x),sn(c.style,"top").map(k=>s.y-y.y+w),sn(c.style,"right").map(k=>y.right-s.right),sn(c.style,"bottom").map(k=>y.bottom-s.bottom))});default:return F.none()}}),iM=(n,s,a)=>jS(n,s,a).filter(({box:c})=>iz(a.getModes(),c,s)).bind(({box:c})=>aM(n,c,a)),ZS=n=>{switch(n.location){case"top":return F.some({morph:"fixed",positionCss:cd("fixed",F.some(n.leftX),F.some(n.topY),F.none(),F.none())});case"bottom":return F.some({morph:"fixed",positionCss:cd("fixed",F.some(n.leftX),F.none(),F.none(),F.some(n.bottomY))});default:return F.none()}},fw=(n,s,a)=>{const c=fi(n),g=ml(),y=az(a.getModes(),{win:g,box:c},s);return y.location==="top"||y.location==="bottom"?(sM(n,c,s,a,y),ZS(y)):F.none()},P_=(n,s,a)=>iM(n,s,a).orThunk(()=>s.optScrollEnv.bind(c=>jS(n,s,a)).bind(({box:c,location:g})=>{const y=ml(),w=VS({win:y,box:c}),k=g==="top"?US(y,w,s):dT(y,w,s);return ZS(k)})),cz=(n,s,a)=>{const c=n.element;return ro(Er(c,"position"),"fixed")?P_(c,s,a):fw(c,s,a)},uz=(n,s,a)=>{const c=n.element;return jS(c,s,a).bind(({box:g})=>aM(c,g,a))},lM=(n,s,a,c)=>{const g=fi(n),y=ml(),w=VS({win:y,box:g}),k=c(y,w,s);return k.location==="bottom"||k.location==="top"?(rM(n,g,s,a,k),ZS(k)):F.none()},a0=(n,s,a)=>{a.setDocked(!1),ut(["left","right","top","bottom","position"],c=>fs(n.element,c)),s.onUndocked(n)},qS=(n,s,a,c)=>{const g=c.position==="fixed";a.setDocked(g),dw(n.element,c),(g?s.onDocked:s.onUndocked)(n)},fT=(n,s,a,c,g=!1)=>{s.contextual.each(y=>{y.lazyContext(n).each(w=>{const k=D_(w,c.bounds);k!==a.isVisible()&&(a.setVisible(k),g&&!k?(ed(n.element,[y.fadeOutClass]),y.onHide(n)):(k?cT:r0)(n,y))})})},GS=(n,s,a,c,g)=>{fT(n,s,a,c,!0),qS(n,s,a,g.positionCss)},cM=(n,s,a,c,g)=>{switch(g.morph){case"static":return a0(n,s,a);case"absolute":return qS(n,s,a,g.positionCss);case"fixed":return GS(n,s,a,c,g)}},mT=(n,s,a)=>{const c=s.lazyViewport(n);fT(n,s,a,c),cz(n,c,a).each(g=>{cM(n,s,a,c,g)})},R_=(n,s,a)=>{const c=n.element;a.setDocked(!1);const g=s.lazyViewport(n);uz(n,g,a).each(y=>{switch(y.morph){case"static":{a0(n,s,a);break}case"absolute":{qS(n,s,a,y.positionCss);break}}}),a.setVisible(!0),s.contextual.each(y=>{Xi(c,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(n)}),pT(n,s,a)},pT=(n,s,a)=>{n.getSystem().isConnected()&&mT(n,s,a)},uM=(n,s,a)=>{a.isDocked()&&R_(n,s,a)},Ng=n=>(s,a,c)=>{const g=a.lazyViewport(s);lM(s.element,g,c,n).each(w=>{GS(s,a,c,g,w)})},dz=Ng(US),fz=Ng(dT);var F_=Object.freeze({__proto__:null,refresh:pT,reset:uM,isDocked:(n,s,a)=>a.isDocked(),getModes:(n,s,a)=>a.getModes(),setModes:(n,s,a,c)=>a.setModes(c),forceDockToTop:dz,forceDockToBottom:fz}),dM=Object.freeze({__proto__:null,events:(n,s)=>Oa([hv(K0(),(a,c)=>{n.contextual.each(g=>{Za(a.element,g.transitionClass)&&(Xi(a.element,[g.transitionClass,g.fadeInClass]),(s.isVisible()?g.onShown:g.onHidden)(a)),c.stop()})}),zt(X0(),(a,c)=>{pT(a,n,s)}),zt(l2(),(a,c)=>{pT(a,n,s)}),zt(ai(),(a,c)=>{uM(a,n,s)})])}),M_=[$c("contextual",[Ma("fadeInClass"),Ma("fadeOutClass"),Ma("transitionClass"),Ic("lazyContext"),zs("onShow"),zs("onShown"),zs("onHide"),zs("onHidden")]),Os("lazyViewport",()=>({bounds:ml(),optScrollEnv:F.none()})),Pl("modes",["top","bottom"],Ri),zs("onDocked"),zs("onUndocked")],fM=Object.freeze({__proto__:null,init:n=>{const s=Mn(!1),a=Mn(!0),c=Do(),g=Mn(n.modes),y=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${g.get().join(",")}`;return Bd({isDocked:s.get,setDocked:s.set,getInitialPos:c.get,setInitialPos:c.set,clearInitialPos:c.clear,isVisible:a.get,setVisible:a.set,getModes:g.get,setModes:g.set,readState:y})}});const Ia=Zl({fields:M_,name:"docking",active:dM,apis:F_,state:fM}),N_=Hr.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),gT=n=>s=>s.translate(-n.left,-n.top),YS=n=>s=>s.translate(n.left,n.top),Zh=n=>(s,a)=>Cn(n,(c,g)=>g(c),mr(s,a)),hT=(n,s,a)=>n.fold(Zh([YS(a),gT(s)]),Zh([gT(s)]),Zh([])),mw=(n,s,a)=>n.fold(Zh([YS(a)]),Zh([]),Zh([YS(s)])),B_=(n,s,a)=>n.fold(Zh([]),Zh([gT(a)]),Zh([YS(s),gT(a)])),mM=(n,s,a,c,g,y)=>{const w=mw(n,g,y),k=mw(s,g,y);return Math.abs(w.left-k.left)<=a&&Math.abs(w.top-k.top)<=c},pM=(n,s,a,c,g,y)=>{const w=mw(n,g,y),k=mw(s,g,y),O=Math.abs(w.left-k.left),N=Math.abs(w.top-k.top);return mr(O,N)},I_=(n,s,a)=>{const c=n.fold((g,y)=>({position:F.some("absolute"),left:F.some(g+"px"),top:F.some(y+"px")}),(g,y)=>({position:F.some("absolute"),left:F.some(g-a.left+"px"),top:F.some(y-a.top+"px")}),(g,y)=>({position:F.some("fixed"),left:F.some(g+"px"),top:F.some(y+"px")}));return{right:F.none(),bottom:F.none(),...c}},vT=(n,s,a)=>n.fold((c,g)=>qh(c+s,g+a),(c,g)=>Bp(c+s,g+a),(c,g)=>sy(c+s,g+a)),bT=(n,s,a,c)=>{const g=(y,w)=>(k,O)=>{const N=y(s,a,c);return w(k.getOr(N.left),O.getOr(N.top))};return n.fold(g(B_,qh),g(mw,Bp),g(hT,sy))},qh=N_.offset,Bp=N_.absolute,sy=N_.fixed,gM=(n,s)=>{const a=xi(n,s);return Me(a)?NaN:parseInt(a,10)},mz=(n,s)=>{const a=n.element,c=gM(a,s.leftAttr),g=gM(a,s.topAttr);return isNaN(c)||isNaN(g)?F.none():F.some(mr(c,g))},pz=(n,s,a)=>{const c=n.element;Ao(c,s.leftAttr,a.left+"px"),Ao(c,s.topAttr,a.top+"px")},hM=(n,s)=>{const a=n.element;zr(a,s.leftAttr),zr(a,s.topAttr)},gz=(n,s,a,c)=>mz(n,s).fold(()=>a,g=>sy(g.left+c.left,g.top+c.top)),vM=(n,s,a,c,g,y)=>{const w=gz(n,s,a,c),k=s.mustSnap?yM(n,s,w,g,y):pw(n,s,w,g,y),O=hT(w,g,y);return pz(n,s,O),k.fold(()=>({coord:sy(O.left,O.top),extra:F.none()}),N=>({coord:N.output,extra:N.extra}))},hz=(n,s)=>{hM(n,s)},bM=(n,s,a,c)=>es(n,g=>{const y=g.sensor;return mM(s,y,g.range.left,g.range.top,a,c)?F.some({output:bT(g.output,s,a,c),extra:g.extra}):F.none()}),yM=(n,s,a,c,g)=>{const y=s.getSnapPoints(n);return bM(y,a,c,g).orThunk(()=>Cn(y,(O,N)=>{const z=N.sensor,Z=pM(a,z,N.range.left,N.range.top,c,g);return O.deltas.fold(()=>({deltas:F.some(Z),snap:F.some(N)}),oe=>{const fe=(Z.left+Z.top)/2,ye=(oe.left+oe.top)/2;return fe<=ye?{deltas:F.some(Z),snap:F.some(N)}:O})},{deltas:F.none(),snap:F.none()}).snap.map(O=>({output:bT(O.output,a,c,g),extra:O.extra})))},pw=(n,s,a,c,g)=>{const y=s.getSnapPoints(n);return bM(y,a,c,g)},wM=(n,s,a)=>({coord:bT(n.output,n.output,s,a),extra:n.extra});var bz=Object.freeze({__proto__:null,snapTo:(n,s,a,c)=>{const g=s.getTarget(n.element);if(s.repositionTarget){const y=nc(n.element),w=pa(y),k=_1(g),O=wM(c,w,k),N=I_(O.coord,w,k);Ti(g,N)}}});const hc=(n,s)=>Md(n,{},He(s,a=>wb(a.name(),"Cannot configure "+a.name()+" for "+n)).concat([Bc("dump",Ze)])),XS=n=>n.dump,vu=(n,s)=>({...bn(s),...n.dump}),Ip={field:hc,augment:vu,get:XS},yz=(n,s)=>(n.length>0?[mi("parts",n)]:[]).concat([Jt("uid"),ht("dom",{}),ht("components",[]),Oh("originalSpec"),ht("debug.sketcher",{})]).concat(s),CM=(n,s,a,c,g)=>{const y=yz(c,g);return Nc(n+" [SpecSchema]",Mc(y.concat(s)),a)},wz=(n,s,a,c)=>{const g=wT(c),y=CM(n,s,g,[],[]);return a(y,g)},$_=(n,s,a,c,g)=>{const y=wT(g),w=Sl(a),k=Ag(a),O=CM(n,s,y,w,[k]),N=ld(n,O,a),z=m2(n,O,N.internals());return c(O,z,y,N.externals())},yT=n=>Ho(n,"uid"),wT=n=>yT(n)?n:{...n,uid:Tv("uid")},Cz=n=>n.uid!==void 0,qte=Mc([Jt("name"),Jt("factory"),Jt("configFields"),ht("apis",{}),ht("extraApis",{})]),SM=Mc([Jt("name"),Jt("factory"),Jt("configFields"),Jt("partFields"),ht("apis",{}),ht("extraApis",{})]),nm=n=>{const s=Nc("Sketcher for "+n.name,qte,n),a=y=>wz(s.name,s.configFields,s.factory,y),c=ds(s.apis,Gb),g=ds(s.extraApis,(y,w)=>p(y,w));return{name:s.name,configFields:s.configFields,sketch:a,...c,...g}},Id=n=>{const s=Nc("Sketcher for "+n.name,SM,n),a=w=>$_(s.name,s.configFields,s.partFields,s.factory,w),c=Dh(s.name,s.partFields),g=ds(s.apis,Gb),y=ds(s.extraApis,(w,k)=>p(w,k));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:c,...g,...y}},Bg=nm({name:"Container",factory:n=>{const{attributes:s,...a}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:n.components,behaviours:XS(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[ht("components",[]),hc("containerBehaviours",[]),ht("events",{}),ht("domModification",{}),ht("eventOrder",{})]}),L_="data-initial-z-index",Sz=n=>{kc(n.element).filter(tc).each(s=>{Ei(s,L_).fold(()=>fs(s,"z-index"),a=>To(s,"z-index",a)),zr(s,L_)})},xz=n=>{kc(n.element).filter(tc).each(s=>{Er(s,"z-index").each(a=>{Ao(s,L_,a)}),To(s,"z-index",Ur(n.element,"z-index"))})},xM=(n,s)=>{n.getSystem().addToGui(s),xz(s)},gw=n=>{Sz(n),n.getSystem().removeFromGui(n)},CT=(n,s,a)=>n.getSystem().build(Bg.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var Ez=$c("snaps",[Jt("getSnapPoints"),zs("onSensor"),Jt("leftAttr"),Jt("topAttr"),ht("lazyViewport",ml),ht("mustSnap",!1)]);const QS=[ht("useFixed",je),Jt("blockerClass"),ht("getTarget",Ze),ht("onDrag",J),ht("repositionTarget",!0),ht("onDrop",J),Os("getBounds",ml),Ez],ST=n=>nr(Er(n,"left"),Er(n,"top"),Er(n,"position"),(s,a,c)=>(c==="fixed"?sy:qh)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=ki(n);return Bp(s.left,s.top)}),H_=(n,s,a,c,g)=>{const y=g.bounds,w=mw(s,a,c),k=Ms(w.left,y.x,y.x+y.width-g.width),O=Ms(w.top,y.y,y.y+y.height-g.height),N=Bp(k,O);return s.fold(()=>{const z=B_(N,a,c);return qh(z.left,z.top)},G(N),()=>{const z=hT(N,a,c);return sy(z.left,z.top)})},Az=(n,s,a,c,g,y,w)=>{const k=s.fold(()=>{const O=vT(a,y.left,y.top),N=hT(O,c,g);return sy(N.left,N.top)},O=>{const N=vM(n,O,a,y,c,g);return N.extra.each(z=>{O.onSensor(n,z)}),N.coord});return H_(n,k,c,g,w)},Tz=(n,s,a,c)=>{const g=s.getTarget(n.element);if(s.repositionTarget){const y=nc(n.element),w=pa(y),k=_1(g),O=ST(g),N=Az(n,s.snaps,O,w,k,c,a),z=I_(N,w,k);Ti(g,z)}s.onDrag(n,g,c)},EM=(n,s)=>({bounds:n.getBounds(),height:Rr(s.element),width:Gu(s.element)}),z_=(n,s,a,c,g)=>{const y=a.update(c,g),w=a.getStartData().getOrThunk(()=>EM(s,n));y.each(k=>{Tz(n,s,w,k)})},AM=(n,s,a,c)=>{s.each(gw),a.snaps.each(y=>{hz(n,y)});const g=a.getTarget(n.element);c.reset(),a.onDrop(n,g)},U_=n=>(s,a)=>{const c=g=>{a.setStartData(EM(s,g))};return Oa([zt(X0(),g=>{a.getStartData().each(()=>c(g))}),...n(s,a,c)])},kz=n=>Oa([zt(tl(),n.forceDrop),zt(xh(),n.drop),zt(km(),(s,a)=>{n.move(a.event)}),zt(Qa(),n.delayDrop)]);var Oz=Object.freeze({__proto__:null,getData:n=>F.from(mr(n.x,n.y)),getDelta:(n,s)=>mr(s.left-n.left,s.top-n.top)});const TM=(n,s,a)=>[zt(tl(),(c,g)=>{if(g.event.raw.button!==0)return;g.stop();const w=()=>AM(c,F.some(N),n,s),k=_(w,200),O={drop:w,delayDrop:k.schedule,forceDrop:w,move:Z=>{k.cancel(),z_(c,n,s,Oz,Z)}},N=CT(c,n.blockerClass,kz(O));a(c),xM(c,N)})],Dz=[...QS,dr("dragger",{handlers:U_(TM)})],Pz=n=>Oa([zt(fc(),n.forceDrop),zt(Ru(),n.drop),zt(yp(),n.drop),zt(Ga(),(s,a)=>{n.move(a.event)})]),hw=n=>{const s=n[0];return F.some(mr(s.clientX,s.clientY))};var xT=Object.freeze({__proto__:null,getData:n=>{const a=n.raw.touches;return a.length===1?hw(a):F.none()},getDelta:(n,s)=>mr(s.left-n.left,s.top-n.top)});const _M=(n,s,a)=>{const c=Do(),g=y=>{AM(y,c.get(),n,s),c.clear()};return[zt(fc(),(y,w)=>{w.stop();const k=()=>g(y),O={drop:k,delayDrop:J,forceDrop:k,move:Z=>{z_(y,n,s,xT,Z)}},N=CT(y,n.blockerClass,Pz(O));c.set(N),a(y),xM(y,N)}),zt(Ga(),(y,w)=>{w.stop(),z_(y,n,s,xT,w.event)}),zt(Ru(),(y,w)=>{w.stop(),g(y)}),zt(yp(),g)]},Hn=[...QS,dr("dragger",{handlers:U_(_M)})],ry=(n,s,a)=>[...TM(n,s,a),..._M(n,s,a)],Rz=[...QS,dr("dragger",{handlers:U_(ry)})];var Mz=Object.freeze({__proto__:null,mouse:Dz,touch:Hn,mouseOrTouch:Rz}),DM=Object.freeze({__proto__:null,init:()=>{let n=F.none(),s=F.none();const a=()=>{n=F.none(),s=F.none()},c=(O,N)=>{const z=n.map(Z=>O.getDelta(Z,N));return n=F.some(N),z},g=(O,N)=>O.getData(N).bind(z=>c(O,z)),y=O=>{s=F.some(O)},w=()=>s,k=G({});return Bd({readState:k,reset:a,update:g,getStartData:w,setStartData:y})}});const i0=JC({branchKey:"mode",branches:Mz,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:F.from(n.extra)})},state:DM,apis:bz}),Bz=["input","textarea"],j_=n=>{const s=ec(n);return $e(Bz,s)},PM=(n,s)=>{const a=s.getRoot(n).getOr(n.element);na(a,s.invalidClass),s.notify.each(c=>{j_(n.element)&&Ao(n.element,"aria-invalid",!1),c.getContainer(n).each(g=>{yl(g,c.validHtml)}),c.onValid(n)})},RM=(n,s,a,c)=>{const g=s.getRoot(n).getOr(n.element);wr(g,s.invalidClass),s.notify.each(y=>{j_(n.element)&&Ao(n.element,"aria-invalid",!0),y.getContainer(n).each(w=>{yl(w,c)}),y.onInvalid(n,c)})},Z_=(n,s,a)=>s.validator.fold(()=>as.pure(Kn.value(!0)),c=>c.validate(n)),q_=(n,s,a)=>(s.notify.each(c=>{c.onValidate(n)}),Z_(n,s).map(c=>n.getSystem().isConnected()?c.fold(g=>(RM(n,s,a,g),Kn.error(g)),g=>(PM(n,s),Kn.value(g))):Kn.error("No longer in system")));var G_=Object.freeze({__proto__:null,markValid:PM,markInvalid:RM,query:Z_,run:q_,isInvalid:(n,s)=>{const a=s.getRoot(n).getOr(n.element);return Za(a,s.invalidClass)}}),ET=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(a=>Oa([zt(a.onEvent,c=>{q_(c,n,s).get(Ze)})].concat(a.validateOnLoad?[ga(c=>{q_(c,n,s).get(J)})]:[]))).getOr({})}),AT=[Jt("invalidClass"),ht("getRoot",F.none),$c("notify",[ht("aria","alert"),ht("getContainer",F.none),ht("validHtml",""),zs("onValid"),zs("onInvalid"),zs("onValidate")]),$c("validator",[Jt("validate"),ht("onEvent","input"),ht("validateOnLoad",!0)])];const vw=(n,s,a)=>{s.store.manager.onLoad(n,s,a)},Ig=(n,s,a)=>{s.store.manager.onUnload(n,s,a)};var Xte=Object.freeze({__proto__:null,onLoad:vw,onUnload:Ig,setValue:(n,s,a,c)=>{s.store.manager.setValue(n,s,a,c)},getValue:(n,s,a)=>s.store.manager.getValue(n,s,a),getState:(n,s,a)=>a}),Lz=Object.freeze({__proto__:null,events:(n,s)=>{const a=n.resetOnDom?[ga((c,g)=>{vw(c,n,s)}),Qf((c,g)=>{Ig(c,n,s)})]:[KC(n,s,vw)];return Oa(a)}});const TT=()=>{const n=Mn(null),s=()=>({mode:"memory",value:n.get()}),a=()=>n.get()===null,c=()=>{n.set(null)};return Bd({set:n.set,get:n.get,isNotSet:a,clear:c,readState:s})},Hz=()=>Bd({readState:J}),FM=()=>{const n=Mn({}),s=Mn({});return Bd({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:w=>sn(n.get(),w).orThunk(()=>sn(s.get(),w)),update:w=>{const k=n.get(),O=s.get(),N={},z={};ut(w,Z=>{N[Z.value]=Z,sn(Z,"meta").each(oe=>{sn(oe,"text").each(fe=>{z[fe]=Z})})}),n.set({...k,...N}),s.set({...O,...z})},clear:()=>{n.set({}),s.set({})}})};var MM=Object.freeze({__proto__:null,memory:TT,dataset:FM,manual:Hz,init:n=>n.store.manager.state(n)});const NM=(n,s,a,c)=>{const g=s.store;a.update([c]),g.setValue(n,c),s.onSetValue(n,c)},zz=(n,s,a)=>{const c=s.store,g=c.getDataKey(n);return a.lookup(g).getOrThunk(()=>c.getFallbackEntry(g))},BM=(n,s,a)=>{s.store.initialValue.each(g=>{NM(n,s,a,g)})},IM=(n,s,a)=>{a.clear()};var Uz=[pr("initialValue"),Jt("getFallbackEntry"),Jt("getDataKey"),Jt("setValue"),dr("manager",{setValue:NM,getValue:zz,onLoad:BM,onUnload:IM,state:FM})];const $M=(n,s,a)=>s.store.getValue(n),Vz=(n,s,a,c)=>{s.store.setValue(n,c),s.onSetValue(n,c)},K_=(n,s,a)=>{s.store.initialValue.each(c=>{s.store.setValue(n,c)})};var LM=[Jt("getValue"),ht("setValue",J),pr("initialValue"),dr("manager",{setValue:Vz,getValue:$M,onLoad:K_,onUnload:J,state:Im.init})];const HM=(n,s,a,c)=>{a.set(c),s.onSetValue(n,c)},zM=(n,s,a)=>a.get(),Wz=(n,s,a)=>{s.store.initialValue.each(c=>{a.isNotSet()&&a.set(c)})},jz=(n,s,a)=>{a.clear()};var Zz=[pr("initialValue"),dr("manager",{setValue:HM,getValue:zM,onLoad:Wz,onUnload:jz,state:TT})],qz=[Lc("store",{mode:"memory"},pl("mode",{memory:Zz,manual:LM,dataset:Uz})),zs("onSetValue"),ht("resetOnDom",!1)];const Vn=Zl({fields:qz,name:"representing",active:Lz,apis:Xte,extra:{setValueFrom:(n,s)=>{const a=Vn.getValue(s);Vn.setValue(n,a)}},state:MM}),om=Zl({fields:AT,name:"invalidating",active:ET,apis:G_,extra:{validation:n=>s=>{const a=Vn.getValue(s);return as.pure(n(a))}}});var UM=Object.freeze({__proto__:null,exhibit:(n,s)=>$m({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const kT=Hr.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Y_=(n,s,a,c,g,y)=>{const w=s.rect,k=w.x-a,O=w.y-c,N=w.width,z=w.height,Z=g-(k+N),oe=y-(O+z),fe=F.some(k),ye=F.some(O),Fe=F.some(Z),Le=F.some(oe),Ee=F.none();return g2(s.direction,()=>cd(n,fe,ye,Ee,Ee),()=>cd(n,Ee,ye,Fe,Ee),()=>cd(n,fe,Ee,Ee,Le),()=>cd(n,Ee,Ee,Fe,Le),()=>cd(n,fe,ye,Ee,Ee),()=>cd(n,fe,Ee,Ee,Le),()=>cd(n,fe,ye,Ee,Ee),()=>cd(n,Ee,ye,Fe,Ee))},X_=(n,s)=>n.fold(()=>{const a=s.rect;return cd("absolute",F.some(a.x),F.some(a.y),F.none(),F.none())},(a,c,g,y)=>Y_("absolute",s,a,c,g,y),(a,c,g,y)=>Y_("fixed",s,a,c,g,y)),Q_=(n,s)=>{const a=ct(mh,s),c=n.fold(a,a,()=>{const w=pa();return mh(s).translate(-w.left,-w.top)}),g=Gu(s),y=Rr(s);return Pi(c.left,c.top,g,y)},Kz=(n,s)=>s.fold(()=>n.fold(ml,ml,Pi),a=>n.fold(G(a),G(a),()=>{const c=VM(n,a.x,a.y);return Pi(c.left,c.top,a.width,a.height)})),VM=(n,s,a)=>{const c=mr(s,a),g=()=>{const y=pa();return c.translate(-y.left,-y.top)};return n.fold(G(c),G(c),g)},J_=(n,s,a,c)=>n.fold(s,a,c);kT.none;const Yz=kT.relative,_T=kT.fixed,Xz=(n,s)=>({anchorBox:n,origin:s}),WM=(n,s)=>Xz(n,s),vc=Hr.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Qz=(n,s)=>{const{x:a,y:c,right:g,bottom:y}=s,{x:w,y:k,right:O,bottom:N,width:z,height:Z}=n,oe=w>=a&&w<=g,fe=k>=c&&k<=y,ye=oe&&fe,Fe=O<=g&&O>=a,Le=N<=y&&N>=c,Ee=Fe&&Le,Xe=Math.min(z,w>=a?g-w:O-a),st=Math.min(Z,k>=c?y-k:N-c);return{originInBounds:ye,sizeInBounds:Ee,visibleW:Xe,visibleH:st}},jM=(n,s)=>{const{x:a,y:c,right:g,bottom:y}=s,{x:w,y:k,width:O,height:N}=n,z=Math.max(a,g-O),Z=Math.max(c,y-N),oe=Ms(w,a,z),fe=Ms(k,c,Z),ye=Math.min(oe+O,g)-oe,Fe=Math.min(fe+N,y)-fe;return Pi(oe,fe,ye,Fe)},ZM=(n,s,a)=>{const c=G(s.bottom-a.y),g=G(a.bottom-s.y),y=W1(n,g,g,c),w=G(s.right-a.x),k=G(a.right-s.x);return{maxWidth:Fh(n,k,k,w),maxHeight:y}},Jz=(n,s,a,c)=>{const g=n.bubble,y=g.offset,w=Nh(c,n.restriction,y),k=n.x+y.left,O=n.y+y.top,N=Pi(k,O,s,a),{originInBounds:z,sizeInBounds:Z,visibleW:oe,visibleH:fe}=Qz(N,w),ye=z&&Z,Fe=ye?N:jM(N,w),Le=Fe.width>0&&Fe.height>0,{maxWidth:Ee,maxHeight:Xe}=ZM(n.direction,Fe,c),st={rect:Fe,maxHeight:Xe,maxWidth:Ee,direction:n.direction,placement:n.placement,classes:{on:g.classesOn,off:g.classesOff},layout:n.label,testY:O};return ye||n.alwaysFit?vc.fit(st):vc.nofit(st,oe,fe,Le)},qM=(n,s,a,c,g,y)=>{const w=c.width,k=c.height,O=(z,Z,oe,fe,ye)=>{const Fe=z(a,c,g,n,y),Le=Jz(Fe,w,k,y);return Le.fold(G(Le),(Ee,Xe,st,xt)=>(ye===xt?st>fe||Xe>oe:!ye&&xt)?Le:vc.nofit(Z,oe,fe,ye))};return Cn(s,(z,Z)=>{const oe=ct(O,Z);return z.fold(G(z),oe)},vc.nofit({rect:a,maxHeight:c.height,maxWidth:c.width,direction:Eb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(Ze,Ze)},eO=["top","bottom","right","left"],OT="data-alloy-transition-timer",eU=(n,s)=>bf(n,s.classes),tU=(n,s,a)=>a.exists(c=>{const g=n.mode;return g==="all"?!0:c[g]!==s[g]}),nU=(n,s)=>{const a=c=>parseFloat(c).toFixed(3);return rs(s,(c,g)=>{const y=n[g].map(a),w=c.map(a);return!Dn(y,w)}).isSome()},GM=n=>{const s=y=>{const k=Ur(n,y).split(/\s*,\s*/);return Yt(k,Yl)},a=y=>{if(H(y)&&/^[\d.]+/.test(y)){const w=parseFloat(y);return Il(y,"ms")?w:w*1e3}else return 0},c=s("transition-delay"),g=s("transition-duration");return Cn(g,(y,w,k)=>{const O=a(c[k])+a(w);return Math.max(y,O)},0)},oU=(n,s)=>{const a=Gr(),c=Gr();let g;const y=N=>{const z=N.raw.pseudoElement??"";return ee(N.target,n)&&vi(z)&&$e(eO,N.raw.propertyName)},w=N=>{if(de(N)||y(N)){a.clear(),c.clear();const z=N?.raw.type;(de(z)||z===K0())&&(clearTimeout(g),zr(n,OT),Xi(n,s.classes))}},k=cr(n,fu(),N=>{y(N)&&(k.unbind(),a.set(cr(n,K0(),w)),c.set(cr(n,Sb(),w)))}),O=GM(n);window.requestAnimationFrame(()=>{g=setTimeout(w,O+17),Ao(n,OT,g)})},sU=(n,s)=>{ed(n,s.classes),Ei(n,OT).each(a=>{clearTimeout(parseInt(a,10)),zr(n,OT)}),oU(n,s)},KM=(n,s,a,c,g,y)=>{const w=tU(c,g,y);if(w||eU(n,c)){To(n,"position",a.position);const k=Q_(s,n),O=X_(s,{...g,rect:k}),N=En(eO,z=>O[z]);nU(a,N)&&(Ti(n,N),w&&sU(n,c),Wa(n))}else Xi(n,c.classes)},YM=n=>({width:Math.ceil(Gu(n)),height:Rr(n)}),XM=(n,s,a,c)=>{fs(s,"max-height"),fs(s,"max-width");const g=YM(s);return qM(s,c.preference,n,g,a,c.bounds)},rU=(n,s)=>{const a=s.classes;Xi(n,a.off),ed(n,a.on)},aU=(n,s,a)=>{const c=a.maxHeightFunction;c(n,s.maxHeight)},iU=(n,s,a)=>{const c=a.maxWidthFunction;c(n,s.maxWidth)},lU=(n,s,a)=>{const c=X_(a.origin,s);a.transition.each(g=>{KM(n,a.origin,c,g,s,a.lastPlacement)}),dw(n,c)},QM=(n,s)=>{lv(n,s.placement)},tO=(n,s,a)=>n[s]===void 0?a:n[s],Ov=(n,s,a,c,g,y,w,k)=>{const O=tO(w,"maxHeightFunction",jC()),N=tO(w,"maxWidthFunction",J),z=n.anchorBox,Z=n.origin,oe={bounds:Kz(Z,y),origin:Z,preference:c,maxHeightFunction:O,maxWidthFunction:N,lastPlacement:g,transition:k};return JM(z,s,a,oe)},JM=(n,s,a,c)=>{const g=XM(n,s,a,c);return lU(s,g,c),QM(s,g),rU(s,g),aU(s,g,c),iU(s,g,c),{layout:g.layout,placement:g.placement}},JS=Ze,Dv=()=>$c("layouts",[Jt("onLtr"),Jt("onRtl"),pr("onBottomLtr"),pr("onBottomRtl")]),DT=(n,s,a,c,g,y,w)=>{const k=w.map(_4).getOr(!1),O=s.layouts.map(fe=>fe.onLtr(n)),N=s.layouts.map(fe=>fe.onRtl(n)),z=k?s.layouts.bind(fe=>fe.onBottomLtr.map(ye=>ye(n))).or(O).getOr(g):O.getOr(a),Z=k?s.layouts.bind(fe=>fe.onBottomRtl.map(ye=>ye(n))).or(N).getOr(y):N.getOr(c);return Ed(z,Z)(n)},bw=(n,s,a)=>{const c=s.hotspot,g=Q_(a,c.element),y=DT(n.element,s,UC(),w2(),y2(),zC(),F.some(s.hotspot.element));return F.some(JS({anchorBox:g,bubble:s.bubble.getOr(Rh()),overrides:s.overrides,layouts:y}))};var cU=[Jt("hotspot"),pr("bubble"),ht("overrides",{}),Dv(),dr("placement",bw)];const uU=(n,s,a)=>{const c=VM(a,s.x,s.y),g=Pi(c.left,c.top,s.width,s.height),y=DT(n.element,s,HC(),QE(),HC(),QE(),F.none());return F.some(JS({anchorBox:g,bubble:s.bubble,overrides:s.overrides,layouts:y}))};var eN=[Jt("x"),Jt("y"),ht("height",0),ht("width",0),ht("bubble",Rh()),ht("overrides",{}),Dv(),dr("placement",uU)];const tN=Hr.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),dU=n=>n.fold(Ze,(s,a,c)=>s.translate(-a,-c)),fU=n=>n.fold(Ze,Ze),nO=n=>Cn(n,(s,a)=>s.translate(a.left,a.top),mr(0,0)),oO=n=>{const s=He(n,dU);return nO(s)},PT=n=>{const s=He(n,fU);return nO(s)},mU=tN.screen,Pv=tN.absolute,nN=(n,s,a)=>{const c=cg(a.root).dom,g=y=>{const w=nc(y),k=nc(n.element);return ee(w,k)};return F.from(c.frameElement).map(yn.fromDom).filter(g).map(ki)},sO=(n,s,a)=>{const c=nc(n.element),g=pa(c),y=nN(n,s,a).getOr(g);return Pv(y,g.left,g.top)},rO=(n,s,a,c)=>{const g=mU(mr(n,s));return F.some(xm(g,a,c))},oN=(n,s,a,c,g)=>n.map(y=>{const w=[s,y.point],k=J_(c,()=>PT(w),()=>PT(w),()=>oO(w)),O=Qy(k.left,k.top,y.width,y.height),N=a.showAbove?y2():UC(),z=a.showAbove?zC():w2(),Z=DT(g,a,N,z,N,z,F.none());return JS({anchorBox:O,bubble:a.bubble.getOr(Rh()),overrides:a.overrides,layouts:Z})}),ex=(n,s,a)=>{const c=sO(n,a,s);return s.node.filter(As).bind(g=>{const y=g.dom.getBoundingClientRect(),w=rO(y.left,y.top,y.width,y.height),k=s.node.getOr(n.element);return oN(w,c,s,a,k)})};var tx=[Jt("node"),Jt("root"),pr("bubble"),Dv(),ht("overrides",{}),ht("showAbove",!1),dr("placement",ex)];const nx=(n,s)=>({element:n,offset:s}),aO=(n,s)=>{const a=Wu(n);if(a.length===0)return nx(n,s);if(s<a.length)return nx(a[s],0);{const c=a[a.length-1],g=jd(c)?Yu(c).length:Wu(c).length;return nx(c,g)}},l0=(n,s)=>jd(n)?nx(n,s):aO(n,s),Gh=n=>n.foffset!==void 0,sN=(n,s)=>s.getSelection.getOrThunk(()=>()=>$f(n))().map(c=>{if(Gh(c)){const g=l0(c.start,c.soffset),y=l0(c.finish,c.foffset);return Dl.range(g.element,g.offset,y.element,y.offset)}else return c}),pU=(n,s,a)=>{const c=cg(s.root).dom,g=sO(n,a,s),y=sN(c,s).bind(O=>{if(Gh(O))return Yd(c,Dl.exactFromRange(O)).orThunk(()=>{const z=yn.fromText(Ql);Zu(O.start,z);const Z=wf(c,Dl.exact(z,0,z,1));return Oc(z),Z}).bind(z=>rO(z.left,z.top,z.width,z.height));{const N=ds(O,Z=>Z.dom.getBoundingClientRect()),z={left:Math.min(N.firstCell.left,N.lastCell.left),right:Math.max(N.firstCell.right,N.lastCell.right),top:Math.min(N.firstCell.top,N.lastCell.top),bottom:Math.max(N.firstCell.bottom,N.lastCell.bottom)};return rO(z.left,z.top,z.right-z.left,z.bottom-z.top)}}),k=sN(c,s).bind(O=>Gh(O)?tc(O.start)?F.some(O.start):ll(O.start):F.some(O.firstCell)).getOr(n.element);return oN(y,g,s,a,k)};var rN=[pr("getSelection"),Jt("root"),pr("bubble"),Dv(),ht("overrides",{}),ht("showAbove",!1),dr("placement",pU)];const Lp="link-layout",RT=n=>n.x+n.width,aN=(n,s)=>n.x-s.width,iO=(n,s)=>n.y-s.height+n.height,lO=n=>n.y,cO=(n,s,a)=>mc(RT(n),lO(n),a.southeast(),Eb(),"southeast",xl(n,{left:0,top:2}),Lp),FT=(n,s,a)=>mc(aN(n,s),lO(n),a.southwest(),NC(),"southwest",xl(n,{right:1,top:2}),Lp),uO=(n,s,a)=>mc(RT(n),iO(n,s),a.northeast(),h2(),"northeast",xl(n,{left:0,bottom:3}),Lp),iN=(n,s,a)=>mc(aN(n,s),iO(n,s),a.northwest(),j1(),"northwest",xl(n,{right:1,bottom:3}),Lp),lN=()=>[cO,FT,uO,iN],cN=()=>[FT,cO,iN,uO],MT=(n,s,a)=>{const c=Q_(a,s.item.element),g=DT(n.element,s,lN(),cN(),lN(),cN(),F.none());return F.some(JS({anchorBox:c,bubble:Rh(),overrides:s.overrides,layouts:g}))};var dO=[Jt("item"),Dv(),ht("overrides",{}),dr("placement",MT)],NT=pl("type",{selection:rN,node:tx,hotspot:cU,submenu:dO,makeshift:eN});const uN=[el("classes",Ri),Zs("mode","all",["all","layout","placement"])],gU=[ht("useFixed",je),pr("getBounds")],dN=[uc("anchor",NT),$c("transition",uN)],fN=()=>{const n=document.documentElement;return _T(0,0,n.clientWidth,n.clientHeight)},mN=n=>{const s=ki(n.element),a=n.element.dom.getBoundingClientRect();return Yz(s.left,s.top,a.width,a.height)},pN=(n,s,a,c,g,y)=>{const w=WM(s.anchorBox,n);return Ov(w,c.element,s.bubble,s.layouts,g,a,s.overrides,y)},hU=(n,s,a,c,g)=>{const y=F.none();BT(n,s,a,c,g,y)},BT=(n,s,a,c,g,y)=>{const w=Nc("placement.info",bo(dN),g),k=w.anchor,O=c.element,N=a.get(c.uid);e0(()=>{To(O,"position","fixed");const z=Er(O,"visibility");To(O,"visibility","hidden");const Z=s.useFixed()?fN():mN(n);k.placement(n,k,Z).each(oe=>{const fe=y.orThunk(()=>s.getBounds.map(Pt)),ye=pN(Z,oe,fe,c,N,w.transition);a.set(c.uid,ye)}),z.fold(()=>{fs(O,"visibility")},oe=>{To(O,"visibility",oe)}),Er(O,"left").isNone()&&Er(O,"top").isNone()&&Er(O,"right").isNone()&&Er(O,"bottom").isNone()&&ro(Er(O,"position"),"fixed")&&fs(O,"position")},O)};var vU=Object.freeze({__proto__:null,position:hU,positionWithinBounds:BT,getMode:(n,s,a)=>s.useFixed()?"fixed":"absolute",reset:(n,s,a,c)=>{const g=c.element;ut(["position","left","right","top","bottom"],y=>fs(g,y)),_b(g),a.clear(c.uid)}}),gN=Object.freeze({__proto__:null,init:()=>{let n={};return Bd({readState:()=>n,clear:g=>{Se(g)?delete n[g]:n={}},set:(g,y)=>{n[g]=y},get:g=>sn(n,g)})}});const Lu=Zl({fields:gU,name:"positioning",active:UM,apis:vU,state:gN}),bU=(n,s)=>s.universal?n:Yt(n,a=>$e(s.channels,a));var ox=Object.freeze({__proto__:null,events:n=>Oa([zt(Zf(),(s,a)=>{const c=n.channels,g=vo(c),y=a,w=bU(g,y);ut(w,k=>{const O=c[k],N=O.schema,z=Nc("channel["+k+`] data
Receiver: `+id(s.element),N,y.data);O.onReceive(s,z)})})])}),wU=[uc("channels",s2(Kn.value,Mc([Ep("onReceive"),ht("schema",Ou())])))];const Hu=Zl({fields:wU,name:"receiving",active:ox});var vN=Object.freeze({__proto__:null,events:(n,s)=>{const a=(c,g)=>{n.updateState.each(y=>{const w=y(c,g);s.set(w)}),n.renderComponents.each(y=>{const w=y(g,s.get());(n.reuseDom?JA:OS)(c,w)})};return Oa([zt(Zf(),(c,g)=>{const y=g;if(!y.universal){const w=n.channel;$e(y.channels,w)&&a(c,y.data)}}),ga((c,g)=>{n.initialData.each(y=>{a(c,y)})})])}}),SU=Object.freeze({__proto__:null,getState:(n,s,a)=>a}),xU=[Jt("channel"),pr("renderComponents"),pr("updateState"),pr("initialData"),Or("reuseDom",!0)],AU=Object.freeze({__proto__:null,init:()=>{const n=Mn(F.none()),s=()=>n.set(F.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:s}}});const af=Zl({fields:xU,name:"reflecting",active:vN,apis:SU,state:AU}),bN=(n,s,a,c)=>{a.get().each(w=>{qA(n)});const g=s.getAttachPoint(n);Dg(g,n);const y=n.getSystem().build(c);return Dg(n,y),a.set(y),y},yN=(n,s,a,c)=>{const g=bN(n,s,a,c);return s.onOpen(n,g),g},wN=(n,s,a,c)=>a.get().map(()=>bN(n,s,a,c)),IT=(n,s,a,c,g)=>{fO(n,s),yN(n,s,a,c),g(),SN(n,s)},$T=(n,s,a)=>{a.get().each(c=>{qA(n),Rg(n),s.onClose(n,c),a.clear()})},LT=(n,s,a)=>a.isOpen(),TU=(n,s,a,c)=>LT(n,s,a)&&a.get().exists(g=>s.isPartOf(n,g,c)),kU=(n,s,a)=>a.get(),_U=(n,s,a,c)=>{Er(n.element,s).fold(()=>{zr(n.element,a)},g=>{Ao(n.element,a,g)}),To(n.element,s,c)},OU=(n,s,a)=>{Ei(n.element,a).fold(()=>fs(n.element,s),c=>To(n.element,s,c))},fO=(n,s,a)=>{const c=s.getAttachPoint(n);To(n.element,"position",Lu.getMode(c)),_U(n,"visibility",s.cloakVisibilityAttr,"hidden")},CN=n=>Mt(["top","left","right","bottom"],s=>Er(n,s).isSome()),SN=(n,s,a)=>{CN(n.element)||fs(n.element,"position"),OU(n,"visibility",s.cloakVisibilityAttr)};var DU=Object.freeze({__proto__:null,cloak:fO,decloak:SN,open:yN,openWhileCloaked:IT,close:$T,isOpen:LT,isPartOf:TU,getState:kU,setContent:wN}),PU=Object.freeze({__proto__:null,events:(n,s)=>Oa([zt(I1(),(a,c)=>{$T(a,n,s)})])}),RU=[zs("onOpen"),zs("onClose"),Jt("isPartOf"),Jt("getAttachPoint"),ht("cloakVisibilityAttr","data-precloak-visibility")],xN=Object.freeze({__proto__:null,init:()=>{const n=Do(),s=G("not-implemented");return Bd({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const ir=Zl({fields:RU,name:"sandboxing",active:PU,apis:DU,state:xN}),sx=(n,s)=>s.getAnimationRoot.fold(()=>n.element,a=>a(n)),c0=n=>n.dimension.property,ay=(n,s)=>n.dimension.getDimension(s),HT=(n,s)=>{const a=sx(n,s);Xi(a,[s.shrinkingClass,s.growingClass])},Kh=(n,s)=>{na(n.element,s.openClass),wr(n.element,s.closedClass),To(n.element,c0(s),"0px"),Wa(n.element)},mO=(n,s)=>{na(n.element,s.closedClass),wr(n.element,s.openClass),fs(n.element,c0(s))},EN=(n,s,a,c)=>{a.setCollapsed(),To(n.element,c0(s),ay(s,n.element)),HT(n,s),Kh(n,s),s.onStartShrink(n),s.onShrunk(n)},iy=(n,s,a,c)=>{const g=c.getOrThunk(()=>ay(s,n.element));a.setCollapsed(),To(n.element,c0(s),g),Wa(n.element);const y=sx(n,s);na(y,s.growingClass),wr(y,s.shrinkingClass),Kh(n,s),s.onStartShrink(n)},pO=(n,s,a)=>{const c=ay(s,n.element);(c==="0px"?EN:iy)(n,s,a,F.some(c))},AN=(n,s,a)=>{const c=sx(n,s),g=Za(c,s.shrinkingClass),y=ay(s,n.element);mO(n,s);const w=ay(s,n.element);(g?()=>{To(n.element,c0(s),y),Wa(n.element)}:()=>{Kh(n,s)})(),na(c,s.shrinkingClass),wr(c,s.growingClass),mO(n,s),To(n.element,c0(s),w),a.setExpanded(),s.onStartGrow(n)},Rv=(n,s,a)=>{if(a.isExpanded()){fs(n.element,c0(s));const c=ay(s,n.element);To(n.element,c0(s),c)}},FU=(n,s,a)=>{a.isExpanded()||AN(n,s,a)},MU=(n,s,a)=>{a.isExpanded()&&pO(n,s,a)},Vm=(n,s,a)=>{a.isExpanded()&&EN(n,s,a)},TN=(n,s,a)=>a.isExpanded(),kN=(n,s,a)=>a.isCollapsed(),gO=(n,s,a)=>{const c=sx(n,s);return Za(c,s.growingClass)===!0},_N=(n,s,a)=>{const c=sx(n,s);return Za(c,s.shrinkingClass)===!0};var BU=Object.freeze({__proto__:null,refresh:Rv,grow:FU,shrink:MU,immediateShrink:Vm,hasGrown:TN,hasShrunk:kN,isGrowing:gO,isShrinking:_N,isTransitioning:(n,s,a)=>gO(n,s)||_N(n,s),toggleGrow:(n,s,a)=>{(a.isExpanded()?pO:AN)(n,s,a)},disableTransitions:HT,immediateGrow:(n,s,a)=>{a.isExpanded()||(mO(n,s),To(n.element,c0(s),ay(s,n.element)),HT(n,s),a.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),DN=Object.freeze({__proto__:null,exhibit:(n,s,a)=>{const c=s.expanded;return $m(c?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Wf(s.dimension.property,"0px")})},events:(n,s)=>Oa([hv(K0(),(a,c)=>{c.event.raw.propertyName===n.dimension.property&&(HT(a,n),s.isExpanded()&&fs(a.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(a))})])}),PN=[Jt("closedClass"),Jt("openClass"),Jt("shrinkingClass"),Jt("growingClass"),pr("getAnimationRoot"),zs("onShrunk"),zs("onStartShrink"),zs("onGrown"),zs("onStartGrow"),ht("expanded",!1),uc("dimension",pl("property",{width:[dr("property","width"),dr("getDimension",n=>ja(n)+"px")],height:[dr("property","height"),dr("getDimension",n=>Ea(n)+"px")]}))],$U=Object.freeze({__proto__:null,init:n=>{const s=Mn(n.expanded),a=()=>"expanded: "+s.get();return Bd({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:ct(s.set,!1),setExpanded:ct(s.set,!0),readState:a})}});const ud=Zl({fields:PN,name:"sliding",active:DN,apis:BU,state:$U});var HU=Object.freeze({__proto__:null,events:(n,s)=>{const c=n.stream.streams.setup(n,s);return Oa([zt(n.event,c),Qf(()=>s.cancel())].concat(n.cancelEvent.map(g=>[zt(g,()=>s.cancel())]).getOr([])))}});const RN=n=>{const s=Mn(null);return Bd({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:y=>{s.set(y)},cancel:()=>{const y=s.get();y!==null&&y.cancel()}})};var bO=Object.freeze({__proto__:null,throttle:RN,init:n=>n.stream.streams.state(n)});const zU=(n,s)=>{const a=n.stream,c=bi(n.onStream,a.delay);return s.setTimer(c),(g,y)=>{c.throttle(g,y),a.stopEvent&&y.stop()}};var rx=[uc("stream",pl("mode",{throttle:[Jt("delay"),ht("stopEvent",!0),dr("streams",{setup:zU,state:RN})]})),ht("event","input"),pr("cancelEvent"),Ep("onStream")];const yw=Zl({fields:rx,name:"streaming",active:HU,state:bO});var FN=Object.freeze({__proto__:null,exhibit:(n,s)=>$m({attributes:jf([{key:s.tabAttr,value:"true"}])})}),VU=[ht("tabAttr","data-alloy-tabstop")];const la=Zl({fields:VU,name:"tabstopping",active:FN}),WU=(n,s,a)=>{const c=s.aria;c.update(n,c,a.get())},jU=(n,s,a)=>{s.toggleClass.each(c=>{a.get()?wr(n.element,c):na(n.element,c)})},ly=(n,s,a,c)=>{const g=a.get();a.set(c),jU(n,s,a),WU(n,s,a),g!==c&&s.onToggled(n,c)},yO=(n,s,a)=>{ly(n,s,a,!a.get())},MN=(n,s,a)=>{ly(n,s,a,!0)},wO=(n,s,a)=>{ly(n,s,a,!1)},ZU=(n,s,a)=>a.get(),CO=(n,s,a)=>{ly(n,s,a,s.selected)};var qU=Object.freeze({__proto__:null,onLoad:CO,toggle:yO,isOn:ZU,on:MN,off:wO,set:ly}),NN=Object.freeze({__proto__:null,exhibit:()=>$m({}),events:(n,s)=>{const a=nA(n,s,yO),c=KC(n,s,CO);return Oa(qe([n.toggleOnExecute?[a]:[],[c]]))}});const GU=(n,s,a)=>{Ao(n.element,"aria-pressed",a),s.syncWithExpanded&&xO(n,s,a)},KU=(n,s,a)=>{Ao(n.element,"aria-selected",a)},SO=(n,s,a)=>{Ao(n.element,"aria-checked",a)},xO=(n,s,a)=>{Ao(n.element,"aria-expanded",a)};var BN=[ht("selected",!1),pr("toggleClass"),ht("toggleOnExecute",!0),zs("onToggled"),Lc("aria",{mode:"none"},pl("mode",{pressed:[ht("syncWithExpanded",!1),dr("update",GU)],checked:[dr("update",SO)],expanded:[dr("update",xO)],selected:[dr("update",KU)],none:[dr("update",J)]}))];const Us=Zl({fields:BN,name:"toggling",active:NN,apis:qU,state:rA(!1)}),zT=pe("tooltip.exclusive"),ax=pe("tooltip.show"),ix=pe("tooltip.hide"),lx=pe("tooltip.immediateHide"),cx=pe("tooltip.immediateShow"),IN=(n,s,a)=>{n.getSystem().broadcastOn([zT],{})};var XU=Object.freeze({__proto__:null,hideAllExclusive:IN,immediateOpenClose:(n,s,a,c)=>Ds(n,c?cx:lx),isEnabled:(n,s,a)=>a.isEnabled(),setComponents:(n,s,a,c)=>{a.getTooltip().each(g=>{g.getSystem().isConnected()&&Xo.set(g,c)})},setEnabled:(n,s,a,c)=>a.setEnabled(c)}),QU=Object.freeze({__proto__:null,events:(n,s)=>{const a=w=>{s.getTooltip().each(k=>{k.getSystem().isConnected()&&(Rg(k),n.onHide(w,k),s.clearTooltip())}),s.clearTimer()},c=w=>{if(!s.isShowing()&&s.isEnabled()){IN(w);const k=n.lazySink(w).getOrDie(),O=w.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Oa(n.mode==="normal"?[zt(Hc(),N=>{Ds(w,ax)}),zt(Qa(),N=>{Ds(w,ix)})]:[]),behaviours:bn([Xo.config({})])});s.setTooltip(O),Dg(k,O),n.onShow(w,O),Lu.position(k,O,{anchor:n.anchor(w)})}},g=w=>{s.getTooltip().each(k=>{const O=n.lazySink(w).getOrDie();Lu.position(O,k,{anchor:n.anchor(w)})})},y=()=>{switch(n.mode){case"normal":return[zt(Fu(),w=>{Ds(w,cx)}),zt(tf(),w=>{Ds(w,lx)}),zt(Hc(),w=>{Ds(w,ax)}),zt(Qa(),w=>{Ds(w,ix)})];case"follow-highlight":return[zt(J0(),(w,k)=>{Ds(w,ax)}),zt(Af(),w=>{Ds(w,ix)})];case"children-normal":return[zt(Fu(),(w,k)=>{Ra(w.element).each(O=>{ar(k.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Ds(w,cx)},N=>{s.isShowing()&&(n.onShow(w,N),g(w))})})}),zt(tf(),w=>{Ra(w.element).fold(()=>{Ds(w,lx)},J)}),zt(Hc(),w=>{ur(w.element,"[data-mce-tooltip]:hover").each(k=>{s.getTooltip().fold(()=>{Ds(w,ax)},O=>{s.isShowing()&&(n.onShow(w,O),g(w))})})}),zt(Qa(),w=>{ur(w.element,"[data-mce-tooltip]:hover").fold(()=>{Ds(w,ix)},J)})];default:return[zt(Fu(),(w,k)=>{Ra(w.element).each(O=>{ar(k.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Ds(w,cx)},N=>{s.isShowing()&&(n.onShow(w,N),g(w))})})}),zt(tf(),w=>{Ra(w.element).fold(()=>{Ds(w,lx)},J)})]}};return Oa(qe([[GC(w=>{n.onSetup(w)}),zt(ax,w=>{s.resetTimer(()=>{c(w)},n.delayForShow())}),zt(ix,w=>{s.resetTimer(()=>{a(w)},n.delayForHide())}),zt(cx,w=>{s.resetTimer(()=>{c(w)},0)}),zt(lx,w=>{s.resetTimer(()=>{a(w)},0)}),zt(Zf(),(w,k)=>{const O=k;O.universal||($e(O.channels,zT)||$e(O.channels,yv()))&&(O.data.closedTooltip&&s.isShowing()&&O.data.closedTooltip(),a(w))}),Qf(w=>{a(w)})],y()]))}}),JU=[Jt("lazySink"),Jt("tooltipDom"),ht("exclusive",!0),ht("tooltipComponents",[]),Os("delayForShow",G(300)),Os("delayForHide",G(100)),Os("onSetup",J),Zs("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ht("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:G([ol,Ba,vl,pc,nl,jl]),onRtl:G([ol,Ba,vl,pc,nl,jl])},bubble:Nd(0,-2,{})})),zs("onHide"),zs("onShow")],eV=Object.freeze({__proto__:null,init:()=>{const n=Mn(!0),s=Do(),a=Do(),c=()=>{s.on(clearTimeout)},g=(w,k)=>{c(),s.set(setTimeout(w,k))},y=G("not-implemented");return Bd({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:c,resetTimer:g,readState:y,isEnabled:()=>n.get(),setEnabled:w=>n.set(w)})}});const ha=Zl({fields:JU,name:"tooltipping",active:QU,state:eV,apis:XU});var AO=Object.freeze({__proto__:null,events:()=>Oa([_2(Eh(),lt)]),exhibit:()=>$m({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const $g=Zl({fields:[],name:"unselecting",active:AO}),tV=n=>{const s=n.dom.attributes!==void 0?n.dom.attributes:[];return Cn(s,(a,c)=>c.name==="class"?a:{...a,[c.name]:c.value},{})},nV=n=>Array.prototype.slice.call(n.dom.classList,0),Lg=n=>{const s=yn.fromHtml(n),a=Wu(s),c=tV(s),g=nV(s),y=a.length===0?{}:{innerHtml:qu(s)};return{tag:ec(s),classes:g,attributes:c,...y}},gr=n=>{const s=Cz(n)&&Io(n,"uid")?n.uid:Tv("memento");return{get:y=>y.getSystem().getByUid(s).getOrDie(),getOpt:y=>y.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}},ql=V1,sm=f2,oV=(n,s)=>{const a=Mn(!1),c=Mn(!1);return{stop:()=>{a.set(!0)},cut:()=>{c.set(!0)},isStopped:a.get,isCut:c.get,event:n,setSource:s.set,getSource:s.get}},LN=n=>{const s=Mn(!1);return{stop:()=>{s.set(!0)},cut:J,isStopped:s.get,isCut:je,event:n,setSource:ce("Cannot set source of a broadcasted event"),getSource:ce("Cannot get source of a broadcasted event")}},HN=n=>n.raw.which===tS[0]&&!$e(["input","textarea"],ec(n.target))&&!Tu(n.target,'[contenteditable="true"]'),zN=(n,s)=>{const a={stopBackspace:!0,...s},c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],g=mt(a),y=He(c.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),fe=>cr(n,fe,ye=>{g.fireIfReady(ye,fe).each(Le=>{Le&&ye.kill()}),a.triggerEvent(fe,ye)&&ye.kill()})),w=Do(),k=cr(n,"paste",fe=>{g.fireIfReady(fe,"paste").each(Fe=>{Fe&&fe.kill()}),a.triggerEvent("paste",fe)&&fe.kill(),w.set(setTimeout(()=>{a.triggerEvent(B1(),fe)},0))}),O=cr(n,"keydown",fe=>{a.triggerEvent("keydown",fe)?fe.kill():a.stopBackspace&&HN(fe)&&fe.prevent()}),N=cr(n,"focusin",fe=>{a.triggerEvent("focusin",fe)&&fe.kill()}),z=Do(),Z=cr(n,"focusout",fe=>{a.triggerEvent("focusout",fe)&&fe.kill(),z.set(setTimeout(()=>{a.triggerEvent(tf(),fe)},0))});return{unbind:()=>{ut(y,fe=>{fe.unbind()}),O.unbind(),N.unbind(),Z.unbind(),k.unbind(),w.on(clearTimeout),z.on(clearTimeout)}}},Yh=(n,s)=>{const a=sn(n,"target").getOr(s);return Mn(a)},Wm=Hr.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),TO=(n,s,a,c,g,y)=>{const w=n(s,c),k=oV(a,g);return w.fold(()=>(y.logEventNoHandlers(s,c),Wm.complete()),O=>{const N=O.descHandler;return ow(N)(k),k.isStopped()?(y.logEventStopped(s,O.element,N.purpose),Wm.stopped()):k.isCut()?(y.logEventCut(s,O.element,N.purpose),Wm.complete()):kc(O.element).fold(()=>(y.logNoParent(s,O.element,N.purpose),Wm.complete()),Z=>(y.logEventResponse(s,O.element,N.purpose),Wm.resume(Z)))})},cy=(n,s,a,c,g,y)=>TO(n,s,a,c,g,y).fold(lt,w=>cy(n,s,a,w,g,y),je),sV=(n,s,a,c,g)=>{const y=Yh(a,c);return TO(n,s,a,c,y,g)},kO=(n,s,a)=>{const c=LN(s);return ut(n,g=>{const y=g.descHandler;ow(y)(c)}),c.isStopped()},UN=(n,s,a,c)=>UT(n,s,a,a.target,c),UT=(n,s,a,c,g)=>{const y=Yh(a,c);return cy(n,s,a,c,y,g)},VT=(n,s)=>({element:n,descHandler:s}),VN=(n,s)=>({id:n,descHandler:s}),jm=()=>{const n={},s=(w,k,O)=>{Bo(O,(N,z)=>{const Z=n[z]!==void 0?n[z]:{};Z[k]=x_(N,w),n[z]=Z})},a=(w,k)=>Lm(k).bind(O=>sn(w,O)).map(O=>VT(k,O));return{registerId:s,unregisterId:w=>{Bo(n,(k,O)=>{Ho(k,w)&&delete k[w]})},filterByType:w=>sn(n,w).map(k=>po(k,(O,N)=>VN(N,O))).getOr([]),find:(w,k,O)=>sn(n,k).bind(N=>ku(O,z=>a(N,z),w))}},_O=()=>{const n=jm(),s={},a=N=>{const z=N.element;return Lm(z).getOrThunk(()=>MS("uid-",N.element))},c=(N,z)=>{const Z=s[z];if(Z===N)y(N);else throw new Error('The tagId "'+z+'" is already used by: '+id(Z.element)+`
Cannot use it for: `+id(N.element)+`
The conflicting element is`+(As(Z.element)?" ":" not ")+"already in the DOM")},g=N=>{const z=a(N);Io(s,z)&&c(N,z);const Z=[N];n.registerId(Z,z,N.events),s[z]=N},y=N=>{Lm(N.element).each(z=>{delete s[z],n.unregisterId(z)})};return{find:(N,z,Z)=>n.find(N,z,Z),filter:N=>n.filterByType(N),register:g,unregister:y,getById:N=>sn(s,N)}},OO=n=>{const s=Ee=>kc(n.element).fold(lt,Xe=>ee(Ee,Xe)),a=_O(),c=(Ee,Xe)=>a.find(s,Ee,Xe),g=zN(n.element,{triggerEvent:(Ee,Xe)=>nv(Ee,Xe.target,st=>UN(c,Ee,Xe,st))}),y={debugInfo:G("real"),triggerEvent:(Ee,Xe,st)=>{nv(Ee,Xe,xt=>UT(c,Ee,st,Xe,xt))},triggerFocus:(Ee,Xe)=>{Lm(Ee).fold(()=>{Bi(Ee)},st=>{nv(Sf(),Ee,xt=>(sV(c,Sf(),{originator:Xe,kill:J,prevent:J,target:Ee},Ee,xt),!1))})},triggerEscape:(Ee,Xe)=>{y.triggerEvent("keydown",Ee.element,Xe.event)},getByUid:Ee=>Fe(Ee),getByDom:Ee=>Le(Ee),build:C,buildOrPatch:h,addToGui:Ee=>{O(Ee)},removeFromGui:Ee=>{N(Ee)},addToWorld:Ee=>{w(Ee)},removeFromWorld:Ee=>{k(Ee)},broadcast:Ee=>{oe(Ee)},broadcastOn:(Ee,Xe)=>{fe(Ee,Xe)},broadcastEvent:(Ee,Xe)=>{ye(Ee,Xe)},isConnected:lt},w=Ee=>{Ee.connect(y),jd(Ee.element)||(a.register(Ee),ut(Ee.components(),w),y.triggerEvent(xf(),Ee.element,{target:Ee.element}))},k=Ee=>{jd(Ee.element)||(ut(Ee.components(),k),a.unregister(Ee)),Ee.disconnect()},O=Ee=>{Dg(n,Ee)},N=Ee=>{Rg(Ee)},z=()=>{g.unbind(),Oc(n.element)},Z=Ee=>{const Xe=a.filter(Zf());ut(Xe,st=>{const xt=st.descHandler;ow(xt)(Ee)})},oe=Ee=>{Z({universal:!0,data:Ee})},fe=(Ee,Xe)=>{Z({universal:!1,channels:Ee,data:Xe})},ye=(Ee,Xe)=>{const st=a.filter(Ee);return kO(st,Xe)},Fe=Ee=>a.getById(Ee).fold(()=>Kn.error(new Error('Could not find component with uid: "'+Ee+'" in system.')),Kn.value),Le=Ee=>{const Xe=Lm(Ee).getOr("not found");return Fe(Xe)};return w(n),{root:n,element:n.element,destroy:z,add:O,remove:N,getByUid:Fe,getByDom:Le,addToWorld:w,removeFromWorld:k,broadcast:oe,broadcastOn:fe,broadcastEvent:ye}},WN=()=>{const n=(s,a)=>{a.stop(),mv(s)};return[zt(_m(),n),zt(Ah(),n),Y1(fc()),Y1(tl())]},DO=n=>{const s=a=>Ih((c,g)=>{a(c),g.stop()});return Oa(qe([n.map(s).toArray(),WN()]))},Rl=nm({name:"Button",factory:n=>{const s=DO(n.action),a=n.dom.tag,c=y=>sn(n.dom,"attributes").bind(w=>sn(w,y)),g=()=>{if(a==="button"){const y=c("type").getOr("button"),w=c("role").map(k=>({role:k})).getOr({});return{type:y,...w}}else return{role:n.role.getOr(c("role").getOr("button"))}};return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:Ip.augment(n.buttonBehaviours,[Go.config({}),ho.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:g()},eventOrder:n.eventOrder}},configFields:[ht("uid",void 0),Jt("dom"),ht("components",[]),Ip.field("buttonBehaviours",[Go,ho]),pr("action"),pr("role"),ht("eventOrder",{})]}),rV=G([ht("shell",!1),Jt("makeItem"),ht("setupItem",J),Ip.field("listBehaviours",[Xo])]),PO=Mu({name:"items",overrides:()=>({behaviours:bn([Xo.config({})])})}),iV=G([PO]),RO=G("CustomList"),FO=(n,s,a,c)=>{const g=(k,O)=>{w(k).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},N=>{const z=Xo.contents(N),Z=O.length,oe=Z-z.length,fe=oe>0?Qe(oe,()=>n.makeItem()):[],ye=z.slice(Z);ut(ye,Le=>Xo.remove(N,Le)),ut(fe,Le=>Xo.append(N,Le));const Fe=Xo.contents(N);ut(Fe,(Le,Ee)=>{n.setupItem(k,Le,O[Ee],Ee)})})},y=n.shell?{behaviours:[Xo.config({})],components:[]}:{behaviours:[],components:s},w=k=>n.shell?F.some(k):Xr(k,n,"items");return{uid:n.uid,dom:n.dom,components:y.components,behaviours:vu(n.listBehaviours,y.behaviours),apis:{setItems:g}}},jN=Id({name:RO(),configFields:rV(),partFields:iV(),factory:FO,apis:{setItems:(n,s,a)=>{n.setItems(s,a)}}}),ww="aria-controls",ZN=n=>Aa(n,a=>{if(!tc(a))return!1;const c=xi(a,"id");return c!==void 0&&c.indexOf(ww)>-1}).bind(a=>{const c=xi(a,"id"),g=ei(a);return ur(g,`[${ww}="${c}"]`)}),qN=()=>{const n=pe(ww);return{id:n,link:c=>{Ao(c,ww,n)},unlink:c=>{zr(c,ww)}}},GN=(n,s)=>ZN(s).exists(a=>Fv(n,a)),Fv=(n,s)=>pg(s,a=>ee(a,n.element),je)||GN(n,s),KN="alloy.item-hover",YN="alloy.item-focus",XN="alloy.item-toggled",QN=n=>{(Ra(n.element).isNone()||Go.isFocused(n))&&(Go.isFocused(n)||Go.focus(n),So(n,KN,{item:n}))},JN=n=>{So(n,YN,{item:n})},e6=(n,s)=>{So(n,XN,{item:n,state:s})},MO=G(KN),lV=G(YN),t6=G(XN),n6=n=>n.role.fold(()=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ze),cV=(n,s)=>({aria:{mode:s?"selected":"checked"},...Bt(n,(a,c)=>c!=="exclusive"),onToggled:(a,c)=>{re(n.onToggled)&&n.onToggled(a,c),e6(a,c)}}),uV=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:n6(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ip.augment(n.itemBehaviours,[n.toggling.fold(Us.revoke,s=>Us.config(cV(s,n.role.exists(a=>a==="option")))),Go.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{JN(s)}}),ho.config({mode:"execution"}),Vn.config({store:{mode:"memory",initialValue:n.data}}),Wo("item-type-events",[...WN(),zt(Hc(),QN),zt(qf(),Go.focus)])]),components:n.components,eventOrder:n.eventOrder});var NO=[Jt("data"),Jt("components"),Jt("dom"),ht("hasSubmenu",!1),pr("toggling"),pr("role"),Ip.field("itemBehaviours",[Us,Go,ho,Vn]),ht("ignoreFocus",!1),ht("domModification",{}),dr("builder",uV),ht("eventOrder",{})];const o6=n=>({dom:n.dom,components:n.components,events:Oa([R4(qf())])});var s6=[Jt("dom"),Jt("components"),dr("builder",o6)];const BO=G("item-widget"),IO=G([pu({name:"widget",overrides:n=>({behaviours:bn([Vn.config({store:{mode:"manual",getValue:s=>n.data,setValue:J}})])})})]),r6=n=>{const s=ld(BO(),n,IO()),a=m2(BO(),n,s.internals()),c=y=>Xr(y,n,"widget").map(w=>(ho.focusIn(w),w)),g=(y,w)=>(Cv(w.event.target)||n.autofocus&&w.setSource(y.element),F.none());return{dom:n.dom,components:a,domModification:n.domModification,events:Oa([Ih((y,w)=>{c(y).each(k=>{w.stop()})}),zt(Hc(),QN),zt(qf(),(y,w)=>{n.autofocus?c(y):Go.focus(y)})]),behaviours:Ip.augment(n.widgetBehaviours,[Vn.config({store:{mode:"memory",initialValue:n.data}}),Go.config({ignore:n.ignoreFocus,onFocus:y=>{JN(y)}}),ho.config({mode:"special",focusIn:n.autofocus?y=>{c(y)}:eS(),onLeft:g,onRight:g,onEscape:(y,w)=>!Go.isFocused(y)&&!n.autofocus?(Go.focus(y),F.some(!0)):(n.autofocus&&w.setSource(y.element),F.none())})])}};var $O=[Jt("uid"),Jt("data"),Jt("components"),Jt("dom"),ht("autofocus",!1),ht("ignoreFocus",!1),Ip.field("widgetBehaviours",[Vn,Go,ho]),ht("domModification",{}),Ag(IO()),dr("builder",r6)];const i6=pl("type",{widget:$O,item:NO,separator:s6}),l6=(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}),c6=(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager}),mV=(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}),LO=G([d2({factory:{sketch:n=>{const s=Nc("menu.spec item",i6,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>Ho(s,"uid")?s:{...s,uid:Tv("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),pV=G([Na("role"),Jt("value"),Jt("items"),Jt("dom"),Jt("components"),ht("eventOrder",{}),hc("menuBehaviours",[fr,Vn,Ut,ho]),Lc("movement",{mode:"menu",moveOnTab:!0},pl("mode",{grid:[c2(),dr("config",l6)],matrix:[dr("config",c6),Jt("rowSelector"),ht("previousSelector",F.none)],menu:[ht("moveOnTab",!0),dr("config",mV)]})),sv(),ht("fakeFocus",!1),ht("focusManager",aS()),zs("onHighlight"),zs("onDehighlight"),ht("showMenuRole",!0)]),HO=G("alloy.menu-focus"),u6=(n,s)=>{const a=Di(n.element,'[role="menuitemradio"][aria-checked="true"]');ut(a,c=>{ee(c,s.element)||n.getSystem().getByDom(c).each(g=>{Us.off(g)})})},uy=(n,s,a,c)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:vu(n.menuBehaviours,[fr.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Vn.config({store:{mode:"memory",initialValue:n.value}}),Ut.config({find:F.some}),ho.config(n.movement.config(n,n.movement))]),events:Oa([zt(lV(),(g,y)=>{const w=y.event;g.getSystem().getByDom(w.target).each(k=>{fr.highlight(g,k),y.stop(),So(g,HO(),{menu:g,item:k})})}),zt(MO(),(g,y)=>{const w=y.event.item;fr.highlight(g,w)}),zt(t6(),(g,y)=>{const{item:w,state:k}=y.event;k&&xi(w.element,"role")==="menuitemradio"&&u6(g,w)})]),components:s,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}}),u0=Id({name:"Menu",configFields:pV(),partFields:LO(),factory:uy}),zO=n=>Ys(n,(s,a)=>({k:s,v:a})),ux=(n,s,a,c)=>sn(a,c).bind(g=>sn(n,g).bind(y=>{const w=ux(n,s,a,y);return F.some([y].concat(w))})).getOr([]),gV=(n,s)=>{const a={};Bo(n,(w,k)=>{ut(w,O=>{a[O]=k})});const c=s,g=zO(s),y=ds(g,(w,k)=>[k].concat(ux(a,c,g,k)));return ds(a,w=>sn(y,w).getOr([w]))},d6=()=>{const n=Mn({}),s=Mn({}),a=Mn({}),c=Do(),g=Mn({}),y=()=>{n.set({}),s.set({}),a.set({}),c.clear()},w=()=>c.get().isNone(),k=(Rt,Rn)=>{s.set({...s.get(),[Rt]:{type:"prepared",menu:Rn}})},O=(Rt,Rn,nn,mn)=>{c.set(Rt),n.set(nn),s.set(Rn),g.set(mn);const un=gV(mn,nn);a.set(un)},N=Rt=>rs(n.get(),(Rn,nn)=>Rn===Rt),z=(Rt,Rn,nn)=>Fe(Rt).bind(mn=>N(Rt).bind(un=>Rn(un).map(yo=>({triggeredMenu:mn,triggeringItem:yo,triggeringPath:nn})))),Z=(Rt,Rn)=>{const nn=Yt(Ee(Rt).toArray(),mn=>Fe(mn).isSome());return sn(a.get(),Rt).bind(mn=>{const un=Tt(nn.concat(mn)),yo=De(un,(ao,ks)=>z(ao,Rn,un.slice(0,ks+1)).fold(()=>ro(c.get(),ao)?[]:[F.none()],wo=>[F.some(wo)]));return ms(yo)})},oe=Rt=>sn(n.get(),Rt).map(Rn=>{const nn=sn(a.get(),Rt).getOr([]);return[Rn].concat(nn)}),fe=Rt=>sn(a.get(),Rt).bind(Rn=>Rn.length>1?F.some(Rn.slice(1)):F.none()),ye=Rt=>sn(a.get(),Rt),Fe=Rt=>Le(Rt).bind(UO),Le=Rt=>sn(s.get(),Rt),Ee=Rt=>sn(n.get(),Rt);return{setMenuBuilt:k,setContents:O,expand:oe,refresh:ye,collapse:fe,lookupMenu:Le,lookupItem:Ee,otherMenus:Rt=>{const Rn=g.get();return at(vo(Rn),Rt)},getPrimary:()=>c.get().bind(Fe),getMenus:()=>s.get(),clear:y,isClear:w,getTriggeringPath:Z}},UO=n=>n.type==="prepared"?F.some(n.menu):F.none(),VO={init:d6,extractPreparedMenu:UO},WT=pe("tiered-menu-item-highlight"),WO=pe("tiered-menu-item-dehighlight"),hV=(n,s)=>{const a=Do(),c=(Xt,Sn,Mo)=>ds(Mo,(ls,uo)=>{const ss=()=>u0.sketch({...ls,value:uo,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(jr,hr)=>{So(jr,WT,{menuComp:jr,itemComp:hr})},onDehighlight:(jr,hr)=>{So(jr,WO,{menuComp:jr,itemComp:hr})},focusManager:n.fakeFocus?F2():aS()});return uo===Sn?{type:"prepared",menu:Xt.getSystem().build(ss())}:{type:"notbuilt",nbMenu:ss}}),g=VO.init(),y=Xt=>{const Sn=c(Xt,n.data.primary,n.data.menus),Mo=O();return g.setContents(n.data.primary,Sn,n.data.expansions,Mo),g.getPrimary()},w=Xt=>Vn.getValue(Xt).value,k=(Xt,Sn,Mo)=>es(Sn,ls=>{if(!ls.getSystem().isConnected())return F.none();const uo=fr.getCandidates(ls);return Re(uo,ss=>w(ss)===Mo)}),O=Xt=>ds(n.data.menus,(Sn,Mo)=>De(Sn.items,ls=>ls.type==="separator"?[]:[ls.data.value])),N=fr.highlight,z=(Xt,Sn)=>{N(Xt,Sn),fr.getHighlighted(Sn).orThunk(()=>fr.getFirst(Sn)).each(Mo=>{n.fakeFocus?fr.highlight(Sn,Mo):T2(Xt,Mo.element,qf())})},Z=(Xt,Sn)=>Jo(He(Sn,Mo=>Xt.lookupMenu(Mo).bind(ls=>ls.type==="prepared"?F.some(ls.menu):F.none()))),oe=(Xt,Sn,Mo)=>{const ls=Z(Sn,Sn.otherMenus(Mo));ut(ls,uo=>{Xi(uo.element,[n.markers.backgroundMenu]),n.stayInDom||Xo.remove(Xt,uo)})},fe=Xt=>a.get().getOrThunk(()=>{const Sn={},Mo=Di(Xt.element,`.${n.markers.item}`),ls=Yt(Mo,uo=>xi(uo,"aria-haspopup")==="true");return ut(ls,uo=>{Xt.getSystem().getByDom(uo).each(ss=>{const jr=w(ss);Sn[jr]=ss})}),a.set(Sn),Sn}),ye=(Xt,Sn)=>{const Mo=fe(Xt);Bo(Mo,(ls,uo)=>{const ss=$e(Sn,uo);Ao(ls.element,"aria-expanded",ss)})},Fe=(Xt,Sn,Mo)=>F.from(Mo[0]).bind(ls=>Sn.lookupMenu(ls).bind(uo=>{if(uo.type==="notbuilt")return F.none();{const ss=uo.menu,jr=Z(Sn,Mo.slice(1));return ut(jr,hr=>{wr(hr.element,n.markers.backgroundMenu)}),As(ss.element)||Xo.append(Xt,T(ss)),Xi(ss.element,[n.markers.backgroundMenu]),z(Xt,ss),oe(Xt,Sn,Mo),F.some(ss)}}));let Le;(function(Xt){Xt[Xt.HighlightSubmenu=0]="HighlightSubmenu",Xt[Xt.HighlightParent=1]="HighlightParent"})(Le||(Le={}));const Ee=(Xt,Sn,Mo)=>{if(Mo.type==="notbuilt"){const ls=Xt.getSystem().build(Mo.nbMenu());return g.setMenuBuilt(Sn,ls),ls}else return Mo.menu},Xe=(Xt,Sn,Mo=Le.HighlightSubmenu)=>{if(Sn.hasConfigured(so)&&so.isDisabled(Sn))return F.some(Sn);{const ls=w(Sn);return g.expand(ls).bind(uo=>(ye(Xt,uo),F.from(uo[0]).bind(ss=>g.lookupMenu(ss).bind(jr=>{const hr=Ee(Xt,ss,jr);return As(hr.element)||Xo.append(Xt,T(hr)),n.onOpenSubmenu(Xt,Sn,hr,Tt(uo)),Mo===Le.HighlightSubmenu?(fr.highlightFirst(hr),Fe(Xt,g,uo)):(fr.dehighlightAll(hr),F.some(Sn))}))))}},st=(Xt,Sn)=>{const Mo=w(Sn);return g.collapse(Mo).bind(ls=>(ye(Xt,ls),Fe(Xt,g,ls).map(uo=>(n.onCollapseMenu(Xt,Sn,uo),uo))))},xt=(Xt,Sn)=>{const Mo=w(Sn);return g.refresh(Mo).bind(ls=>(ye(Xt,ls),Fe(Xt,g,ls)))},Rt=(Xt,Sn)=>Cv(Sn.element)?F.none():Xe(Xt,Sn,Le.HighlightSubmenu),Rn=(Xt,Sn)=>Cv(Sn.element)?F.none():st(Xt,Sn),nn=(Xt,Sn)=>st(Xt,Sn).orThunk(()=>n.onEscape(Xt,Sn).map(()=>Xt)),mn=Xt=>(Sn,Mo)=>Oi(Mo.getSource(),`.${n.markers.item}`).bind(ls=>Sn.getSystem().getByDom(ls).toOptional().bind(uo=>Xt(Sn,uo).map(lt))),un=Oa([zt(HO(),(Xt,Sn)=>{const Mo=Sn.event.item;g.lookupItem(w(Mo)).each(()=>{const ls=Sn.event.menu;fr.highlight(Xt,ls);const uo=w(Sn.event.item);g.refresh(uo).each(ss=>oe(Xt,g,ss))})}),Ih((Xt,Sn)=>{const Mo=Sn.event.target;Xt.getSystem().getByDom(Mo).each(ls=>{w(ls).indexOf("collapse-item")===0&&st(Xt,ls),Xe(Xt,ls,Le.HighlightSubmenu).fold(()=>{n.onExecute(Xt,ls)},J)})}),ga((Xt,Sn)=>{y(Xt).each(Mo=>{Xo.append(Xt,T(Mo)),n.onOpenMenu(Xt,Mo),n.highlightOnOpen===Vc.HighlightMenuAndItem?z(Xt,Mo):n.highlightOnOpen===Vc.HighlightJustMenu&&N(Xt,Mo)})}),zt(WT,(Xt,Sn)=>{n.onHighlightItem(Xt,Sn.event.menuComp,Sn.event.itemComp)}),zt(WO,(Xt,Sn)=>{n.onDehighlightItem(Xt,Sn.event.menuComp,Sn.event.itemComp)}),...n.navigateOnHover?[zt(MO(),(Xt,Sn)=>{const Mo=Sn.event.item;xt(Xt,Mo),Xe(Xt,Mo,Le.HighlightParent),n.onHover(Xt,Mo)})]:[]]),yo=Xt=>fr.getHighlighted(Xt).bind(fr.getHighlighted),ao=Xt=>{yo(Xt).each(Sn=>{st(Xt,Sn)})},ks=Xt=>{g.getPrimary().each(Sn=>{z(Xt,Sn)})},wo=Xt=>F.from(Xt.components()[0]).filter(Sn=>xi(Sn.element,"role")==="menu"),io={collapseMenu:ao,highlightPrimary:ks,repositionMenus:Xt=>{g.getPrimary().bind(Mo=>yo(Xt).bind(ls=>{const uo=w(ls),ss=xs(g.getMenus()),jr=Jo(He(ss,VO.extractPreparedMenu));return g.getTriggeringPath(uo,hr=>k(Xt,jr,hr))}).map(ls=>({primary:Mo,triggeringPath:ls}))).fold(()=>{wo(Xt).each(Mo=>{n.onRepositionMenu(Xt,Mo,[])})},({primary:Mo,triggeringPath:ls})=>{n.onRepositionMenu(Xt,Mo,ls)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:vu(n.tmenuBehaviours,[ho.config({mode:"special",onRight:mn(Rt),onLeft:mn(Rn),onEscape:mn(nn),focusIn:(Xt,Sn)=>{g.getPrimary().each(Mo=>{T2(Xt,Mo.element,qf())})}}),fr.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),Ut.config({find:Xt=>fr.getHighlighted(Xt)}),Xo.config({})]),eventOrder:n.eventOrder,apis:io,events:un}},f6=G("collapse-item"),m6=(n,s,a)=>({primary:n,menus:s,expansions:a}),p6=(n,s)=>({primary:n,menus:Wf(n,s),expansions:{}}),g6=n=>({value:pe(f6()),meta:{text:n}}),dy=nm({name:"TieredMenu",configFields:[Ap("onExecute"),Ap("onEscape"),Ep("onOpenMenu"),Ep("onOpenSubmenu"),zs("onRepositionMenu"),zs("onCollapseMenu"),ht("highlightOnOpen",Vc.HighlightMenuAndItem),mi("data",[Jt("primary"),Jt("menus"),Jt("expansions")]),ht("fakeFocus",!1),zs("onHighlightItem"),zs("onDehighlightItem"),zs("onHover"),rv(),Jt("dom"),ht("navigateOnHover",!0),ht("stayInDom",!1),hc("tmenuBehaviours",[ho,fr,Ut,Xo]),ht("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:hV,extraApis:{tieredData:m6,singleData:p6,collapseItem:g6}}),jT=G("sink"),vV=G(Mu({name:jT(),overrides:G({dom:{tag:"div"},behaviours:bn([Lu.config({useFixed:lt})]),events:Oa([Y1(Ka()),Y1(tl()),Y1(_m())])})})),bV=Mc([ht("isExtraPart",je),$c("fireEventInstead",[ht("event",Om())])]),jO=n=>{const s=Nc("Dismissal",bV,n);return{[Op()]:{schema:Mc([Jt("target")]),onReceive:(a,c)=>{ir.isOpen(a)&&(ir.isPartOf(a,c.target)||s.isExtraPart(a,c.target)||s.fireEventInstead.fold(()=>ir.close(a),y=>Ds(a,y.event)))}}}},yV=Mc([$c("fireEventInstead",[ht("event",i2())]),Ic("doReposition")]),ZT=n=>{const s=Nc("Reposition",yV,n);return{[sl()]:{onReceive:a=>{ir.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),c=>Ds(a,c.event))}}}},h6=(n,s)=>{const a=n.getHotspot(s).getOr(s),c="hotspot",g=n.getAnchorOverrides();return n.layouts.fold(()=>({type:c,hotspot:a,overrides:g}),y=>({type:c,hotspot:a,overrides:g,layouts:y}))},dx=(n,s,a)=>{const c=n.fetch;return c(a).map(s)},v6=(n,s,a,c,g,y,w)=>{const k=dx(n,s,c),O=b6(c,n);return k.map(N=>N.bind(z=>{const Z=z.menus[z.primary];return F.from(Z).each(oe=>{n.listRole.each(fe=>{oe.role=fe})}),F.from(dy.sketch({...y.menu(),uid:Tv(""),data:z,highlightOnOpen:w,onOpenMenu:(oe,fe)=>{const ye=O().getOrDie();Lu.position(ye,fe,{anchor:a}),ir.decloak(g)},onOpenSubmenu:(oe,fe,ye)=>{const Fe=O().getOrDie();Lu.position(Fe,ye,{anchor:{type:"submenu",item:fe}}),ir.decloak(g)},onRepositionMenu:(oe,fe,ye)=>{const Fe=O().getOrDie();Lu.position(Fe,fe,{anchor:a}),ut(ye,Le=>{Lu.position(Fe,Le.triggeredMenu,{anchor:{type:"submenu",item:Le.triggeringItem}})})},onEscape:()=>(Go.focus(c),ir.close(g),F.some(!0))}))}))},qT=(n,s,a,c,g,y,w)=>{const k=h6(n,a);return v6(n,s,k,a,c,g,w).map(N=>(N.fold(()=>{ir.isOpen(c)&&ir.close(c)},z=>{ir.cloak(c),ir.open(c,z),y(c)}),c))},wV=(n,s,a,c,g,y,w)=>(ir.close(c),as.pure(c)),GT=(n,s,a,c,g,y)=>{const w=os.getCoupled(a,"sandbox");return(ir.isOpen(w)?wV:qT)(n,s,a,w,c,g,y)},CV=(n,s,a)=>{const c=Ut.getCurrent(s).getOr(s),g=ja(n.element);a?To(c.element,"min-width",g+"px"):hf(c.element,g)},b6=(n,s)=>n.getSystem().getByUid(s.uid+"-"+jT()).map(a=>()=>Kn.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Kn.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(n))),y6=n=>{ir.getState(n).each(s=>{dy.repositionMenus(s)})},w6=(n,s,a)=>{const c=qN(),g=(k,O)=>{const N=h6(n,s);c.link(s.element),n.matchWidth&&CV(N.hotspot,O,n.useMinWidth),n.onOpen(N,k,O),a!==void 0&&a.onOpen!==void 0&&a.onOpen(k,O)},y=(k,O)=>{c.unlink(s.element),w().getOr(O).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(k,O)},w=b6(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:c.id}},behaviours:Ip.augment(n.sandboxBehaviours,[Vn.config({store:{mode:"memory",initialValue:s}}),ir.config({onOpen:g,onClose:y,isPartOf:(k,O,N)=>Fv(O,N)||Fv(s,N),getAttachPoint:()=>w().getOrDie()}),Ut.config({find:k=>ir.getState(k).bind(O=>Ut.getCurrent(O))}),Hu.config({channels:{...jO({isExtraPart:je}),...ZT({doReposition:y6})}})])}},SV=n=>{const s=os.getCoupled(n,"sandbox");y6(s)},ZO=()=>[ht("sandboxClasses",[]),Ip.field("sandboxBehaviours",[Ut,Hu,ir,Vn])],xV=G([Jt("dom"),Jt("fetch"),zs("onOpen"),mu("onExecute"),ht("getHotspot",F.some),ht("getAnchorOverrides",G({})),Dv(),hc("dropdownBehaviours",[Us,os,ho,Go]),Jt("toggleClass"),ht("eventOrder",{}),pr("lazySink"),ht("matchWidth",!1),ht("useMinWidth",!1),pr("role"),pr("listRole")].concat(ZO())),EV=G([kf({schema:[rv(),ht("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),vV()]),AV=(n,s,a,c)=>{const g=z=>sn(n.dom,"attributes").bind(Z=>sn(Z,z)),y=z=>{ir.getState(z).each(Z=>{dy.highlightPrimary(Z)})},w=(z,Z,oe)=>GT(n,Ze,z,c,Z,oe),k=z=>{w(z,y,Vc.HighlightMenuAndItem).get(J)},O={expand:z=>{Us.isOn(z)||w(z,J,Vc.HighlightNone).get(J)},open:z=>{Us.isOn(z)||w(z,J,Vc.HighlightMenuAndItem).get(J)},refetch:z=>os.getExistingCoupled(z,"sandbox").fold(()=>w(z,J,Vc.HighlightMenuAndItem).map(J),oe=>qT(n,Ze,z,oe,c,J,Vc.HighlightMenuAndItem).map(J)),isOpen:Us.isOn,close:z=>{Us.isOn(z)&&w(z,J,Vc.HighlightMenuAndItem).get(J)},repositionMenus:z=>{Us.isOn(z)&&SV(z)}},N=(z,Z)=>(mv(z),F.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:vu(n.dropdownBehaviours,[Us.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),os.config({others:{sandbox:z=>w6(n,z,{onOpen:()=>Us.on(z),onClose:()=>Us.off(z)})}}),ho.config({mode:"special",onSpace:N,onEnter:N,onDown:(z,Z)=>{if(lf.isOpen(z)){const oe=os.getCoupled(z,"sandbox");y(oe)}else lf.open(z);return F.some(!0)},onEscape:(z,Z)=>lf.isOpen(z)?(lf.close(z),F.some(!0)):F.none()}),Go.config({})]),events:DO(F.some(k)),eventOrder:{...n.eventOrder,[gl()]:["disabling","toggling","alloy.base.behaviour"]},apis:O,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold(()=>({}),z=>({role:z})),...n.dom.tag==="button"?{type:g("type").getOr("button")}:{}}}}},lf=Id({name:"Dropdown",configFields:xV(),partFields:EV(),factory:AV,apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),C6="form",TV=[hc("formBehaviours",[Vn])],qO=n=>"<alloy.field."+n+">",kV=n=>{const s=(()=>{const y=[];return{field:(k,O)=>(y.push(k),FC(C6,qO(k),O)),record:G(y)}})(),a=n(s),c=s.record(),g=He(c,y=>pu({name:y,pname:qO(y)}));return $_(C6,TV,g,x6,a)},S6=(n,s)=>n.fold(()=>Kn.error(s),Kn.value),x6=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:vu(n.formBehaviours,[Vn.config({store:{mode:"manual",getValue:a=>{const c=Mm(a,n);return ds(c,(g,y)=>g().bind(w=>{const k=Ut.getCurrent(w);return S6(k,new Error(`Cannot find a current component to extract the value from for form part '${y}': `+id(w.element)))}).map(Vn.getValue))},setValue:(a,c)=>{Bo(c,(g,y)=>{Xr(a,n,y).each(w=>{Ut.getCurrent(w).each(k=>{Vn.setValue(k,g)})})})}}})]),apis:{getField:(a,c)=>Xr(a,n,c).bind(Ut.getCurrent)}}),Mv={getField:Gb((n,s,a)=>n.getField(s,a)),sketch:kV},Cw=G([Jt("dom"),ht("shell",!0),hc("toolbarBehaviours",[Xo])]),OV=G([Mu({name:"groups",overrides:()=>({behaviours:bn([Xo.config({})])})})]),fx=(n,s,a,c)=>{const g=(k,O)=>{y(k).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},N=>{Xo.set(N,O)})},y=k=>n.shell?F.some(k):Xr(k,n,"groups"),w=n.shell?{behaviours:[Xo.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:w.components,behaviours:vu(n.toolbarBehaviours,w.behaviours),apis:{setGroups:g,refresh:J},domModification:{attributes:{role:"group"}}}},Hg=Id({name:"Toolbar",configFields:Cw(),partFields:OV(),factory:fx,apis:{setGroups:(n,s,a)=>{n.setGroups(s,a)}}}),DV=G([Ns(["toggledClass"]),Jt("lazySink"),Ic("fetch"),Fd("getBounds"),$c("fireDismissalEventInstead",[ht("event",Om())]),Dv(),zs("onToggled")]),PV=G([kf({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:bn([Us.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),kf({factory:Hg,schema:Cw(),name:"toolbar",overrides:n=>({toolbarBehaviours:bn([ho.config({mode:"cyclic",onEscape:s=>(Xr(s,n,"button").each(Go.focus),F.none())})])})})]),Sw=Do(),E6=(n,s)=>{Sw.set(!0),GO(n,s),Sw.clear()},GO=(n,s)=>{const a=os.getCoupled(n,"toolbarSandbox");ir.isOpen(a)?ir.close(a):ir.open(a,s.toolbar())},mx=(n,s,a,c)=>{const g=a.getBounds.map(w=>w()),y=a.lazySink(n).getOrDie();Lu.positionWithinBounds(y,s,{anchor:{type:"hotspot",hotspot:n,layouts:c,overrides:{maxWidthFunction:Fb()}}},g)},A6=(n,s,a,c,g)=>{Hg.setGroups(s,g),mx(n,s,a,c),Us.on(n)},RV=(n,s,a)=>{const c=qN(),g=(w,k)=>{const O=Sw.get().getOr(!1);a.fetch().get(N=>{A6(n,k,a,s.layouts,N),c.link(n.element),O||ho.focusIn(k)})},y=()=>{Us.off(n),Sw.get().getOr(!1)||Go.focus(n),c.unlink(n.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:bn([ho.config({mode:"special",onEscape:w=>(ir.close(w),F.some(!0))}),ir.config({onOpen:g,onClose:y,isPartOf:(w,k,O)=>Fv(k,O)||Fv(n,O),getAttachPoint:()=>a.lazySink(n).getOrDie()}),Hu.config({channels:{...jO({isExtraPart:je,...a.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...ZT({doReposition:()=>{ir.getState(os.getCoupled(n,"toolbarSandbox")).each(w=>{mx(n,w,a,s.layouts)})}})}})])}},d0=Id({name:"FloatingToolbarButton",factory:(n,s,a,c)=>({...Rl.sketch({...c.button(),action:g=>{GO(g,c)},buttonBehaviours:Ip.augment({dump:c.button().buttonBehaviours},[os.config({others:{toolbarSandbox:g=>RV(g,a,n)}})])}),apis:{setGroups:(g,y)=>{ir.getState(os.getCoupled(g,"toolbarSandbox")).each(w=>{A6(g,w,n,a.layouts,y)})},reposition:g=>{ir.getState(os.getCoupled(g,"toolbarSandbox")).each(y=>{mx(g,y,n,a.layouts)})},toggle:g=>{GO(g,c)},toggleWithoutFocusing:g=>{E6(g,c)},getToolbar:g=>ir.getState(os.getCoupled(g,"toolbarSandbox")),isOpen:g=>ir.isOpen(os.getCoupled(g,"toolbarSandbox"))}}),configFields:DV(),partFields:PV(),apis:{setGroups:(n,s,a)=>{n.setGroups(s,a)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),T6=G([ht("prefix","form-field"),hc("fieldBehaviours",[Ut,Vn])]),FV=G([Mu({schema:[Jt("dom")],name:"label"}),Mu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Jt("text")],name:"aria-descriptor"}),pu({factory:{sketch:n=>{const s=Ch(n,["factory"]);return n.factory.sketch(s)}},schema:[Jt("factory")],name:"field"})]),MV=(n,s,a,c)=>{const g=vu(n.fieldBehaviours,[Ut.config({find:k=>Xr(k,n,"field")}),Vn.config({store:{mode:"manual",getValue:k=>Ut.getCurrent(k).bind(Vn.getValue),setValue:(k,O)=>{Ut.getCurrent(k).each(N=>{Vn.setValue(N,O)})}}})]),y=Oa([ga((k,O)=>{const N=Eg(k,n,["label","field","aria-descriptor"]);N.field().each(z=>{const Z=pe(n.prefix);N.label().each(oe=>{Ao(oe.element,"for",Z),Ao(z.element,"id",Z)}),N["aria-descriptor"]().each(oe=>{const fe=pe(n.prefix);Ao(oe.element,"id",fe),Ao(z.element,"aria-describedby",fe)})})})]),w={getField:k=>Xr(k,n,"field"),getLabel:k=>Xr(k,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:g,events:y,apis:w}},Rs=Id({name:"FormField",configFields:T6(),partFields:FV(),factory:MV,apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}}),NV=G([ht("field1Name","field1"),ht("field2Name","field2"),Ep("onLockedChange"),Ns(["lockClass"]),ht("locked",!1),Ip.field("coupledFieldBehaviours",[Ut,Vn]),Os("onInput",J)]),BV=(n,s,a)=>Xr(n,s,a).bind(Ut.getCurrent),k6=(n,s)=>pu({factory:Rs,name:n,overrides:a=>({fieldBehaviours:bn([Wo("coupled-input-behaviour",[zt(Hi(),c=>{BV(c,a,s).each(g=>{Xr(c,a,"lock").each(y=>{Us.isOn(y)&&a.onLockedChange(c,g,y),a.onInput(c)})})})])])})}),IV=G([k6("field1","field2"),k6("field2","field1"),pu({factory:Rl,schema:[Jt("dom")],name:"lock",overrides:n=>({buttonBehaviours:bn([Us.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),$V=(n,s,a,c)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Ip.augment(n.coupledFieldBehaviours,[Ut.config({find:F.some}),Vn.config({store:{mode:"manual",getValue:g=>{const y=p2(g,n,["field1","field2"]);return{[n.field1Name]:Vn.getValue(y.field1()),[n.field2Name]:Vn.getValue(y.field2())}},setValue:(g,y)=>{const w=p2(g,n,["field1","field2"]);Io(y,n.field1Name)&&Vn.setValue(w.field1(),y[n.field1Name]),Io(y,n.field2Name)&&Vn.setValue(w.field2(),y[n.field2Name])}}})]),apis:{getField1:g=>Xr(g,n,"field1"),getField2:g=>Xr(g,n,"field2"),getLock:g=>Xr(g,n,"lock")}}),Ui=Id({name:"FormCoupledInputs",configFields:NV(),partFields:IV(),factory:$V,apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),LV=(n,s)=>{const a=He(n.options,g=>({dom:{tag:"option",value:g.value,innerHtml:g.text}})),c=n.data.map(g=>Wf("initialValue",g)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:a,behaviours:vu(n.selectBehaviours,[Go.config({}),Vn.config({store:{mode:"manual",getValue:g=>ic(g.element),setValue:(g,y)=>{const w=vn(n.options);Re(n.options,O=>O.value===y).isSome()?Cl(g.element,y):g.element.dom.selectedIndex===-1&&y===""&&w.each(O=>Cl(g.element,O.value))},...c}})])}},YO=nm({name:"HtmlSelect",configFields:[Jt("options"),hc("selectBehaviours",[Go,Vn]),ht("selectClasses",[]),ht("selectAttributes",{}),pr("data")],factory:LV}),_6=(n,s,a,c,g)=>{const y=()=>n.lazySink(s),w=c.type==="horizontal"?{layouts:{onLtr:()=>UC(),onRtl:()=>w2()}}:{},k=N=>N.length===2,O=N=>k(N)?w:{};return dy.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightOnOpen:c.menu.highlightOnOpen,fakeFocus:c.menu.fakeFocus,onEscape:()=>(ir.close(s),n.onEscape.map(N=>N(s)),F.some(!0)),onExecute:()=>F.some(!0),onOpenMenu:(N,z)=>{Lu.positionWithinBounds(y().getOrDie(),z,a,g())},onOpenSubmenu:(N,z,Z,oe)=>{const fe=y().getOrDie();Lu.position(fe,Z,{anchor:{type:"submenu",item:z,...O(oe)}})},onRepositionMenu:(N,z,Z)=>{const oe=y().getOrDie();Lu.positionWithinBounds(oe,z,a,g()),ut(Z,fe=>{const ye=O(fe.triggeringPath);Lu.position(oe,fe.triggeredMenu,{anchor:{type:"submenu",item:fe.triggeringItem,...ye}})})}})},HV=(n,s)=>{const a=(oe,fe)=>n.getRelated(oe).exists(Fe=>Fv(Fe,fe)),c=(oe,fe)=>{ir.setContent(oe,fe)},g=(oe,fe,ye)=>{const Fe=F.none;y(oe,fe,ye,Fe)},y=(oe,fe,ye,Fe)=>{const Le=n.lazySink(oe).getOrDie();ir.openWhileCloaked(oe,fe,()=>Lu.positionWithinBounds(Le,oe,ye,Fe())),Vn.setValue(oe,F.some({mode:"position",config:ye,getBounds:Fe}))},w=(oe,fe,ye)=>{k(oe,fe,ye,F.none)},k=(oe,fe,ye,Fe)=>{const Le=_6(n,oe,fe,ye,Fe);ir.open(oe,Le),Vn.setValue(oe,F.some({mode:"menu",menu:Le}))},O=oe=>{ir.isOpen(oe)&&(Vn.setValue(oe,F.none()),ir.close(oe))},N=oe=>ir.getState(oe),z=oe=>{ir.isOpen(oe)&&Vn.getValue(oe).each(fe=>{switch(fe.mode){case"menu":ir.getState(oe).each(dy.repositionMenus);break;case"position":const ye=n.lazySink(oe).getOrDie();Lu.positionWithinBounds(ye,oe,fe.config,fe.getBounds());break}})},Z={setContent:c,showAt:g,showWithinBounds:y,showMenuAt:w,showMenuWithinBounds:k,hide:O,getContent:N,reposition:z,isOpen:ir.isOpen};return{uid:n.uid,dom:n.dom,behaviours:vu(n.inlineBehaviours,[ir.config({isPartOf:(oe,fe,ye)=>Fv(fe,ye)||a(oe,ye),getAttachPoint:oe=>n.lazySink(oe).getOrDie(),onOpen:oe=>{n.onShow(oe)},onClose:oe=>{n.onHide(oe)}}),Vn.config({store:{mode:"memory",initialValue:F.none()}}),Hu.config({channels:{...jO({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(oe=>({fireEventInstead:{event:oe.event}})).getOr({})}),...ZT({...n.fireRepositionEventInstead.map(oe=>({fireEventInstead:{event:oe.event}})).getOr({}),doReposition:z})}})]),eventOrder:n.eventOrder,apis:Z}},Ja=nm({name:"InlineView",configFields:[Jt("lazySink"),zs("onShow"),zs("onHide"),Fd("onEscape"),hc("inlineBehaviours",[ir,Vn,Hu]),$c("fireDismissalEventInstead",[ht("event",Om())]),$c("fireRepositionEventInstead",[ht("event",i2())]),ht("getRelated",F.none),ht("isExtraPart",je),ht("eventOrder",F.none)],factory:HV,apis:{showAt:(n,s,a,c)=>{n.showAt(s,a,c)},showWithinBounds:(n,s,a,c,g)=>{n.showWithinBounds(s,a,c,g)},showMenuAt:(n,s,a,c)=>{n.showMenuAt(s,a,c)},showMenuWithinBounds:(n,s,a,c,g)=>{n.showMenuWithinBounds(s,a,c,g)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,a)=>{n.setContent(s,a)},reposition:(n,s)=>{n.reposition(s)}}}),XO=G([Ar("type","text"),pr("data"),ht("inputAttributes",{}),ht("inputStyles",{}),ht("tag","input"),ht("inputClasses",[]),zs("onSetValue"),Os("fromInputValue",Ze),Os("toInputValue",Ze),ht("styles",{}),ht("eventOrder",{}),hc("inputBehaviours",[Vn,Go]),ht("selectOnFocus",!0)]),O6=n=>bn([Go.config({onFocus:n.selectOnFocus?s=>{const a=s.element,c=ic(a);n.type!=="range"&&a.dom.setSelectionRange(0,c.length)}:J})]),zV=n=>({...O6(n),...vu(n.inputBehaviours,[Vn.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>n.fromInputValue(ic(s.element)),setValue:(s,a)=>{ic(s.element)!==a&&Cl(s.element,n.toInputValue(a))}},onSetValue:n.onSetValue})])}),QO=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),D6=(n,s)=>({uid:n.uid,dom:QO(n),components:[],behaviours:zV(n),eventOrder:n.eventOrder}),Xh=nm({name:"Input",configFields:XO(),factory:D6}),JO=Dh(BO(),IO()),UV=(n,s)=>{const a=Ei(n,"id").fold(()=>{const c=pe("dialog-label");return Ao(s,"id",c),c},Ze);Ao(n,"aria-labelledby",a)},VV=G([Jt("lazySink"),pr("dragBlockClass"),Os("getBounds",ml),ht("useTabstopAt",lt),ht("firstTabstop",0),ht("eventOrder",{}),hc("modalBehaviours",[ho]),mu("onExecute"),Ap("onEscape")]),KT={sketch:Ze},eD=G([Mu({name:"draghandle",overrides:(n,s)=>({behaviours:bn([i0.config({mode:"mouse",getTarget:a=>au(a,'[role="dialog"]').getOr(a),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),pu({schema:[Jt("dom")],name:"title"}),pu({factory:KT,schema:[Jt("dom")],name:"close"}),pu({factory:KT,schema:[Jt("dom")],name:"body"}),Mu({factory:KT,schema:[Jt("dom")],name:"footer"}),kf({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[ht("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ht("components",[])],name:"blocker"})]),WV=(n,s,a,c)=>{const g=Do(),y=ye=>{g.set(ye);const Fe=n.lazySink(ye).getOrDie(),Le=c.blocker(),Ee=Fe.getSystem().build({...Le,components:Le.components.concat([T(ye)]),behaviours:bn([Go.config({}),Wo("dialog-blocker-events",[hv(Fu(),()=>{ln.isBlocked(ye)?J():ho.focusIn(ye)})])])});Dg(Fe,Ee),ho.focusIn(ye)},w=ye=>{g.clear(),kc(ye.element).each(Fe=>{ye.getSystem().getByDom(Fe).each(Le=>{Rg(Le)})})},k=ye=>Fm(ye,n,"body"),O=ye=>Xr(ye,n,"footer"),N=(ye,Fe)=>{ln.block(ye,Fe)},z=ye=>{ln.unblock(ye)},Z=pe("modal-events"),oe={...n.eventOrder,[Ef()]:[Z].concat(n.eventOrder["alloy.system.attached"]||[])},fe=Va();return{uid:n.uid,dom:n.dom,components:s,apis:{show:y,hide:w,getBody:k,getFooter:O,setIdle:z,setBusy:N},eventOrder:oe,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:vu(n.modalBehaviours,[Xo.config({}),ho.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),ln.config({getRoot:g.get}),Wo(Z,[ga(ye=>{const Fe=Fm(ye,n,"title").element,Le=A1(Fe);fe.os.isMacOS()&&Se(Le)?Ao(ye.element,"aria-label",Le):UV(ye.element,Fe)})])])}},Fl=Id({name:"ModalDialog",configFields:VV(),partFields:eD(),factory:WV,apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,a)=>{n.setBusy(s,a)},setIdle:(n,s)=>{n.setIdle(s)}}}),jV=Mu({schema:[Jt("dom")],name:"label"}),Nv=n=>Mu({name:""+n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),c=>({events:Oa([pv(fc(),(g,y,w)=>c(g,w),[s]),pv(tl(),(g,y,w)=>c(g,w),[s]),pv(km(),(g,y,w)=>{w.mouseIsDown.get()&&c(g,w)},[s])])}))}),ZV=Nv("top-left"),qV=Nv("top"),P6=Nv("top-right"),R6=Nv("right"),GV=Nv("bottom-right"),KV=Nv("bottom"),YV=Nv("bottom-left"),Df=Nv("left"),Hp=pu({name:"thumb",defaults:G({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:Oa([_p(fc(),n,"spectrum"),_p(Ga(),n,"spectrum"),_p(Ru(),n,"spectrum"),_p(tl(),n,"spectrum"),_p(km(),n,"spectrum"),_p(xh(),n,"spectrum")])})}),px=n=>$h(n.event),tD=pu({schema:[Bc("mouseIsDown",()=>Mn(!1))],name:"spectrum",overrides:n=>{const a=n.model.manager,c=(g,y)=>a.getValueFromEvent(y).map(w=>a.setValueFrom(g,n,w));return{behaviours:bn([ho.config({mode:"special",onLeft:(g,y)=>a.onLeft(g,n,px(y)),onRight:(g,y)=>a.onRight(g,n,px(y)),onUp:(g,y)=>a.onUp(g,n,px(y)),onDown:(g,y)=>a.onDown(g,n,px(y))}),la.config({}),Go.config({})]),events:Oa([zt(fc(),c),zt(Ga(),c),zt(tl(),c),zt(km(),(g,y)=>{n.mouseIsDown.get()&&c(g,y)})])}}});var nD=[jV,Df,R6,qV,KV,ZV,P6,YV,GV,Hp,tD];const gx=G("slider.change.value"),F6=n=>n.type.indexOf("touch")!==-1,fy=n=>{const s=n.event.raw;if(F6(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?F.some(a.touches[0]).map(c=>mr(c.clientX,c.clientY)):F.none()}else{const a=s;return a.clientX!==void 0?F.some(a).map(c=>mr(c.clientX,c.clientY)):F.none()}},XV="top",YT="right",sD="bottom",M6="left",zg=n=>n.model.minX,my=n=>n.model.minY,XT=n=>n.model.minX-1,rm=n=>n.model.minY-1,Zc=n=>n.model.maxX,Ug=n=>n.model.maxY,dd=n=>n.model.maxX+1,QT=n=>n.model.maxY+1,ca=(n,s,a)=>s(n)-a(n),rD=n=>ca(n,Zc,zg),Vg=n=>ca(n,Ug,my),xw=n=>rD(n)/2,aD=n=>Vg(n)/2,Bv=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,JT=n=>n.snapToGrid,N6=n=>n.snapStart,ek=n=>n.rounded,tk=(n,s)=>n[s+"-edge"]!==void 0,iD=n=>tk(n,M6),lD=n=>tk(n,YT),nk=n=>tk(n,XV),cD=n=>tk(n,sD),zp=n=>n.model.value.get(),Iv=(n,s)=>({x:n,y:s}),Up=(n,s)=>{So(n,gx(),{value:s})},QV=(n,s)=>{Up(n,Iv(XT(s),rm(s)))},JV=(n,s)=>{Up(n,rm(s))},eW=(n,s)=>{Up(n,Iv(xw(s),rm(s)))},B6=(n,s)=>{Up(n,Iv(dd(s),rm(s)))},tW=(n,s)=>{Up(n,dd(s))},nW=(n,s)=>{Up(n,Iv(dd(s),aD(s)))},I6=(n,s)=>{Up(n,Iv(dd(s),QT(s)))},oW=(n,s)=>{Up(n,QT(s))},$6=(n,s)=>{Up(n,Iv(xw(s),QT(s)))},hx=(n,s)=>{Up(n,Iv(XT(s),QT(s)))},sW=(n,s)=>{Up(n,XT(s))},rW=(n,s)=>{Up(n,Iv(XT(s),aD(s)))},ok=(n,s,a,c)=>n<s?n:n>a?a:n===s?s-1:Math.max(s,n-c),sk=(n,s,a,c)=>n>a?n:n<s?s:n===a?a+1:Math.min(a,n+c),rk=(n,s,a)=>Math.max(s,Math.min(a,n)),L6=(n,s,a,c,g)=>g.fold(()=>{const y=n-s,w=Math.round(y/c)*c;return rk(s+w,s-1,a+1)},y=>{const w=(n-y)%c,k=Math.round(w/c),O=Math.floor((n-y)/c),N=Math.floor((a-y)/c),z=Math.min(N,O+k),Z=y+z*c;return Math.max(y,Z)}),aW=(n,s,a)=>Math.min(a,Math.max(n,s))-s,H6=n=>{const{min:s,max:a,range:c,value:g,step:y,snap:w,snapStart:k,rounded:O,hasMinEdge:N,hasMaxEdge:z,minBound:Z,maxBound:oe,screenRange:fe}=n,ye=N?s-1:s,Fe=z?a+1:a;if(g<Z)return ye;if(g>oe)return Fe;{const Le=aW(g,Z,oe),Ee=rk(Le/fe*c+s,ye,Fe);return w&&Ee>=s&&Ee<=a?L6(Ee,s,a,y,k):O?Math.round(Ee):Ee}},z6=n=>{const{min:s,max:a,range:c,value:g,hasMinEdge:y,hasMaxEdge:w,maxBound:k,maxOffset:O,centerMinEdge:N,centerMaxEdge:z}=n;return g<s?y?0:N:g>a?w?k:z:(g-s)/c*O},uD="top",U6="right",V6="bottom",ak="left",Vp="width",iW="height",Wp=n=>n.element.dom.getBoundingClientRect(),Zm=(n,s)=>n[s],vx=n=>{const s=Wp(n);return Zm(s,ak)},W6=n=>{const s=Wp(n);return Zm(s,U6)},bx=n=>{const s=Wp(n);return Zm(s,uD)},dD=n=>{const s=Wp(n);return Zm(s,V6)},fD=n=>{const s=Wp(n);return Zm(s,Vp)},j6=n=>{const s=Wp(n);return Zm(s,iW)},Z6=(n,s,a)=>(n+s)/2-a,q6=(n,s)=>{const a=Wp(n),c=Wp(s),g=Zm(a,ak),y=Zm(a,U6),w=Zm(c,ak);return Z6(g,y,w)},G6=(n,s)=>{const a=Wp(n),c=Wp(s),g=Zm(a,uD),y=Zm(a,V6),w=Zm(c,uD);return Z6(g,y,w)},ik=(n,s)=>{So(n,gx(),{value:s})},mD=(n,s,a)=>{const c={min:zg(s),max:Zc(s),range:rD(s),value:a,step:Bv(s),snap:JT(s),snapStart:N6(s),rounded:ek(s),hasMinEdge:iD(s),hasMaxEdge:lD(s),minBound:vx(n),maxBound:W6(n),screenRange:fD(n)};return H6(c)},lW=(n,s,a)=>{const c=mD(n,s,a);return ik(n,c),c},K6=(n,s)=>{const a=zg(s);ik(n,a)},Y6=(n,s)=>{const a=Zc(s);ik(n,a)},X6=(n,s,a,c)=>{const y=(n>0?sk:ok)(zp(a),zg(a),Zc(a),Bv(a,c));return ik(s,y),F.some(y)},pD=n=>(s,a,c)=>X6(n,s,a,c).map(lt),cW=n=>fy(n).map(a=>a.left),uW=(n,s,a,c,g)=>{const w=fD(n),k=c.bind(z=>F.some(q6(z,n))).getOr(0),O=g.bind(z=>F.some(q6(z,n))).getOr(w),N={min:zg(s),max:Zc(s),range:rD(s),value:a,hasMinEdge:iD(s),hasMaxEdge:lD(s),minBound:vx(n),maxBound:W6(n),maxOffset:w,centerMinEdge:k,centerMaxEdge:O};return z6(N)},gD=(n,s,a,c,g,y)=>{const w=uW(s,y,a,c,g);return vx(s)-vx(n)+w},Q6=(n,s,a,c)=>{const g=zp(a),y=gD(n,c.getSpectrum(n),g,c.getLeftEdge(n),c.getRightEdge(n),a),w=ja(s.element)/2;To(s.element,"left",y-w+"px")},Ew=pD(-1),lk=pD(1),dW=F.none,J6=F.none,eB={"top-left":F.none(),top:F.none(),"top-right":F.none(),right:F.some(tW),"bottom-right":F.none(),bottom:F.none(),"bottom-left":F.none(),left:F.some(sW)};var tB=Object.freeze({__proto__:null,setValueFrom:lW,setToMin:K6,setToMax:Y6,findValueOfOffset:mD,getValueFromEvent:cW,findPositionOfValue:gD,setPositionFromValue:Q6,onLeft:Ew,onRight:lk,onUp:dW,onDown:J6,edgeActions:eB});const yx=(n,s)=>{So(n,gx(),{value:s})},wx=(n,s,a)=>{const c={min:my(s),max:Ug(s),range:Vg(s),value:a,step:Bv(s),snap:JT(s),snapStart:N6(s),rounded:ek(s),hasMinEdge:nk(s),hasMaxEdge:cD(s),minBound:bx(n),maxBound:dD(n),screenRange:j6(n)};return H6(c)},hD=(n,s,a)=>{const c=wx(n,s,a);return yx(n,c),c},fW=(n,s)=>{const a=my(s);yx(n,a)},mW=(n,s)=>{const a=Ug(s);yx(n,a)},pW=(n,s,a,c)=>{const y=(n>0?sk:ok)(zp(a),my(a),Ug(a),Bv(a,c));return yx(s,y),F.some(y)},vD=n=>(s,a,c)=>pW(n,s,a,c).map(lt),nB=n=>fy(n).map(a=>a.top),gW=(n,s,a,c,g)=>{const w=j6(n),k=c.bind(z=>F.some(G6(z,n))).getOr(0),O=g.bind(z=>F.some(G6(z,n))).getOr(w),N={min:my(s),max:Ug(s),range:Vg(s),value:a,hasMinEdge:nk(s),hasMaxEdge:cD(s),minBound:bx(n),maxBound:dD(n),maxOffset:w,centerMinEdge:k,centerMaxEdge:O};return z6(N)},bD=(n,s,a,c,g,y)=>{const w=gW(s,y,a,c,g);return bx(s)-bx(n)+w},oB=(n,s,a,c)=>{const g=zp(a),y=bD(n,c.getSpectrum(n),g,c.getTopEdge(n),c.getBottomEdge(n),a),w=Ea(s.element)/2;To(s.element,"top",y-w+"px")},hW=F.none,vW=F.none,bW=vD(-1),yW=vD(1),wW={"top-left":F.none(),top:F.some(JV),"top-right":F.none(),right:F.none(),"bottom-right":F.none(),bottom:F.some(oW),"bottom-left":F.none(),left:F.none()};var CW=Object.freeze({__proto__:null,setValueFrom:hD,setToMin:fW,setToMax:mW,findValueOfOffset:wx,getValueFromEvent:nB,findPositionOfValue:bD,setPositionFromValue:oB,onLeft:hW,onRight:vW,onUp:bW,onDown:yW,edgeActions:wW});const ck=(n,s)=>{So(n,gx(),{value:s})},Cx=(n,s)=>({x:n,y:s}),sB=(n,s,a)=>{const c=mD(n,s,a.left),g=wx(n,s,a.top),y=Cx(c,g);return ck(n,y),y},SW=(n,s,a,c,g)=>{const y=n>0?sk:ok,w=s?zp(c).x:y(zp(c).x,zg(c),Zc(c),Bv(c,g)),k=s?y(zp(c).y,my(c),Ug(c),Bv(c,g)):zp(c).y;return ck(a,Cx(w,k)),F.some(w)},uk=(n,s)=>(a,c,g)=>SW(n,s,a,c,g).map(lt),xW=(n,s)=>{const a=zg(s),c=my(s);ck(n,Cx(a,c))},rB=(n,s)=>{const a=Zc(s),c=Ug(s);ck(n,Cx(a,c))},EW=n=>fy(n),AW=(n,s,a,c)=>{const g=zp(a),y=gD(n,c.getSpectrum(n),g.x,c.getLeftEdge(n),c.getRightEdge(n),a),w=bD(n,c.getSpectrum(n),g.y,c.getTopEdge(n),c.getBottomEdge(n),a),k=ja(s.element)/2,O=Ea(s.element)/2;To(s.element,"left",y-k+"px"),To(s.element,"top",w-O+"px")},TW=uk(-1,!1),dk=uk(1,!1),kW=uk(-1,!0),_W=uk(1,!0),OW={"top-left":F.some(QV),top:F.some(eW),"top-right":F.some(B6),right:F.some(nW),"bottom-right":F.some(I6),bottom:F.some($6),"bottom-left":F.some(hx),left:F.some(rW)};var DW=Object.freeze({__proto__:null,setValueFrom:sB,setToMin:xW,setToMax:rB,getValueFromEvent:EW,setPositionFromValue:AW,onLeft:TW,onRight:dk,onUp:kW,onDown:_W,edgeActions:OW});const PW=[ht("stepSize",1),ht("speedMultiplier",10),ht("onChange",J),ht("onChoose",J),ht("onInit",J),ht("onDragStart",J),ht("onDragEnd",J),ht("snapToGrid",!1),ht("rounded",!0),pr("snapStart"),uc("model",pl("mode",{x:[ht("minX",0),ht("maxX",100),Bc("value",n=>Mn(n.mode.minX)),Jt("getInitialValue"),dr("manager",tB)],y:[ht("minY",0),ht("maxY",100),Bc("value",n=>Mn(n.mode.minY)),Jt("getInitialValue"),dr("manager",CW)],xy:[ht("minX",0),ht("maxX",100),ht("minY",0),ht("maxY",100),Bc("value",n=>Mn({x:n.mode.minX,y:n.mode.minY})),Jt("getInitialValue"),dr("manager",DW)]})),hc("sliderBehaviours",[ho,Vn]),Bc("mouseIsDown",()=>Mn(!1))],jp=Id({name:"Slider",configFields:PW,partFields:nD,factory:(n,s,a,c)=>{const g=Rt=>Fm(Rt,n,"thumb"),y=Rt=>Fm(Rt,n,"spectrum"),w=Rt=>Xr(Rt,n,"left-edge"),k=Rt=>Xr(Rt,n,"right-edge"),O=Rt=>Xr(Rt,n,"top-edge"),N=Rt=>Xr(Rt,n,"bottom-edge"),z=n.model,Z=z.manager,oe=(Rt,Rn)=>{Z.setPositionFromValue(Rt,Rn,n,{getLeftEdge:w,getRightEdge:k,getTopEdge:O,getBottomEdge:N,getSpectrum:y})},fe=(Rt,Rn)=>{z.value.set(Rn);const nn=g(Rt);oe(Rt,nn)},ye=(Rt,Rn)=>{fe(Rt,Rn);const nn=g(Rt);return n.onChange(Rt,nn,Rn),F.some(!0)},Fe=Rt=>{Z.setToMin(Rt,n)},Le=Rt=>{Z.setToMax(Rt,n)},Ee=Rt=>{const Rn=()=>{Xr(Rt,n,"thumb").each(mn=>{const un=z.value.get();n.onChoose(Rt,mn,un)})},nn=n.mouseIsDown.get();n.mouseIsDown.set(!1),nn&&Rn()},Xe=(Rt,Rn)=>{Rn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Rt,g(Rt))},st=(Rt,Rn)=>{Rn.stop(),n.onDragEnd(Rt,g(Rt)),Ee(Rt)},xt=Rt=>{Xr(Rt,n,"spectrum").map(ho.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:vu(n.sliderBehaviours,[ho.config({mode:"special",focusIn:xt}),Vn.config({store:{mode:"manual",getValue:Rt=>z.value.get(),setValue:fe}}),Hu.config({channels:{[_g()]:{onReceive:Ee}}})]),events:Oa([zt(gx(),(Rt,Rn)=>{ye(Rt,Rn.event.value)}),ga((Rt,Rn)=>{const nn=z.getInitialValue();z.value.set(nn);const mn=g(Rt);oe(Rt,mn);const un=y(Rt);n.onInit(Rt,mn,un,z.value.get())}),zt(fc(),Xe),zt(Ru(),st),zt(tl(),(Rt,Rn)=>{xt(Rt),Xe(Rt,Rn)}),zt(xh(),st)]),apis:{resetToMin:Fe,resetToMax:Le,setValue:fe,refresh:oe},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,a)=>{n.setValue(s,a)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),aB="container",RW=[hc("slotBehaviours",[])],iB=n=>"<alloy.field."+n+">",FW=n=>{const s=(()=>{const y=[];return{slot:(k,O)=>(y.push(k),FC(aB,iB(k),O)),record:G(y)}})(),a=n(s),c=s.record(),g=He(c,y=>pu({name:y,pname:iB(y)}));return $_(aB,RW,g,MW,a)},MW=(n,s)=>{const a=Fe=>nf(n),c=(Fe,Le)=>Xr(Fe,n,Le),g=(Fe,Le)=>(Ee,Xe)=>Xr(Ee,n,Xe).map(st=>Fe(st,Xe)).getOr(Le),y=Fe=>(Le,Ee)=>{ut(Ee,Xe=>Fe(Le,Xe))},w=(Fe,Le)=>xi(Fe.element,"aria-hidden")!=="true",k=(Fe,Le)=>{if(!w(Fe)){const Ee=Fe.element;fs(Ee,"display"),zr(Ee,"aria-hidden"),So(Fe,Q0(),{name:Le,visible:!0})}},O=(Fe,Le)=>{if(w(Fe)){const Ee=Fe.element;To(Ee,"display","none"),Ao(Ee,"aria-hidden","true"),So(Fe,Q0(),{name:Le,visible:!1})}},N=g(w,!1),z=g(O),Z=y(z),oe=Fe=>Z(Fe,a()),fe=g(k),ye={getSlotNames:a,getSlot:c,isShowing:N,hideSlot:z,hideAllSlots:oe,showSlot:fe};return{uid:n.uid,dom:n.dom,components:s,behaviours:XS(n.slotBehaviours),apis:ye}},qc={...ds({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,a)=>n.getSlot(s,a),isShowing:(n,s,a)=>n.isShowing(s,a),hideSlot:(n,s,a)=>n.hideSlot(s,a),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,a)=>n.showSlot(s,a)},n=>Gb(n)),sketch:FW},NW=(n,s)=>Cn(n,(g,y)=>s(y,g.len).fold(G(g),k=>({len:k.finish,list:g.list.concat([k])})),{len:0,list:[]}).list,yD=(n,s,a)=>({within:n,extra:s,withinWidth:a}),lB=(n,s,a)=>{const c=NW(n,(k,O)=>{const N=a(k);return F.some({element:k,start:O,finish:O+N,width:N})}),g=Yt(c,k=>k.finish<=s),y=jn(g,(k,O)=>k+O.width,0),w=c.slice(g.length);return{within:g,extra:w,withinWidth:y}},Sx=n=>He(n,s=>s.element),BW=(n,s,a)=>{const c=Sx(n.concat(s));return yD(c,[],a)},IW=(n,s,a,c)=>{const g=Sx(n).concat([a]);return yD(g,Sx(s),c)},$W=(n,s,a)=>yD(Sx(n),[],a),LW=(n,s,a)=>{const c=lB(s,n,a);return c.extra.length===0?F.some(c):F.none()},HW=(n,s,a,c)=>{const g=LW(n,s,a).getOrThunk(()=>lB(s,n-a(c),a)),y=g.within,w=g.extra,k=g.withinWidth;return w.length===1&&w[0].width<=a(c)?BW(y,w,k):w.length>=1?IW(y,w,c,k):$W(y,w,k)},cB=(n,s)=>{const a=He(s,c=>T(c));Hg.setGroups(n,a)},wD=n=>es(n,s=>Ra(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),uB=(n,s,a)=>{const c=s.builtGroups.get();if(c.length===0)return;const g=Fm(n,s,"primary"),y=os.getCoupled(n,"overflowGroup");To(g.element,"visibility","hidden");const w=c.concat([y]),k=wD(w);a([]),cB(g,w);const O=ja(g.element),N=HW(O,s.builtGroups.get(),z=>Math.ceil(z.element.dom.getBoundingClientRect().width),y);N.extra.length===0?(Xo.remove(g,y),a([])):(cB(g,N.within),a(N.extra)),fs(g.element,"visibility"),Wa(g.element),k.each(Go.focus)},dB=G([hc("splitToolbarBehaviours",[os]),Bc("builtGroups",()=>Mn([]))]),zW=G([Ns(["overflowToggledClass"]),Fd("getOverflowBounds"),Jt("lazySink"),Bc("overflowGroups",()=>Mn([])),zs("onOpened"),zs("onClosed")].concat(dB())),UW=G([pu({factory:Hg,schema:Cw(),name:"primary"}),kf({schema:Cw(),name:"overflow"}),kf({name:"overflow-button"}),kf({name:"overflow-group"})]),VW=G([Jt("items"),Ns(["itemSelector"]),hc("tgroupBehaviours",[ho])]),WW=G([d2({name:"items",unit:"item"})]),jW=(n,s,a,c)=>({uid:n.uid,dom:n.dom,components:s,behaviours:vu(n.tgroupBehaviours,[ho.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),fk=Id({name:"ToolbarGroup",configFields:VW(),partFields:WW(),factory:jW}),fB=n=>He(n,s=>T(s)),mB=(n,s,a)=>{uB(n,a,c=>{a.overflowGroups.set(c),s.getOpt(n).each(g=>{d0.setGroups(g,fB(c))})})},ZW=(n,s,a,c)=>{const g=gr(d0.sketch({fetch:()=>as.nu(y=>{y(fB(n.overflowGroups.get()))}),layouts:{onLtr:()=>[nl,vl],onRtl:()=>[vl,nl],onBottomLtr:()=>[jl,pc],onBottomRtl:()=>[pc,jl]},getBounds:a.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()},onToggled:(y,w)=>n[w?"onOpened":"onClosed"](y)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:vu(n.splitToolbarBehaviours,[os.config({others:{overflowGroup:()=>fk.sketch({...c["overflow-group"](),items:[g.asSpec()]})}})]),apis:{setGroups:(y,w)=>{n.builtGroups.set(He(w,y.getSystem().build)),mB(y,g,n)},refresh:y=>mB(y,g,n),toggle:y=>{g.getOpt(y).each(w=>{d0.toggle(w)})},toggleWithoutFocusing:y=>{g.getOpt(y).each(d0.toggleWithoutFocusing)},isOpen:y=>g.getOpt(y).map(d0.isOpen).getOr(!1),reposition:y=>{g.getOpt(y).each(w=>{d0.reposition(w)})},getOverflow:y=>g.getOpt(y).bind(d0.getToolbar)},domModification:{attributes:{role:"group"}}}},pB=Id({name:"SplitFloatingToolbar",configFields:zW(),partFields:UW(),factory:ZW,apis:{setGroups:(n,s,a)=>{n.setGroups(s,a)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),qW=G([Ns(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),zs("onOpened"),zs("onClosed")].concat(dB())),GW=G([pu({factory:Hg,schema:Cw(),name:"primary"}),pu({factory:Hg,schema:Cw(),name:"overflow",overrides:n=>({toolbarBehaviours:bn([ud.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Xr(s,n,"overflow-button").each(a=>{Us.off(a)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Xr(s,n,"overflow-button").each(Us.on)}}),ho.config({mode:"acyclic",onEscape:s=>(Xr(s,n,"overflow-button").each(Go.focus),F.some(!0))})])})}),kf({name:"overflow-button",overrides:n=>({buttonBehaviours:bn([Us.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),kf({name:"overflow-group"})]),KW=(n,s)=>Xr(n,s,"overflow").map(ud.hasGrown).getOr(!1),xx=(n,s,a)=>{Xr(n,s,"overflow-button").each(c=>{Xr(n,s,"overflow").each(g=>{if(CD(n,s),ud.hasShrunk(g)){const y=s.onOpened;s.onOpened=w=>{a||ho.focusIn(g),y(w),s.onOpened=y}}else{const y=s.onClosed;s.onClosed=w=>{a||Go.focus(c),y(w),s.onClosed=y}}ud.toggleGrow(g)})})},CD=(n,s)=>{Xr(n,s,"overflow").each(a=>{uB(n,s,c=>{const g=He(c,y=>T(y));Hg.setGroups(a,g)}),Xr(n,s,"overflow-button").each(c=>{ud.hasGrown(a)&&Us.on(c)}),ud.refresh(a)})},YW=(n,s,a,c)=>{const g="alloy.toolbar.toggle",y=(w,k)=>{const O=He(k,w.getSystem().build);n.builtGroups.set(O)};return{uid:n.uid,dom:n.dom,components:s,behaviours:vu(n.splitToolbarBehaviours,[os.config({others:{overflowGroup:w=>fk.sketch({...c["overflow-group"](),items:[Rl.sketch({...c["overflow-button"](),action:k=>{Ds(w,g)}})]})}}),Wo("toolbar-toggle-events",[zt(g,w=>{xx(w,n,!1)})])]),apis:{setGroups:(w,k)=>{y(w,k),CD(w,n)},refresh:w=>CD(w,n),toggle:w=>{xx(w,n,!1)},toggleWithoutFocusing:w=>{xx(w,n,!0)},isOpen:w=>KW(w,n)},domModification:{attributes:{role:"group"}}}},SD=Id({name:"SplitSlidingToolbar",configFields:qW(),partFields:GW(),factory:YW,apis:{setGroups:(n,s,a)=>{n.setGroups(s,a)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),Ex=(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:DO(n.action),behaviours:vu(n.tabButtonBehaviours,[Go.config({}),ho.config({mode:"execution",useSpace:!0,useEnter:!0}),Vn.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),gB=nm({name:"TabButton",configFields:[ht("uid",void 0),Jt("value"),Ji("dom","dom",Qi(()=>({attributes:{role:"tab",id:pe("aria"),"aria-selected":"false"}})),Ou()),pr("action"),ht("domModification",{}),hc("tabButtonBehaviours",[Go,ho,Vn]),Jt("view")],factory:Ex}),XW=G([Jt("tabs"),Jt("dom"),ht("clickToDismiss",!1),hc("tabbarBehaviours",[fr,ho]),Ns(["tabClass","selectedClass"])]),QW=d2({factory:gB,name:"tabs",unit:"tab",overrides:n=>{const s=(c,g)=>{fr.dehighlight(c,g),So(c,Th(),{tabbar:c,button:g})},a=(c,g)=>{fr.highlight(c,g),So(c,ad(),{tabbar:c,button:g})};return{action:c=>{const g=c.getSystem().getByUid(n.uid).getOrDie(),y=fr.isHighlighted(g,c);(y&&n.clickToDismiss?s:y?J:a)(g,c)},domModification:{classes:[n.markers.tabClass]}}}}),hB=G([QW]),JW=(n,s,a,c)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:vu(n.tabbarBehaviours,[fr.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(g,y)=>{Ao(y.element,"aria-selected","true")},onDehighlight:(g,y)=>{Ao(y.element,"aria-selected","false")}}),ho.config({mode:"flow",getInitial:g=>fr.getHighlighted(g).map(y=>y.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),vB=Id({name:"Tabbar",configFields:XW(),partFields:hB(),factory:JW}),ej=(n,s)=>({uid:n.uid,dom:n.dom,behaviours:vu(n.tabviewBehaviours,[Xo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),tj=nm({name:"Tabview",configFields:[hc("tabviewBehaviours",[Xo])],factory:ej}),nj=G([ht("selectFirst",!0),zs("onChangeTab"),zs("onDismissTab"),ht("tabs",[]),hc("tabSectionBehaviours",[])]),oj=pu({factory:vB,schema:[Jt("dom"),mi("markers",[Jt("tabClass"),Jt("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),sj=pu({factory:tj,name:"tabview"}),rj=G([oj,sj]),bB=(n,s,a,c)=>{const g=w=>{const k=Vn.getValue(w);Xr(w,n,"tabview").each(O=>{Re(n.tabs,z=>z.value===k).each(z=>{const Z=z.view();Ei(w.element,"id").each(oe=>{Ao(O.element,"aria-labelledby",oe)}),Xo.set(O,Z),n.onChangeTab(O,w,Z)})})},y=(w,k)=>{Xr(w,n,"tabbar").each(O=>{k(O).each(mv)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:XS(n.tabSectionBehaviours),events:Oa(qe([n.selectFirst?[ga((w,k)=>{y(w,fr.getFirst)})]:[],[zt(ad(),(w,k)=>{const O=k.event.button;g(O)}),zt(Th(),(w,k)=>{const O=k.event.button;n.onDismissTab(w,O)})]])),apis:{getViewItems:w=>Xr(w,n,"tabview").map(k=>Xo.contents(k)).getOr([]),showTab:(w,k)=>{y(w,N=>{const z=fr.getCandidates(N);return Re(z,oe=>Vn.getValue(oe)===k).filter(oe=>!fr.isHighlighted(N,oe))})}}}},py=Id({name:"TabSection",configFields:nj(),partFields:rj(),factory:bB,apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,a)=>{n.showTab(s,a)}}}),mk=(n,s,a)=>{const c=Vn.getValue(a);Vn.setValue(s,c),ED(s)},xD=(n,s)=>{const a=n.element,c=ic(a),g=a.dom;xi(a,"type")!=="number"&&s(g,c)},ED=n=>{xD(n,(s,a)=>s.setSelectionRange(a.length,a.length))},yB=(n,s)=>{xD(n,(a,c)=>a.setSelectionRange(s,c.length))},wB=(n,s,a)=>{if(n.selectsOver){const c=Vn.getValue(s),g=n.getDisplayText(c),y=Vn.getValue(a);return n.getDisplayText(y).indexOf(g)===0?F.some(()=>{mk(n,s,a),yB(s,g.length)}):F.none()}else return F.none()},AD=G("alloy.typeahead.itemexecute"),aj=(n,s,a,c)=>{const g=(Z,oe,fe)=>{n.previewing.set(!1);const ye=os.getCoupled(Z,"sandbox");if(ir.isOpen(ye))Ut.getCurrent(ye).each(Fe=>{fr.getHighlighted(Fe).fold(()=>{fe(Fe)},()=>{ZC(ye,Fe.element,"keydown",oe)})});else{const Fe=Le=>{Ut.getCurrent(Le).each(fe)};qT(n,w(Z),Z,ye,c,Fe,Vc.HighlightMenuAndItem).get(J)}},y=O6(n),w=Z=>oe=>oe.map(fe=>{const ye=xs(fe.menus),Fe=De(ye,Ee=>Yt(Ee.items,Xe=>Xe.type==="item"));return Vn.getState(Z).update(He(Fe,Ee=>Ee.data)),fe}),k=Z=>Ut.getCurrent(Z),O="typeaheadevents",N=[Go.config({}),Vn.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:Z=>ic(Z.element),getFallbackEntry:Z=>({value:Z,meta:{}}),setValue:(Z,oe)=>{Cl(Z.element,n.model.getDisplayText(oe))},...n.initialData.map(Z=>Wf("initialValue",Z)).getOr({})}}),yw.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(Z,oe)=>{const fe=os.getCoupled(Z,"sandbox");if(Go.isFocused(Z)&&ic(Z.element).length>=n.minChars){const Fe=k(fe).bind(Ee=>fr.getHighlighted(Ee).map(Vn.getValue));n.previewing.set(!0);const Le=Ee=>{k(fe).each(Xe=>{Fe.fold(()=>{n.model.selectsOver&&fr.highlightFirst(Xe)},st=>{fr.highlightBy(Xe,xt=>Vn.getValue(xt).value===st.value),fr.getHighlighted(Xe).orThunk(()=>(fr.highlightFirst(Xe),F.none()))})})};qT(n,w(Z),Z,fe,c,Le,Vc.HighlightJustMenu).get(J)}},cancelEvent:$1()}),ho.config({mode:"special",onDown:(Z,oe)=>(g(Z,oe,fr.highlightFirst),F.some(!0)),onEscape:Z=>{const oe=os.getCoupled(Z,"sandbox");return ir.isOpen(oe)?(ir.close(oe),F.some(!0)):F.none()},onUp:(Z,oe)=>(g(Z,oe,fr.highlightLast),F.some(!0)),onEnter:Z=>{const oe=os.getCoupled(Z,"sandbox"),fe=ir.isOpen(oe);if(fe&&!n.previewing.get())return k(oe).bind(ye=>fr.getHighlighted(ye)).map(ye=>(So(Z,AD(),{item:ye}),!0));{const ye=Vn.getValue(Z);return Ds(Z,$1()),n.onExecute(oe,Z,ye),fe&&ir.close(oe),F.some(!0)}}}),Us.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),os.config({others:{sandbox:Z=>w6(n,Z,{onOpen:()=>Us.on(Z),onClose:()=>{n.lazyTypeaheadComp.get().each(oe=>zr(oe.element,"aria-activedescendant")),Us.off(Z)}})}}),Wo(O,[ga(Z=>{n.lazyTypeaheadComp.set(F.some(Z))}),Qf(Z=>{n.lazyTypeaheadComp.set(F.none())}),Ih(Z=>{const oe=J;GT(n,w(Z),Z,c,oe,Vc.HighlightMenuAndItem).get(J)}),zt(AD(),(Z,oe)=>{const fe=os.getCoupled(Z,"sandbox");mk(n.model,Z,oe.event.item),Ds(Z,$1()),n.onItemExecute(Z,fe,oe.event.item,Vn.getValue(Z)),ir.close(fe),ED(Z)})].concat(n.dismissOnBlur?[zt(tf(),Z=>{const oe=os.getCoupled(Z,"sandbox");Ra(oe.element).isNone()&&ir.close(oe)})]:[]))],z={[rd()]:[Vn.name(),yw.name(),O],...n.eventOrder};return{uid:n.uid,dom:QO(tn(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...y,...vu(n.typeaheadBehaviours,N)},eventOrder:z}},ij=G([pr("lazySink"),Jt("fetch"),ht("minChars",5),ht("responseTime",1e3),zs("onOpen"),ht("getHotspot",F.some),ht("getAnchorOverrides",G({})),ht("layouts",F.none()),ht("eventOrder",{}),Md("model",{},[ht("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),ht("selectsOver",!0),ht("populateFromBrowse",!0)]),zs("onSetValue"),mu("onExecute"),zs("onItemExecute"),ht("inputClasses",[]),ht("inputAttributes",{}),ht("inputStyles",{}),ht("matchWidth",!0),ht("useMinWidth",!1),ht("dismissOnBlur",!0),Ns(["openClass"]),pr("initialData"),pr("listRole"),hc("typeaheadBehaviours",[Go,Vn,yw,ho,Us,os]),Bc("lazyTypeaheadComp",()=>Mn(F.none)),Bc("previewing",()=>Mn(!0))].concat(XO()).concat(ZO())),lj=G([kf({schema:[rv()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,a,c)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(g=>{wB(n.model,g,c).fold(()=>{n.model.selectsOver?(fr.dehighlight(a,c),n.previewing.set(!0)):n.previewing.set(!1)},(y=>{y(),n.previewing.set(!1)}))}):n.lazyTypeaheadComp.get().each(g=>{n.model.populateFromBrowse&&mk(n.model,g,c),Ei(c.element,"id").each(y=>Ao(g.element,"aria-activedescendant",y))})},onExecute:(s,a)=>n.lazyTypeaheadComp.get().map(c=>(So(c,AD(),{item:a}),!0)),onHover:(s,a)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(c=>{n.model.populateFromBrowse&&mk(n.model,c,a)})}})})]),TD=Id({name:"Typeahead",configFields:ij(),partFields:lj(),factory:aj});var CB=tinymce.util.Tools.resolve("tinymce.ThemeManager"),pk=tinymce.util.Tools.resolve("tinymce.util.Delay"),Aw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),cj=tinymce.util.Tools.resolve("tinymce.EditorManager"),Tw=tinymce.util.Tools.resolve("tinymce.Env"),am;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(am||(am={}));var kw;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(kw||(kw={}));const Wr=n=>s=>s.options.get(n),_w=n=>s=>F.from(n(s)),SB=n=>{const s=Tw.deviceType.isPhone(),a=Tw.deviceType.isTablet()||s,c=n.options.register,g=w=>H(w)||w===!1,y=w=>H(w)||ot(w);c("skin",{processor:w=>H(w)||w===!1,default:"oxide"}),c("skin_url",{processor:"string"}),c("height",{processor:y,default:Math.max(n.getElement().offsetHeight,400)}),c("width",{processor:y,default:Aw.DOM.getStyle(n.getElement(),"width")}),c("min_height",{processor:"number",default:100}),c("min_width",{processor:"number"}),c("max_height",{processor:"number"}),c("max_width",{processor:"number"}),c("style_formats",{processor:"object[]"}),c("style_formats_merge",{processor:"boolean",default:!1}),c("style_formats_autohide",{processor:"boolean",default:!1}),c("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),c("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),c("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),c("font_size_input_default_unit",{processor:"string",default:"pt"}),c("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),c("content_langs",{processor:"object[]"}),c("removed_menuitems",{processor:"string",default:""}),c("menubar",{processor:w=>H(w)||me(w),default:!s}),c("menu",{processor:"object",default:{}}),c("toolbar",{processor:w=>me(w)||H(w)||ae(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Qe(9,w=>{c("toolbar"+(w+1),{processor:"string"})}),c("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),c("toolbar_groups",{processor:"object",default:{}}),c("toolbar_location",{processor:"string",default:kw.auto}),c("toolbar_persist",{processor:"boolean",default:!1}),c("toolbar_sticky",{processor:"boolean",default:n.inline}),c("toolbar_sticky_offset",{processor:"number",default:0}),c("fixed_toolbar_container",{processor:"string",default:""}),c("fixed_toolbar_container_target",{processor:"object"}),c("ui_mode",{processor:"string",default:"combined"}),c("file_picker_callback",{processor:"function"}),c("file_picker_validator_handler",{processor:"function"}),c("file_picker_types",{processor:"string"}),c("typeahead_urls",{processor:"boolean",default:!0}),c("anchor_top",{processor:g,default:"#top"}),c("anchor_bottom",{processor:g,default:"#bottom"}),c("draggable_modal",{processor:"boolean",default:!1}),c("statusbar",{processor:"boolean",default:!0}),c("elementpath",{processor:"boolean",default:!0}),c("branding",{processor:"boolean",default:!0}),c("promotion",{processor:"boolean",default:!0}),c("resize",{processor:w=>w==="both"||me(w),default:!Tw.deviceType.isTouch()}),c("sidebar_show",{processor:"string"}),c("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),c("default_font_stack",{processor:"string[]",default:[]})},xB=Wr("readonly"),gk=Wr("disabled"),kD=Wr("height"),_D=Wr("width"),OD=_w(Wr("min_width")),DD=_w(Wr("min_height")),hk=_w(Wr("max_width")),PD=_w(Wr("max_height")),EB=_w(Wr("style_formats")),AB=Wr("style_formats_merge"),RD=Wr("style_formats_autohide"),TB=Wr("content_langs"),kB=Wr("removed_menuitems"),gy=Wr("toolbar_mode"),_B=Wr("toolbar_groups"),FD=Wr("toolbar_location"),vk=Wr("fixed_toolbar_container"),OB=Wr("fixed_toolbar_container_target"),DB=Wr("toolbar_persist"),PB=Wr("toolbar_sticky_offset"),RB=Wr("menubar"),bk=Wr("toolbar"),FB=Wr("file_picker_callback"),MB=Wr("file_picker_validator_handler"),yk=Wr("font_size_input_default_unit"),MD=Wr("file_picker_types"),ND=Wr("typeahead_urls"),NB=Wr("anchor_top"),BD=Wr("anchor_bottom"),BB=Wr("draggable_modal"),IB=Wr("statusbar"),$B=Wr("elementpath"),ID=Wr("branding"),LB=Wr("resize"),HB=Wr("paste_as_text"),zB=Wr("sidebar_show"),UB=Wr("promotion"),VB=Wr("help_accessibility"),WB=Wr("default_font_stack"),Ax=Wr("skin"),Tx=n=>n.options.get("skin")===!1,Ow=n=>n.options.get("menubar")!==!1,$D=n=>{const s=n.options.get("skin_url");if(Tx(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const a=n.options.get("skin");return cj.baseURL+"/skins/ui/"+a}},uj=n=>F.from(n.options.get("skin_url")),jB=n=>n.options.get("line_height_formats").split(" "),Dw=n=>{const s=bk(n),a=H(s),c=ae(s)&&s.length>0;return!$v(n)&&(c||a||s===!0)},kx=n=>{const s=Qe(9,c=>n.options.get("toolbar"+(c+1))),a=Yt(s,H);return sa(a.length>0,a)},$v=n=>kx(n).fold(()=>{const s=bk(n);return it(s,H)&&s.length>0},lt),wk=n=>FD(n)===kw.bottom,ZB=n=>{if(!n.inline)return F.none();const s=vk(n)??"";if(s.length>0)return ur(ac(),s);const a=OB(n);return Se(a)?F.some(yn.fromDom(a)):F.none()},Pw=n=>n.inline&&ZB(n).isSome(),LD=n=>ZB(n).getOrThunk(()=>ou(ei(yn.fromDom(n.getElement())))),HD=n=>n.inline&&!Ow(n)&&!Dw(n)&&!$v(n),Rw=n=>(n.options.get("toolbar_sticky")||n.inline)&&!Pw(n)&&!HD(n),Lv=n=>!Pw(n)&&n.options.get("ui_mode")==="split",qB=n=>{const s=n.options.get("menu");return ds(s,a=>({...a,items:a.items}))};var dj=Object.freeze({__proto__:null,get ToolbarMode(){return am},get ToolbarLocation(){return kw},register:SB,getSkinUrl:$D,getSkinUrlOption:uj,isReadOnly:xB,isDisabled:gk,getSkin:Ax,isSkinDisabled:Tx,getHeightOption:kD,getWidthOption:_D,getMinWidthOption:OD,getMinHeightOption:DD,getMaxWidthOption:hk,getMaxHeightOption:PD,getUserStyleFormats:EB,shouldMergeStyleFormats:AB,shouldAutoHideStyleFormats:RD,getLineHeightFormats:jB,getContentLanguages:TB,getRemovedMenuItems:kB,isMenubarEnabled:Ow,isMultipleToolbars:$v,isToolbarEnabled:Dw,isToolbarPersist:DB,getMultipleToolbarsOption:kx,getUiContainer:LD,useFixedContainer:Pw,isSplitUiMode:Lv,getToolbarMode:gy,isDraggableModal:BB,isDistractionFree:HD,isStickyToolbar:Rw,getStickyToolbarOffset:PB,getToolbarLocation:FD,isToolbarLocationBottom:wk,getToolbarGroups:_B,getMenus:qB,getMenubar:RB,getToolbar:bk,getFilePickerCallback:FB,getFilePickerTypes:MD,useTypeaheadUrls:ND,getAnchorTop:NB,getAnchorBottom:BD,getFilePickerValidatorHandler:MB,getFontSizeInputDefaultUnit:yk,useStatusBar:IB,useElementPath:$B,promotionEnabled:UB,useBranding:ID,getResize:LB,getPasteAsText:HB,getSidebarShow:zB,useHelpAccessibility:VB,getDefaultFontStack:WB});const fj=["visible","hidden","clip"],GB=n=>An(n).length>0&&!$e(fj,n),KB=n=>{if(Pe(n)){const s=Ur(n,"overflow-x"),a=Ur(n,"overflow-y");return GB(s)||GB(a)}else return!1},YB=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),mj=(n,s)=>{const a=aa(s,KB),c=a.length===0?da(s).map(or).map(g=>aa(g,KB)).getOr([]):a;return vn(c).map(g=>({element:g,others:c.slice(1),isFullscreen:()=>YB(n)}))},f0=(n,s)=>Lv(n)?mj(n,s):F.none(),hy=n=>{const s=[...He(n.others,fi),ml()];return n.isFullscreen()?ml():ph(fi(n.element),s)};const{entries:XB,setPrototypeOf:Wg,isFrozen:pj,getPrototypeOf:gj,getOwnPropertyDescriptor:zD}=Object;let{freeze:va,seal:Zp,create:QB}=Object,{apply:UD,construct:VD}=typeof Reflect<"u"&&Reflect;va||(va=function(s){return s}),Zp||(Zp=function(s){return s}),UD||(UD=function(s,a,c){return s.apply(a,c)}),VD||(VD=function(s,a){return new s(...a)});const Ck=Rf(Array.prototype.forEach),hj=Rf(Array.prototype.lastIndexOf),JB=Rf(Array.prototype.pop),_x=Rf(Array.prototype.push),vj=Rf(Array.prototype.splice),Sk=Rf(String.prototype.toLowerCase),WD=Rf(String.prototype.toString),eI=Rf(String.prototype.match),Ox=Rf(String.prototype.replace),bj=Rf(String.prototype.indexOf),yj=Rf(String.prototype.trim),jg=Rf(Object.prototype.hasOwnProperty),Pf=Rf(RegExp.prototype.test),Dx=wj(TypeError);function Rf(n){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var a=arguments.length,c=new Array(a>1?a-1:0),g=1;g<a;g++)c[g-1]=arguments[g];return UD(n,s,c)}}function wj(n){return function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return VD(n,a)}}function ba(n,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sk;Wg&&Wg(n,null);let c=s.length;for(;c--;){let g=s[c];if(typeof g=="string"){const y=a(g);y!==g&&(pj(s)||(s[c]=y),g=y)}n[g]=!0}return n}function Cj(n){for(let s=0;s<n.length;s++)jg(n,s)||(n[s]=null);return n}function m0(n){const s=QB(null);for(const[a,c]of XB(n))jg(n,a)&&(Array.isArray(c)?s[a]=Cj(c):c&&typeof c=="object"&&c.constructor===Object?s[a]=m0(c):s[a]=c);return s}function Px(n,s){for(;n!==null;){const c=zD(n,s);if(c){if(c.get)return Rf(c.get);if(typeof c.value=="function")return Rf(c.value)}n=gj(n)}function a(){return null}return a}const tI=va(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xk=va(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jD=va(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nI=va(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ZD=va(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oI=va(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sI=va(["#text"]),qD=va(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),GD=va(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rI=va(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ek=va(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sj=Zp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xj=Zp(/<%[\w\W]*|[\w\W]*%>/gm),Ej=Zp(/\$\{[\w\W]*/gm),Aj=Zp(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tj=Zp(/^aria-[\-\w]+$/),aI=Zp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kj=Zp(/^(?:\w+script|data):/i),_j=Zp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iI=Zp(/^html$/i),Oj=Zp(/^[a-z][.\w]*(-[.\w]+)+$/i);var KD=Object.freeze({__proto__:null,ARIA_ATTR:Tj,ATTR_WHITESPACE:_j,CUSTOM_ELEMENT:Oj,DATA_ATTR:Aj,DOCTYPE_NAME:iI,ERB_EXPR:xj,IS_ALLOWED_URI:aI,IS_SCRIPT_OR_DATA:kj,MUSTACHE_EXPR:Sj,TMPLIT_EXPR:Ej});const Rx={element:1,text:3,progressingInstruction:7,comment:8,document:9},Dj=function(){return typeof window>"u"?null:window},Pj=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let c=null;const g="data-tt-policy-suffix";a&&a.hasAttribute(g)&&(c=a.getAttribute(g));const y="dompurify"+(c?"#"+c:"");try{return s.createPolicy(y,{createHTML(w){return w},createScriptURL(w){return w}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}},lI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function cI(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dj();const s=t=>cI(t);if(s.version="3.2.6",s.removed=[],!n||!n.document||n.document.nodeType!==Rx.document||!n.Element)return s.isSupported=!1,s;let{document:a}=n;const c=a,g=c.currentScript,{DocumentFragment:y,HTMLTemplateElement:w,Node:k,Element:O,NodeFilter:N,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:Z,DOMParser:oe,trustedTypes:fe}=n,ye=O.prototype,Fe=Px(ye,"cloneNode"),Le=Px(ye,"remove"),Ee=Px(ye,"nextSibling"),Xe=Px(ye,"childNodes"),st=Px(ye,"parentNode");if(typeof w=="function"){const t=a.createElement("template");t.content&&t.content.ownerDocument&&(a=t.content.ownerDocument)}let xt,Rt="";const{implementation:Rn,createNodeIterator:nn,createDocumentFragment:mn,getElementsByTagName:un}=a,{importNode:yo}=c;let ao=lI();s.isSupported=typeof XB=="function"&&typeof st=="function"&&Rn&&Rn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ks,ERB_EXPR:wo,TMPLIT_EXPR:Qo,DATA_ATTR:io,ARIA_ATTR:Xt,IS_SCRIPT_OR_DATA:Sn,ATTR_WHITESPACE:Mo,CUSTOM_ELEMENT:ls}=KD;let{IS_ALLOWED_URI:uo}=KD,ss=null;const jr=ba({},[...tI,...xk,...jD,...ZD,...sI]);let hr=null;const bu=ba({},[...qD,...GD,...rI,...Ek]);let $a=Object.seal(QB(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),cf=null,yc=null,um=!0,Gc=!0,ep=!1,Xv=!0,i1=!1,cC=!0,l1=!1,AE=!1,a5=!1,uC=!1,dC=!1,fC=!1,X9=!0,i5=!1;const fJ="user-content-";let l5=!0,mC=!1,pC={},Yp=null;const c5=ba({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Q9=null;const TE=ba({},["audio","video","img","source","image","track"]);let Qv=null;const kE=ba({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_E="http://www.w3.org/1998/Math/MathML",Ly="http://www.w3.org/2000/svg",Nl="http://www.w3.org/1999/xhtml";let x0=Nl,s4=!1,r4=null;const mJ=ba({},[_E,Ly,Nl],WD);let a4=ba({},["mi","mo","mn","ms","mtext"]),Qg=ba({},["annotation-xml"]);const $ne=ba({},["title","style","font","a","script"]);let OE=null;const J9=["application/xhtml+xml","text/html"],gC="text/html";let Kc=null,Hy=null;const pJ=a.createElement("form"),eH=function(o){return o instanceof RegExp||o instanceof Function},u5=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hy&&Hy===o)){if((!o||typeof o!="object")&&(o={}),o=m0(o),OE=J9.indexOf(o.PARSER_MEDIA_TYPE)===-1?gC:o.PARSER_MEDIA_TYPE,Kc=OE==="application/xhtml+xml"?WD:Sk,ss=jg(o,"ALLOWED_TAGS")?ba({},o.ALLOWED_TAGS,Kc):jr,hr=jg(o,"ALLOWED_ATTR")?ba({},o.ALLOWED_ATTR,Kc):bu,r4=jg(o,"ALLOWED_NAMESPACES")?ba({},o.ALLOWED_NAMESPACES,WD):mJ,Qv=jg(o,"ADD_URI_SAFE_ATTR")?ba(m0(kE),o.ADD_URI_SAFE_ATTR,Kc):kE,Q9=jg(o,"ADD_DATA_URI_TAGS")?ba(m0(TE),o.ADD_DATA_URI_TAGS,Kc):TE,Yp=jg(o,"FORBID_CONTENTS")?ba({},o.FORBID_CONTENTS,Kc):c5,cf=jg(o,"FORBID_TAGS")?ba({},o.FORBID_TAGS,Kc):m0({}),yc=jg(o,"FORBID_ATTR")?ba({},o.FORBID_ATTR,Kc):m0({}),pC=jg(o,"USE_PROFILES")?o.USE_PROFILES:!1,um=o.ALLOW_ARIA_ATTR!==!1,Gc=o.ALLOW_DATA_ATTR!==!1,ep=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Xv=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,i1=o.SAFE_FOR_TEMPLATES||!1,cC=o.SAFE_FOR_XML!==!1,l1=o.WHOLE_DOCUMENT||!1,uC=o.RETURN_DOM||!1,dC=o.RETURN_DOM_FRAGMENT||!1,fC=o.RETURN_TRUSTED_TYPE||!1,a5=o.FORCE_BODY||!1,X9=o.SANITIZE_DOM!==!1,i5=o.SANITIZE_NAMED_PROPS||!1,l5=o.KEEP_CONTENT!==!1,mC=o.IN_PLACE||!1,uo=o.ALLOWED_URI_REGEXP||aI,x0=o.NAMESPACE||Nl,a4=o.MATHML_TEXT_INTEGRATION_POINTS||a4,Qg=o.HTML_INTEGRATION_POINTS||Qg,$a=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&eH(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($a.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&eH(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($a.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($a.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),i1&&(Gc=!1),dC&&(uC=!0),pC&&(ss=ba({},sI),hr=[],pC.html===!0&&(ba(ss,tI),ba(hr,qD)),pC.svg===!0&&(ba(ss,xk),ba(hr,GD),ba(hr,Ek)),pC.svgFilters===!0&&(ba(ss,jD),ba(hr,GD),ba(hr,Ek)),pC.mathMl===!0&&(ba(ss,ZD),ba(hr,rI),ba(hr,Ek))),o.ADD_TAGS&&(ss===jr&&(ss=m0(ss)),ba(ss,o.ADD_TAGS,Kc)),o.ADD_ATTR&&(hr===bu&&(hr=m0(hr)),ba(hr,o.ADD_ATTR,Kc)),o.ADD_URI_SAFE_ATTR&&ba(Qv,o.ADD_URI_SAFE_ATTR,Kc),o.FORBID_CONTENTS&&(Yp===c5&&(Yp=m0(Yp)),ba(Yp,o.FORBID_CONTENTS,Kc)),l5&&(ss["#text"]=!0),l1&&ba(ss,["html","head","body"]),ss.table&&(ba(ss,["tbody"]),delete cf.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw Dx('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Dx('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');xt=o.TRUSTED_TYPES_POLICY,Rt=xt.createHTML("")}else xt===void 0&&(xt=Pj(fe,g)),xt!==null&&typeof Rt=="string"&&(Rt=xt.createHTML(""));va&&va(o),Hy=o}},tH=ba({},[...xk,...jD,...nI]),zy=ba({},[...ZD,...oI]),Lne=function(o){let r=st(o);(!r||!r.tagName)&&(r={namespaceURI:x0,tagName:"template"});const i=Sk(o.tagName),f=Sk(r.tagName);return r4[o.namespaceURI]?o.namespaceURI===Ly?r.namespaceURI===Nl?i==="svg":r.namespaceURI===_E?i==="svg"&&(f==="annotation-xml"||a4[f]):!!tH[i]:o.namespaceURI===_E?r.namespaceURI===Nl?i==="math":r.namespaceURI===Ly?i==="math"&&Qg[f]:!!zy[i]:o.namespaceURI===Nl?r.namespaceURI===Ly&&!Qg[f]||r.namespaceURI===_E&&!a4[f]?!1:!zy[i]&&($ne[i]||!tH[i]):!!(OE==="application/xhtml+xml"&&r4[o.namespaceURI]):!1},c1=function(o){_x(s.removed,{element:o});try{st(o).removeChild(o)}catch{Le(o)}},hC=function(o,r){try{_x(s.removed,{attribute:r.getAttributeNode(o),from:r})}catch{_x(s.removed,{attribute:null,from:r})}if(r.removeAttribute(o),o==="is")if(uC||dC)try{c1(r)}catch{}else try{r.setAttribute(o,"")}catch{}},gJ=function(o){let r=null,i=null;if(a5)o="<remove></remove>"+o;else{const S=eI(o,/^[\r\n\t ]+/);i=S&&S[0]}OE==="application/xhtml+xml"&&x0===Nl&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const f=xt?xt.createHTML(o):o;if(x0===Nl)try{r=new oe().parseFromString(f,OE)}catch{}if(!r||!r.documentElement){r=Rn.createDocument(x0,"template",null);try{r.documentElement.innerHTML=s4?Rt:f}catch{}}const v=r.body||r.documentElement;return o&&i&&v.insertBefore(a.createTextNode(i),v.childNodes[0]||null),x0===Nl?un.call(r,l1?"html":"body")[0]:l1?r.documentElement:v},nH=function(o){return nn.call(o.ownerDocument||o,o,N.SHOW_ELEMENT|N.SHOW_COMMENT|N.SHOW_TEXT|N.SHOW_PROCESSING_INSTRUCTION|N.SHOW_CDATA_SECTION,null)},d5=function(o){return o instanceof Z&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof z)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},vC=function(o){return typeof k=="function"&&o instanceof k};function E0(t,o,r){Ck(t,i=>{i.call(s,o,r,Hy)})}const oH=function(o){let r=null;if(E0(ao.beforeSanitizeElements,o,null),d5(o))return c1(o),!0;const i=Kc(o.nodeName);if(E0(ao.uponSanitizeElement,o,{tagName:i,allowedTags:ss}),cC&&o.hasChildNodes()&&!vC(o.firstElementChild)&&Pf(/<[/\w!]/g,o.innerHTML)&&Pf(/<[/\w!]/g,o.textContent)||o.nodeType===Rx.progressingInstruction||cC&&o.nodeType===Rx.comment&&Pf(/<[/\w]/g,o.data))return c1(o),!0;if(!ss[i]||cf[i]){if(!cf[i]&&sH(i)&&($a.tagNameCheck instanceof RegExp&&Pf($a.tagNameCheck,i)||$a.tagNameCheck instanceof Function&&$a.tagNameCheck(i)))return!1;if(l5&&!Yp[i]){const f=st(o)||o.parentNode,v=Xe(o)||o.childNodes;if(v&&f){const S=v.length;for(let A=S-1;A>=0;--A){const P=Fe(v[A],!0);P.__removalCount=(o.__removalCount||0)+1,f.insertBefore(P,Ee(o))}}}return c1(o),!0}return o instanceof O&&!Lne(o)||(i==="noscript"||i==="noembed"||i==="noframes")&&Pf(/<\/no(script|embed|frames)/i,o.innerHTML)?(c1(o),!0):(i1&&o.nodeType===Rx.text&&(r=o.textContent,Ck([ks,wo,Qo],f=>{r=Ox(r,f," ")}),o.textContent!==r&&(_x(s.removed,{element:o.cloneNode()}),o.textContent=r)),E0(ao.afterSanitizeElements,o,null),!1)},f5=function(o,r,i){if(X9&&(r==="id"||r==="name")&&(i in a||i in pJ))return!1;if(!(Gc&&!yc[r]&&Pf(io,r))){if(!(um&&Pf(Xt,r))){if(!hr[r]||yc[r]){if(!(sH(o)&&($a.tagNameCheck instanceof RegExp&&Pf($a.tagNameCheck,o)||$a.tagNameCheck instanceof Function&&$a.tagNameCheck(o))&&($a.attributeNameCheck instanceof RegExp&&Pf($a.attributeNameCheck,r)||$a.attributeNameCheck instanceof Function&&$a.attributeNameCheck(r))||r==="is"&&$a.allowCustomizedBuiltInElements&&($a.tagNameCheck instanceof RegExp&&Pf($a.tagNameCheck,i)||$a.tagNameCheck instanceof Function&&$a.tagNameCheck(i))))return!1}else if(!Qv[r]){if(!Pf(uo,Ox(i,Mo,""))){if(!((r==="src"||r==="xlink:href"||r==="href")&&o!=="script"&&bj(i,"data:")===0&&Q9[o])){if(!(ep&&!Pf(Sn,Ox(i,Mo,"")))){if(i)return!1}}}}}}return!0},sH=function(o){return o!=="annotation-xml"&&eI(o,ls)},hJ=function(o){E0(ao.beforeSanitizeAttributes,o,null);const{attributes:r}=o;if(!r||d5(o))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:hr,forceKeepAttr:void 0};let f=r.length;for(;f--;){const v=r[f],{name:S,namespaceURI:A,value:P}=v,U=Kc(S),j=P;let Y=S==="value"?j:yj(j);if(i.attrName=U,i.attrValue=Y,i.keepAttr=!0,i.forceKeepAttr=void 0,E0(ao.uponSanitizeAttribute,o,i),Y=i.attrValue,i5&&(U==="id"||U==="name")&&(hC(S,o),Y=fJ+Y),cC&&Pf(/((--!?|])>)|<\/(style|title)/i,Y)){hC(S,o);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr){hC(S,o);continue}if(!Xv&&Pf(/\/>/i,Y)){hC(S,o);continue}i1&&Ck([ks,wo,Qo],Oe=>{Y=Ox(Y,Oe," ")});const ie=Kc(o.nodeName);if(!f5(ie,U,Y)){hC(S,o);continue}if(xt&&typeof fe=="object"&&typeof fe.getAttributeType=="function"&&!A)switch(fe.getAttributeType(ie,U)){case"TrustedHTML":{Y=xt.createHTML(Y);break}case"TrustedScriptURL":{Y=xt.createScriptURL(Y);break}}if(Y!==j)try{A?o.setAttributeNS(A,S,Y):o.setAttribute(S,Y),d5(o)?c1(o):JB(s.removed)}catch{hC(S,o)}}E0(ao.afterSanitizeAttributes,o,null)},e=function t(o){let r=null;const i=nH(o);for(E0(ao.beforeSanitizeShadowDOM,o,null);r=i.nextNode();)E0(ao.uponSanitizeShadowNode,r,null),oH(r),hJ(r),r.content instanceof y&&t(r.content);E0(ao.afterSanitizeShadowDOM,o,null)};return s.sanitize=function(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,i=null,f=null,v=null;if(s4=!t,s4&&(t="<!-->"),typeof t!="string"&&!vC(t))if(typeof t.toString=="function"){if(t=t.toString(),typeof t!="string")throw Dx("dirty is not a string, aborting")}else throw Dx("toString is not a function");if(!s.isSupported)return t;if(AE||u5(o),s.removed=[],typeof t=="string"&&(mC=!1),mC){if(t.nodeName){const P=Kc(t.nodeName);if(!ss[P]||cf[P])throw Dx("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof k)r=gJ("<!---->"),i=r.ownerDocument.importNode(t,!0),i.nodeType===Rx.element&&i.nodeName==="BODY"||i.nodeName==="HTML"?r=i:r.appendChild(i);else{if(!uC&&!i1&&!l1&&t.indexOf("<")===-1)return xt&&fC?xt.createHTML(t):t;if(r=gJ(t),!r)return uC?null:fC?Rt:""}r&&a5&&c1(r.firstChild);const S=nH(mC?t:r);for(;f=S.nextNode();)oH(f),hJ(f),f.content instanceof y&&e(f.content);if(mC)return t;if(uC){if(dC)for(v=mn.call(r.ownerDocument);r.firstChild;)v.appendChild(r.firstChild);else v=r;return(hr.shadowroot||hr.shadowrootmode)&&(v=yo.call(c,v,!0)),v}let A=l1?r.outerHTML:r.innerHTML;return l1&&ss["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Pf(iI,r.ownerDocument.doctype.name)&&(A="<!DOCTYPE "+r.ownerDocument.doctype.name+`>
`+A),i1&&Ck([ks,wo,Qo],P=>{A=Ox(A,P," ")}),xt&&fC?xt.createHTML(A):A},s.setConfig=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u5(t),AE=!0},s.clearConfig=function(){Hy=null,AE=!1},s.isValidAttribute=function(t,o,r){Hy||u5({});const i=Kc(t),f=Kc(o);return f5(i,f,r)},s.addHook=function(t,o){typeof o=="function"&&_x(ao[t],o)},s.removeHook=function(t,o){if(o!==void 0){const r=hj(ao[t],o);return r===-1?void 0:vj(ao[t],r,1)[0]}return JB(ao[t])},s.removeHooks=function(t){ao[t]=[]},s.removeAllHooks=function(){ao=lI()},s}var YD=cI();const Fx=n=>YD().sanitize(n);var zu=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ak={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},uI="temporary-placeholder",XD=n=>()=>sn(n,uI).getOr("!not found!"),QD=(n,s)=>{const a=n.toLowerCase();if(zu.isRtl()){const c=yu(a,"-rtl");return Ho(s,c)?c:a}else return a},dI=(n,s)=>sn(s,QD(n,s)),Rj=(n,s)=>{const a=s();return dI(n,a).getOrThunk(XD(a))},Tk=(n,s,a)=>{const c=s();return dI(n,c).or(a).getOrThunk(XD(c))},Fw=n=>zu.isRtl()?Ho(Ak,n):!1,JD=()=>Wo("add-focusable",[ga(n=>{Ad(n.element,"svg").each(s=>Ao(s,"focusable","false"))})]),eP=(n,s,a,c)=>{const g=Fw(s)?["tox-icon--flip"]:[],y=sn(a,QD(s,a)).or(c).getOrThunk(XD(a));return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes.concat(g),innerHtml:y},behaviours:bn([...n.behaviours??[],JD()]),eventOrder:n.eventOrder??{}}},im=(n,s,a,c=F.none())=>eP(s,n,a(),c),Fj=(n,s,a)=>{const c=a(),g=Re(n,y=>Ho(c,QD(y,c)));return eP(s,g.getOr(uI),c,F.none())},Mj={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},tP=nm({name:"Notification",factory:n=>{const s=pe("notification-text"),a=gr({dom:Lg(`<p id=${s}>${Fx(n.backstageProvider.translate(n.text))}</p>`),behaviours:bn([Xo.config({})])}),c=ye=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ye}%`}}}),g=ye=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ye}%`}}),y=gr({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},g(0)],behaviours:bn([Xo.config({})])}),O={updateProgress:(ye,Fe)=>{ye.getSystem().isConnected()&&y.getOpt(ye).each(Le=>{Xo.set(Le,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(Fe)]},g(Fe)])})},updateText:(ye,Fe)=>{if(ye.getSystem().isConnected()){const Le=a.get(ye);Xo.set(Le,[Ca(Fe)])}}},N=qe([n.icon.toArray(),[n.level],F.from(Mj[n.level]).toArray()]),z=gr(Rl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[im("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:bn([la.config({}),ha.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:ye=>{n.onAction(ye)}})),Z=Fj(N,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),oe={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:bn([Xo.config({})])},fe=[Z,oe];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:bn([la.config({}),Go.config({}),ho.config({mode:"special",onEscape:ye=>(n.onAction(ye),F.some(!0))})]),components:fe.concat(n.progress?[y.asSpec()]:[]).concat([z.asSpec()]),apis:O}},configFields:[Zs("level","info",["success","error","warning","warn","info"]),Jt("progress"),pr("icon"),Jt("onAction"),Jt("text"),Jt("iconProvider"),Jt("backstageProvider")],apis:{updateProgress:(n,s,a)=>{n.updateProgress(s,a)},updateText:(n,s,a)=>{n.updateText(s,a)}}});var Nj=(n,s,a,c)=>{const g=s.backstage.shared,y=()=>yn.fromDom(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),w=()=>{const Z=fi(y());return F.some(Z)},k=Z=>{w().each(oe=>{ut(Z,fe=>{fs(fe.element,"width"),ja(fe.element)>oe.width&&To(fe.element,"width",oe.width+"px")})})};return{open:(Z,oe,fe)=>{const ye=()=>{const st=nn=>{Xo.remove(nn,Le),Ee()},xt=(nn,mn)=>{Wu(nn.element).length===0?Rt(nn,mn):Rn(nn,mn)},Rt=(nn,mn)=>{Ja.hide(nn),c.clear(),mn&&n.focus()},Rn=(nn,mn)=>{mn&&ho.focusIn(nn)};c.on(nn=>{oe();const mn=fe();st(nn),xt(nn,mn)})},Fe=()=>!Rw(n)||!g.header.isPositionedAtTop(),Le=C(tP.sketch({text:Z.text,level:$e(["success","error","warning","warn","info"],Z.type)?Z.type:void 0,progress:Z.progressBar===!0,icon:Z.icon,onAction:ye,iconProvider:g.providers.icons,backstageProvider:g.providers}));if(c.isSet()){const st=T(Le);c.on(xt=>{Xo.append(xt,st),Ja.reposition(xt),Le.hasConfigured(Ia)&&Ia.refresh(xt),k(xt.components())})}else{const st=C(Ja.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:g.getSink,fireDismissalEventInstead:{},...g.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:bn([ho.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Xo.config({}),...Fe()?[Ia.config({contextual:{lazyContext:()=>F.some(fi(y())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:nn=>f0(n,nn.element).map(un=>({bounds:hy(un),optScrollEnv:F.some({currentScrollTop:un.element.dom.scrollTop,scrollElmTop:ki(un.element).top})})).getOrThunk(()=>({bounds:ml(),optScrollEnv:F.none()}))})]:[]])})),xt=T(Le),Rt={maxHeightFunction:G1()},Rn={...g.anchors.banner(),overrides:Rt};c.set(st),a.add(st),Ja.showWithinBounds(st,xt,{anchor:Rn},w)}ot(Z.timeout)&&Z.timeout>0&&pk.setEditorTimeout(n,()=>{ye()},Z.timeout);const Ee=()=>{c.on(st=>{Ja.reposition(st),st.hasConfigured(Ia)&&Ia.refresh(st),k(st.components())})};return{close:ye,reposition:Ee,text:st=>{tP.updateText(Le,st)},settings:Z,getEl:()=>Le.element.dom,progressBar:{value:st=>{tP.updateProgress(Le,st)}}}},close:Z=>{Z.close()},getArgs:Z=>Z.settings}};const Bj={setup:(n,s)=>{const a=(g,y)=>{So(g,Ka(),{raw:y})},c=()=>n.getMenu().bind(fr.getHighlighted);s.on("keydown",g=>{const y=g.which;n.isActive()&&(n.isMenuOpen()?y===13?(c().each(mv),g.preventDefault()):y===40?(c().fold(()=>{n.getMenu().each(fr.highlightFirst)},w=>{a(w,g)}),g.preventDefault(),g.stopImmediatePropagation()):(y===37||y===38||y===39)&&c().each(w=>{a(w,g),g.preventDefault(),g.stopImmediatePropagation()}):(y===13||y===38||y===40)&&n.cancelIfNecessary())}),s.on("NodeChange",()=>{n.isActive()&&!n.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&n.cancelIfNecessary()})}};var nP;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(nP||(nP={}));var qp=nP;const oP="tox-menu-nav__js",Mx="tox-collection__item",Hv="tox-swatch",vy={normal:oP,color:Hv},sP="tox-collection__item--enabled",fI="tox-collection__group-heading",rP="tox-collection__item-icon",kk="tox-collection__item-image",Ij="tox-collection__item-image-selector",p0="tox-collection__item-label",by="tox-collection__item-accessory",mI="tox-collection__item-caret",$j="tox-collection__item-checkmark",yy="tox-collection__item--active",pI="tox-collection__item-container",Lj="tox-collection__item-container--column",gI="tox-collection__item-container--row",Hj="tox-collection__item-container--align-right",zj="tox-collection__item-container--align-left",_k="tox-collection__item-container--valign-top",hI="tox-collection__item-container--valign-middle",Uj="tox-collection__item-container--valign-bottom",aP=n=>sn(vy,n).getOr(oP),Vj=n=>n==="color"?"tox-swatches":"tox-menu",iP=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Vj(n),tieredMenu:"tox-tiered-menu"}),Qh=n=>{const s=iP(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:aP(n)}},yne=(n,s,a)=>{const c=iP(a);return{tag:"div",classes:qe([[c.menu,`tox-menu-${s}-column`],n?[c.hasIcons]:[]])}},lP=[u0.parts.items({})],Nx=(n,s,a)=>{const c=iP(a);return{dom:{tag:"div",classes:qe([[c.tieredMenu]])},markers:Qh(a)}},vI=pe("refetch-trigger-event"),bI=pe("redirect-menu-item-interaction"),yI="tox-menu__searcher",Bx=n=>ur(n.element,`.${yI}`).bind(s=>n.getSystem().getByDom(s).toOptional()),wI=Bx,Wj=(n,s)=>{Vn.setValue(n,s.fetchPattern),n.element.dom.selectionStart=s.selectionStart,n.element.dom.selectionEnd=s.selectionEnd},cP=n=>{const s=Vn.getValue(n),a=n.element.dom.selectionStart,c=n.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:c}},CI=(n,s)=>{Ei(s.element,"id").each(a=>Ao(n.element,"aria-activedescendant",a))},jj=n=>{const s=(g,y)=>(y.cut(),F.none()),a=(g,y)=>{const w={interactionEvent:y.event,eventType:y.event.raw.type};return So(g,bI,w),F.some(!0)},c="searcher-events";return{dom:{tag:"div",classes:[Mx]},components:[Xh.sketch({inputClasses:[yI,"tox-textfield"],inputAttributes:{...n.placeholder.map(g=>({placeholder:n.i18n(g)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:bn([Wo(c,[zt(Hi(),g=>{Ds(g,vI)}),zt(Ka(),(g,y)=>{y.event.raw.key==="Escape"&&y.stop()})]),ho.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[c,ho.name()]}})]}},Ok="tox-collection--results__js",Ix=n=>n.dom?{...n,dom:{...n.dom,attributes:{...n.dom.attributes??{},id:pe("aria-item-search-result-id"),"aria-selected":"false"}}}:n,uP="Use arrow keys to navigate.",dP=(n,s)=>a=>{const c=Ct(a,s);return He(c,g=>({dom:n,components:g}))},fP=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":zu.translate(uP)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[u0.parts.items({preprocess:n!=="auto"?dP({tag:"div",classes:["tox-swatches__row"]},n):Ze})]}]}),Zj=n=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[u0.parts.items({preprocess:n!=="auto"?dP({tag:"div",classes:["tox-image-selector__row"]},n):Ze})]}]}),mP=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[u0.parts.items({preprocess:dP({tag:"div",classes:["tox-collection__group"]},n)})]}),SI=(n,s)=>{const a=[];let c=[];return ut(n,(g,y)=>{s(g,y)?(c.length>0&&a.push(c),c=[],(Ho(g.dom,"innerHtml")||g.components&&g.components.length>0)&&c.push(g)):c.push(g)}),c.length>0&&a.push(c),He(a,g=>({dom:{tag:"div",classes:["tox-collection__group"]},components:g}))},pP=(n,s,a)=>u0.parts.items({preprocess:c=>{const g=He(c,a);return n!=="auto"&&n>1?dP({tag:"div",classes:["tox-collection__group"]},n)(g):SI(g,(y,w)=>s[w].type==="separator")}}),xI=n=>Mt(n,s=>s.type==="widget"),gP=(n,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...xI(s)?{"aria-label":zu.translate(uP)}:{}}},components:[pP(n,s,Ze)]}),EI=(n,s,a=!0)=>{const c=pe("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Ok].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:c}},components:[pP(n,s,Ix)]}},g0=(n,s,a)=>{const c=pe("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[jj({i18n:zu.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],Ok],attributes:{id:c}},components:[pP(n,s,Ix)]}]}},wy=(n,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[u0.parts.items({preprocess:a=>SI(a,(c,g)=>n[g].type==="separator")})]}),$x=n=>Mt(n,s=>"icon"in s&&s.icon!==void 0),Zg=n=>(console.error(qo(n)),console.log(n),F.none()),AI=(n,s,a,c,g)=>{const y=wy(a);return{value:n,dom:y.dom,components:y.components,items:a}},hP=(n,s,a,c,g)=>{const y=()=>g.menuType!=="searchable"?gP(c,a):g.searchMode.searchMode==="search-with-field"?g0(c,a,g.searchMode):EI(c,a);if(g.menuType==="color"){const w=fP(c);return{value:n,dom:w.dom,components:w.components,items:a}}else if(g.menuType==="imageselector"&&c!=="auto"){const w=Zj(c);return{value:n,dom:w.dom,components:w.components,items:a}}else if(g.menuType==="normal"&&c==="auto"){const w=gP(c,a);return{value:n,dom:w.dom,components:w.components,items:a}}else if(g.menuType==="normal"||g.menuType==="searchable"){const w=y();return{value:n,dom:w.dom,components:w.components,items:a}}else if(g.menuType==="listpreview"&&c!=="auto"){const w=mP(c);return{value:n,dom:w.dom,components:w.components,items:a}}else return{value:n,dom:yne(s,c,g.menuType),components:lP,items:a}},gi=Ma("type"),vP=Ma("name"),Dk=Ma("label"),h0=Ma("text"),TI=Ma("title"),bP=Ma("icon"),qj=Ma("url"),Mw=Ma("value"),Gj=Ic("fetch"),Kj=Ic("getSubmenuItems"),zv=Ic("onAction"),Yj=Ic("onItemAction"),Cy=Os("onSetup",()=>J),Xj=Na("name"),v0=Na("text"),Qj=Na("role"),qm=Na("icon"),Sy=Na("tooltip"),kI=Na("chevronTooltip"),Lx=Na("label"),yP=Na("shortcut"),Jj=Fd("select"),Nw=Or("active",!1),eZ=Or("borderless",!1),Gm=Or("enabled",!0),Hx=Or("primary",!1),_I=n=>ht("columns",n),wP=ht("meta",{}),CP=Os("onAction",J),xy=n=>Ar("type",n),SP=n=>Ji("name","name",gh(()=>pe(`${n}-name`)),Ri),OI=n=>Ji("value","value",gh(()=>pe(`${n}-value`)),Ou()),Bw=[gi,h0,Rd("level",["info","warn","error","success"]),bP,ht("url","")],tZ=bo(Bw),nZ=n=>[gi,n],oZ=[gi,h0,Gm,SP("button"),qm,eZ,ef("buttonType",["primary","secondary","toolbar"]),Hx,Ar("context","mode:design")],Pk=bo(oZ),fd=[gi,vP],Km=fd.concat([Lx]),DI=fd.concat([Dk,Gm,Ar("context","mode:design")]),sZ=bo(DI),rZ=bs,aZ=Km.concat([_I("auto"),Ar("context","mode:design")]),iZ=bo(aZ),PI=hp([Mw,h0,bP]),RI=Km.concat([Ar("storageKey","default"),Ar("context","mode:design")]),lZ=bo(RI),cZ=Ri,dZ=bo(Km),FI=Ri,MI=fd.concat([Ar("tag","textarea"),Ma("scriptId"),Ma("scriptUrl"),Fd("onFocus"),dc("settings",void 0)]),NI=fd.concat([Ar("tag","textarea"),Ic("init")]),fZ=Fi(n=>ia("customeditor.old",Mc(NI),n).orThunk(()=>ia("customeditor.new",Mc(MI),n))),mZ=Ri,Uv=[Gm,v0,Qj,yP,OI("menuitem"),wP,Ar("context","mode:design")],pZ=bo([gi,vP].concat(Uv)),gZ=bs,Iw=[SP("button"),qm,Zs("align","end",["start","end"]),Hx,Gm,ef("buttonType",["primary","secondary"]),Ar("context","mode:design")],qg=[...Iw,h0],Rk=[Rd("type",["submit","cancel","custom"]),...qg],Ym=[Rd("type",["menu"]),v0,Sy,qm,el("items",pZ),...Iw],hZ=[...Iw,Rd("type",["togglebutton"]),Sy,qm,v0,Or("active",!1)],Fk=pl("type",{submit:Rk,cancel:Rk,custom:Rk,menu:Ym,togglebutton:hZ}),vZ=Km.concat([Ar("context","mode:design"),Na("dropAreaLabel"),Na("buttonLabel"),Na("allowedFileTypes"),M1("allowedFileExtensions",Ri)]),Ey=bo(vZ),bZ=yh(),xP=n=>[gi,wh("columns"),n],EP=[gi,Ma("html"),Zs("presets","presentation",["presentation","document"]),Os("onInit",J),Or("stretched",!1)],yZ=bo(EP),wZ=Km.concat([Or("border",!1),Or("sandboxed",!0),Or("streamContent",!1),Or("transparent",!0)]),Ay=bo(wZ),BI=Ri,II=bo(fd.concat([Na("height")])),CZ=bo([Ma("url"),uu("zoom"),uu("cachedWidth"),uu("cachedHeight")]),AP=Km.concat([Na("inputMode"),Na("placeholder"),Or("maximized",!1),Gm,Ar("context","mode:design")]),$I=bo(AP),TP=Ri,LI=n=>[gi,Dk,n,Zs("align","start",["start","center","end"]),Na("for")],HI=[h0,Mw],zx=[h0,el("items",Em("items",()=>zI))],zI=sd([bo(HI),bo(zx)]),SZ=Km.concat([el("items",zI),Gm,Ar("context","mode:design")]),xZ=bo(SZ),EZ=Ri,kP=Km.concat([Qd("items",[h0,Mw]),Sg("size",1),Gm,Ar("context","mode:design")]),AZ=bo(kP),_P=Ri,TZ=Km.concat([Or("constrain",!0),Gm,Ar("context","mode:design")]),Ux=bo(TZ),UI=bo([Ma("width"),Ma("height")]),VI=fd.concat([Dk,Sg("min",0),Sg("max",0)]),kZ=bo(VI),_Z=P1,OZ=[gi,el("header",Ri),el("cells",_a(Ri))],DZ=bo(OZ),Mk=Km.concat([Na("placeholder"),Or("maximized",!1),Gm,Ar("context","mode:design"),Cb("spellcheck")]),WI=bo(Mk),PZ=Ri,OP=[Ar("buttonType","default"),Na("text"),Na("tooltip"),Na("icon"),Lc("search",!1,sd([bs,bo([Na("placeholder")])],n=>me(n)?n?F.some({placeholder:F.none()}):F.none():F.some(n))),Ic("fetch"),Os("onSetup",()=>J),Ar("context","mode:design")],Vv=bo([gi,...OP]),DP=n=>ia("menubutton",Vv,n),$w=[Rd("type",["directory","leaf"]),TI,Ma("id"),Jd("menu",Vv),Na("customStateIcon"),Na("customStateIconTooltip")],PP=bo($w),RZ=$w.concat([el("children",Em("children",()=>vp("type",{directory:jI,leaf:PP})))]),jI=bo(RZ),Ty=vp("type",{directory:jI,leaf:PP}),ZI=[gi,el("items",Ty),Fd("onLeafAction"),Fd("onToggleExpand"),Pl("defaultExpandedIds",[],Ri),Na("defaultSelectedId")],FZ=bo(ZI),qI=Km.concat([Zs("filetype","file",["image","media","file"]),Gm,Na("picker_text"),Ar("context","mode:design")]),MZ=bo(qI),NZ=bo([Mw,wP]),RP=n=>Ji("items","items",nd(),_a(Fi(s=>ia(`Checking item of ${n}`,Nk,s).fold(a=>Kn.error(qo(a)),a=>Kn.value(a))))),Nk=F1(()=>vp("type",{alertbanner:tZ,bar:bo(nZ(RP("bar"))),button:Pk,checkbox:sZ,colorinput:lZ,colorpicker:dZ,dropzone:Ey,grid:bo(xP(RP("grid"))),iframe:Ay,input:$I,listbox:xZ,selectbox:AZ,sizeinput:Ux,slider:kZ,textarea:WI,urlinput:MZ,customeditor:fZ,htmlpanel:yZ,imagepreview:II,collection:iZ,label:bo(LI(RP("label"))),table:DZ,tree:FZ,panel:GI})),BZ=[gi,ht("classes",[]),el("items",Nk)],GI=bo(BZ),IZ=[SP("tab"),TI,el("items",Nk)],$Z=[gi,Qd("tabs",IZ)],LZ=bo($Z),HZ=qg,zZ=Fk,UZ=bo([Ma("title"),uc("body",vp("type",{panel:GI,tabpanel:LZ})),Ar("size","normal"),Pl("buttons",[],zZ),ht("initialData",{}),Os("onAction",J),Os("onChange",J),Os("onSubmit",J),Os("onClose",J),Os("onCancel",J),Os("onTabChange",J)]),KI=n=>ia("dialog",UZ,n),VZ=bo([Rd("type",["cancel","custom"]),...HZ]),WZ=bo([Ma("title"),Ma("url"),uu("height"),uu("width"),M1("buttons",VZ),Os("onAction",J),Os("onCancel",J),Os("onClose",J),Os("onMessage",J)]),jZ=n=>ia("dialog",WZ,n),FP=n=>K(n)?[n].concat(De(xs(n),FP)):ae(n)?De(n,FP):[],ZZ=n=>H(n.type)&&H(n.name),qZ={checkbox:rZ,colorinput:cZ,colorpicker:FI,dropzone:bZ,input:TP,iframe:BI,imagepreview:CZ,selectbox:_P,sizeinput:UI,slider:_Z,listbox:EZ,size:UI,textarea:PZ,urlinput:NZ,customeditor:mZ,collection:PI,togglemenuitem:gZ},YI=n=>F.from(qZ[n.type]),XI=n=>Yt(FP(n),ZZ),GZ=n=>{const s=XI(n),a=De(s,c=>YI(c).fold(()=>[],g=>[uc(c.name,g)]));return bo(a)},Vx=n=>{const s=Xa(KI(n)),a=GZ(n),c=n.initialData??{};return{internalDialog:s,dataValidator:a,initialData:c}},ky={open:(n,s)=>{const a=Vx(s);return n(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(n,s)=>{const a=Xa(jZ(s));return n(a)},redial:n=>Vx(n)},QI=bo([gi,v0]),KZ=n=>ia("separatormenuitem",QI,n),YZ=bo([xy("autocompleteitem"),Nw,Gm,wP,Mw,v0,qm]),XZ=n=>ia("Autocompleter.Separator",QI,n),QZ=n=>ia("Autocompleter.Item",YZ,n),Lw=[Gm,Sy,qm,v0,Cy,Ar("context","mode:design")],JZ=bo([gi,zv,yP].concat(Lw)),Jh=n=>ia("toolbarbutton",JZ,n),MP=[Nw].concat(Lw),eq=bo(MP.concat([gi,zv,yP])),NP=n=>ia("ToggleButton",eq,n),Bk=[Os("predicate",je),Zs("scope","node",["node","editor"]),Zs("position","selection",["node","selection","line"])],tq=Lw.concat([xy("contextformbutton"),Ar("align","end"),Hx,zv,Bc("original",Ze)]),nq=MP.concat([xy("contextformbutton"),Ar("align","end"),Hx,zv,Bc("original",Ze)]),oq=Lw.concat([xy("contextformbutton")]),BP=MP.concat([xy("contextformtogglebutton")]),JI=pl("type",{contextformbutton:tq,contextformtogglebutton:nq}),Wx=[Lx,el("commands",JI),Jd("launch",pl("type",{contextformbutton:oq,contextformtogglebutton:BP})),Os("onInput",J),Os("onSetup",J)],Ik=[...Bk,...Wx,Rd("type",["contextform"]),Os("initValue",G("")),Na("placeholder")],Hw=[...Bk,...Wx,Rd("type",["contextsliderform"]),Os("initValue",G(0)),Os("min",G(0)),Os("max",G(100))],sq=[...Bk,...Wx,Rd("type",["contextsizeinputform"]),Os("initValue",G({width:"",height:""}))],e$=pl("type",{contextform:Ik,contextsliderform:Hw,contextsizeinputform:sq}),rq=n=>ia("ContextForm",e$,n),zw=Lw.concat([xy("contexttoolbarbutton")]),aq=bo([xy("contexttoolbar"),$c("launch",zw),uc("items",sd([Ri,hp([Na("name"),Na("label"),el("items",Ri)])]))].concat(Bk)),$k=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),IP=n=>({...n,launch:n.launch.getOrUndefined(),items:H(n.items)?n.items:He(n.items,$k)}),iq=n=>ia("ContextToolbar",aq,n),lq=[gi,Ma("src"),Na("alt"),Pl("classes",[],Ri)],cq=bo(lq),$P=[gi,h0,Xj,Pl("classes",["tox-collection__item-label"],Ri)],uq=bo($P),t$=F1(()=>vp("type",{cardimage:cq,cardtext:uq,cardcontainer:dq})),dq=bo([gi,Ar("direction","horizontal"),Ar("align","left"),Ar("valign","middle"),el("items",t$)]),n$=bo([gi,Lx,el("items",t$),Cy,CP].concat(Uv)),LP=n=>ia("cardmenuitem",n$,n),fq=bo([gi,Nw,qm,Lx].concat(Uv)),mq=n=>ia("choicemenuitem",fq,n),HP=[gi,Ma("fancytype"),CP],o$=[ht("initData",{})].concat(HP),pq=[Fd("select"),Md("initData",{},[Or("allowCustomColors",!0),Ar("storageKey","default"),M1("colors",Ou())])].concat(HP),zP=[Fd("select"),mi("initData",[wh("columns"),Pl("items",[],Ou())])].concat(HP),s$=pl("fancytype",{inserttable:o$,colorswatch:pq,imageselect:zP}),r$=n=>ia("fancymenuitem",s$,n),gq=bo([gi,Nw,qj,Lx,Sy].concat(Uv)),hq=bo([gi,Nw,bP,Dk,Sy,Mw].concat(Uv)),a$=n=>ia("imagemenuitem",gq,n),UP=n=>ia("resetimageitem",hq,n),vq=bo([gi,Cy,CP,qm].concat(Uv)),bq=n=>ia("menuitem",vq,n),yq=bo([gi,Kj,Cy,qm].concat(Uv)),wq=n=>ia("nestedmenuitem",yq,n),Cq=bo([gi,qm,Nw,Cy,zv].concat(Uv)),Sq=n=>ia("togglemenuitem",Cq,n),xq=bo([qm,Sy,Os("onShow",J),Os("onHide",J),Cy]),VP=n=>ia("sidebar",xq,n),Eq=bo([gi,uc("items",sd([hp([vP,el("items",Ri)]),Ri]))].concat(Lw)),WP=n=>ia("GroupToolbarButton",Eq,n),Aq=bo([gi,Sy,kI,qm,v0,Jj,Gj,Cy,Zs("presets","normal",["normal","color","listpreview"]),_I(1),zv,Yj,Ar("context","mode:design")]),Tq=n=>ia("SplitButton",Aq,n),Lk=[v0,qm,Na("tooltip"),Zs("buttonType","secondary",["primary","secondary"]),Or("borderless",!1),Ic("onAction"),Ar("context","mode:design")],kq=[...Lk,h0,Rd("type",["button"])],_q=[...Lk,Or("active",!1),Rd("type",["togglebutton"])],jP={button:kq,togglebutton:_q},Oq=[Rd("type",["group"]),Pl("buttons",[],pl("type",jP))],Dq=pl("type",{...jP,group:Oq}),Pq=bo([Pl("buttons",[],Dq),Ic("onShow"),Ic("onHide")]),Rq=n=>ia("view",Pq,n),ZP=(n,s,a)=>{const c=Di(n.element,"."+a);if(c.length>0){const g=Ve(c,y=>{const w=y.dom.getBoundingClientRect().top,k=c[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>s}).getOr(c.length);return F.some({numColumns:g,numRows:Math.ceil(c.length/g)})}else return F.none()},i$=(n,s)=>bn([Wo(n,s)]),Uw={namedEvents:i$,unnamedEvents:n=>i$(pe("unnamed-events"),n)},Gg={item:n=>so.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>so.config({disabled:n}),splitButton:n=>so.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>so.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},jx=(n,s)=>{const a=n.getApi(s);return c=>{c(a)}},Kg=(n,s)=>ga(a=>{re(n.onBeforeSetup)&&n.onBeforeSetup(a),jx(n,a)(g=>{const y=n.onSetup(g);re(y)&&s.set(y)})}),Wv=(n,s)=>Qf(a=>jx(n,a)(s.get())),Hk=(n,s,a)=>Qf(c=>(a.set(Vn.getValue(c)),jx(n,c)(s.get()))),qP="silver.uistate",_y="setDisabled",Mq="setEnabled",GP="init",Nq=["switchmode",GP],Zx=(n,s)=>{const a=n.mainUi.outerContainer,c=[n.mainUi.mothership,...n.uiMotherships];s===_y&&ut(c,g=>{g.broadcastOn([Op()],{target:a.element})}),ut(c,g=>{g.broadcastOn([qP],s)})},l$=(n,s)=>{n.on("init SwitchMode",a=>{Zx(s,a.type)}),n.on("DisabledStateChange",a=>{if(!a.isDefaultPrevented()){const c=a.state?_y:GP;Zx(s,c),a.state||n.nodeChanged()}}),n.on("NodeChange",a=>{const c=n.ui.isEnabled()?a.type:_y;Zx(s,c)}),xB(n)&&n.mode.set("readonly")},Vi=n=>Hu.config({channels:{[qP]:{onReceive:(s,a)=>{if(a===_y||a===Mq){so.set(s,a===_y);return}const{contextType:c,shouldDisable:g}=n();c==="mode"&&!$e(Nq,a)||so.set(s,g)}}}}),b0=(n,s)=>Ih((a,c)=>{jx(n,a)(n.onAction),!n.triggersSubmenu&&s===qp.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Ds(a,I1()),c.stop())}),Bq={[gl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},e1=Jo,Oy=(n,s,a,c)=>{const g=Mn(J);return{type:"item",dom:s.dom,components:e1(s.optComponents),data:n.data,eventOrder:Bq,hasSubmenu:n.triggersSubmenu,itemBehaviours:bn([Wo("item-events",[b0(n,a),Kg(n,g),Wv(n,g)]),Gg.item(()=>!n.enabled||c.checkUiComponentContext(n.context).shouldDisable),Vi(()=>c.checkUiComponentContext(n.context)),Xo.config({})].concat(n.itemBehaviours))}},y0=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),Iq=(n,s)=>{const a=yn.fromTag("div");wr(a,"tox-image-selector-loading-spinner");const c=y=>{wr(y,"tox-image-selector-loading-spinner-wrapper"),oi(y,a)},g=y=>{na(y,"tox-image-selector-loading-spinner-wrapper"),Oc(a)};return{dom:{tag:n.tag,attributes:n.attributes??{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:bn([...n.behaviours??[],Wo("render-image-events",[ga(y=>{c(y.element),ur(y.element,"img").each(w=>{Ii(w).catch(k=>{console.error(k)}).finally(()=>{g(y.element)})})})])])}},$q=(n,s)=>Iq(s,n),KP=n=>{const s=Tw.os.isMacOS()||Tw.os.isiOS(),g=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},y=n.split("+"),w=He(y,k=>{const O=k.toLowerCase().trim();return Ho(g,O)?g[O]:k});return s?w.join(""):w.join("+")},zk=(n,s,a=[rP])=>im(n,{tag:"div",classes:a},s),c$=n=>({dom:{tag:"div",classes:[p0]},components:[Ca(zu.translate(n))]}),Uk=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),YP=(n,s)=>({dom:{tag:"div",classes:[p0]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Ca(zu.translate(s))]}]}),XP=n=>({dom:{tag:"div",classes:[by]},components:[Ca(KP(n))]}),QP=n=>zk("checkmark",n,[$j]),lm=n=>zk("chevron-right",n,[mI]),Lq=n=>zk("chevron-down",n,[mI]),Hq=(n,s)=>{const a=n.direction==="vertical"?Lj:gI,c=n.align==="left"?zj:Hj;return{dom:{tag:"div",classes:[pI,a,c,(()=>{switch(n.valign){case"top":return _k;case"middle":return hI;case"bottom":return Uj}})()]},components:s}},u$=(n,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:n,alt:a.getOr("")}}}),d$=(n,s,a)=>{const c="custom",g="remove",y=n.value,w=n.iconContent.map(N=>Tk(N,s.icons,a)),k=n.ariaLabel.map(N=>({"aria-label":s.translate(N),"data-mce-name":N})).getOr({});return{dom:(()=>{const N=Hv,z=w.getOr(""),Z={tag:"div",attributes:k,classes:[N]};return y===c?{...Z,tag:"button",classes:[...Z.classes,"tox-swatches__picker-btn"],innerHtml:z}:y===g?{...Z,classes:[...Z.classes,"tox-swatch--remove"],innerHtml:z}:Se(y)?{...Z,attributes:{...Z.attributes,"data-mce-color":y},styles:{"background-color":y},innerHtml:z}:Z})(),optComponents:[]}},JP=(n,s)=>{const a=n.map(c=>({attributes:{id:pe("menu-item"),"aria-label":zu.translate(c)}})).getOr({});return{tag:"div",classes:[oP,Mx].concat(s),...a}},f$=n=>({dom:{tag:"label"},components:[Ca(n)]}),zq=(n,s,a,c)=>{const g={tag:"div",classes:[rP]},y=oe=>im(oe,g,s.icons,c),w=()=>F.some({dom:g}),k=a?n.iconContent.map(y).orThunk(w):F.none(),O=n.checkMark,N=F.from(n.meta).fold(()=>c$,oe=>Ho(oe,"style")?ct(YP,oe.style):c$),z=n.htmlContent.fold(()=>n.textContent.map(N),oe=>F.some(Uk(oe,[p0])));return{dom:JP(n.ariaLabel,[]),optComponents:[k,z,n.shortcutContent.map(XP),O,n.caret,n.labelContent.map(f$)]}},Uq=n=>({dom:JP(n.ariaLabel,[Ij]),optComponents:[F.some($q(n.iconContent.getOrDie(),{tag:"div",classes:[kk],checkMark:n.checkMark})),n.labelContent.map(f$)]}),Vw=(n,s,a,c=F.none())=>n.presets==="color"?d$(n,s,c):n.presets==="img"?Uq(n):zq(n,s,a,c),m$=(n,s,a)=>sn(n,"tooltipWorker").map(c=>[ha.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:g=>({type:"submenu",item:g,overrides:{maxHeightFunction:G1}}),mode:"follow-highlight",onShow:(g,y)=>{c(w=>{ha.setComponents(g,[sf({element:yn.fromDom(w)})])})}})]).getOrThunk(()=>a.map(c=>[ha.config({...s.providers.tooltips.getConfig({tooltipText:c}),mode:"follow-highlight"})]).getOr([])),Vq=n=>Aw.DOM.encode(n),eR=(n,s)=>{const a=zu.translate(n),c=Vq(a);if(s.length>0){const g=new RegExp(Uu(s),"gi");return c.replace(g,y=>`<span class="tox-autocompleter-highlight">${y}</span>`)}else return c},Wq=(n,s,a,c,g,y,w,k=!0)=>{const O=Vw({presets:c,textContent:F.none(),htmlContent:a?n.text.map(z=>eR(z,s)):F.none(),ariaLabel:n.text,labelContent:F.none(),iconContent:n.icon,shortcutContent:F.none(),checkMark:F.none(),caret:F.none(),value:n.value},w.providers,k,n.icon),N=n.text.filter(z=>!a&&z!=="");return Oy({context:"mode:design",data:y0(n),enabled:n.enabled,getApi:G({}),onAction:z=>g(n.value,n.meta),onSetup:G(J),triggersSubmenu:!1,itemBehaviours:m$(n,w,N)},O,y,w.providers)},p$=(n,s)=>He(n,a=>{switch(a.type){case"cardcontainer":return Hq(a,p$(a.items,s));case"cardimage":return u$(a.src,a.classes,a.alt);case"cardtext":const g=a.name.exists(y=>$e(s.cardText.highlightOn,y))?F.from(s.cardText.matchText).getOr(""):"";return Uk(eR(a.text,g),a.classes)}}),jq=(n,s,a,c)=>{const g=w=>({isEnabled:()=>!so.isDisabled(w),setEnabled:k=>{so.set(w,!k),ut(Di(w.element,"*"),O=>{w.getSystem().getByDom(O).each(N=>{N.hasConfigured(so)&&so.set(N,!k)})})}}),y={dom:JP(n.label,[]),optComponents:[F.some({dom:{tag:"div",classes:[pI,gI]},components:p$(n.items,c)})]};return Oy({context:"mode:design",data:y0({text:F.none(),...n}),enabled:n.enabled,getApi:g,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:F.from(c.itemBehaviours).getOr([])},y,s,a.providers)},tR=(n,s,a,c,g,y,w,k=!0)=>{const O=Z=>({setActive:oe=>{Us.set(Z,oe)},isActive:()=>Us.isOn(Z),isEnabled:()=>!so.isDisabled(Z),setEnabled:oe=>so.set(Z,!oe)}),N=Vw({presets:a,textContent:s?n.text:F.none(),htmlContent:F.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:s?n.shortcut:F.none(),checkMark:s?F.some(QP(w.icons)):F.none(),caret:F.none(),value:n.value},w,k),z=n.text.filter(G(!s)).map(Z=>ha.config(w.tooltips.getConfig({tooltipText:w.translate(Z)})));return tn(Oy({context:n.context,data:y0(n),enabled:n.enabled,getApi:O,onAction:Z=>c(n.value),onSetup:Z=>(Z.setActive(g),J),triggersSubmenu:!1,itemBehaviours:[...z.toArray()]},N,y,w),{toggling:{toggleClass:sP,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},Vk=n=>({value:Dy(n)}),Wk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,g$=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,jk=n=>Wk.test(n)||g$.test(n),Dy=n=>Pr(n,"#").toUpperCase(),h$=n=>jk(n)?F.some({value:Dy(n)}):F.none(),v$=n=>({value:n.value.replace(Wk,(a,c,g,y)=>c+c+g+g+y+y)}),b$=n=>{const s=v$(n),a=g$.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},nR=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},qx=n=>{const s=nR(n.red)+nR(n.green)+nR(n.blue);return Vk(s)},jv=(n,s,a)=>({hue:n,saturation:s,value:a}),oR=n=>{let s=0,a=0,c=0;const g=n.red/255,y=n.green/255,w=n.blue/255,k=Math.min(g,Math.min(y,w)),O=Math.max(g,Math.max(y,w));if(k===O)return c=k,jv(0,0,c*100);const N=g===k?y-w:w===k?g-y:w-g;return s=g===k?3:w===k?1:5,s=60*(s-N/(O-k)),a=(O-k)/O,c=O,jv(Math.round(s),Math.round(a*100),Math.round(c*100))},y$=Math.min,sR=Math.max,Gx=Math.round,rR=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,w$=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Gl=(n,s,a,c)=>({red:n,green:s,blue:a,alpha:c}),Zk=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},C$=n=>{let s,a,c;const g=(n.hue||0)%360;let y=n.saturation/100,w=n.value/100;if(y=sR(0,y$(y,1)),w=sR(0,y$(w,1)),y===0)return s=a=c=Gx(255*w),Gl(s,a,c,1);const k=g/60,O=w*y,N=O*(1-Math.abs(k%2-1)),z=w-O;switch(Math.floor(k)){case 0:s=O,a=N,c=0;break;case 1:s=N,a=O,c=0;break;case 2:s=0,a=O,c=N;break;case 3:s=0,a=N,c=O;break;case 4:s=N,a=0,c=O;break;case 5:s=O,a=0,c=N;break;default:s=a=c=0}return s=Gx(255*(s+z)),a=Gx(255*(a+z)),c=Gx(255*(c+z)),Gl(s,a,c,1)},Kx=n=>{const s=b$(n),a=parseInt(s[1],16),c=parseInt(s[2],16),g=parseInt(s[3],16);return Gl(a,c,g,1)},aR=(n,s,a,c)=>{const g=parseInt(n,10),y=parseInt(s,10),w=parseInt(a,10),k=parseFloat(c);return Gl(g,y,w,k)},iR=n=>{const s=rR.exec(n);if(s!==null)return F.some(aR(s[1],s[2],s[3],"1"));const a=w$.exec(n);return a!==null?F.some(aR(a[1],a[2],a[3],a[4])):F.none()},S$=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,x$=Gl(255,0,0,1),E$=n=>oR(Kx(n)),Yg=n=>qx(C$(n)),lR=n=>h$(n).orThunk(()=>iR(n).map(qx)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=n,a.fillRect(0,0,1,1);const c=a.getImageData(0,0,1,1).data,g=c[0],y=c[1],w=c[2],k=c[3];return qx(Gl(g,y,w,k))}),A$=n=>{n.dispatch("SkinLoaded")},qk=(n,s)=>{n.dispatch("SkinLoadError",s)},cR=n=>{n.dispatch("ResizeEditor")},uR=(n,s)=>{n.dispatch("ResizeContent",s)},Zq=(n,s)=>{n.dispatch("ScrollContent",s)},T$=(n,s)=>{n.dispatch("TextColorChange",s)},qq=(n,s)=>{n.dispatch("AfterProgressState",{state:s})},Gq=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),Kq=(n,s)=>{n.dispatch("ToggleToolbarDrawer",{state:s})},Yq=(n,s)=>{n.dispatch("StylesTextUpdate",s)},k$=(n,s)=>{n.dispatch("AlignTextUpdate",s)},Xq=(n,s)=>{n.dispatch("FontSizeTextUpdate",s)},t1=(n,s)=>{n.dispatch("FontSizeInputTextUpdate",s)},Gk=(n,s)=>{n.dispatch("BlocksTextUpdate",s)},Qq=(n,s)=>{n.dispatch("FontFamilyTextUpdate",s)},Jq=n=>{n.dispatch("ToggleSidebar")},_$=n=>{n.dispatch("ToggleView")},dR=n=>{n.dispatch("ContextToolbarClose")},fR=n=>{n.dispatch("ContextFormSlideBack")},Py=(n,s)=>()=>{n(),s()},bc=(n,s=lt)=>Zv(n,"NodeChange",a=>{a.setEnabled(n.selection.isEditable()&&s())}),Yx=(n,s)=>a=>{const c=Gr(),g=()=>{a.setActive(n.formatter.match(s));const y=n.formatter.formatChanged(s,a.setActive);c.set(y)};return n.initialized?g():n.once("init",g),()=>{n.off("init",g),c.clear()}},Xx=(n,s)=>a=>{const c=bc(n)(a),g=Yx(n,s)(a);return()=>{c(),g()}},Zv=(n,s,a)=>c=>{const g=()=>a(c),y=()=>{a(c),n.on(s,g)};return n.initialized?y():n.once("init",y),()=>{n.off("init",y),n.off(s,g)}},Kk=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},$d=(n,s)=>()=>n.execCommand(s);var Ry=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const O$={},D$=(n,s=10)=>{const a=Ry.getItem(n),c=H(a)?JSON.parse(a):[],y=(N=>s-N.length<0?N.slice(0,s):N)(c),w=N=>{se(y,N).each(k),y.unshift(N),y.length>s&&y.pop(),Ry.setItem(n,JSON.stringify(y))},k=N=>{y.splice(N,1)};return{add:w,state:()=>y.slice(0)}},mR=n=>sn(O$,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,a=Ry.getItem(s);if(de(a)){const g=Ry.getItem("tinymce-custom-colors");Ry.setItem(s,Se(g)?g:"[]")}const c=D$(s,10);return O$[n]=c,c}),eG=n=>He(mR(n).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),pR=(n,s)=>{mR(n).add(s)},Yk="forecolor",gR="hilitecolor",P$=5,tG=n=>hR(n.map((s,a)=>a%2===0?"#"+lR(s).value:s)),hR=n=>{const s=[];for(let a=0;a<n.length;a+=2)s.push({text:n[a+1],value:n[a],icon:"checkmark",type:"choiceitem"});return s},Ld=n=>s=>s.options.get(n),vR="#000000",R$=n=>{const s=n.options.register,a=y=>it(y,H)?{value:tG(y),valid:!0}:{valid:!1,message:"Must be an array of strings."},c=y=>it(y,H)?{value:hR(y),valid:!0}:{valid:!1,message:"Must be an array of strings."},g=y=>ot(y)&&y>0?{value:y,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:c}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:g,default:bR(n)}),s("color_cols_foreground",{processor:g,default:F$(n,Yk)}),s("color_cols_background",{processor:g,default:F$(n,gR)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:vR}),s("color_default_background",{processor:"string",default:vR})},Xk=(n,s)=>s===Yk&&n.options.isSet("color_map_foreground")?Ld("color_map_foreground")(n):s===gR&&n.options.isSet("color_map_background")?Ld("color_map_background")(n):n.options.isSet("color_map_raw")?Ld("color_map_raw")(n):Ld("color_map")(n),bR=(n,s="default")=>Math.max(P$,Math.ceil(Math.sqrt(Xk(n,s).length))),F$=(n,s)=>{const a=Ld("color_cols")(n),c=bR(n,s);return a===bR(n)?c:a},M$=(n,s="default")=>Math.round(s===Yk?Ld("color_cols_foreground")(n):s===gR?Ld("color_cols_background")(n):Ld("color_cols")(n)),yR=Ld("custom_colors"),nG=Ld("color_default_foreground"),N$=Ld("color_default_background"),wR="rgba(0, 0, 0, 0)",n1=n=>iR(n).exists(s=>s.alpha!==0),CR=n=>ku(n,s=>{if(tc(s)){const a=Ur(s,"background-color");return sa(n1(a),a)}else return F.none()}).getOr(wR),SR=(n,s)=>{const a=yn.fromDom(n.selection.getStart()),c=s==="hilitecolor"?CR(a):Ur(a,"color");return iR(c).map(g=>"#"+qx(g).value)},B$=(n,s,a)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(s,{value:a}),n.nodeChanged()})},I$=(n,s)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(s,{value:null},void 0,!0),n.nodeChanged()})},$$=n=>{n.addCommand("mceApplyTextcolor",(s,a)=>{B$(n,s,a)}),n.addCommand("mceRemoveTextcolor",s=>{I$(n,s)})},Qk=n=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},Jk=(n,s,a,c)=>{a==="custom"?AR(n)(y=>{y.each(w=>{pR(s,w),n.execCommand("mceApplyTextcolor",s,w),c(w)})},SR(n,s).getOr(vR)):a==="remove"?(c(""),n.execCommand("mceRemoveTextcolor",s)):(c(a),n.execCommand("mceApplyTextcolor",s,a))},Ww=(n,s,a)=>n.concat(eG(s).concat(Qk(a))),xR=(n,s,a)=>c=>{c(Ww(n,s,a))},e3=(n,s,a)=>{const c=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(c,a)},L$=(n,s)=>{n.setTooltip(s)},H$=(n,s)=>a=>{const c=SR(n,s);return ro(c,a.toUpperCase())},ER=(n,s,a)=>{if(vi(a))return s==="forecolor"?"Text color":"Background color";const c=s==="forecolor"?"Text color {0}":"Background color {0}",g=Ww(Xk(n,s),s,!1),y=Re(g,w=>w.value===a).getOr({text:""}).text;return n.translate([c,n.translate(y)])},z$=(n,s,a,c)=>{n.ui.registry.addSplitButton(s,{tooltip:ER(n,a,c.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:H$(n,a),columns:M$(n,a),fetch:xR(Xk(n,a),a,yR(n)),onAction:g=>{Jk(n,a,c.get(),J)},onItemAction:(g,y)=>{Jk(n,a,y,w=>{c.set(w),T$(n,{name:s,color:w})})},onSetup:g=>{e3(g,s,c.get());const y=w=>{w.name===s&&(e3(g,w.name,w.color),L$(g,ER(n,a,w.color)))};return n.on("TextColorChange",y),Py(bc(n)(g),()=>{n.off("TextColorChange",y)})}})},U$=(n,s,a,c,g)=>{n.ui.registry.addNestedMenuItem(s,{text:c,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:y=>(L$(y,ER(n,a,g.get())),e3(y,s,g.get()),bc(n)(y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:H$(n,a),initData:{storageKey:a},onAction:y=>{Jk(n,a,y.value,w=>{g.set(w),T$(n,{name:s,color:w})})}}]})},AR=n=>(s,a)=>{let c=!1;const g=k=>{const N=k.getData().colorpicker;c?(s(F.from(N)),k.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",N]))},y=(k,O)=>{O.name==="hex-valid"&&(c=O.value)},w={colorpicker:a};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:y,onSubmit:g,onClose:J,onCancel:()=>{s(F.none())}})},V$=n=>{$$(n);const s=nG(n),a=N$(n),c=Mn(s),g=Mn(a);z$(n,"forecolor","forecolor",c),z$(n,"backcolor","hilitecolor",g),U$(n,"forecolor","forecolor","Text color",c),U$(n,"backcolor","hilitecolor","Background color",g)},oG=(n,s,a,c,g)=>{const y=O=>({setActive:N=>{Us.set(O,N)},isActive:()=>Us.isOn(O),isEnabled:()=>!so.isDisabled(O),setEnabled:N=>so.set(O,!N)}),w=Vw({presets:"img",textContent:F.none(),htmlContent:F.none(),ariaLabel:n.tooltip,iconContent:F.some(n.url),labelContent:n.label,shortcutContent:F.none(),checkMark:F.some(QP(g.icons)),caret:F.none(),value:n.value},g,!0),k=n.tooltip.map(O=>ha.config(g.tooltips.getConfig({tooltipText:g.translate(O)})));return tn(Oy({context:n.context,data:y0(n),enabled:n.enabled,getApi:y,onAction:O=>{s(n.value),O.setActive(!0)},onSetup:O=>(O.setActive(a),J),triggersSubmenu:!1,itemBehaviours:[...k.toArray()]},w,c,g),{toggling:{toggleClass:sP,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},t3=(n,s,a,c,g,y,w,k)=>{const O=$x(s),z=sG(s,a,c,g!=="color"?"normal":"color",y,w,k);return hP(n,O,z,c,{menuType:g})},sG=(n,s,a,c,g,y,w)=>Jo(He(n,k=>k.type==="choiceitem"?mq(k).fold(Zg,O=>F.some(tR(O,a===1,c,s,y(O.value),g,w,$x(n)))):k.type==="imageitem"?a$(k).fold(Zg,O=>F.some(oG(O,s,y(O.value),g,w))):k.type==="resetimage"?UP(k).fold(Zg,O=>F.some(tR({...O,text:O.tooltip,icon:F.some(O.icon),label:F.some(O.label)},a===1,c,s,y(O.value),g,w,$x(n)))):F.none())),qv=(n,s)=>{const a=Qh(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:g=>s==="color"?ur(g.element,"[aria-checked=true]"):F.none()}},rG=(n,s)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${Hv}`:`.${Mx}`}},aG=(n,s)=>{const a=W$(n,s),c=s.colorinput.getColorCols(n.initData.storageKey),g="color",w={...t3(pe("menu-value"),a,k=>{n.onAction({value:k})},c,g,qp.CLOSE_ON_EXECUTE,n.select.getOr(je),s.shared.providers),markers:Qh(g),movement:qv(c,g),showMenuRole:!1};return{type:"widget",data:{value:pe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[JO.widget(u0.sketch(w))]}},W$=(n,s)=>{const a=n.initData.allowCustomColors&&s.colorinput.hasCustomColors();return n.initData.colors.fold(()=>Ww(s.colorinput.getColors(n.initData.storageKey),n.initData.storageKey,a),c=>c.concat(Qk(a)))},j$=(n,s)=>{const a="imageselector",c=n.initData.columns,y={...t3(pe("menu-value"),n.initData.items,w=>{n.onAction({value:w})},c,a,qp.CLOSE_ON_EXECUTE,n.select.getOr(je),s.shared.providers),markers:Qh(a),movement:qv(c,a),showMenuRole:!1};return{type:"widget",data:{value:pe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[JO.widget(u0.sketch(y))]}},Z$=pe("cell-over"),q$=pe("cell-execute"),TR=n=>(s,a)=>n.shared.providers.translate(["{0} columns, {1} rows",a,s]),iG=(n,s,a)=>{const c=w=>So(w,Z$,{row:n,col:s}),g=w=>So(w,q$,{row:n,col:s}),y=(w,k)=>{k.stop(),g(w)};return C({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:bn([Wo("insert-table-picker-cell",[zt(Hc(),Go.focus),zt(gl(),g),zt(_m(),y),zt(Ah(),y)]),Us.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Go.config({onFocus:c})])})},G$=(n,s,a)=>{const c=[];for(let g=0;g<s;g++){const y=[];for(let w=0;w<a;w++){const k=n(g+1,w+1);y.push(iG(g,w,k))}c.push(y)}return c},lG=(n,s,a,c,g)=>{for(let y=0;y<c;y++)for(let w=0;w<g;w++)Us.set(n[y][w],y<=s&&w<=a)},cG=n=>De(n,s=>He(s,T)),K$=(n,s)=>Ca(`${s}x${n}`),kR={inserttable:(n,s)=>{const g=TR(s),y=G$(g,10,10),w=K$(0,0),k=gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:bn([Xo.config({})])});return{type:"widget",data:{value:pe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[JO.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:cG(y).concat(k.asSpec()),behaviours:bn([Wo("insert-table-picker",[ga(O=>{Xo.set(k.get(O),[w])}),gv(Z$,(O,N,z)=>{const{row:Z,col:oe}=z.event;lG(y,Z,oe,10,10),Xo.set(k.get(O),[K$(Z+1,oe+1)])}),gv(q$,(O,N,z)=>{const{row:Z,col:oe}=z.event;Ds(O,I1()),n.onAction({numRows:Z+1,numColumns:oe+1})})]),ho.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:aG,imageselect:j$},dG=(n,s)=>sn(kR,n.fancytype).map(a=>a(n,s)),fG=(n,s,a,c=!0,g=!1)=>{const y=g?Lq(a.icons):lm(a.icons),w=O=>({isEnabled:()=>!so.isDisabled(O),setEnabled:N=>so.set(O,!N),setIconFill:(N,z)=>{ur(O.element,`svg path[class="${N}"], rect[class="${N}"]`).each(Z=>{Ao(Z,"fill",z)})},setTooltip:N=>{const z=a.translate(N);Ao(O.element,"aria-label",z)}}),k=Vw({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:F.none(),ariaLabel:n.text,labelContent:F.none(),caret:F.some(y),checkMark:F.none(),shortcutContent:n.shortcut},a,c);return Oy({context:n.context,data:y0(n),getApi:w,enabled:n.enabled,onAction:J,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,s,a)},mG=(n,s,a,c=!0)=>{const g=w=>({isEnabled:()=>!so.isDisabled(w),setEnabled:k=>so.set(w,!k)}),y=Vw({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:F.none(),labelContent:F.none(),ariaLabel:n.text,caret:F.none(),checkMark:F.none(),shortcutContent:n.shortcut},a,c);return Oy({context:n.context,data:y0(n),getApi:g,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,a)},pG=n=>({type:"separator",dom:{tag:"div",classes:[Mx,fI]},components:n.text.map(Ca).toArray()}),Y$=(n,s,a,c=!0)=>{const g=w=>({setActive:k=>{Us.set(w,k)},isActive:()=>Us.isOn(w),isEnabled:()=>!so.isDisabled(w),setEnabled:k=>so.set(w,!k)}),y=Vw({iconContent:n.icon,textContent:n.text,htmlContent:F.none(),labelContent:F.none(),ariaLabel:n.text,checkMark:F.some(QP(a.icons)),caret:F.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},a,c);return tn(Oy({context:n.context,data:y0(n),enabled:n.enabled,getApi:g,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},y,s,a),{toggling:{toggleClass:sP,toggleOnExecute:!1,selected:n.active},role:n.role.getOrUndefined()})},X$=Wq,_R=pG,gG=mG,hG=fG,vG=Y$,bG=dG,yG=jq,wG=n=>n.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:n},CG=n=>{const s=Vn.getValue(n),a=Bx(n).map(cP);lf.refetch(s).get(()=>{const c=os.getCoupled(s,"sandbox");a.each(g=>Bx(c).each(y=>Wj(y,g)))})},SG=(n,s)=>{xG(n).each(a=>{P4(n,a.element,s.event.eventType,s.event.interactionEvent)})},xG=n=>ir.getState(n).bind(fr.getHighlighted).bind(fr.getHighlighted),OR=n=>Za(n.element,Ok)?F.some(n.element):ur(n.element,"."+Ok),Q$=(n,s,a)=>{wI(n).each(c=>{CI(c,a),OR(s).each(y=>{Ei(y,"id").each(w=>Ao(c.element,"aria-controls",w))})}),Ao(a.element,"aria-selected","true")},EG=(n,s,a)=>{Ao(a.element,"aria-selected","false")},AG=n=>{wI(n).each(s=>Go.focus(s))},Qx=n=>os.getExistingCoupled(n,"sandbox").bind(Bx).map(cP).map(a=>a.fetchPattern).getOr("");var jw;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(jw||(jw={}));const TG=(n,s,a,c,g)=>{const y=a.shared.providers,w=k=>g?{...k,shortcut:F.none(),icon:k.text.isSome()?F.none():k.icon}:k;switch(n.type){case"menuitem":return bq(n).fold(Zg,k=>F.some(gG(w(k),s,y,c)));case"nestedmenuitem":return wq(n).fold(Zg,k=>F.some(hG(w(k),s,y,c,g)));case"togglemenuitem":return Sq(n).fold(Zg,k=>F.some(vG(w(k),s,y,c)));case"separator":return KZ(n).fold(Zg,k=>F.some(_R(k)));case"fancymenuitem":return r$(n).fold(Zg,k=>bG(k,a));default:return console.error("Unknown item in general menu",n),F.none()}},kG=(n,s,a,c,g,y,w)=>{const k=c===1,O=!k||$x(n);return Jo(He(n,N=>{switch(N.type){case"separator":return XZ(N).fold(Zg,z=>F.some(_R(z)));case"cardmenuitem":return LP(N).fold(Zg,z=>F.some(yG({...z,onAction:Z=>{z.onAction(Z),a(z.value,z.meta)}},g,y,{itemBehaviours:m$(z.meta,y,F.none()),cardText:{matchText:s,highlightOn:w}})));default:return QZ(N).fold(Zg,z=>F.some(X$(z,s,k,"normal",a,g,y,O)))}}))},n3=(n,s,a,c,g,y)=>{const w=$x(s),k=Jo(He(s,z=>{const Z=fe=>g?!Ho(fe,"text"):w,oe=fe=>TG(fe,a,c,Z(fe),g);return z.type==="nestedmenuitem"&&z.getSubmenuItems().length<=0?oe({...z,enabled:!1}):oe(z)})),O=wG(y);return(g?AI:hP)(n,w,k,1,O)},DR=n=>dy.singleData(n.value,n),PR=(n,s,a,c)=>{const g=qv(s,c),y=Qh(c);return{data:DR({...n,movement:g,menuBehaviours:Uw.unnamedEvents(s!=="auto"?[]:[ga((w,k)=>{ZP(w,4,y.item).each(({numColumns:O,numRows:N})=>{ho.setGridSize(w,N,O)})})])}),menu:{markers:Qh(c),fakeFocus:a===jw.ContentFocus}}},J$=n=>R.create(yn.fromDom(n.startContainer),n.startOffset,yn.fromDom(n.endContainer),n.endOffset),_G={register:(n,s)=>{const a=pe("autocompleter"),c=Mn(!1),g=Mn(!1),y=Do(),w=C(Ja.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:bn([Wo("dismissAutocompleter",[zt(Om(),()=>Z()),zt(J0(),(Ee,Xe)=>{Ei(Xe.event.target,"id").each(st=>Ao(yn.fromDom(n.getBody()),"aria-activedescendant",st))})])]),lazySink:s.getSink})),k=()=>Ja.isOpen(w),O=g.get,N=()=>{if(k()){Ja.hide(w),n.dom.remove(a,!1);const Ee=yn.fromDom(n.getBody());Ei(Ee,"aria-owns").filter(Xe=>Xe===a).each(()=>{zr(Ee,"aria-owns"),zr(Ee,"aria-activedescendant")})}},z=()=>Ja.getContent(w).bind(Ee=>an(Ee.components(),0)),Z=()=>n.execCommand("mceAutocompleterClose"),oe=Ee=>{const Xe=es(Ee,st=>F.from(st.columns)).getOr(1);return De(Ee,st=>{const xt=st.items;return kG(xt,st.matchText,(Rt,Rn)=>{const nn={hide:()=>Z(),reload:mn=>{N(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:mn})}};n.execCommand("mceAutocompleterRefreshActiveRange"),y.get().each(mn=>{c.set(!0),st.onAction(nn,mn,Rt,Rn),c.set(!1)})},Xe,qp.BUBBLE_TO_SANDBOX,s,st.highlightOn)})},fe=(Ee,Xe)=>{const st=es(Ee,xt=>F.from(xt.columns)).getOr(1);Ja.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>y.get().map(J$),root:yn.fromDom(n.getBody())}},PR(hP("autocompleter-value",!0,Xe,st,{menuType:"normal"}),st,jw.ContentFocus,"normal")),z().each(fr.highlightFirst)},ye=Ee=>{const Xe=oe(Ee);Xe.length>0?(fe(Ee,Xe),Ao(yn.fromDom(n.getBody()),"aria-owns",a),n.inline||Fe()):N()},Fe=()=>{n.dom.get(a)&&n.dom.remove(a,!1);const Ee=n.getDoc().documentElement,Xe=n.selection.getNode(),st=lh(w.element);Nr(st,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Xe.offsetTop}px`,left:`${Xe.offsetLeft}px`}),n.dom.add(Ee,st.dom),ur(st,'[role="menu"]').each(xt=>{fs(xt,"position"),fs(xt,"max-height")})};n.on("AutocompleterStart",({lookupData:Ee})=>{g.set(!0),c.set(!1),ye(Ee)}),n.on("AutocompleterUpdate",({lookupData:Ee})=>ye(Ee)),n.on("AutocompleterUpdateActiveRange",({range:Ee})=>y.set(Ee)),n.on("AutocompleterEnd",()=>{N(),g.set(!1),c.set(!1),y.clear()});const Le={cancelIfNecessary:Z,isMenuOpen:k,isActive:O,isProcessingAction:c.get,getMenu:z};Bj.setup(Le,n)}},e8=(n,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:He(n.items,s.interpreter)});var OG=tinymce.util.Tools.resolve("tinymce.html.Entities");const Zw=(n,s,a,c)=>{const g=t8(n,s,a,c);return Rs.sketch(g)},DG=(n,s)=>Zw(n,s,[],[]),t8=(n,s,a,c)=>({dom:o8(a),components:n.toArray().concat([s]),fieldBehaviours:bn(c)}),n8=()=>o8([]),o8=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),w0=(n,s)=>Rs.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ca(s.translate(n))]}),Hd=pe("form-component-change"),s8=pe("form-component-input"),Fy=pe("form-close"),C0=pe("form-cancel"),Gp=pe("form-action"),Jx=pe("form-submit"),RR=pe("form-block"),o3=pe("form-unblock"),r8=pe("form-tabchange"),FR=pe("form-resize"),PG=(n,s,a)=>{const c=n.label.map(fe=>w0(fe,s)),g=s.icons(),y=fe=>g[fe]??fe,w=fe=>(ye,Fe)=>{Oi(Fe.event.target,"[data-collection-item-value]").each(Le=>{fe(ye,Fe,Le,xi(Le,"data-collection-item-value"))})},k=(fe,ye)=>{const Le=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Ee=He(ye,xt=>{const Rt=zu.translate(xt.text),Rn=n.columns===1?`<div class="tox-collection__item-label">${Rt}</div>`:"",nn=`<div class="tox-collection__item-icon">${y(xt.icon)}</div>`,mn={_:" "," - ":" ","-":" "},un=Rt.replace(/\_| \- |\-/g,yo=>mn[yo]);return`<div data-mce-tooltip="${un}" class="tox-collection__item${Le}" tabindex="-1" data-collection-item-value="${OG.encodeAllRaw(xt.value)}" aria-label="${un}">${nn}${Rn}</div>`}),Xe=n.columns!=="auto"&&n.columns>1?Ct(Ee,n.columns):[Ee],st=He(Xe,xt=>`<div class="tox-collection__group">${xt.join("")}</div>`);yl(fe.element,st.join(""))},O=w((fe,ye,Fe,Le)=>{ye.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||So(fe,Gp,{name:n.name,value:Le})}),N=[zt(Hc(),w((fe,ye,Fe)=>{Bi(Fe,!0)})),zt(_m(),O),zt(Ah(),O),zt(Fu(),w((fe,ye,Fe)=>{ur(fe.element,"."+yy).each(Le=>{na(Le,yy)}),wr(Fe,yy)})),zt(zc(),w(fe=>{ur(fe.element,"."+yy).each(ye=>{na(ye,yy),fa(ye)})})),Ih(w((fe,ye,Fe,Le)=>{So(fe,Gp,{name:n.name,value:Le})}))],z=(fe,ye)=>He(Di(fe.element,".tox-collection__item"),ye),Z=Rs.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ze},behaviours:bn([so.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable,onDisabled:fe=>{z(fe,ye=>{wr(ye,"tox-collection__item--state-disabled"),Ao(ye,"aria-disabled",!0)})},onEnabled:fe=>{z(fe,ye=>{na(ye,"tox-collection__item--state-disabled"),zr(ye,"aria-disabled")})}}),Vi(()=>s.checkUiComponentContext(n.context)),Xo.config({}),ha.config({...s.tooltips.getConfig({tooltipText:"",onShow:fe=>{ur(fe.element,"."+yy+"[data-mce-tooltip]").each(ye=>{Ei(ye,"data-mce-tooltip").each(Fe=>{ha.setComponents(fe,s.tooltips.getComponents({tooltipText:Fe}))})})}}),mode:"children-keyboard-focus",anchor:fe=>({type:"node",node:ur(fe.element,"."+yy).orThunk(()=>dh(".tox-collection__item")),root:fe.element,layouts:{onLtr:G([ol,Ba,vl,pc,nl,jl]),onRtl:G([ol,Ba,vl,pc,nl,jl])},bubble:Nd(0,-2,{})})}),Vn.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(fe,ye)=>{k(fe,ye),n.columns==="auto"&&ZP(fe,5,"tox-collection__item").each(({numRows:Fe,numColumns:Le})=>{ho.setGridSize(fe,Fe,Le)}),Ds(fe,FR)}}),la.config({}),ho.config(rG(n.columns,"normal")),Wo("collection-events",N)]),eventOrder:{[gl()]:["disabling","alloy.base.behaviour","collection-events"],[Fu()]:["collection-events","tooltipping"]}});return Zw(c,Z,["tox-form__group--collection"],[])},RG=(n,s)=>lf.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:bn([Gg.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable),Vi(()=>s.providers.checkUiComponentContext(n.context)),$g.config({}),la.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>as.nu(c=>n.fetch(c)).map(c=>F.from(DR(tn(t3(pe("menu-value"),c,g=>{n.onItemAction(a,g)},n.columns,n.presets,qp.CLOSE_ON_EXECUTE,je,s.providers),{movement:qv(n.columns,n.presets)})))),parts:{menu:Nx(!1,1,n.presets)}}),s3=pe("color-input-change"),a8=pe("color-swatch-change"),i8=pe("color-picker-cancel"),FG=(n,s,a,c)=>{const g=Rs.parts.field({factory:Xh,inputClasses:["tox-textfield"],data:c,onSetValue:N=>om.run(N).get(J),inputBehaviours:bn([so.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(n.context).shouldDisable}),Vi(()=>s.providers.checkUiComponentContext(n.context)),la.config({}),om.config({invalidClass:"tox-textbox-field-invalid",getRoot:N=>ll(N.element),notify:{onValid:N=>{const z=Vn.getValue(N);So(N,s3,{color:z})}},validator:{validateOnLoad:!1,validate:N=>{const z=Vn.getValue(N);if(z.length===0)return as.pure(Kn.value(!0));{const Z=yn.fromTag("span");To(Z,"background-color",z);const oe=Er(Z,"background-color").fold(()=>Kn.error("blah"),fe=>Kn.value(z));return as.pure(oe)}}}})]),selectOnFocus:!1}),y=n.label.map(N=>w0(N,s.providers)),w=(N,z)=>{So(N,a8,{value:z})},k=(N,z)=>{O.getOpt(N).each(Z=>{z==="custom"?a.colorPicker(oe=>{oe.fold(()=>Ds(Z,i8),fe=>{w(Z,fe),pR(n.storageKey,fe)})},"#ffffff"):z==="remove"?w(Z,""):w(Z,z)})},O=gr(RG({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[nl,vl,ol],onLtr:()=>[vl,nl,ol]},components:[],fetch:xR(a.getColors(n.storageKey),n.storageKey,a.hasCustomColors()),columns:a.getColorCols(n.storageKey),presets:"color",onItemAction:k,context:n.context},s));return Rs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[g,O.asSpec()]}]),fieldBehaviours:bn([Wo("form-field-events",[zt(s3,(N,z)=>{O.getOpt(N).each(Z=>{To(Z.element,"background-color",z.event.color)}),So(N,Hd,{name:n.name})}),zt(a8,(N,z)=>{Rs.getField(N).each(Z=>{Vn.setValue(Z,z.event.value),Ut.getCurrent(N).each(Go.focus)})}),zt(i8,(N,z)=>{Rs.getField(N).each(Z=>{Ut.getCurrent(N).each(Go.focus)})})])])})},Kp={self:()=>Ut.config({find:F.some}),memento:n=>Ut.config({find:n.getOpt}),childAt:n=>Ut.config({find:s=>Zd(s.element,n).bind(a=>s.getSystem().getByDom(a).toOptional())})},c8=bo([ht("preprocess",Ze),ht("postprocess",Ze)]),NG=(n,s)=>{const a=Nc("RepresentingConfigs.memento processors",c8,s);return Vn.config({store:{mode:"manual",getValue:c=>{const g=n.get(c),y=Vn.getValue(g);return a.postprocess(y)},setValue:(c,g)=>{const y=a.preprocess(g),w=n.get(c);Vn.setValue(w,y)}}})},My=(n,s,a)=>Vn.config({store:{mode:"manual",...n.map(c=>({initialValue:c})).getOr({}),getValue:s,setValue:a}}),u8=(n,s,a)=>My(n,c=>s(c.element),(c,g)=>a(c.element,g)),BG=n=>u8(n,qu,yl),r3=n=>Vn.config({store:{mode:"memory",initialValue:n}}),a3=pe("rgb-hex-update"),d8=pe("slider-update"),f8=pe("palette-update"),m8=(n,s)=>{const a=jp.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=jp.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return jp.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:G(0)},components:[a,c],sliderBehaviours:bn([Go.config({})]),onChange:(g,y,w)=>{Ao(g.element,"aria-valuenow",Math.floor(360-w*3.6)),So(g,d8,{value:w})}})},p8=pe("valid-input"),g8=pe("invalid-input"),h8=pe("validating-input"),i3="colorcustom.rgb.",IG={isEnabled:lt,setEnabled:J,immediatelyShow:J,immediatelyHide:J},$G=(n,s,a,c,g,y)=>{const w=(Fe,Le)=>{const Ee=Le.get();Fe!==Ee.isEnabled()&&(Ee.setEnabled(Fe),Fe?Ee.immediatelyShow():Ee.immediatelyHide())},k=(Fe,Le,Ee)=>om.config({invalidClass:s("invalid"),notify:{onValidate:Xe=>{So(Xe,h8,{type:Fe})},onValid:Xe=>{w(!1,Ee),So(Xe,p8,{type:Fe,value:Vn.getValue(Xe)})},onInvalid:Xe=>{w(!0,Ee),So(Xe,g8,{type:Fe,value:Vn.getValue(Xe)})}},validator:{validate:Xe=>{const st=Vn.getValue(Xe),xt=Le(st)?Kn.value(!0):Kn.error(n("aria.input.invalid"));return as.pure(xt)},validateOnLoad:!1}}),O=(Fe,Le,Ee,Xe,st)=>{const xt=Mn(IG),Rt=n(i3+"range"),Rn=Rs.parts.label({dom:{tag:"label"},components:[Ca(Ee)]}),nn=Rs.parts.field({data:st,factory:Xh,inputAttributes:{type:"text","aria-label":Xe,...Le==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:bn([k(Le,Fe,xt),la.config({}),ha.config({...g({tooltipText:"",onSetup:Qo=>{xt.set({isEnabled:()=>ha.isEnabled(Qo),setEnabled:io=>ha.setEnabled(Qo,io),immediatelyShow:()=>ha.immediateOpenClose(Qo,!0),immediatelyHide:()=>ha.immediateOpenClose(Qo,!1)}),ha.setEnabled(Qo,!1)},onShow:(Qo,io)=>{ha.setComponents(Qo,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Ca(n(Le==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Qo=>{om.isInvalid(Qo)&&om.run(Qo).get(J)}}),mn=pe("aria-invalid"),un=gr(y("invalid",F.some(mn),"warning")),yo=gr({dom:{tag:"div",classes:[s("invalid-icon")]},components:[un.asSpec()]}),ao=[Rn,nn,yo.asSpec()],ks=Le!=="hex"?[Rs.parts["aria-descriptor"]({text:Rt})]:[],wo=ao.concat(ks);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:wo}},N=(Fe,Le)=>{const Ee=qx(Le);return Mv.getField(Fe,"hex").each(Xe=>{Go.isFocused(Xe)||Vn.setValue(Fe,{hex:Ee.value})}),Ee},z=(Fe,Le)=>{const Ee=Le.red,Xe=Le.green,st=Le.blue;Vn.setValue(Fe,{red:Ee,green:Xe,blue:st})},Z=gr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),oe=(Fe,Le)=>{Z.getOpt(Fe).each(Ee=>{To(Ee.element,"background-color","#"+Le.value)})};return nm({factory:()=>{const Fe={red:Mn(F.some(255)),green:Mn(F.some(255)),blue:Mn(F.some(255)),hex:Mn(F.some("ffffff"))},Le=(io,Xt)=>{const Sn=Kx(Xt);z(io,Sn),xt(Sn)},Ee=io=>Fe[io].get(),Xe=(io,Xt)=>{Fe[io].set(Xt)},st=()=>Ee("red").bind(io=>Ee("green").bind(Xt=>Ee("blue").map(Sn=>Gl(io,Xt,Sn,1)))),xt=io=>{const Xt=io.red,Sn=io.green,Mo=io.blue;Xe("red",F.some(Xt)),Xe("green",F.some(Sn)),Xe("blue",F.some(Mo))},Rt=(io,Xt)=>{const Sn=Xt.event;Sn.type!=="hex"?Xe(Sn.type,F.none()):c(io)},Rn=(io,Xt)=>{a(io);const Sn=Vk(Xt);Xe("hex",F.some(Sn.value));const Mo=Kx(Sn);z(io,Mo),xt(Mo),So(io,a3,{hex:Sn}),oe(io,Sn)},nn=(io,Xt,Sn)=>{const Mo=parseInt(Sn,10);Xe(Xt,F.some(Mo)),st().each(ls=>{const uo=N(io,ls);So(io,a3,{hex:uo}),oe(io,uo)})},mn=io=>io.type==="hex",un=(io,Xt)=>{const Sn=Xt.event;mn(Sn)?Rn(io,Sn.value):nn(io,Sn.type,Sn.value)},yo=io=>({label:n(i3+io+".label"),description:n(i3+io+".description")}),ao=yo("red"),ks=yo("green"),wo=yo("blue"),Qo=yo("hex");return tn(Mv.sketch(io=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[io.field("red",Rs.sketch(O(Zk,"red",ao.label,ao.description,255))),io.field("green",Rs.sketch(O(Zk,"green",ks.label,ks.description,255))),io.field("blue",Rs.sketch(O(Zk,"blue",wo.label,wo.description,255))),io.field("hex",Rs.sketch(O(jk,"hex",Qo.label,Qo.description,"ffffff"))),Z.asSpec()],formBehaviours:bn([om.config({invalidClass:s("form-invalid")}),Wo("rgb-form-events",[zt(p8,un),zt(g8,Rt),zt(h8,Rt)])])})),{apis:{updateHex:(io,Xt)=>{Vn.setValue(io,{hex:Xt.value}),Le(io,Xt),oe(io,Xt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Fe,Le,Ee)=>{Fe.updateHex(Le,Ee)}},extraApis:{}})},LG=(n,s)=>{const a=jp.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),c=jp.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),g=(N,z)=>{const{width:Z,height:oe}=N,fe=N.getContext("2d");if(fe===null)return;fe.fillStyle=z,fe.fillRect(0,0,Z,oe);const ye=fe.createLinearGradient(0,0,Z,0);ye.addColorStop(0,"rgba(255,255,255,1)"),ye.addColorStop(1,"rgba(255,255,255,0)"),fe.fillStyle=ye,fe.fillRect(0,0,Z,oe);const Fe=fe.createLinearGradient(0,0,0,oe);Fe.addColorStop(0,"rgba(0,0,0,0)"),Fe.addColorStop(1,"rgba(0,0,0,1)"),fe.fillStyle=Fe,fe.fillRect(0,0,Z,oe)},y=(N,z)=>{const Z=N.components()[0].element.dom,oe=jv(z,100,100),fe=C$(oe);g(Z,S$(fe))},w=(N,z)=>{const Z=oR(Kx(z));jp.setValue(N,{x:Z.saturation,y:100-Z.value}),Ao(N.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",Z.saturation,Z.value]))};return nm({factory:N=>{const z=G({x:0,y:0}),Z=(ye,Fe,Le)=>{ot(Le)||Ao(ye.element,"aria-valuetext",n(["Saturation {0}%, Brightness {1}%",Math.floor(Le.x),Math.floor(100-Le.y)])),So(ye,f8,{value:Le})},oe=(ye,Fe,Le,Ee)=>{g(Le.element.dom,S$(x$))},fe=bn([Ut.config({find:F.some}),Go.config({})]);return jp.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":n(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:z},rounded:!1,components:[a,c],onChange:Z,onInit:oe,sliderBehaviours:fe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(N,z,Z)=>{y(z,Z)},setThumb:(N,z,Z)=>{w(z,Z)}},extraApis:{}})},v8=(n,s,a,c)=>{const g=w=>{const k=$G(n,s,w.onValidHex,w.onInvalidHex,a,c),O=LG(n,s),N=mn=>(100-mn)/100*360,z=mn=>100-mn/360*100,Z={paletteRgba:Mn(x$),paletteHue:Mn(0)},oe=gr(m8(n,s)),fe=gr(O.sketch({})),ye=gr(k.sketch({})),Fe=(mn,un,yo)=>{fe.getOpt(mn).each(ao=>{O.setHue(ao,yo)})},Le=(mn,un)=>{ye.getOpt(mn).each(yo=>{k.updateHex(yo,un)})},Ee=(mn,un,yo)=>{oe.getOpt(mn).each(ao=>{jp.setValue(ao,z(yo))})},Xe=(mn,un)=>{fe.getOpt(mn).each(yo=>{O.setThumb(yo,un)})},st=(mn,un)=>{const yo=Kx(mn);Z.paletteRgba.set(yo),Z.paletteHue.set(un)},xt=(mn,un,yo,ao)=>{st(un,yo),ut(ao,ks=>{ks(mn,un,yo)})},Rt=()=>{const mn=[Le];return(un,yo)=>{const ao=yo.event.value,ks=Z.paletteHue.get(),wo=jv(ks,ao.x,100-ao.y),Qo=Yg(wo);xt(un,Qo,ks,mn)}},Rn=()=>{const mn=[Fe,Le];return(un,yo)=>{const ao=N(yo.event.value),ks=Z.paletteRgba.get(),wo=oR(ks),Qo=jv(ao,wo.saturation,wo.value),io=Yg(Qo);xt(un,io,ao,mn)}},nn=()=>{const mn=[Fe,Ee,Xe];return(un,yo)=>{const ao=yo.event.hex,ks=E$(ao);xt(un,ao,ks.hue,mn)}};return{uid:w.uid,dom:w.dom,components:[fe.asSpec(),oe.asSpec(),ye.asSpec()],behaviours:bn([Wo("colour-picker-events",[zt(a3,nn()),zt(f8,Rt()),zt(d8,Rn())]),Ut.config({find:mn=>ye.getOpt(mn)}),ho.config({mode:"acyclic"})])}};return nm({name:"ColourPicker",configFields:[Jt("dom"),ht("onValidHex",J),ht("onInvalidHex",J)],factory:g})},b8={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},y8=n=>s=>H(s)?n.translate(b8[s]):n.translate(s),l3=(n,s,a)=>{const c=N=>"tox-"+N,g=(N,z,Z=N,oe=N)=>im(Z,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+N],attributes:{title:s.translate(oe),"aria-live":"polite",...z.fold(()=>({}),fe=>({id:fe}))}},s.icons),y=v8(y8(s),c,s.tooltips.getConfig,g),w=N=>{So(N,Gp,{name:"hex-valid",value:!0})},k=N=>{So(N,Gp,{name:"hex-valid",value:!1})},O=gr(y.sketch({dom:{tag:"div",classes:[c("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w,onInvalidHex:k}));return{dom:{tag:"div"},components:[O.asSpec()],behaviours:bn([My(a,N=>{const z=O.get(N);return Ut.getCurrent(z).bind(fe=>Vn.getValue(fe).hex).map(fe=>"#"+Pr(fe,"#")).getOr("")},(N,z)=>{const Z=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,oe=F.from(Z.exec(z)).bind(Fe=>an(Fe,1)),fe=O.get(N);Ut.getCurrent(fe).fold(()=>{console.log("Can not find form")},Fe=>{Vn.setValue(Fe,{hex:oe.getOr("")}),Mv.getField(Fe,"hex").each(Le=>{Ds(Le,Hi())})})}),Kp.self()])}};var w8=tinymce.util.Tools.resolve("tinymce.Resource");const C8=n=>Ho(n,"init"),HG=n=>{const s=Do(),a=gr({dom:{tag:n.tag}}),c=Do(),g=!C8(n)&&n.onFocus.isSome()?[Go.config({onFocus:y=>{n.onFocus.each(w=>{w(y.element.dom)})}}),la.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:bn([Wo("custom-editor-events",[ga(y=>{a.getOpt(y).each(w=>{(C8(n)?n.init(w.element.dom):w8.load(n.scriptId,n.scriptUrl).then(k=>k(w.element.dom,n.settings))).then(k=>{c.on(O=>{k.setValue(O)}),c.clear(),s.set(k)})})})]),My(F.none(),()=>s.get().fold(()=>c.get().getOr(""),y=>y.getValue()),(y,w)=>{s.get().fold(()=>c.set(w),k=>k.setValue(w))}),Kp.self()].concat(g)),components:[a.asSpec()]}};var o1=tinymce.util.Tools.resolve("tinymce.util.Tools");const MR=pe("browse.files.event"),zG=(n,s,a)=>{const c=o1.explode(s.getOption("images_file_types")),g=y=>a.fold(()=>Mt(c,w=>Il(y.name.toLowerCase(),`.${w.toLowerCase()}`)),w=>Mt(w,k=>Il(y.name.toLowerCase(),`.${k.toLowerCase()}`)));return Yt(mo(n),g)},UG=(n,s,a)=>{const c=(oe,fe)=>{fe.stop()},g=oe=>(fe,ye)=>{ut(oe,Fe=>{Fe(fe,ye)})},y=(oe,fe)=>{if(!so.isDisabled(oe)){const ye=fe.event.raw;So(oe,MR,{files:ye.dataTransfer?.files})}},w=(oe,fe)=>{const ye=fe.event.raw.target;So(oe,MR,{files:ye.files})},k=(oe,fe)=>{fe&&(Vn.setValue(oe,zG(fe,s,n.allowedFileExtensions)),So(oe,Hd,{name:n.name}))},O=gr({dom:{tag:"input",attributes:{type:"file",accept:n.allowedFileTypes.getOr("image/*")},styles:{display:"none"}},behaviours:bn([Wo("input-file-events",[Y1(_m()),Y1(Ah())])])}),N=n.label.map(oe=>w0(oe,s)),z=Rs.parts.field({factory:Rl,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ca(s.translate(n.buttonLabel.getOr("Browse for an image"))),O.asSpec()],action:oe=>{O.get(oe).element.dom.click()},buttonBehaviours:bn([Kp.self(),r3(a.getOr([])),la.config({}),Gg.button(()=>s.checkUiComponentContext(n.context).shouldDisable),Vi(()=>s.checkUiComponentContext(n.context))])}),Z={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:bn([so.config({disabled:()=>s.checkUiComponentContext(n.context).shouldDisable}),Vi(()=>s.checkUiComponentContext(n.context)),Us.config({toggleClass:"dragenter",toggleOnExecute:!1}),Wo("dropzone-events",[zt("dragenter",g([c,Us.toggle])),zt("dragleave",g([c,Us.toggle])),zt("dragover",c),zt("drop",g([c,y])),zt(wp(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ca(s.translate(n.dropAreaLabel.getOr("Drop an image here")))]},z]}]};return Zw(N,Z,["tox-form__group--stretched"],[Wo("handle-files",[zt(MR,(oe,fe)=>{Rs.getField(oe).each(ye=>{k(ye,fe.event.files)})})])])},VG=(n,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:He(n.items,s.interpreter)}),c3=pe("alloy-fake-before-tabstop"),NR=pe("alloy-fake-after-tabstop"),S8=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:bn([Go.config({ignore:!0}),la.config({})])}),x8=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[S8([c3]),s,S8([NR])],behaviours:bn([Kp.childAt(1)])}),BR=(n,s)=>{So(n,Ka(),{raw:{which:9,shiftKey:s}})},E8=(n,s)=>{const a=s.element;Za(a,c3)?BR(n,!0):Za(a,NR)&&BR(n,!1)},eE=n=>Tu(n,["."+c3,"."+NR].join(","),je),u3=pe("update-dialog"),IR=pe("update-title"),A8=pe("update-body"),T8=pe("update-footer"),Uo=pe("body-send-message"),Gv=pe("dialog-focus-shifted"),d3=Va().browser,qw=d3.isSafari(),k8=d3.isFirefox(),$R=qw||k8,WG=d3.isChromium(),_8=({scrollTop:n,scrollHeight:s,clientHeight:a})=>Math.ceil(n)+a>=s,O8=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),jG=(n,s)=>{const a=n.body;return F.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!WG&&!qw||Se(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:n.documentElement)},D8=(n,s,a)=>{const c=n.dom;F.from(c.contentDocument).fold(a,g=>{let y=0;const w=jG(g,s).map(O=>(y=O.scrollTop,O)).forall(_8),k=()=>{const O=c.contentWindow;Se(O)&&(w?O8(O,"bottom"):!w&&$R&&y!==0&&O8(O,y))};qw&&c.addEventListener("load",k,{once:!0}),g.open(),g.write(s),g.close(),qw||k()})},P8=sa($R,qw?500:200).map(n=>xr(D8,n)),_ne=(n,s)=>{const a=Mn(n.getOr(""));return{getValue:c=>a.get(),setValue:(c,g)=>{if(a.get()!==g){const y=c.element,w=()=>Ao(y,"srcdoc",g);s?P8.fold(G(D8),k=>k.throttle)(y,g,w):w()}a.set(g)}}},tE=(n,s,a)=>{const c="tox-dialog__iframe",g=n.transparent?[]:[`${c}--opaque`],y=n.border?["tox-navobj-bordered"]:[],w={...n.label.map(Z=>({title:Z})).getOr({}),...a.map(Z=>({srcdoc:Z})).getOr({}),...n.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},k=_ne(a,n.streamContent),O=n.label.map(Z=>w0(Z,s)),N=Z=>x8(F.from(y),{uid:Z.uid,dom:{tag:"iframe",attributes:w,classes:[c,...g]},behaviours:bn([la.config({}),Go.config({}),My(a,k.getValue,k.setValue),Hu.config({channels:{[Gv]:{onReceive:(oe,fe)=>{fe.newFocus.each(ye=>{ll(oe.element).each(Fe=>{(ee(oe.element,ye)?wr:na)(Fe,"tox-navobj-bordered-focus")})})}}}})])}),z=Rs.parts.field({factory:{sketch:N}});return Zw(O,z,["tox-form__group--stretched"],[])},LR=(n,s,a,c,g)=>{const y=a*g,w=c*g,k=Math.max(0,n/2-y/2),O=Math.max(0,s/2-w/2);return{left:k.toString()+"px",top:O.toString()+"px",width:y.toString()+"px",height:w.toString()+"px"}},R8=(n,s,a)=>{const c=ja(n),g=Ea(n);return Math.min(c/s,g/a,1)},qG=(n,s)=>{const a=Mn(s.getOr({url:""})),c=gr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(O=>({src:O.url})).getOr({})}}),g=gr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[c.asSpec()]}),y=(O,N)=>{const z={url:N.url};N.zoom.each(oe=>z.zoom=oe),N.cachedWidth.each(oe=>z.cachedWidth=oe),N.cachedHeight.each(oe=>z.cachedHeight=oe),a.set(z);const Z=()=>{const{cachedWidth:oe,cachedHeight:fe,zoom:ye}=z;if(!Me(oe)&&!Me(fe)){if(Me(ye)){const Le=R8(O.element,oe,fe);z.zoom=Le}const Fe=LR(ja(O.element),Ea(O.element),oe,fe,z.zoom);g.getOpt(O).each(Le=>{Nr(Le.element,Fe)})}};c.getOpt(O).each(oe=>{const fe=oe.element;N.url!==xi(fe,"src")&&(Ao(fe,"src",N.url),na(O.element,"tox-imagepreview__loaded")),Z(),Ii(fe).then(ye=>{O.getSystem().isConnected()&&(wr(O.element,"tox-imagepreview__loaded"),z.cachedWidth=ye.dom.naturalWidth,z.cachedHeight=ye.dom.naturalHeight,Z())})})},w={};n.height.each(O=>w.height=O);const k=s.map(O=>({url:O.url,zoom:F.from(O.zoom),cachedWidth:F.from(O.cachedWidth),cachedHeight:F.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[g.asSpec()],behaviours:bn([Kp.self(),My(k,()=>a.get(),y)])}},GG=(n,s,a)=>{const c="tox-label",g=n.align==="center"?[`${c}--center`]:[],y=n.align==="end"?[`${c}--end`]:[],w=gr({dom:{tag:"label",classes:[c,...g,...y]},components:[Ca(s.providers.translate(n.label))]}),k=He(n.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[w.asSpec(),...k],behaviours:bn([Kp.self(),Xo.config({}),BG(F.none()),ho.config({mode:"acyclic"}),Wo("label",[ga(O=>{n.for.each(N=>{a(N).each(z=>{w.getOpt(O).each(Z=>{const oe=xi(z.element,"id")??pe("form-field");Ao(z.element,"id",oe),Ao(Z.element,"for",oe)})})})})])])}},HR=pe("toolbar.button.execute"),KG=n=>Ih((s,a)=>{jx(n,s)(c=>{So(s,HR,{buttonApi:c}),n.onAction(c)})}),s1=pe("common-button-display-events"),zR={[gl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ef()]:["toolbar-button-events",s1],[rd()]:["toolbar-button-events","dropdown-events","tooltipping"],[tl()]:["focusing","alloy.base.behaviour",s1]},f3=n=>To(n.element,"width",Ur(n.element,"width")),F8=(n,s,a)=>im(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),UR=(n,s)=>F8(n,s,[]),Kv=(n,s)=>F8(n,s,[Xo.config({})]),VR=(n,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ca(a.translate(n))],behaviours:bn([Xo.config({})])}),Xm=pe("update-menu-text"),Ny=pe("update-menu-icon"),m3=pe("update-tooltip-text"),WR=(n,s,a,c)=>{const g=Mn(J),y=Mn(n.tooltip),w=n.text.map(Le=>gr(VR(Le,s,a.providers))),k=n.icon.map(Le=>gr(Kv(Le,a.providers.icons))),O=(Le,Ee)=>{const Xe=Vn.getValue(Le);return Go.focus(Xe),So(Xe,"keydown",{raw:Ee.event.raw}),lf.close(Xe),F.some(!0)},N=n.role.fold(()=>({}),Le=>({role:Le})),z=F.from(n.listRole).map(Le=>({listRole:Le})).getOr({}),Z=n.ariaLabel.fold(()=>({}),Le=>({"aria-label":a.providers.translate(Le)})),oe=im("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),fe=pe("common-button-display-events"),ye="dropdown-events";return gr(lf.sketch({...n.uid?{uid:n.uid}:{},...N,...z,dom:{tag:"button",classes:[s,`${s}--select`].concat(He(n.classes,Le=>`${s}--${Le}`)),attributes:{...Z,...Se(c)?{"data-mce-name":c}:{}}},components:e1([k.map(Le=>Le.asSpec()),w.map(Le=>Le.asSpec()),F.some(oe)]),matchWidth:!0,useMinWidth:!0,onOpen:(Le,Ee,Xe)=>{n.searchable&&AG(Xe)},dropdownBehaviours:bn([...n.dropdownBehaviours,Gg.button(()=>n.disabled||a.providers.checkUiComponentContext(n.context).shouldDisable),Vi(()=>a.providers.checkUiComponentContext(n.context)),$g.config({}),Xo.config({}),...n.tooltip.map(Le=>ha.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(Le),onShow:Ee=>{if($s(y.get(),n.tooltip,(Xe,st)=>st!==Xe).getOr(!1)){const Xe=a.providers.translate(y.get().getOr(""));ha.setComponents(Ee,a.providers.tooltips.getComponents({tooltipText:Xe}))}}}))).toArray(),Wo(ye,[Kg(n,g),Wv(n,g)]),Wo(fe,[ga((Le,Ee)=>{n.listRole!=="listbox"&&f3(Le)})]),Wo("update-dropdown-width-variable",[zt(ai(),(Le,Ee)=>lf.close(Le))]),Wo("menubutton-update-display-text",[zt(Xm,(Le,Ee)=>{w.bind(Xe=>Xe.getOpt(Le)).each(Xe=>{Xo.set(Xe,[Ca(a.providers.translate(Ee.event.text))])})}),zt(Ny,(Le,Ee)=>{k.bind(Xe=>Xe.getOpt(Le)).each(Xe=>{Xo.set(Xe,[Kv(Ee.event.icon,a.providers.icons)])})}),zt(m3,(Le,Ee)=>{const Xe=a.providers.translate(Ee.event.text);Ao(Le.element,"aria-label",Xe),y.set(F.some(Ee.event.text))})])]),eventOrder:tn(zR,{[tl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ef()]:["toolbar-button-events",ha.name(),ye,fe]}),sandboxBehaviours:bn([ho.config({mode:"special",onLeft:O,onRight:O}),Wo("dropdown-sandbox-events",[zt(vI,(Le,Ee)=>{CG(Le),Ee.stop()}),zt(bI,(Le,Ee)=>{SG(Le,Ee),Ee.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...Nx(!1,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:Q$,onCollapseMenu:(Le,Ee,Xe)=>{fr.getHighlighted(Xe).each(st=>{Q$(Le,Xe,st)})},onDehighlightItem:EG}}},getAnchorOverrides:()=>({maxHeightFunction:(Le,Ee)=>{jC()(Le,Ee-10)}}),fetch:Le=>as.nu(ct(n.fetch,Le))})).asSpec()},p3=n=>H(n),M8=n=>n.type==="separator",N8=n=>Ho(n,"getSubmenuItems"),YG={type:"separator"},XG=(n,s)=>{const a=Cn(n,(c,g)=>p3(g)?g===""?c:g==="|"?c.length>0&&!M8(c[c.length-1])?c.concat([YG]):c:Ho(s,g.toLowerCase())?c.concat([s[g.toLowerCase()]]):c:c.concat([g]),[]);return a.length>0&&M8(a[a.length-1])&&a.pop(),a},One=(n,s)=>{const a=n.getSubmenuItems(),c=B8(a,s),g=tn(c.menus,{[n.value]:c.items}),y=tn(c.expansions,{[n.value]:n.value});return{item:n,menus:g,expansions:y}},QG=n=>{const s=sn(n,"value").getOrThunk(()=>pe("generated-menu-item"));return tn({value:s},n)},B8=(n,s)=>{const a=XG(H(n)?n.split(" "):n,s);return jn(a,(c,g)=>{if(N8(g)){const y=QG(g),w=One(y,s);return{menus:tn(c.menus,w.menus),items:[w.item,...c.items],expansions:tn(c.expansions,w.expansions)}}else return{...c,items:[g,...c.items]}},{menus:{},expansions:{},items:[]})},jR=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),JG=n=>n.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),S0=(n,s,a,c)=>{const g=pe("primary-menu"),y=B8(n,a.shared.providers.menuItems());if(y.items.length===0)return F.none();const w=jR(c),k=n3(g,y.items,s,a,c.isHorizontalMenu,w),O=JG(c),N=ds(y.menus,(Z,oe)=>n3(oe,Z,s,a,!1,O)),z=tn(N,Wf(g,k));return F.from(dy.tieredData(g,z,y.expansions))},nE=n=>!Ho(n,"items"),ZR="data-value",g3=(n,s,a,c,g)=>He(a,y=>nE(y)?{type:"togglemenuitem",...g?{}:{role:"option"},text:y.text,value:y.value,active:y.value===c,onAction:()=>{Vn.setValue(n,y.value),So(n,Hd,{name:s}),Go.focus(n)}}:{type:"nestedmenuitem",text:y.text,getSubmenuItems:()=>g3(n,s,y.items,c,g)}),qR=(n,s)=>es(n,a=>nE(a)?sa(a.value===s,a):qR(a.items,s)),I8=(n,s,a)=>{const c=Mt(n.items,N=>!nE(N)),g=s.shared.providers,y=a.bind(N=>qR(n.items,N)).orThunk(()=>vn(n.items).filter(nE)),w=n.label.map(N=>w0(N,g)),k=Rs.parts.field({dom:{},factory:{sketch:N=>WR({context:n.context,uid:N.uid,text:y.map(z=>z.text),icon:F.none(),tooltip:F.none(),role:sa(!c,"combobox"),...c?{}:{listRole:"listbox"},ariaLabel:n.label,fetch:(z,Z)=>{const oe=g3(z,n.name,n.items,Vn.getValue(z),c);Z(S0(oe,qp.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:F.none()}))},onSetup:G(J),getApi:G({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[la.config({}),My(y.map(z=>z.value),z=>xi(z.element,ZR),(z,Z)=>{qR(n.items,Z).each(oe=>{Ao(z.element,ZR,oe.value),So(z,Xm,{text:oe.text})})})]},"tox-listbox",s.shared)}}),O={dom:{tag:"div",classes:["tox-listboxfield"]},components:[k]};return Rs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:qe([w.toArray(),[O]]),fieldBehaviours:bn([so.config({disabled:()=>!n.enabled||g.checkUiComponentContext(n.context).shouldDisable,onDisabled:N=>{Rs.getField(N).each(so.disable)},onEnabled:N=>{Rs.getField(N).each(so.enable)}})])})},Gw=(n,s)=>({dom:{tag:"div",classes:n.classes},components:He(n.items,s.shared.interpreter)}),$8=(n,s,a)=>{const c=He(n.items,O=>({text:s.translate(O.text),value:O.value})),g=n.label.map(O=>w0(O,s)),y=Rs.parts.field({dom:{},...a.map(O=>({data:O})).getOr({}),selectAttributes:{size:n.size},options:c,factory:YO,selectBehaviours:bn([so.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),la.config({}),Wo("selectbox-change",[zt(wp(),(O,N)=>{So(O,Hd,{name:n.name})})])])}),w=n.size>1?F.none():F.some(im("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),k={dom:{tag:"div",classes:["tox-selectfield"]},components:qe([[y],w.toArray()])};return Rs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:qe([g.toArray(),[k]]),fieldBehaviours:bn([so.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:O=>{Rs.getField(O).each(so.disable)},onEnabled:O=>{Rs.getField(O).each(so.enable)}}),Vi(()=>s.checkUiComponentContext(n.context))])})},L8=n=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=g=>g in s?s[g]:1;let c=n.value.toFixed(a(n.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+n.unit},h3=n=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(a!==null){const c=parseFloat(a[1]),g=a[2];return Kn.value({value:c,unit:g})}else return Kn.error(n)},H8=(n,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=g=>Ho(a,g);return n.unit===s?F.some(n.value):c(n.unit)&&c(s)?a[n.unit]===a[s]?F.some(n.value):F.some(n.value/a[n.unit]*a[s]):F.none()},Kw=n=>F.none(),eK=(n,s)=>a=>H8(a,s).map(c=>({value:c*n,unit:s})),z8=(n,s)=>{const a=h3(n).toOptional(),c=h3(s).toOptional();return $s(a,c,(g,y)=>H8(g,y.unit).map(w=>y.value/w).map(w=>eK(w,y.unit)).getOr(Kw)).getOr(Kw)},U8=(n,s)=>{let a=Kw;const c=pe("ratio-event"),g=Fe=>im(Fe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Fe]},s.icons),y=()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,w=Vi(()=>s.checkUiComponentContext(n.context)),k=n.label.getOr("Constrain proportions"),O=s.translate(k),N=Ui.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":O,"data-mce-name":k}},components:[g("lock"),g("unlock")],buttonBehaviours:bn([so.config({disabled:y}),w,la.config({}),ha.config(s.tooltips.getConfig({tooltipText:O}))])}),z=Fe=>({dom:{tag:"div",classes:["tox-form__group"]},components:Fe}),Z=Fe=>Rs.parts.field({factory:Xh,inputClasses:["tox-textfield"],inputBehaviours:bn([so.config({disabled:y}),w,la.config({}),Wo("size-input-events",[zt(Fu(),(Le,Ee)=>{So(Le,c,{isField1:Fe})}),zt(wp(),(Le,Ee)=>{So(Le,Hd,{name:n.name})})])]),selectOnFocus:!1}),oe=Fe=>({dom:{tag:"label",classes:["tox-label"]},components:[Ca(s.translate(Fe))]}),fe=Ui.parts.field1(z([Rs.parts.label(oe("Width")),Z(!0)])),ye=Ui.parts.field2(z([Rs.parts.label(oe("Height")),Z(!1)]));return Ui.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[fe,ye,z([oe(gm),N])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Fe,Le,Ee)=>{h3(Vn.getValue(Fe)).each(Xe=>{a(Xe).each(st=>{Vn.setValue(Le,L8(st))})})},coupledFieldBehaviours:bn([so.config({disabled:y,onDisabled:Fe=>{Ui.getField1(Fe).bind(Rs.getField).each(so.disable),Ui.getField2(Fe).bind(Rs.getField).each(so.disable),Ui.getLock(Fe).each(so.disable)},onEnabled:Fe=>{Ui.getField1(Fe).bind(Rs.getField).each(so.enable),Ui.getField2(Fe).bind(Rs.getField).each(so.enable),Ui.getLock(Fe).each(so.enable)}}),Vi(()=>s.checkUiComponentContext("mode:design")),Wo("size-input-events2",[zt(c,(Fe,Le)=>{const Ee=Le.event.isField1,Xe=Ee?Ui.getField1(Fe):Ui.getField2(Fe),st=Ee?Ui.getField2(Fe):Ui.getField1(Fe),xt=Xe.map(Vn.getValue).getOr(""),Rt=st.map(Vn.getValue).getOr("");a=z8(xt,Rt)})])])})},tK=(n,s,a)=>{const c=jp.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ca(s.translate(n.label))]}),g=jp.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=jp.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return jp.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:G(a.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[c,g,y],sliderBehaviours:bn([Kp.self(),Go.config({})]),onChoose:(w,k,O)=>{So(w,Hd,{name:n.name,value:O})},onChange:(w,k,O)=>{So(w,Hd,{name:n.name,value:O})}})},nK=(n,s)=>{const a=k=>({dom:{tag:"th",innerHtml:s.translate(k)}}),c=k=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:He(k,a)}]}),g=k=>({dom:{tag:"td",innerHtml:s.translate(k)}}),y=k=>({dom:{tag:"tr"},components:He(k,g)}),w=k=>({dom:{tag:"tbody"},components:He(k,y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(n.header),w(n.cells)],behaviours:bn([la.config({}),Go.config({})])}},V8=(n,s)=>{const a=n.label.map(ye=>w0(ye,s)),c=[so.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable}),Vi(()=>s.checkUiComponentContext(n.context)),ho.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:ye=>(Ds(ye,Jx),F.some(!0))}),Wo("textfield-change",[zt(Hi(),(ye,Fe)=>{So(ye,Hd,{name:n.name})}),zt(B1(),(ye,Fe)=>{So(ye,Hd,{name:n.name})})]),la.config({})],g=n.validation.map(ye=>om.config({getRoot:Fe=>ll(Fe.element),invalidClass:"tox-invalid",validator:{validate:Fe=>{const Le=Vn.getValue(Fe),Ee=ye.validator(Le);return as.pure(Ee===!0?Kn.value(Le):Kn.error(Ee))},validateOnLoad:ye.validateOnLoad}})).toArray(),y=n.placeholder.fold(G({}),ye=>({placeholder:s.translate(ye)})),w=n.inputMode.fold(G({}),ye=>({inputmode:ye})),O={...n.spellcheck.fold(G({}),ye=>({spellcheck:ye})),...y,...w,"data-mce-name":n.name},N=Rs.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(ye=>({data:ye})).getOr({}),inputAttributes:O,inputClasses:[n.classname],inputBehaviours:bn(qe([c,g])),selectOnFocus:!1,factory:Xh}),z=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[N]}:N,oe=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),fe=[so.config({disabled:()=>n.disabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:ye=>{Rs.getField(ye).each(so.disable)},onEnabled:ye=>{Rs.getField(ye).each(so.enable)}}),Vi(()=>s.checkUiComponentContext(n.context))];return Zw(a,z,oe,fe)},W8=(n,s,a)=>V8({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:F.none(),maximized:n.maximized,data:a,context:n.context,spellcheck:F.none()},s),oK=(n,s,a)=>V8({name:n.name,multiline:!0,label:n.label,inputMode:F.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:F.none(),maximized:n.maximized,data:a,context:n.context,spellcheck:n.spellcheck},s),j8=n=>({isEnabled:()=>!so.isDisabled(n),setEnabled:s=>so.set(n,!s),setActive:s=>{const a=n.element;s?(wr(a,"tox-tbtn--enabled"),Ao(a,"aria-pressed",!0)):(na(a,"tox-tbtn--enabled"),zr(a,"aria-pressed"))},isActive:()=>Za(n.element,"tox-tbtn--enabled"),setTooltip:s=>{So(n,m3,{text:s})},setText:s=>{So(n,Xm,{text:s})},setIcon:s=>So(n,Ny,{icon:s})}),oE=(n,s,a,c,g=!0,y)=>{const w=n.buttonType==="bordered"?["bordered"]:[];return WR({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:c,fetch:(k,O)=>{const N={pattern:n.search.isSome()?Qx(k):""};n.fetch(z=>{O(S0(z,qp.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:n.search}))},N,j8(k))},onSetup:n.onSetup,getApi:k=>j8(k),columns:1,presets:"normal",classes:w,dropdownBehaviours:[...g?[la.config({})]:[]],context:n.context},s,a.shared,y)},sK=(n,s,a)=>{const c=y=>w=>{const k=!w.isActive();w.setActive(k),y.storage.set(k),a.shared.getSink().each(O=>{s().getOpt(O).each(N=>{Bi(N.element),So(N,Gp,{name:y.name,value:y.storage.get()})})})},g=y=>w=>{w.setActive(y.storage.get())};return y=>{y(He(n,w=>{const k=w.text.fold(()=>({}),O=>({text:O}));return{type:w.type,active:!1,...k,context:w.context,onAction:c(w),onSetup:g(w)}}))}},Z8=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Ca(n)]}),q8=(n,s,a)=>{n.customStateIcon.each(c=>s.push(K8(c,a.shared.providers.icons,n.customStateIconTooltip.fold(()=>[],g=>[ha.config(a.shared.providers.tooltips.getConfig({tooltipText:g}))]),["tox-icon-custom-state"])))},G8=pe("leaf-label-event-id"),GR=({leaf:n,onLeafAction:s,visible:a,treeId:c,selectedId:g,backstage:y})=>{const w=n.menu.map(O=>oE(O,"tox-mbtn",y,F.none(),a)),k=[Z8(n.title)];return q8(n,k,y),w.each(O=>k.push(O)),Rl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:O=>{s(n.id),O.getSystem().broadcastOn([`update-active-item-${c}`],{value:n.id})},eventOrder:{[Ka()]:[G8,"keying"]},buttonBehaviours:bn([...a?[la.config({})]:[],Us.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Hu.config({channels:{[`update-active-item-${c}`]:{onReceive:(O,N)=>{(N.value===n.id?Us.on:Us.off)(O)}}}}),Wo(G8,[ga((O,N)=>{g.each(z=>{(z===n.id?Us.on:Us.off)(O)})}),zt(Ka(),(O,N)=>{const z=N.event.raw.code==="ArrowLeft",Z=N.event.raw.code==="ArrowRight";z?(au(O.element,".tox-tree--directory").each(oe=>{O.getSystem().getByDom(oe).each(fe=>{Ad(oe,".tox-tree--directory__label").each(ye=>{fe.getSystem().getByDom(ye).each(Go.focus)})})}),N.stop()):Z&&N.stop()})])])})},K8=(n,s,a,c,g)=>im(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(c||[]),behaviours:a,attributes:g},s),rK=(n,s)=>K8(n,s,[]),Y8=pe("directory-label-event-id"),X8=({directory:n,visible:s,noChildren:a,backstage:c})=>{const g=n.menu.map(k=>oE(k,"tox-mbtn",c,F.none())),y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[rK("chevron-right",c.shared.providers.icons)]},Z8(n.title)];q8(n,y,c),g.each(k=>{y.push(k)});const w=k=>{au(k.element,".tox-tree--directory").each(O=>{k.getSystem().getByDom(O).each(N=>{const z=!Us.isOn(N);Us.toggle(N),So(k,"expand-tree-node",{expanded:z,node:n.id})})})};return Rl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:y,action:w,eventOrder:{[Ka()]:[Y8,"keying"]},buttonBehaviours:bn([...s?[la.config({})]:[],Wo(Y8,[zt(Ka(),(k,O)=>{const N=O.event.raw.code==="ArrowRight",z=O.event.raw.code==="ArrowLeft";N&&a&&O.stop(),(N||z)&&au(k.element,".tox-tree--directory").each(Z=>{k.getSystem().getByDom(Z).each(oe=>{!Us.isOn(oe)&&N||Us.isOn(oe)&&z?(w(k),O.stop()):z&&!Us.isOn(oe)&&(au(oe.element,".tox-tree--directory").each(fe=>{Ad(fe,".tox-tree--directory__label").each(ye=>{oe.getSystem().getByDom(ye).each(Go.focus)})}),O.stop())})})})])])})},aK=({children:n,onLeafAction:s,visible:a,treeId:c,expandedIds:g,selectedId:y,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(k=>k.type==="leaf"?GR({leaf:k,selectedId:y,onLeafAction:s,visible:a,treeId:c,backstage:w}):KR({directory:k,expandedIds:g,selectedId:y,onLeafAction:s,labelTabstopping:a,treeId:c,backstage:w})),behaviours:bn([ud.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Xo.config({})])}),iK=pe("directory-event-id"),KR=({directory:n,onLeafAction:s,labelTabstopping:a,treeId:c,backstage:g,expandedIds:y,selectedId:w})=>{const{children:k}=n,O=Mn(y),N=Z=>k.map(oe=>oe.type==="leaf"?GR({leaf:oe,selectedId:w,onLeafAction:s,visible:Z,treeId:c,backstage:g}):KR({directory:oe,expandedIds:O.get(),selectedId:w,onLeafAction:s,labelTabstopping:Z,treeId:c,backstage:g})),z=y.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[X8({directory:n,visible:a,noChildren:n.children.length===0,backstage:g}),aK({children:k,expandedIds:y,selectedId:w,onLeafAction:s,visible:z,treeId:c,backstage:g})],behaviours:bn([Wo(iK,[ga((Z,oe)=>{Us.set(Z,z)}),zt("expand-tree-node",(Z,oe)=>{const{expanded:fe,node:ye}=oe.event;O.set(fe?[...O.get(),ye]:O.get().filter(Fe=>Fe!==ye))})]),Us.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Z,oe)=>{const fe=Z.components()[1],ye=N(oe);oe?ud.grow(fe):ud.shrink(fe),Xo.set(fe,ye)}})])}},lK=pe("tree-event-id"),cK=(n,s)=>{const a=n.onLeafAction.getOr(J),c=n.onToggleExpand.getOr(J),g=n.defaultExpandedIds,y=Mn(g),w=Mn(n.defaultSelectedId),k=pe("tree-id"),O=(N,z)=>n.items.map(Z=>Z.type==="leaf"?GR({leaf:Z,selectedId:N,onLeafAction:a,visible:!0,treeId:k,backstage:s}):KR({directory:Z,selectedId:N,onLeafAction:a,expandedIds:z,labelTabstopping:!0,treeId:k,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),y.get()),behaviours:bn([ho.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Wo(lK,[zt("expand-tree-node",(N,z)=>{const{expanded:Z,node:oe}=z.event;y.set(Z?[...y.get(),oe]:y.get().filter(fe=>fe!==oe)),c(y.get(),{expanded:Z,node:oe})})]),Hu.config({channels:{[`update-active-item-${k}`]:{onReceive:(N,z)=>{w.set(F.some(z.value)),Xo.set(N,O(F.some(z.value),y.get()))}}}}),Xo.config({})])}},v3=(n,s,a=[],c,g,y,w)=>{const k=s.fold(()=>({}),z=>({action:z})),O={buttonBehaviours:bn([Gg.item(()=>!n.enabled||w.checkUiComponentContext(n.context).shouldDisable),Vi(()=>w.checkUiComponentContext(n.context)),la.config({}),...y.map(z=>ha.config(w.tooltips.getConfig({tooltipText:w.translate(z)}))).toArray(),Wo("button press",[qC("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},N=tn(O,{dom:c});return tn(N,{components:g})},Q8=(n,s,a,c=[],g)=>{const y=n.tooltip.map(N=>({"aria-label":a.translate(N)})).getOr({}),w={tag:"button",classes:["tox-tbtn"],attributes:{...y,"data-mce-name":g}},k=n.icon.map(N=>UR(N,a.icons)),O=e1([k]);return v3(n,s,c,w,O,n.tooltip,a)},YR=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},XR=(n,s,a,c=[],g=[])=>{const y=a.translate(n.text),w=n.icon.map(fe=>UR(fe,a.icons)),k=[w.getOrThunk(()=>Ca(y))],O=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),Z={tag:"button",classes:[...YR(O),...w.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...g],attributes:{"aria-label":y,"data-mce-name":n.text}},oe=n.icon.map(G(y));return v3(n,s,c,Z,k,oe,a)},J8=(n,s,a,c=[],g=[])=>{const y=XR(n,F.some(s),a,c,g);return Rl.sketch(y)},QR=(n,s)=>a=>{s==="custom"?So(a,Gp,{name:n,value:{}}):s==="submit"?Ds(a,Jx):s==="cancel"?Ds(a,C0):console.error("Unknown button type: ",s)},eL=(n,s)=>s==="menu",JR=(n,s)=>s==="custom"||s==="cancel"||s==="submit",uK=(n,s)=>s==="togglebutton",dK=(n,s,a)=>{const c=n.icon.map(Ee=>Kv(Ee,s.icons)).map(gr),g=Ee=>{So(Ee,Gp,{name:n.name,value:{setIcon:Xe=>{c.map(st=>st.getOpt(Ee).each(xt=>{Xo.set(xt,[Kv(Xe,s.icons)])}))}}})},y=n.buttonType.getOr(n.primary?"primary":"secondary"),w={...n,name:n.name??"",tooltip:n.tooltip,enabled:n.enabled??!1},k=w.tooltip.or(n.text).map(Ee=>({"aria-label":s.translate(Ee)})).getOr({}),O=YR(y??"secondary"),N=n.icon.isSome()&&n.text.isSome(),z={tag:"button",classes:[...O.concat(n.icon.isSome()?["tox-button--icon"]:[]),...n.active?["tox-button--enabled"]:[],...N?["tox-button--icon-and-text"]:[]],attributes:{...k,...Se(a)?{"data-mce-name":a}:{}}},Z=[],oe=s.translate(n.text.getOr("")),fe=Ca(oe),Fe=[...e1([c.map(Ee=>Ee.asSpec())]),...n.text.isSome()?[fe]:[]],Le=v3(w,F.some(g),Z,z,Fe,n.tooltip,s);return Rl.sketch(Le)},sE=(n,s,a)=>{if(eL(n,s)){const c=()=>w,g=n,y={...n,buttonType:"default",type:"menubutton",search:F.none(),onSetup:k=>(k.setEnabled(n.enabled),J),fetch:sK(g.items,c,a)},w=gr(oE(y,"tox-tbtn",a,F.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return w.asSpec()}else if(JR(n,s)){const c=QR(n.name,s),g={...n,context:s==="cancel"?"any":n.context,borderless:!1};return J8(g,c,a.shared.providers,[])}else{if(uK(n,s))return dK(n,a.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},fK=(n,s)=>{const a=QR(n.name,"custom");return DG(F.none(),Rs.parts.field({factory:Rl,...XR(n,F.some(a),s,[r3(""),Kp.self()])}))},tL={type:"separator"},mK=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:J}),Yw=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:J}),pK=n=>He(n,mK),nL=(n,s)=>Yt(s,a=>a.type===n),oL=(n,s)=>pK(nL(n,s)),gK=n=>oL("header",n.targets),Xg=n=>oL("anchor",n.targets),b3=n=>F.from(n.anchorTop).map(s=>Yw("<top>",s)).toArray(),y3=n=>F.from(n.anchorBottom).map(s=>Yw("<bottom>",s)).toArray(),hK=n=>He(n,s=>Yw(s,s)),eF=n=>Cn(n,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(tL,a),[]),tF=(n,s)=>{const a=n.toLowerCase();return Yt(s,c=>{const g=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text,y=c.value??"";return Fr(g.toLowerCase(),a)||Fr(y.toLowerCase(),a)})},nF=(n,s,a)=>{const c=Vn.getValue(s),g=c?.meta?.text??c.value;return a.getLinkInformation().fold(()=>[],w=>{const k=tF(g,hK(a.getHistory(n)));return n==="file"?eF([k,tF(g,gK(w)),tF(g,qe([b3(w),Xg(w),y3(w)]))]):k})},oF=pe("aria-invalid"),sF=(n,s,a,c)=>{const g=s.shared.providers,y=Xe=>{const st=Vn.getValue(Xe);a.addToHistory(st.value,n.filetype)},w={...c.map(Xe=>({initialData:Xe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:Xe=>{const st=nF(n.filetype,Xe,a),xt=S0(st,qp.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:F.none()});return as.pure(xt)},getHotspot:Xe=>ye.getOpt(Xe),onSetValue:(Xe,st)=>{Xe.hasConfigured(om)&&om.run(Xe).get(J)},typeaheadBehaviours:bn([...a.getValidationHandler().map(Xe=>om.config({getRoot:st=>ll(st.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(st,xt)=>{z.getOpt(st).each(Rt=>{Ao(Rt.element,"title",g.translate(xt))})}},validator:{validate:st=>{const xt=Vn.getValue(st);return Po.nu(Rt=>{Xe({type:n.filetype,url:xt.value},Rn=>{if(Rn.status==="invalid"){Ao(st.element,"aria-errormessage",oF);const nn=Kn.error(Rn.message);Rt(nn)}else{zr(st.element,"aria-errormessage");const nn=Kn.value(Rn.message);Rt(nn)}})})},validateOnLoad:!1}})).toArray(),so.config({disabled:()=>!n.enabled||g.checkUiComponentContext(n.context).shouldDisable}),la.config({}),Wo("urlinput-events",[zt(Hi(),Xe=>{const st=ic(Xe.element),xt=st.trim();xt!==st&&Cl(Xe.element,xt),n.filetype==="file"&&So(Xe,Hd,{name:n.name})}),zt(wp(),Xe=>{So(Xe,Hd,{name:n.name}),y(Xe)}),zt(B1(),Xe=>{So(Xe,Hd,{name:n.name}),y(Xe)})])]),eventOrder:{[Hi()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Xe=>Xe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Nx(!1,1,"normal")},onExecute:(Xe,st,xt)=>{So(st,Jx,{})},onItemExecute:(Xe,st,xt,Rt)=>{y(Xe),So(Xe,Hd,{name:n.name})}},k=Rs.parts.field({...w,factory:TD}),O=n.label.map(Xe=>w0(Xe,g)),z=gr(((Xe,st,xt=Xe,Rt=Xe)=>im(xt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Xe],attributes:{title:g.translate(Rt),"aria-live":"polite",...st.fold(()=>({}),Rn=>({id:Rn}))}},g.icons))("invalid",F.some(oF),"warning")),Z=gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),oe=a.getUrlPicker(n.filetype),fe=pe("browser.url.event"),ye=gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[k,Z.asSpec()],behaviours:bn([so.config({disabled:()=>!n.enabled||g.checkUiComponentContext(n.context).shouldDisable})])}),Fe=gr(J8({context:n.context,name:n.name,icon:F.some("browse"),text:n.picker_text.or(n.label).getOr(""),enabled:n.enabled,primary:!1,buttonType:F.none(),borderless:!0},Xe=>Ds(Xe,fe),g,[],["tox-browse-url"])),Le=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:qe([[ye.asSpec()],oe.map(()=>Fe.asSpec()).toArray()])}),Ee=Xe=>{Ut.getCurrent(Xe).each(st=>{const xt=Vn.getValue(st),Rt={fieldname:n.name,...xt};oe.each(Rn=>{Rn(Rt).get(nn=>{Vn.setValue(st,nn),So(Xe,Hd,{name:n.name})})})})};return Rs.sketch({dom:n8(),components:O.toArray().concat([Le()]),fieldBehaviours:bn([so.config({disabled:()=>!n.enabled||g.checkUiComponentContext(n.context).shouldDisable,onDisabled:Xe=>{Rs.getField(Xe).each(so.disable),Fe.getOpt(Xe).each(so.disable)},onEnabled:Xe=>{Rs.getField(Xe).each(so.enable),Fe.getOpt(Xe).each(so.enable)}}),Vi(()=>g.checkUiComponentContext(n.context)),Wo("url-input-events",[zt(fe,Ee)])])})},vK=(n,s)=>{const a=Rj(n.icon,s.icons);return Bg.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:n.url?void 0:a},components:n.url?[Rl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(n.iconTooltip)}},action:c=>So(c,Gp,{name:"alert-banner",value:n.url}),buttonBehaviours:bn([JD()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(n.text)}}]})},bK=(n,s,a)=>{const c=O=>(O.element.dom.click(),F.some(!0)),g=Rs.parts.field({factory:{sketch:Ze},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:bn([Kp.self(),so.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable,onDisabled:O=>{ll(O.element).each(N=>wr(N,"tox-checkbox--disabled"))},onEnabled:O=>{ll(O.element).each(N=>na(N,"tox-checkbox--disabled"))}}),la.config({}),Go.config({}),u8(a,x1,Qu),ho.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),Wo("checkbox-events",[zt(wp(),(O,N)=>{So(O,Hd,{name:n.name})})])])}),y=Rs.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ca(s.translate(n.label))],behaviours:bn([$g.config({})])}),w=O=>im(O==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},s.icons),k=gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return Rs.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[g,k.asSpec(),y],fieldBehaviours:bn([so.config({disabled:()=>!n.enabled||s.checkUiComponentContext(n.context).shouldDisable}),Vi(()=>s.checkUiComponentContext(n.context))])})},sL=(n,s)=>{const a=["tox-form__group",...n.stretched?["tox-form__group--stretched"]:[]],c=Wo("htmlpanel",[ga(g=>{n.onInit(g.element.dom)})]);return n.presets==="presentation"?Bg.sketch({dom:{tag:"div",classes:a,innerHtml:n.html},containerBehaviours:bn([ha.config({...s.tooltips.getConfig({tooltipText:"",onShow:g=>{ur(g.element,"[data-mce-tooltip]:hover").orThunk(()=>Ra(g.element)).each(y=>{Ei(y,"data-mce-tooltip").each(w=>{ha.setComponents(g,s.tooltips.getComponents({tooltipText:w}))})})}}),mode:"children-normal",anchor:g=>({type:"node",node:ur(g.element,"[data-mce-tooltip]:hover").orThunk(()=>Ra(g.element).filter(y=>Ei(y,"data-mce-tooltip").isSome())),root:g.element,layouts:{onLtr:G([ol,Ba,vl,pc,nl,jl]),onRtl:G([ol,Ba,vl,pc,nl,jl])},bubble:Nd(0,-2,{})})}),c])}):Bg.sketch({dom:{tag:"div",classes:a,innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:bn([la.config({}),Go.config({}),c])})},Ml=n=>(s,a,c,g,y)=>sn(a,"name").fold(()=>n(a,g,F.none(),y),w=>s.field(w,n(a,g,sn(c,w),y))),yK=n=>(s,a,c,g,y)=>{const w=tn(a,{source:"dynamic"});return Ml(n)(s,w,c,g,y)},rF={bar:Ml((n,s)=>e8(n,s.shared)),collection:Ml((n,s,a)=>PG(n,s.shared.providers,a)),alertbanner:Ml((n,s)=>vK(n,s.shared.providers)),input:Ml((n,s,a)=>W8(n,s.shared.providers,a)),textarea:Ml((n,s,a)=>oK(n,s.shared.providers,a)),label:Ml((n,s,a,c)=>GG(n,s.shared,c)),iframe:yK((n,s,a)=>tE(n,s.shared.providers,a)),button:Ml((n,s)=>fK(n,s.shared.providers)),checkbox:Ml((n,s,a)=>bK(n,s.shared.providers,a)),colorinput:Ml((n,s,a)=>FG(n,s.shared,s.colorinput,a)),colorpicker:Ml((n,s,a)=>l3(n,s.shared.providers,a)),dropzone:Ml((n,s,a)=>UG(n,s.shared.providers,a)),grid:Ml((n,s)=>VG(n,s.shared)),listbox:Ml((n,s,a)=>I8(n,s,a)),selectbox:Ml((n,s,a)=>$8(n,s.shared.providers,a)),sizeinput:Ml((n,s)=>U8(n,s.shared.providers)),slider:Ml((n,s,a)=>tK(n,s.shared.providers,a)),urlinput:Ml((n,s,a)=>sF(n,s,s.urlinput,a)),customeditor:Ml(HG),htmlpanel:Ml((n,s)=>sL(n,s.shared.providers)),imagepreview:Ml((n,s,a)=>qG(n,a)),table:Ml((n,s)=>nK(n,s.shared.providers)),tree:Ml((n,s)=>cK(n,s)),panel:Ml((n,s)=>Gw(n,s))},wK={field:(n,s)=>s,record:G([])},rL=(n,s,a,c,g)=>{const y=tn(c,{shared:{interpreter:w=>w3(n,w,a,y,g)}});return w3(n,s,a,y,g)},w3=(n,s,a,c,g)=>sn(rF,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),y=>y(n,s,a,c,g)),aF=(n,s,a,c)=>w3(wK,n,s,a,c),rE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},CK=(n,s,a)=>{const g={maxHeightFunction:G1()},y=()=>({type:"node",root:ou(ei(n())),node:F.from(n()),bubble:Nd(12,12,rE),layouts:{onRtl:()=>[Nu],onLtr:()=>[q1]},overrides:g}),w=()=>({type:"hotspot",hotspot:s(),bubble:Nd(-12,12,rE),layouts:{onRtl:()=>[vl,nl,ol],onLtr:()=>[nl,vl,ol]},overrides:g});return()=>a()?y():w()},SK=(n,s,a,c)=>{const y={maxHeightFunction:G1()},w=()=>({type:"node",root:ou(ei(s())),node:F.from(s()),bubble:Nd(12,12,rE),layouts:{onRtl:()=>[Uc],onLtr:()=>[Uc]},overrides:y}),k=()=>n?{type:"node",root:ou(ei(s())),node:F.from(s()),bubble:Nd(0,-Rr(s()),rE),layouts:{onRtl:()=>[Ba],onLtr:()=>[Ba]},overrides:y}:{type:"hotspot",hotspot:a(),bubble:Nd(0,0,rE),layouts:{onRtl:()=>[Ba],onLtr:()=>[Ba]},overrides:y};return()=>c()?w():k()},xK=(n,s,a)=>{const c=()=>({type:"node",root:ou(ei(n())),node:F.from(n()),layouts:{onRtl:()=>[Uc],onLtr:()=>[Uc]}}),g=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ol],onLtr:()=>[ol]}});return()=>a()?c():g()},aL=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=n.selection.getRng(),c=n.model.table.getSelectedCells();if(c.length>1){const g=c[0],y=c[c.length-1],w={firstCell:yn.fromDom(g),lastCell:yn.fromDom(y)};return F.some(w)}return F.some(Dl.range(yn.fromDom(a.startContainer),a.startOffset,yn.fromDom(a.endContainer),a.endOffset))}}),EK=n=>s=>({type:"node",root:n(),node:s}),AK=(n,s,a,c)=>{const g=Pw(n),y=()=>yn.fromDom(n.getBody()),w=()=>yn.fromDom(n.getContentAreaContainer()),k=()=>g||!c();return{inlineDialog:CK(w,s,k),inlineBottomDialog:SK(n.inline,w,a,k),banner:xK(w,s,k),cursor:aL(n,y),node:EK(y)}},TK=n=>(s,a)=>{AR(n)(s,a)},kK=n=>()=>yR(n),_K=n=>s=>Xk(n,s),OK=n=>s=>M$(n,s),DK=n=>({colorPicker:TK(n),hasCustomColors:kK(n),getColors:_K(n),getColorCols:OK(n)}),PK=n=>()=>BB(n),RK=n=>({isDraggableModal:PK(n)}),FK=n=>{const s=Mn(wk(n)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},MK=n=>Io(n,"items"),iL=n=>Io(n,"format"),iF=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],lL=n=>Ho(n,"items"),C3=n=>Ho(n,"block"),cL=n=>Ho(n,"inline"),NK=n=>Ho(n,"selector"),uL=n=>Cn(n,(s,a)=>{if(lL(a)){const c=uL(a.items);return{customFormats:s.customFormats.concat(c.customFormats),formats:s.formats.concat([{title:a.title,items:c.formats}])}}else if(cL(a)||C3(a)||NK(a)){const g=`custom-${H(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:g,format:a}]),formats:s.formats.concat([{title:a.title,format:g,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),BK=(n,s)=>{const a=uL(s),c=g=>{ut(g,y=>{n.formatter.has(y.name)||n.formatter.register(y.name,y.format)})};return n.formatter?c(a.customFormats):n.on("init",()=>{c(a.customFormats)}),a.formats},dL=n=>EB(n).map(s=>{const a=BK(n,s);return AB(n)?iF.concat(a):a}).getOr(iF),IK=n=>{const s=vo(n);return s.length===1&&$e(s,"title")},fL=(n,s,a)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:a(n.format)}),mL=(n,s,a,c)=>{const g=O=>fL(O,a,c),y=O=>{const N=k(O.items);return{...O,type:"submenu",getStyleItems:G(N)}},w=O=>{const N=H(O.name)?O.name:pe(O.title),z=`custom-${N}`,Z={...O,type:"formatter",format:z,isSelected:a(z),getStylePreview:c(z)};return n.formatter.register(N,Z),Z},k=O=>He(O,N=>MK(N)?y(N):iL(N)?g(N):IK(N)?{...N,type:"separator"}:w(N));return k(s)},pL=n=>{const s=k=>()=>n.formatter.match(k),a=k=>()=>{const O=n.formatter.get(k);return O!==void 0?F.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(k))}):F.none()},c=Mn([]),g=Mn([]),y=Mn(!1);return n.on("PreInit",k=>{const O=dL(n),N=mL(n,O,s,a);c.set(N)}),n.on("addStyleModifications",k=>{const O=mL(n,k.items,s,a);g.set(O),y.set(k.replace)}),{getData:()=>{const k=y.get()?[]:c.get(),O=g.get();return k.concat(O)}}},gL=n=>{let c=0;const g=()=>c>0,y=k=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Ca(k.tooltipText)]}];return{getConfig:k=>({delayForShow:()=>g()?60:300,delayForHide:G(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:y(k),onShow:(O,N)=>{c++,k.onShow&&k.onShow(O,N)},onHide:(O,N)=>{c--,k.onHide&&k.onHide(O,N)},onSetup:k.onSetup}),getComponents:y}},$K=n=>Se(n)&&n.nodeType===1,hL=o1.trim,vL=n=>s=>!!($K(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),LK=vL("true"),HK=vL("false"),Yv=(n,s,a,c,g)=>({type:n,title:s,url:a,level:c,attach:g}),bL=n=>{let s=n;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return LK(s)}return!1},aE=(n,s)=>He(Di(yn.fromDom(s),n),a=>a.dom),iE=n=>n.innerText||n.textContent,yL=n=>n.id?n.id:pe("h"),wL=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,CL=n=>wL(n)&&SL(n),zK=n=>n&&/^(H[1-6])$/.test(n.nodeName),SL=n=>bL(n)&&!HK(n),UK=n=>zK(n)&&SL(n),VK=n=>zK(n)?parseInt(n.nodeName.substr(1),10):0,WK=n=>{const s=yL(n),a=()=>{n.id=s};return Yv("header",iE(n)??"","#"+s,VK(n),a)},jK=n=>{const s=n.id||n.name,a=iE(n);return Yv("anchor",a||"#"+s,"#"+s,0,J)},ZK=n=>He(Yt(n,UK),WK),Xw=n=>He(Yt(n,CL),jK),lE=n=>aE("h1,h2,h3,h4,h5,h6,a:not([href])",n),lF=n=>hL(n.title).length>0,qK={find:n=>{const s=lE(n);return Yt(ZK(s).concat(Xw(s)),lF)}},Qw="tinymce-url-history",xL=5,Jw=n=>H(n)&&/^https?/.test(n),EL=n=>ae(n)&&n.length<=xL&&Ye(n,Jw),AL=n=>K(n)&&rs(n,s=>!EL(s)).isNone(),TL=()=>{const n=Ry.getItem(Qw);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+Qw+" was not valid JSON",a),{};throw a}return AL(s)?s:(console.log("Local storage "+Qw+" was not valid format",s),{})},GK=n=>{if(!AL(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));Ry.setItem(Qw,JSON.stringify(n))},KK=n=>{const s=TL();return sn(s,n).getOr([])},YK=(n,s)=>{if(!Jw(n))return;const a=TL(),c=sn(a,s).getOr([]),g=Yt(c,y=>y!==n);a[s]=[n].concat(g).slice(0,xL),GK(a)},kL=n=>!!n,_L=n=>ds(o1.makeMap(n,/[, ]/),kL),S3=n=>F.from(FB(n)),cF=n=>{const s=F.from(MD(n)).filter(kL).map(_L);return S3(n).fold(je,a=>s.fold(lt,c=>vo(c).length>0?c:!1))},XK=(n,s)=>{const a=cF(n);return me(a)?a?S3(n):F.none():a[s]?S3(n):F.none()},x3=(n,s)=>XK(n,s).map(a=>c=>as.nu(g=>{const y=(k,O)=>{if(!H(k))throw new Error("Expected value to be string");if(O!==void 0&&!K(O))throw new Error("Expected meta to be a object");g({value:k,meta:O})},w={filetype:s,fieldname:c.fieldname,...F.from(c.meta).getOr({})};a.call(n,y,c.value,w)})),cE=n=>F.from(n).filter(H).getOrUndefined(),OL=n=>ND(n)?F.some({targets:qK.find(n.getBody()),anchorTop:cE(NB(n)),anchorBottom:cE(BD(n))}):F.none(),QK=n=>F.from(MB(n)),JK=n=>({getHistory:KK,addToHistory:YK,getLinkInformation:()=>OL(n),getValidationHandler:()=>QK(n),getUrlPicker:s=>x3(n,s)}),eY=(n,s,a,c)=>{const g=Mn(!1),y=FK(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:zu.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:gL(n.dialog),checkUiComponentContext:Ee=>{if(gk(s))return{contextType:"disabled",shouldDisable:!0};const[Xe,st=""]=Ee.split(":"),xt=s.ui.registry.getAll().contexts,Rt=sn(xt,Xe).fold(()=>sn(xt,"mode").map(Rn=>Rn("design")).getOr(!1),Rn=>st.charAt(0)==="!"?!Rn(st.slice(1)):Rn(st));return{contextType:Xe,shouldDisable:!Rt}}},k=JK(s),O=pL(s),N=DK(s),z=RK(s),Z=()=>g.get(),oe=Ee=>g.set(Ee),fe={shared:{providers:w,anchors:AK(s,a,c,y.isPositionedAtTop),header:y},urlinput:k,styles:O,colorinput:N,dialog:z,isContextMenuOpen:Z,setContextMenuState:oe},ye=Ee=>F.none(),Fe={...fe,shared:{...fe.shared,interpreter:Ee=>aF(Ee,{},Fe,ye),getSink:n.popup}},Le={...fe,shared:{...fe.shared,interpreter:Ee=>aF(Ee,{},Le,ye),getSink:n.dialog}};return{popup:Fe,dialog:Le}},uF={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},tY=n=>{console.warn(uF[n],new Error().stack)},dF=(n,s,a)=>{const c=(un,yo)=>{ut([s,...a],ao=>{ao.broadcastEvent(un,yo)})},g=(un,yo)=>{ut([s,...a],ao=>{ao.broadcastOn([un],yo)})},y=un=>g(Op(),{target:un.target}),w=un=>{g(yv(),{closedTooltip:()=>{un.preventDefault()}})},k=dl(),O=cr(k,"touchstart",y),N=cr(k,"touchmove",un=>c(a2(),un)),z=cr(k,"touchend",un=>c(Sp(),un)),Z=cr(k,"mousedown",y),oe=cr(k,"mouseup",un=>{un.raw.button===0&&g(_g(),{target:un.target})}),fe=un=>g(Op(),{target:yn.fromDom(un.target)}),ye=un=>{un.button===0&&g(_g(),{target:yn.fromDom(un.target)})},Fe=()=>{ut(n.editorManager.get(),un=>{n!==un&&un.dispatch("DismissPopups",{relatedTarget:n})})},Le=un=>c(X0(),ul(un)),Ee=un=>{g(sl(),{}),c(ai(),ul(un))},Xe=ei(yn.fromDom(n.getElement())),st=Eu(Xe,"scroll",un=>{requestAnimationFrame(()=>{const yo=n.getContainer();if(yo!=null){const ks=f0(n,s.element).map(wo=>[wo.element,...wo.others]).getOr([]);Mt(ks,wo=>ee(wo,un.target))&&(n.dispatch("ElementScroll",{target:un.target.dom}),c(l2(),un))}})}),xt=()=>g(sl(),{}),Rt=un=>{un.state&&g(Op(),{target:yn.fromDom(n.getContainer())})},Rn=un=>{g(Op(),{target:yn.fromDom(un.relatedTarget.getContainer())})},nn=un=>n.dispatch("focusin",un),mn=un=>n.dispatch("focusout",un);n.on("PostRender",()=>{n.on("click",fe),n.on("tap",fe),n.on("mouseup",ye),n.on("mousedown",Fe),n.on("ScrollWindow",Le),n.on("ResizeWindow",Ee),n.on("ResizeEditor",xt),n.on("AfterProgressState",Rt),n.on("DismissPopups",Rn),n.on("CloseActiveTooltips",w),ut([s,...a],un=>{un.element.dom.addEventListener("focusin",nn),un.element.dom.addEventListener("focusout",mn)})}),n.on("remove",()=>{n.off("click",fe),n.off("tap",fe),n.off("mouseup",ye),n.off("mousedown",Fe),n.off("ScrollWindow",Le),n.off("ResizeWindow",Ee),n.off("ResizeEditor",xt),n.off("AfterProgressState",Rt),n.off("DismissPopups",Rn),n.off("CloseActiveTooltips",w),ut([s,...a],un=>{un.element.dom.removeEventListener("focusin",nn),un.element.dom.removeEventListener("focusout",mn)}),Z.unbind(),O.unbind(),N.unbind(),z.unbind(),oe.unbind(),st.unbind()}),n.on("detach",()=>{ut([s,...a],KA),ut([s,...a],un=>un.destroy())})},nY=J,fF=je,DL=G([]);var oY=Object.freeze({__proto__:null,setup:nY,isDocked:fF,getBehaviours:DL});const mF=G(pe("toolbar-height-change")),r1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},PL="tox-tinymce--toolbar-sticky-on",sY="tox-tinymce--toolbar-sticky-off",Rne=(n,s)=>{const a=nc(s),g=cg(s).dom.innerHeight,y=pa(a),w=yn.fromDom(n.elm),k=Xd(w),O=Ea(w),N=k.y,z=N+O,Z=ki(s),oe=Ea(s),fe=Z.top,ye=fe+oe,Fe=Math.abs(fe-y.top)<2,Le=Math.abs(ye-(y.top+g))<2;if(Fe&&N<ye)fl(y.left,N-oe,a);else if(Le&&z>fe){const Ee=N-g+O+oe;fl(y.left,Ee,a)}},uE=(n,s)=>$e(Ia.getModes(n),s),pF=n=>{const s=c=>Rr(c)+(parseInt(Ur(c,"margin-top"),10)||0)+(parseInt(Ur(c,"margin-bottom"),10)||0),a=n.element;ll(a).each(c=>{const g="padding-"+Ia.getModes(n)[0];if(Ia.isDocked(n)){const y=ja(c);To(a,"width",y+"px"),To(c,g,s(a)+"px")}else fs(a,"width"),fs(c,g)})},gF=(n,s)=>{s?(na(n,r1.fadeOutClass),ed(n,[r1.transitionClass,r1.fadeInClass])):(na(n,r1.fadeInClass),ed(n,[r1.fadeOutClass,r1.transitionClass]))},RL=(n,s)=>{const a=yn.fromDom(n.getContainer());s?(wr(a,PL),na(a,sY)):(wr(a,sY),na(a,PL))},rY=(n,s)=>{const a=nc(s);Si(a).filter(c=>!ee(s,c)).filter(c=>ee(c,yn.fromDom(a.dom.body))||_e(n,c)).each(()=>Bi(s))},aY=(n,s)=>Ra(n).orThunk(()=>s().toOptional().bind(a=>Ra(a.element))),iY=(n,s,a)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{a().each(Ia.reset)}),n.on("ResizeWindow ResizeEditor",()=>{a().each(pF)}),n.on("SkinLoaded",()=>{a().each(c=>{Ia.isDocked(c)?Ia.reset(c):Ia.refresh(c)})}),n.on("FullscreenStateChanged",()=>{a().each(Ia.reset)})),n.on("AfterScrollIntoView",c=>{a().each(g=>{Ia.refresh(g);const y=g.element;Gd(y)&&Rne(c,y)})}),n.on("PostRender",()=>{RL(n,!1)})},lY=n=>n().map(Ia.isDocked).getOr(!1),FL=()=>[Hu.config({channels:{[mF()]:{onReceive:pF}}})],ML=(n,s)=>{const a=Do(),c=s.getSink,g=k=>{c().each(O=>k(O.element))},y=k=>{n.inline||pF(k),RL(n,Ia.isDocked(k)),k.getSystem().broadcastOn([sl()],{}),c().each(O=>O.getSystem().broadcastOn([sl()],{}))},w=n.inline?[]:FL();return[Go.config({}),Ia.config({contextual:{lazyContext:k=>{const O=Rr(k.element),N=n.inline?n.getContentAreaContainer():n.getContainer();return F.from(N).map(z=>{const Z=fi(yn.fromDom(z));return f0(n,k.element).fold(()=>{const fe=Z.height-O,ye=Z.y+(uE(k,"top")?0:O);return Pi(Z.x,ye,Z.width,fe)},fe=>{const ye=zf(Z,hy(fe)),Fe=uE(k,"top")?ye.y:ye.y+O;return Pi(ye.x,Fe,ye.width,ye.height-O)})})},onShow:()=>{g(k=>gF(k,!0))},onShown:k=>{g(O=>Xi(O,[r1.transitionClass,r1.fadeInClass])),a.get().each(O=>{rY(k.element,O),a.clear()})},onHide:k=>{aY(k.element,c).fold(a.clear,a.set),g(O=>gF(O,!1))},onHidden:()=>{g(k=>Xi(k,[r1.transitionClass]))},...r1},lazyViewport:k=>f0(n,k.element).fold(()=>{const N=ml(),z=PB(n),Z=N.y+(uE(k,"top")&&!YB(n)?z:0),oe=N.height-(uE(k,"bottom")?z:0);return{bounds:Pi(N.x,Z,N.width,oe),optScrollEnv:F.none()}},N=>({bounds:hy(N),optScrollEnv:F.some({currentScrollTop:N.element.dom.scrollTop,scrollElmTop:ki(N.element).top})})),modes:[s.header.getDockingMode()],onDocked:y,onUndocked:y}),...w]};var cY=Object.freeze({__proto__:null,setup:iY,isDocked:lY,getBehaviours:ML});const uY=n=>{const s=n.editor,a=n.sticky?ML:DL;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:bn(a(s,n.sharedBackstage))}};var NL=nm({factory:(n,s)=>{const a=(g,y)=>{const w=He(y,k=>{const O={type:"menubutton",text:k.text,fetch:z=>{z(k.getItems())},context:"any"},N=DP(O).mapError(z=>qo(z)).getOrDie();return oE(N,"tox-mbtn",s.backstage,F.some("menuitem"))});Xo.set(g,w)},c={focus:ho.focusIn,setMenus:a};return{uid:n.uid,dom:n.dom,components:[],behaviours:bn([Xo.config({}),Wo("menubar-events",[ga(g=>{n.onSetup(g)}),zt(Hc(),(g,y)=>{ur(g.element,".tox-mbtn--active").each(w=>{Oi(y.event.target,".tox-mbtn").each(k=>{ee(w,k)||g.getSystem().getByDom(w).each(O=>{g.getSystem().getByDom(k).each(N=>{lf.expand(N),lf.close(O),Go.focus(N)})})})})}),zt(L1(),(g,y)=>{y.event.prevFocus.bind(w=>g.getSystem().getByDom(w).toOptional()).each(w=>{y.event.newFocus.bind(k=>g.getSystem().getByDom(k).toOptional()).each(k=>{lf.isOpen(w)&&(lf.expand(k),lf.close(w))})})})]),ho.config({mode:"flow",selector:".tox-mbtn",onEscape:g=>(n.onEscape(g),F.some(!0))}),la.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Jt("dom"),Jt("uid"),Jt("onEscape"),Jt("backstage"),ht("onSetup",J)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,a)=>{n.setMenus(s,a)}}});const BL=" Get all features",IL="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",dY=n=>{const s=n.promotionLink?[{dom:{tag:"a",attributes:{href:IL,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:BL}}]:[];return{uid:n.uid,dom:n.dom,components:s}},fY=n=>{const{sidebars:s}=n.ui.registry.getAll();ut(vo(s),a=>{const c=s[a],g=()=>ro(F.from(n.queryCommandValue("ToggleSidebar")),a);n.ui.registry.addToggleButton(a,{icon:c.icon,tooltip:c.tooltip,onAction:y=>{n.execCommand("ToggleSidebar",!1,a),y.setActive(g())},onSetup:y=>{y.setActive(g());const w=()=>y.setActive(g());return n.on("ToggleSidebar",w),()=>{n.off("ToggleSidebar",w)}},context:"any"})})},cm=n=>({element:()=>n.element.dom}),mY=(n,s)=>{const a=He(vo(s),c=>{const g=s[c],y=Xa(VP(g));return{name:c,getApi:cm,onSetup:y.onSetup,onShow:y.onShow,onHide:y.onHide}});return He(a,c=>{const g=Mn(J);return n.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Uw.unnamedEvents([Kg(c,g),Wv(c,g),zt(Q0(),(y,w)=>{const k=w.event;Re(a,N=>N.name===k.name).each(N=>{(k.visible?N.onShow:N.onHide)(N.getApi(y))})})])})})},$L=n=>qc.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:mY(s,n),slotBehaviours:Uw.unnamedEvents([ga(a=>qc.hideAllSlots(a))])})),LL=(n,s,a)=>{Ut.getCurrent(n).each(g=>{Xo.set(g,[$L(s)]);const y=a?.toLowerCase();H(y)&&Ho(s,y)&&Ut.getCurrent(g).each(w=>{qc.showSlot(w,y),ud.immediateGrow(g),fs(g.element,"width"),E3(n.element,"region")})})},E3=(n,s)=>{Ao(n,"role",s)},dE=(n,s)=>{Ut.getCurrent(n).each(c=>{Ut.getCurrent(c).each(y=>{ud.hasGrown(c)?qc.isShowing(y,s)?(ud.shrink(c),E3(n.element,"presentation")):(qc.hideAllSlots(y),qc.showSlot(y,s),E3(n.element,"region")):(qc.hideAllSlots(y),qc.showSlot(y,s),ud.grow(c),E3(n.element,"region"))})})},pY=n=>Ut.getCurrent(n).bind(a=>ud.isGrowing(a)||ud.hasGrown(a)?Ut.getCurrent(a).bind(y=>Re(qc.getSlotNames(y),w=>qc.isShowing(y,w))):F.none()),eC=pe("FixSizeEvent"),hF=pe("AutoSizeEvent"),A3=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:bn([la.config({}),Go.config({}),ud.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Ut.getCurrent(s).each(qc.hideAllSlots),Ds(s,hF)},onGrown:s=>{Ds(s,hF)},onStartGrow:s=>{So(s,eC,{width:Er(s.element,"width").getOr("")})},onStartShrink:s=>{So(s,eC,{width:ja(s.element)+"px"})}}),Xo.config({}),Ut.config({find:s=>{const a=Xo.contents(s);return vn(a)}})])}],behaviours:bn([Kp.childAt(0),Wo("sidebar-sliding-events",[zt(eC,(s,a)=>{To(s.element,"width",a.event.width)}),zt(hF,(s,a)=>{fs(s.element,"width")})])])}),gY=n=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Lg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),HL=n=>Ut.getCurrent(n).each(s=>Bi(s.element,!0)),Qm=(n,s)=>{const a="tabindex",c=`data-mce-${a}`;F.from(n.iframeElement).map(yn.fromDom).each(g=>{s?(Ei(g,a).each(y=>Ao(g,c,y)),Ao(g,a,-1)):(zr(g,a),Ei(g,c).each(y=>{Ao(g,a,y),zr(g,c)}))})},hY=(n,s,a,c)=>{const g=s.element;if(Qm(n,a),a)ln.block(s,gY(c)),fs(g,"display"),zr(g,"aria-hidden"),n.hasFocus()&&HL(s);else{const y=Ut.getCurrent(s).exists(w=>Mr(w.element));ln.unblock(s),To(g,"display","none"),Ao(g,"aria-hidden","true"),y&&n.focus()}},T3=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:bn([Xo.config({}),ln.config({focus:!1}),Ut.config({find:s=>vn(s.components())})]),components:[]}),zL=n=>n.type==="focusin",UL=n=>zL(n)?(n.composed?vn(n.composedPath()):F.from(n.target)).map(yn.fromDom).filter(tc).exists(a=>Za(a,"mce-pastebin")):!1,vY=(n,s,a)=>{const c=Mn(!1),g=Do(),y=k=>{c.get()&&!UL(k)&&(k.preventDefault(),HL(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",y),n.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&y(k)})});const w=k=>{k!==c.get()&&(c.set(k),hY(n,s(),k,a.providers),qq(n,k))};n.on("ProgressState",k=>{if(g.on(clearTimeout),ot(k.time)){const O=pk.setEditorTimeout(n,()=>w(k.state),k.time);g.set(O)}else w(k.state),g.clear()})},vF=n=>{const s=n.label.isNone()?n.title.fold(()=>({}),a=>({attributes:{"aria-label":a}})):n.label.fold(()=>({}),a=>({attributes:{"aria-label":a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...n.label.map(a=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Ca(a)]})).toArray(),fk.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:bn([la.config({}),Go.config({ignore:!0})])}},k3=n=>fk.sketch(vF(n)),VL=(n,s)=>{const a=ga(c=>{const g=He(n.initGroups,k3);Hg.setGroups(c,g)});return bn([Gg.toolbarButton(()=>n.providers.checkUiComponentContext("any").shouldDisable),Vi(()=>n.providers.checkUiComponentContext("any")),ho.config({mode:s,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Wo("toolbar-events",[a])])},WL=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":vF({title:F.none(),label:F.none(),items:[]}),"overflow-button":Q8({context:"any",icon:F.some("more-drawer"),enabled:!0,tooltip:F.some("Reveal or hide additional toolbar items")},F.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:VL(n,s)}},bY=n=>{const s=WL(n),a=4,c=pB.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return pB.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const g=n.moreDrawerData.lazyHeader().element,y=Xd(g),w=b1(g),k=Xd(w),O=Math.max(w.dom.scrollHeight,k.height);return Pi(y.x+a,k.y,y.width-a*2,O)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>n.onToggled(g,!0),onClosed:g=>n.onToggled(g,!1)})},yY=n=>{const s=SD.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=SD.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=WL(n);return SD.sketch({...c,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>{g.getSystem().broadcastOn([mF()],{type:"opened"}),n.onToggled(g,!0)},onClosed:g=>{g.getSystem().broadcastOn([mF()],{type:"closed"}),n.onToggled(g,!1)}})},_3=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return Hg.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===am.scrolling?["tox-toolbar--scrolling"]:[])},components:[Hg.parts.groups({})],toolbarBehaviours:VL(n,s)})},wY=(n,s)=>{const a=n.type==="togglebutton",c=n.icon.map(Ee=>Kv(Ee,s.icons)).map(gr),y=Ee=>{const Xe=Rn=>{c.map(nn=>nn.getOpt(Ee).each(mn=>{Xo.set(mn,[Kv(Rn,s.icons)])}))},st=Rn=>{const nn=Ee.element;Rn?(wr(nn,"tox-button--enabled"),Ao(nn,"aria-pressed",!0)):(na(nn,"tox-button--enabled"),zr(nn,"aria-pressed"))},xt=()=>Za(Ee.element,"tox-button--enabled"),Rt=()=>Bi(Ee.element);if(a)return n.onAction({setIcon:Xe,setActive:st,isActive:xt,focus:Rt});if(n.type==="button")return n.onAction({setIcon:Xe})},w={...n,name:a?n.text.getOr(n.icon.getOr("")):n.text??n.icon.getOr(""),primary:n.buttonType==="primary",buttonType:F.from(n.buttonType),tooltip:n.tooltip,icon:n.icon,enabled:!0,borderless:n.borderless},k=YR(n.buttonType??"secondary"),O=a?n.text.map(s.translate):F.some(s.translate(n.text)),N=O.map(Ca),z=w.tooltip.or(O).map(Ee=>({"aria-label":s.translate(Ee)})).getOr({}),Z=c.map(Ee=>Ee.asSpec()),oe=e1([Z,N]),fe=n.icon.isSome()&&N.isSome(),ye={tag:"button",classes:k.concat(...n.icon.isSome()&&!fe?["tox-button--icon"]:[]).concat(...fe?["tox-button--icon-and-text"]:[]).concat(...n.borderless?["tox-button--naked"]:[]).concat(...n.type==="togglebutton"&&n.active?["tox-button--enabled"]:[]),attributes:z},Fe=[],Le=v3(w,F.some(y),Fe,ye,oe,n.tooltip,s);return Rl.sketch(Le)},bF=(n,s)=>wY(n,s),jL=(n,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:He(n.buttons,a=>bF(a,s))}),yF=Va().deviceType,CY=yF.isPhone(),ZL=yF.isTablet(),SY=n=>{let s=!1;const a=He(n.buttons,c=>c.type==="group"?(s=!0,jL(c,n.providers)):bF(c,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...CY||ZL?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:bn([Go.config({}),ho.config({mode:"flow",selector:"button, .tox-button",focusInside:en.OnEnterOrSpaceMode})]),components:s?a:[Bg.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Bg.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},xY=n=>({uid:n.uid,behaviours:bn([Go.config({}),la.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),qL=(n,s,a,c)=>{const g={getPane:y=>ql.getPart(y,n,"pane"),getOnShow:y=>n.viewConfig.onShow,getOnHide:y=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:bn([Go.config({}),ho.config({mode:"cyclic",focusInside:en.OnEnterOrSpaceMode})]),apis:g}};var By=Id({name:"silver.View",configFields:[Jt("viewConfig")],partFields:[Mu({factory:{sketch:SY},schema:[Jt("buttons"),Jt("providers")],name:"header"}),Mu({factory:{sketch:xY},schema:[],name:"pane"})],factory:qL,apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const GL=(n,s,a)=>po(s,(c,g)=>{const y=Xa(Rq(c));return n.slot(g,By.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:y,components:[...y.buttons.length>0?[By.parts.header({buttons:y.buttons,providers:a})]:[],By.parts.pane({})]}))}),EY=(n,s)=>qc.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:GL(a,n,s),slotBehaviours:Uw.unnamedEvents([ga(c=>qc.hideAllSlots(c))])})),KL=n=>Re(qc.getSlotNames(n),s=>qc.isShowing(n,s)),AY=n=>{const s=n.element;To(s,"display","none"),Ao(s,"aria-hidden","true")},YL=n=>{const s=n.element;fs(s,"display"),zr(s,"aria-hidden")},TY=n=>({getContainer:G(n)}),XL=(n,s,a)=>{qc.getSlot(n,s).each(c=>{By.getPane(c).each(g=>{a(c)(TY(g.element.dom))})})},kY=(n,s)=>XL(n,s,By.getOnShow),_Y=(n,s)=>XL(n,s,By.getOnHide);var O3=nm({factory:(n,s)=>{const y={setViews:(w,k)=>{Xo.set(w,[EY(k,s.backstage.shared.providers)])},whichView:w=>Ut.getCurrent(w).bind(KL),toggleView:(w,k,O,N)=>Ut.getCurrent(w).exists(z=>{const Z=KL(z),oe=Z.exists(ye=>N===ye),fe=qc.getSlot(z,N).isSome();return fe&&(qc.hideAllSlots(z),oe?(AY(w),k()):(O(),YL(w),qc.showSlot(z,N),kY(z,N)),Z.each(ye=>_Y(z,ye))),fe})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:bn([Xo.config({}),Ut.config({find:w=>{const k=Xo.contents(w);return vn(k)}})]),apis:y}},name:"silver.ViewWrapper",configFields:[Jt("backstage")],apis:{setViews:(n,s,a)=>n.setViews(s,a),toggleView:(n,s,a,c,g)=>n.toggleView(s,a,c,g),whichView:(n,s)=>n.whichView(s)}});const OY=(n,s,a)=>{let c=!1;const g=w=>{L0(w,".tox-statusbar").each(k=>{Ur(k,"display")==="none"&&xi(k,"aria-hidden")==="true"?(fs(k,"display"),zr(k,"aria-hidden")):(To(k,"display","none"),Ao(k,"aria-hidden","true"))})},y={getSocket:w=>ql.getPart(w,n,"socket"),setSidebar:(w,k,O)=>{ql.getPart(w,n,"sidebar").each(N=>LL(N,k,O))},toggleSidebar:(w,k)=>{ql.getPart(w,n,"sidebar").each(O=>dE(O,k))},whichSidebar:w=>ql.getPart(w,n,"sidebar").bind(pY).getOrNull(),getHeader:w=>ql.getPart(w,n,"header"),getToolbar:w=>ql.getPart(w,n,"toolbar"),setToolbar:(w,k)=>{ql.getPart(w,n,"toolbar").each(O=>{const N=He(k,k3);O.getApis().setGroups(O,N)})},setToolbars:(w,k)=>{ql.getPart(w,n,"multiple-toolbar").each(O=>{const N=He(k,z=>He(z,k3));jN.setItems(O,N)})},refreshToolbar:w=>{ql.getPart(w,n,"toolbar").each(O=>O.getApis().refresh(O))},toggleToolbarDrawer:w=>{ql.getPart(w,n,"toolbar").each(k=>{ji(k.getApis().toggle,O=>O(k))})},toggleToolbarDrawerWithoutFocusing:w=>{ql.getPart(w,n,"toolbar").each(k=>{ji(k.getApis().toggleWithoutFocusing,O=>O(k))})},isToolbarDrawerToggled:w=>ql.getPart(w,n,"toolbar").bind(k=>F.from(k.getApis().isOpen).map(O=>O(k))).getOr(!1),getThrobber:w=>ql.getPart(w,n,"throbber"),focusToolbar:w=>{ql.getPart(w,n,"toolbar").orThunk(()=>ql.getPart(w,n,"multiple-toolbar")).each(O=>{ho.focusIn(O)})},setMenubar:(w,k)=>{ql.getPart(w,n,"menubar").each(O=>{NL.setMenus(O,k)})},focusMenubar:w=>{ql.getPart(w,n,"menubar").each(k=>{NL.focus(k)})},setViews:(w,k)=>{ql.getPart(w,n,"viewWrapper").each(O=>{O3.setViews(O,k)})},toggleView:(w,k)=>ql.getPart(w,n,"viewWrapper").exists(O=>O3.toggleView(O,()=>y.showMainView(w),()=>y.hideMainView(w),k)),whichView:w=>ql.getPart(w,n,"viewWrapper").bind(O3.whichView).getOrNull(),hideMainView:w=>{c=y.isToolbarDrawerToggled(w),c&&y.toggleToolbarDrawer(w),ql.getPart(w,n,"editorContainer").each(k=>{const O=k.element;g(O),To(O,"display","none"),Ao(O,"aria-hidden","true")})},showMainView:w=>{c&&y.toggleToolbarDrawer(w),ql.getPart(w,n,"editorContainer").each(k=>{const O=k.element;g(O),fs(O,"display"),zr(O,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:y,behaviours:n.behaviours}},DY=sm.optional({factory:NL,name:"menubar",schema:[Jt("backstage")]}),PY=n=>n.type===am.sliding?yY:n.type===am.floating?bY:_3,RY=sm.optional({factory:{sketch:n=>jN.sketch({uid:n.uid,dom:n.dom,listBehaviours:bn([ho.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>_3({type:n.type,uid:pe("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),F.some(!0))}),setupItem:(s,a,c,g)=>{Hg.setGroups(a,c)},shell:!0})},name:"multiple-toolbar",schema:[Jt("dom"),Jt("onEscape")]}),wF=sm.optional({factory:{sketch:n=>{const s=PY(n),a={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),F.some(!0)),onToggled:(c,g)=>n.onToolbarToggled(g),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return s(a)}},name:"toolbar",schema:[Jt("dom"),Jt("onEscape"),Jt("getSink")]}),FY=sm.optional({factory:{sketch:uY},name:"header",schema:[Jt("dom")]}),MY=sm.optional({factory:{sketch:dY},name:"promotion",schema:[Jt("dom"),Jt("promotionLink")]}),QL=sm.optional({name:"socket",schema:[Jt("dom")]}),JL=sm.optional({factory:{sketch:A3},name:"sidebar",schema:[Jt("dom")]}),NY=sm.optional({factory:{sketch:T3},name:"throbber",schema:[Jt("dom")]}),BY=sm.optional({factory:O3,name:"viewWrapper",schema:[Jt("backstage")]}),IY=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components}),$Y=sm.optional({factory:{sketch:IY},name:"editorContainer",schema:[]});var Qr=Id({name:"OuterContainer",factory:OY,configFields:[Jt("dom"),Jt("behaviours")],partFields:[FY,DY,wF,RY,QL,JL,MY,NY,BY,$Y],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,a,c)=>{n.setSidebar(s,a,c)},toggleSidebar:(n,s,a)=>{n.toggleSidebar(s,a)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,a)=>{n.setToolbar(s,a)},setToolbars:(n,s,a)=>{n.setToolbars(s,a)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,a)=>{n.setMenubar(s,a)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,a)=>{n.setViews(s,a)},toggleView:(n,s,a)=>n.toggleView(s,a),whichView:(n,s)=>n.whichView(s)}});const LY="file edit view insert format tools table help",CF={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},D3=(n,s,a)=>{const c=kB(a).split(/[ ,]/);return{text:n.title,getItems:()=>De(n.items,g=>{const y=g.toLowerCase();return y.trim().length===0?[]:Mt(c,w=>w===y)?[]:y==="separator"||y==="|"?[{type:"separator"}]:s.menuItems[y]?[s.menuItems[y]]:[]})}},fE=n=>n.split(" "),e7=(n,s)=>{const a={...CF,...s.menus},c=vo(s.menus).length>0,g=s.menubar===void 0||s.menubar===!0?fE(LY):fE(s.menubar===!1?"":s.menubar),y=Yt(g,k=>{const O=Ho(CF,k);return c?O||sn(s.menus,k).exists(N=>Ho(N,"items")):O}),w=He(y,k=>{const O=a[k];return D3({title:O.title,items:fE(O.items)},s,n)});return Yt(w,k=>{const O=N=>H(N)||N.type!=="separator";return k.getItems().length>0&&Mt(k.getItems(),O)})},HY=n=>{const s=()=>{n._skinLoaded=!0,A$(n)};return()=>{n.initialized?s():n.on("init",s)}},t7=(n,s)=>()=>qk(n,{message:s}),zY=n=>{const s=Ax(n);return s?F.from(s):F.none()},n7=(n,s,a)=>(n.on("remove",()=>a.unload(s)),a.load(s)),P3=(n,s,a,c)=>(n.on("remove",()=>c.unloadRawCss(s)),c.loadRawCss(s,a)),o7=(n,s)=>"ui/"+n+"/"+s,UY=n=>F.from(tinymce.Resource.get(n)).filter(H),SF=(n,s,a="")=>{const c=zY(n).map(y=>o7(y,`${s}.css`)),g=c.bind(UY);return $s(c,g,(y,w)=>({_kind:"load-raw",key:y,css:w})).getOrThunk(()=>{const y=n.editorManager.suffix;return{_kind:"load-stylesheet",url:a+`/${s}${y}.css`}})},xF=(n,s)=>{const a=n.ui.styleSheetLoader,c=SF(n,"skin",s);switch(c._kind){case"load-raw":const{key:g,css:y}=c;return P3(n,g,y,a),Promise.resolve();case"load-stylesheet":const{url:w}=c;return n7(n,w,a);default:return Promise.resolve()}},VY=(n,s)=>{if(sc(yn.fromDom(n.getElement()))){const c=Aw.DOM.styleSheetLoader,g=SF(n,"skin.shadowdom",s);switch(g._kind){case"load-raw":const{key:y,css:w}=g;return P3(n,y,w,c),Promise.resolve();case"load-stylesheet":const{url:k}=g;return n7(n,k,c);default:return Promise.resolve()}}else return Promise.resolve()},WY=(n,s,a)=>{const g=SF(n,s?"content.inline":"content",a);switch(g._kind){case"load-raw":const{key:y,css:w}=g;return s?P3(n,y,w,n.ui.styleSheetLoader):n.on("PostRender",()=>{P3(n,y,w,n.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:k}=g;return a&&n.contentCSS.push(k),Promise.resolve();default:return Promise.resolve()}},s7=async(n,s)=>{const a=$D(s);if(await WY(s,n,a),!Tx(s)&&H(a))return Promise.all([xF(s,a),VY(s,a)]).then()},r7=(n,s)=>s7(n,s).then(HY(s),t7(s,"Skin could not be loaded")),a7=ct(r7,!1),jY=ct(r7,!0),EF=n=>({isEnabled:()=>!so.isDisabled(n),setEnabled:s=>so.set(n,!s),setText:s=>So(n,Xm,{text:s}),setIcon:s=>So(n,Ny,{icon:s})}),ZY=n=>({setActive:s=>{Us.set(n,s)},isActive:()=>Us.isOn(n),isEnabled:()=>!so.isDisabled(n),setEnabled:s=>so.set(n,!s),setText:s=>So(n,Xm,{text:s}),setIcon:s=>So(n,Ny,{icon:s})}),qY=(n,s)=>n.map(a=>({"aria-label":s.translate(a)})).getOr({}),GY=pe("focus-button"),R3=(n,s,a,c,g,y,w)=>{const k=s.map(N=>gr(VR(N,"tox-tbtn",g))),O=n.map(N=>gr(Kv(N,g.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...qY(a,g),...Se(w)?{"data-mce-name":w}:{}}},components:e1([O.map(N=>N.asSpec()),k.map(N=>N.asSpec())]),eventOrder:{[tl()]:["focusing","alloy.base.behaviour",s1],[Ef()]:[s1,"toolbar-group-button-events"],[rd()]:[s1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:bn([Gg.toolbarButton(()=>g.checkUiComponentContext(y).shouldDisable),Vi(()=>g.checkUiComponentContext(y)),Wo(s1,[ga((N,z)=>f3(N)),zt(Xm,(N,z)=>{k.bind(Z=>Z.getOpt(N)).each(Z=>{Xo.set(Z,[Ca(g.translate(z.event.text))])})}),zt(Ny,(N,z)=>{O.bind(Z=>Z.getOpt(N)).each(Z=>{Xo.set(Z,[Kv(z.event.icon,g.icons)])})}),zt(tl(),(N,z)=>{z.event.prevent(),Ds(N,GY)})])].concat(c.getOr([])))}},KY=(n,s,a,c,g)=>{const y=s.shared,w=Mn(J),k={toolbarButtonBehaviours:[],getApi:EF,onSetup:n.onSetup},O=[Wo("toolbar-group-button-events",[Kg(k,w),Wv(k,w)]),...n.tooltip.map(N=>ha.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(N)}))).toArray()];return d0.sketch({lazySink:y.getSink,fetch:()=>as.nu(N=>{N(He(a(n.items),k3))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:R3(n.icon,n.text,n.tooltip,F.some(O),y.providers,n.context,g),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},i7=(n,s,a,c)=>{const g=Mn(J),y=R3(n.icon,n.text,n.tooltip,F.none(),a,n.context,c);return Rl.sketch({dom:y.dom,components:y.components,eventOrder:zR,buttonBehaviours:{...bn([Wo("toolbar-button-events",[KG({onAction:n.onAction,getApi:s.getApi}),Kg(s,g),Wv(s,g)]),...n.tooltip.map(w=>ha.config(a.tooltips.getConfig({tooltipText:a.translate(w)+n.shortcut.map(k=>` (${KP(k)})`).getOr("")}))).toArray(),Gg.toolbarButton(()=>!n.enabled||a.checkUiComponentContext(n.context).shouldDisable),Vi(()=>a.checkUiComponentContext(n.context))].concat(s.toolbarButtonBehaviours)),[s1]:y.buttonBehaviours?.[s1]}})},YY=(n,s,a)=>mE(n,s,[],a),mE=(n,s,a,c)=>i7(n,{toolbarButtonBehaviours:a.length>0?[Wo("toolbarButtonWith",a)]:[],getApi:EF,onSetup:n.onSetup},s,c),AF=(n,s,a)=>l7(n,s,[],a),l7=(n,s,a,c)=>i7(n,{toolbarButtonBehaviours:[Xo.config({}),Us.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Wo("toolbarToggleButtonWith",a)]:[]),getApi:ZY,onSetup:n.onSetup},s,c),XY=(n,s,a)=>c=>as.nu(g=>s.fetch(g)).map(g=>F.from(DR(tn(t3(pe("menu-value"),g,y=>{s.onItemAction(n(c),y)},s.columns,s.presets,qp.CLOSE_ON_EXECUTE,s.select.getOr(je),a),{movement:qv(s.columns,s.presets),menuBehaviours:Uw.unnamedEvents(s.columns!=="auto"?[]:[ga((y,w)=>{ZP(y,4,aP(s.presets)).each(({numRows:k,numColumns:O})=>{ho.setGridSize(y,k,O)})})])})))),QY=(n,s,a)=>c=>{const g=c.getSystem(),y=c.element,w=()=>{const O=Za(y,"tox-split-button__chevron"),N=O?_c(y).bind(Z=>g.getByDom(Z).toOptional()):F.some(c),z=O?F.some(c):sh(y).bind(Z=>g.getByDom(Z).toOptional().filter(oe=>Za(oe.element,"tox-split-button__chevron")));return{mainOpt:N,chevronOpt:z}},k=O=>{const{mainOpt:N,chevronOpt:z}=w();N.each(O),z.each(O)};return{isEnabled:()=>{const{mainOpt:O}=w();return O.exists(N=>!so.isDisabled(N))},setEnabled:O=>k(N=>so.set(N,!O)),setText:O=>{const{mainOpt:N}=w();N.each(z=>So(z,Xm,{text:O}))},setIcon:O=>{const{mainOpt:N}=w();N.each(z=>So(z,Ny,{icon:O}))},setIconFill:(O,N)=>k(z=>{ur(z.element,`svg path[class="${O}"], rect[class="${O}"]`).each(Z=>{Ao(Z,"fill",N)})}),isActive:()=>{const{mainOpt:O}=w();return O.exists(N=>Us.isOn(N))},setActive:O=>{const{mainOpt:N}=w();N.each(z=>Us.set(z,O))},setTooltip:O=>{n.set(O);const{mainOpt:N,chevronOpt:z}=w();N.each(oe=>Ao(oe.element,"aria-label",s.providers.translate(O)));const Z=a.chevronTooltip.map(oe=>s.providers.translate(oe)).getOr(s.providers.translate(O));z.each(oe=>Ao(oe.element,"aria-label",Z))}}},JY=(n,s,a)=>{const c=Mn(J),g=Mn(n.tooltip.getOr("")),y=QY(g,s,n),w=pe("tox-split-menu"),k=Mn(!1),O=()=>({"aria-haspopup":"menu","aria-expanded":String(k.get()),"aria-controls":w}),N=()=>n.tooltip.map(Fe=>s.providers.translate(Fe)).getOr(s.providers.translate("Text color")),z=()=>n.chevronTooltip.map(Fe=>s.providers.translate(Fe)).getOrThunk(()=>{const Fe=N();return s.providers.translate(["{0} menu",Fe])}),Z=(Fe,Le)=>{k.set(Fe),Ao(Le.element,"aria-expanded",String(Fe))},oe=lf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Rj("chevron-down",s.providers.icons),attributes:{"aria-label":z(),...Se(a)?{"data-mce-name":a+"-chevron"}:{},...O()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:bn([Wo("split-dropdown-events",[ga((Fe,Le)=>f3(Fe)),Kg({getApi:y,onSetup:n.onSetup},c),zt("alloy-dropdown-open",Fe=>Z(!0,Fe)),zt("alloy-dropdown-close",Fe=>Z(!1,Fe))]),Gg.toolbarButton(()=>s.providers.checkUiComponentContext(n.context).shouldDisable),Vi(()=>s.providers.checkUiComponentContext(n.context)),$g.config({}),ha.config(s.providers.tooltips.getConfig({tooltipText:z(),onShow:Fe=>{if(g.get()!==n.tooltip.getOr("")){const Le=n.chevronTooltip.map(Ee=>s.providers.translate(Ee)).getOr(`${s.providers.translate(g.get())} menu`);ha.setComponents(Fe,s.providers.tooltips.getComponents({tooltipText:Le}))}}}))]),lazySink:s.getSink,fetch:XY(y,n,s.providers),getHotspot:Fe=>_c(Fe.element).bind(Le=>Fe.getSystem().getByDom(Le).toOptional()),onOpen:(Fe,Le,Ee)=>{fr.highlightBy(Ee,Xe=>Za(Xe.element,"tox-collection__item--active")),fr.getHighlighted(Ee).each(ho.focusIn)},parts:{menu:{...Nx(!1,n.columns,n.presets),dom:{...Nx(!1,n.columns,n.presets).dom,tag:"div",attributes:{id:w}}}}}),fe=R3(n.icon,n.text,F.none(),F.some([Us.config({toggleClass:"tox-tbtn--enabled",aria:n.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...n.tooltip.isSome()?[ha.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(n.tooltip.getOr("")),onShow:Fe=>{if(g.get()!==n.tooltip.getOr("")){const Le=s.providers.translate(g.get());ha.setComponents(Fe,s.providers.tooltips.getComponents({tooltipText:Le}))}}}))]:[]]),s.providers,n.context,a);return[Rl.sketch({dom:{...fe.dom,classes:["tox-tbtn","tox-split-button__main"].concat(n.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":N(),...Se(a)?{"data-mce-name":a}:{}}},components:fe.components,eventOrder:fe.eventOrder,buttonBehaviours:fe.buttonBehaviours,action:Fe=>{if(n.onAction){const Le=y(Fe);Le.isEnabled()&&n.onAction(Le)}}}),oe]},eX=".tox-toolbar-slider__input,.tox-toolbar-textfield",c7=n=>{Ja.getContent(n).each(s=>{ur(s.element,eX).fold(()=>ho.focusIn(s),Bi)})},tX=n=>Ra(n.element).each(s=>{au(s,'[tabindex="-1"]').each(a=>{Bi(a)})}),u7=pe("forward-slide"),F3=pe("backward-slide"),M3=pe("change-slide-event"),tC="tox-pop--resizing",TF=n=>{const s=Mn([]);return{sketch:Ja.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:c=>{s.set([]),Ja.getContent(c).each(g=>{fs(g.element,"visibility")}),na(c.element,tC),fs(c.element,"width")},onHide:()=>{s.set([]),n.onHide()},inlineBehaviours:bn([Wo("context-toolbar-events",[hv(K0(),(c,g)=>{g.event.raw.propertyName==="width"&&(na(c.element,tC),fs(c.element,"width"))}),zt(M3,(c,g)=>{const y=c.element;fs(y,"width");const w=ja(y),k=Ra(c.element).isSome();fs(y,"left"),fs(y,"right"),fs(y,"max-width"),Ja.setContent(c,g.event.contents),wr(y,tC);const O=ja(y);To(y,"transition","none"),Ja.reposition(c),fs(y,"transition"),To(y,"width",w+"px"),g.event.focus.fold(()=>{k&&c7(c)},N=>{Si(ei(c.element)).fold(()=>Bi(N),z=>{ee(z,N)||n.focusElement(N)})}),setTimeout(()=>{To(c.element,"width",O+"px")},0)}),zt(u7,(c,g)=>{Ja.getContent(c).each(y=>{s.set(s.get().concat([{bar:y,focus:Si(ei(c.element))}]))}),So(c,M3,{contents:g.event.forwardContents,focus:F.none()})}),zt(F3,(c,g)=>{n.onBack(),Fn(s.get()).each(y=>{s.set(s.get().slice(0,s.get().length-1)),So(c,M3,{contents:T(y.bar),focus:y.focus})})})]),ho.config({mode:"special",onEscape:c=>Fn(s.get()).fold(()=>n.onEscape(),g=>(Ds(c,F3),F.some(!0)))})]),lazySink:()=>Kn.value(n.sink)}),inSubtoolbar:()=>s.get().length>0}},d7=(n,s)=>{const a=Xa(Jh({type:"button",icon:"chevron-left",tooltip:"Back",onAction:J}));return mE(a,s.shared.providers,[zt(HR,c=>{Ds(c,F3)})])},Jm=(n,s,a)=>vi(a)?n.translate(s):n.translate([s,n.translate(a)]),f7=(n,s)=>{const a=(w,k,O,N)=>{const z=n.shared.providers.translate(w.title);if(w.type==="separator")return F.some({type:"separator",text:z});if(w.type==="submenu"){const Z=De(w.getStyleItems(),oe=>c(oe,k,N));return k===0&&Z.length<=0?F.none():F.some({type:"nestedmenuitem",text:z,enabled:Z.length>0,getSubmenuItems:()=>De(w.getStyleItems(),oe=>c(oe,k,N))})}else return F.some({type:"togglemenuitem",text:z,icon:w.icon,active:w.isSelected(N),enabled:!O,onAction:s.onAction(w),...w.getStylePreview().fold(()=>({}),Z=>({meta:{style:Z}}))})},c=(w,k,O)=>{const N=w.type==="formatter"&&s.isInvalid(w);return k===0?N?[]:a(w,k,!1,O).toArray():a(w,k,N,O).toArray()},g=w=>{const k=s.getCurrentValue(),O=s.shouldHide?0:1;return De(w,N=>c(N,O,k))};return{validateItems:g,getFetch:(w,k)=>(O,N)=>{const z=k(),Z=g(z),oe=S0(Z,qp.CLOSE_ON_EXECUTE,w,{isHorizontalMenu:!1,search:F.none()});N(oe)}}},nC=(n,s)=>{const a=s.dataset,c=a.type==="basic"?()=>He(a.data,g=>fL(g,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:f7(n,s),getStyleItems:c}},pE=(n,s,a,c,g,y)=>{const{items:w,getStyleItems:k}=nC(s,a),O=Mn(a.tooltip),N=Z=>({getComponent:G(Z),setTooltip:oe=>{const fe=s.shared.providers.translate(oe);Ao(Z.element,"aria-label",fe),O.set(oe)}}),z=Z=>{const oe=fe=>Z.setTooltip(Jm(n,c(fe.value),fe.value));return n.on(g,oe),Py(Zv(n,"NodeChange",fe=>{const ye=fe.getComponent();a.updateText(ye),so.set(fe.getComponent(),!n.selection.isEditable()||k().length===0)})(Z),()=>n.off(g,oe))};return WR({context:"mode:design",text:a.icon.isSome()?F.none():a.text,icon:a.icon,ariaLabel:F.some(a.tooltip),tooltip:F.none(),role:F.none(),fetch:w.getFetch(s,k),onSetup:z,getApi:N,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ha.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:Z=>{if(a.tooltip!==O.get()){const oe=s.shared.providers.translate(O.get());ha.setComponents(Z,s.shared.providers.tooltips.getComponents({tooltipText:oe}))}}})})]},"tox-tbtn",s.shared,y)},nX=n=>He(n,s=>{let a=s,c=s;const g=s.split("=");return g.length>1&&(a=g[0],c=g[1]),{title:a,format:c}}),oX=n=>({type:"basic",data:n});var oC;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(oC||(oC={}));const sX=(n,s)=>s===oC.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),kF=(n,s,a)=>{const c=n.options.get(s);return{type:"basic",data:nX(sX(c,a))}},m7="Align",p7=G("Alignment {0}"),g7="left",gE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],h7=n=>{const s=()=>Re(gE,k=>n.formatter.match(k.format)),a=k=>()=>n.formatter.match(k),c=k=>F.none,g=k=>{const N=s().fold(G(g7),z=>z.title.toLowerCase());So(k,Ny,{icon:`align-${N}`}),k$(n,{value:N})},y=oX(gE),w=k=>()=>Re(gE,O=>O.format===k.format).each(O=>n.execCommand(O.command));return{tooltip:Jm(n,p7(),g7),text:F.none(),icon:F.some("align-left"),isSelectedFor:a,getCurrentValue:F.none,getPreviewFor:c,onAction:w,updateText:g,dataset:y,shouldHide:!1,isInvalid:k=>!n.formatter.canApply(k.format)}},rX=(n,s)=>pE(n,s,h7(n),p7,"AlignTextUpdate","align"),aX=(n,s)=>{const a=nC(s,h7(n));n.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(m7),onSetup:bc(n),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},v7=(n,s)=>{const a=s(),c=He(a,g=>g.format);return F.from(n.formatter.closest(c)).bind(g=>Re(a,y=>y.format===g))},iX="Blocks",b7=G("Block {0}"),N3="Paragraph",_F=n=>{const s=y=>()=>n.formatter.match(y),a=y=>()=>{const w=n.formatter.get(y);return w?F.some({tag:w.length>0&&(w[0].inline||w[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(y))}):F.none()},c=y=>{const k=v7(n,()=>g.data).fold(G(N3),O=>O.title);So(y,Xm,{text:k}),Gk(n,{value:k})},g=kF(n,"block_formats",oC.SemiColon);return{tooltip:Jm(n,b7(),N3),text:F.some(N3),icon:F.none(),isSelectedFor:s,getCurrentValue:F.none,getPreviewFor:a,onAction:Kk(n),updateText:c,dataset:g,shouldHide:!1,isInvalid:y=>!n.formatter.canApply(y.format)}},y7=(n,s)=>pE(n,s,_F(n),b7,"BlocksTextUpdate","blocks"),lX=(n,s)=>{const a=nC(s,_F(n));n.ui.registry.addNestedMenuItem("blocks",{text:iX,onSetup:bc(n),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},w7="Fonts",C7=G("Font {0}"),OF="System Font",cX=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],DF=n=>{const s=n.split(/\s*,\s*/);return He(s,a=>a.replace(/^['"]+|['"]+$/g,""))},S7=(n,s)=>s.length>0&&Ye(s,a=>n.indexOf(a.toLowerCase())>-1),x7=(n,s)=>{if(n.indexOf("-apple-system")===0||s.length>0){const a=DF(n.toLowerCase());return S7(a,cX)||S7(a,s)}else return!1},E7=n=>{const s=()=>{const O=ye=>ye?DF(ye)[0]:"",N=n.queryCommandValue("FontName"),z=k.data,Z=N?N.toLowerCase():"",oe=WB(n);return{matchOpt:Re(z,ye=>{const Fe=ye.format;return Fe.toLowerCase()===Z||O(Fe).toLowerCase()===O(Z).toLowerCase()}).orThunk(()=>sa(x7(Z,oe),{title:OF,format:Z})),font:N}},a=O=>N=>N.exists(z=>z.format===O),c=()=>{const{matchOpt:O}=s();return O},g=O=>()=>F.some({tag:"div",styles:O.indexOf("dings")===-1?{"font-family":O}:{}}),y=O=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,O.format)})},w=O=>{const{matchOpt:N,font:z}=s(),Z=N.fold(G(z),oe=>oe.title);So(O,Xm,{text:Z}),Qq(n,{value:Z})},k=kF(n,"font_family_formats",oC.SemiColon);return{tooltip:Jm(n,C7(),OF),text:F.some(OF),icon:F.none(),isSelectedFor:a,getCurrentValue:c,getPreviewFor:g,onAction:y,updateText:w,dataset:k,shouldHide:!1,isInvalid:je}},uX=(n,s)=>pE(n,s,E7(n),C7,"FontFamilyTextUpdate","fontfamily"),dX=(n,s)=>{const a=nC(s,E7(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(w7),onSetup:bc(n),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})};var B3=tinymce.util.Tools.resolve("tinymce.util.VK");const fX=(n,s,a,c)=>{let g=F.none();const y=st=>st.map(xt=>Vn.getValue(xt)).getOr(""),w=Zv(n,"NodeChange SwitchMode DisabledStateChange",st=>{const xt=st.getComponent();g=F.some(xt),a.updateInputValue(xt),so.set(xt,!n.selection.isEditable()||gk(n))}),k=st=>({getComponent:G(st)}),O=Mn(J),N=pe("custom-number-input-events"),z=(st,xt,Rt)=>{const Rn=y(g),nn=a.getNewValue(Rn,st),mn=Rn.length-`${nn}`.length,un=g.map(ao=>ao.element.dom.selectionStart-mn),yo=g.map(ao=>ao.element.dom.selectionEnd-mn);a.onAction(nn,Rt),g.each(ao=>{Vn.setValue(ao,nn),xt&&(un.each(ks=>ao.element.dom.selectionStart=ks),yo.each(ks=>ao.element.dom.selectionEnd=ks))})},Z=(st,xt)=>z((Rt,Rn)=>Rt-Rn,st,xt),oe=(st,xt)=>z((Rt,Rn)=>Rt+Rn,st,xt),fe=st=>ll(st.element).fold(F.none,xt=>(Bi(xt),F.some(!0))),ye=st=>Mr(st.element)?(_s(st.element).each(xt=>Bi(xt)),F.some(!0)):F.none(),Fe=(st,xt,Rt,Rn)=>{const nn=Mn(J),mn=s.shared.providers.translate(Rt),un=pe("altExecuting"),yo=Zv(n,"NodeChange SwitchMode DisabledStateChange",ks=>{so.set(ks.getComponent(),!n.selection.isEditable()||gk(n))}),ao=ks=>{so.isDisabled(ks)||st(!0)};return Rl.sketch({dom:{tag:"button",attributes:{"aria-label":mn,"data-mce-name":xt},classes:Rn.concat(xt)},components:[UR(xt,s.shared.providers.icons)],buttonBehaviours:bn([so.config({}),ha.config(s.shared.providers.tooltips.getConfig({tooltipText:mn})),Wo(un,[Kg({onSetup:yo,getApi:k},nn),Wv({getApi:k},nn),zt(Ka(),(ks,wo)=>{(wo.event.raw.keyCode===B3.SPACEBAR||wo.event.raw.keyCode===B3.ENTER)&&(so.isDisabled(ks)||st(!1))}),zt(_m(),ao),zt(Ru(),ao)])]),eventOrder:{[Ka()]:[un,"keying"],[_m()]:[un,"alloy.base.behaviour"],[Ru()]:[un,"alloy.base.behaviour"],[Ef()]:["alloy.base.behaviour",un,"tooltipping"],[rd()]:[un,"tooltipping"]}})},Le=gr(Fe(st=>Z(!1,st),"minus","Decrease font size",[])),Ee=gr(Fe(st=>oe(!1,st),"plus","Increase font size",[])),Xe=gr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Xh.sketch({inputBehaviours:bn([so.config({}),Wo(N,[Kg({onSetup:w,getApi:k},O),Wv({getApi:k},O)]),Wo("input-update-display-text",[zt(Xm,(st,xt)=>{Vn.setValue(st,xt.event.text)}),zt(zc(),st=>{a.onAction(Vn.getValue(st))}),zt(wp(),st=>{a.onAction(Vn.getValue(st))})]),ho.config({mode:"special",onEnter:st=>(z(Ze,!0,!0),F.some(!0)),onEscape:fe,onUp:st=>(oe(!0,!1),F.some(!0)),onDown:st=>(Z(!0,!1),F.some(!0)),onLeft:(st,xt)=>(xt.cut(),F.none()),onRight:(st,xt)=>(xt.cut(),F.none())})])})],behaviours:bn([Go.config({}),ho.config({mode:"special",onEnter:ye,onSpace:ye,onEscape:fe}),Wo("input-wrapper-events",[zt(Hc(),st=>{ut([Le,Ee],xt=>{const Rt=yn.fromDom(xt.get(st).element.dom);Mr(Rt)&&fa(Rt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Se(c)?{"data-mce-name":c}:{}}},components:[Le.asSpec(),Xe.asSpec(),Ee.asSpec()],behaviours:bn([Go.config({}),ho.config({mode:"flow",focusInside:en.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:st=>Mr(st.element)?F.none():(Bi(st.element),F.some(!0))})])}},mX="Font sizes",A7=G("Font size {0}"),PF="12pt",pX={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},gX={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},hX=(n,s)=>{const a=Math.pow(10,s);return Math.round(n*a)/a},vX=(n,s)=>/[0-9.]+px$/.test(n)?hX(parseInt(n,10)*72/96,s||0)+"pt":sn(gX,n).getOr(n),bX=n=>sn(pX,n).getOr(""),T7=n=>{const s=()=>{let O=F.none();const N=k.data,z=n.queryCommandValue("FontSize");if(z)for(let Z=3;O.isNone()&&Z>=0;Z--){const oe=vX(z,Z),fe=bX(oe);O=Re(N,ye=>ye.format===z||ye.format===oe||ye.format===fe)}return{matchOpt:O,size:z}},a=O=>N=>N.exists(z=>z.format===O),c=()=>{const{matchOpt:O}=s();return O},g=G(F.none),y=O=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,O.format)})},w=O=>{const{matchOpt:N,size:z}=s(),Z=N.fold(G(z),oe=>oe.title);So(O,Xm,{text:Z}),Xq(n,{value:Z})},k=kF(n,"font_size_formats",oC.Space);return{tooltip:Jm(n,A7(),PF),text:F.some(PF),icon:F.none(),isSelectedFor:a,getPreviewFor:g,getCurrentValue:c,onAction:y,updateText:w,dataset:k,shouldHide:!1,isInvalid:je}},yX=(n,s)=>pE(n,s,T7(n),A7,"FontSizeTextUpdate","fontsize"),k7=n=>{const s={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[n]??s},wX=16,CX=n=>n>=0,_7=n=>{const s=()=>n.queryCommandValue("FontSize");return{updateInputValue:c=>So(c,Xm,{text:s()}),onAction:(c,g)=>n.execCommand("FontSize",!1,c,{skip_focus:!g}),getNewValue:(c,g)=>{Ws(c,["unsupportedLength","empty"]);const y=s(),w=Ws(c,["unsupportedLength","empty"]).or(Ws(y,["unsupportedLength","empty"])),k=w.map(oe=>oe.value).getOr(wX),O=yk(n),N=w.map(oe=>oe.unit).filter(oe=>oe!=="").getOr(O),z=g(k,k7(N).step),Z=`${CX(z)?z:k}${N}`;return Z!==y&&t1(n,{value:Z}),Z}}},SX=(n,s)=>fX(n,s,_7(n),"fontsizeinput"),O7=(n,s)=>{const a=nC(s,T7(n));n.ui.registry.addNestedMenuItem("fontsize",{text:mX,onSetup:bc(n),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},D7="Formats",P7=n=>vi(n)?"Formats":"Format {0}",R7=(n,s)=>{const a="Formats",c=w=>()=>n.formatter.match(w),g=w=>()=>{const k=n.formatter.get(w);return k!==void 0?F.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))}):F.none()},y=w=>{const k=Z=>MK(Z)?De(Z.items,k):iL(Z)?[{title:Z.title,format:Z.format}]:[],O=De(dL(n),k),z=v7(n,G(O)).fold(G({title:a,tooltipLabel:""}),Z=>({title:Z.title,tooltipLabel:Z.title}));So(w,Xm,{text:z.title}),Yq(n,{value:z.tooltipLabel})};return{tooltip:Jm(n,P7(""),""),text:F.some(a),icon:F.none(),isSelectedFor:c,getCurrentValue:F.none,getPreviewFor:g,onAction:Kk(n),updateText:y,shouldHide:RD(n),isInvalid:w=>!n.formatter.canApply(w.format),dataset:s}},xX=(n,s)=>{const a={type:"advanced",...s.styles};return pE(n,s,R7(n,a),P7,"StylesTextUpdate","styles")},sC=(n,s)=>{const a={type:"advanced",...s.styles},c=nC(s,R7(n,a));n.ui.registry.addNestedMenuItem("styles",{text:D7,onSetup:bc(n,()=>c.getStyleItems().length>0),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},EX=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],hE=(n,s)=>(a,c,g,y)=>{const w=n(a).mapError(k=>qo(k)).getOrDie();return s(w,c,g,y)},AX={button:hE(Jh,(n,s,a,c)=>YY(n,s.shared.providers,c)),togglebutton:hE(NP,(n,s,a,c)=>AF(n,s.shared.providers,c)),menubutton:hE(DP,(n,s,a,c)=>oE(n,"tox-tbtn",s,F.none(),!1,c)),splitbutton:hE(Tq,(n,s,a,c)=>JY(n,s.shared,c)),grouptoolbarbutton:hE(WP,(n,s,a,c)=>{const g=a.ui.registry.getAll().buttons,y=k=>I3(a,{buttons:g,toolbar:k,allowToolbarGroups:!1},s,F.none()),w={[E2]:s.shared.header.isPositionedAtTop()?Tg.TopToBottom:Tg.BottomToTop};if(gy(a)===am.floating)return KY(n,s,y,w,c);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},TX=(n,s,a,c)=>sn(AX,n.type).fold(()=>(console.error("skipping button defined by",n),F.none()),g=>F.some(g(n,s,a,c))),F7={styles:xX,fontsize:yX,fontsizeinput:SX,fontfamily:uX,blocks:y7,align:rX,navigateback:d7},kX=n=>{const s=He(EX,a=>{const c=Yt(a.items,g=>Ho(n,g)||Ho(F7,g));return{name:a.name,items:c}});return Yt(s,a=>a.items.length>0)},_X=n=>{const s=n.split("|");return He(s,a=>({items:a.trim().split(" ")}))},OX=n=>it(n,s=>(Ho(s,"name")||Ho(s,"label"))&&Ho(s,"items")),RF=n=>{const s=n.toolbar,a=n.buttons;return s===!1?[]:s===void 0||s===!0?kX(a):H(s)?_X(s):OX(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},DX=(n,s,a,c,g,y)=>sn(s,a.toLowerCase()).orThunk(()=>y.bind(w=>es(w,k=>sn(s,k+a.toLowerCase())))).fold(()=>sn(F7,a.toLowerCase()).map(w=>w(n,g)),w=>w.type==="grouptoolbarbutton"&&!c?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),F.none()):TX(w,g,n,a.toLowerCase())),I3=(n,s,a,c)=>{const g=RF(s),y=He(g,w=>{const k=De(w.items,O=>O.trim().length===0?[]:DX(n,s.buttons,O,s.allowToolbarGroups,a,c).map(N=>Array.isArray(N)?N:[N]).getOr([]));return{title:F.from(n.translate(w.name)),label:sa(w.label!==void 0,n.translate(w.label)),items:k}});return Yt(y,w=>w.items.length>0)},FF=(n,s,a,c)=>{const g=s.mainUi.outerContainer,y=a.toolbar,w=a.buttons;if(it(y,H)){const k=y.map(O=>{const N={toolbar:O,buttons:w,allowToolbarGroups:a.allowToolbarGroups};return I3(n,N,c,F.none())});Qr.setToolbars(g,k)}else Qr.setToolbar(g,I3(n,a,c,F.none()))},MF=Va(),PX=MF.os.isiOS()&&MF.os.version.major<=12,RX=(n,s)=>{const{uiMotherships:a}=s,c=n.dom;let g=n.getWin();const y=n.getDoc().documentElement,w=Mn(mr(g.innerWidth,g.innerHeight)),k=Mn(mr(y.offsetWidth,y.offsetHeight)),O=()=>{const oe=w.get();(oe.left!==g.innerWidth||oe.top!==g.innerHeight)&&(w.set(mr(g.innerWidth,g.innerHeight)),uR(n))},N=()=>{const oe=n.getDoc().documentElement,fe=k.get();(fe.left!==oe.offsetWidth||fe.top!==oe.offsetHeight)&&(k.set(mr(oe.offsetWidth,oe.offsetHeight)),uR(n))},z=oe=>{Zq(n,oe)};c.bind(g,"resize",O),c.bind(g,"scroll",z);const Z=Eu(yn.fromDom(n.getBody()),"load",N);n.on("hide",()=>{ut(a,oe=>{To(oe.element,"display","none")})}),n.on("show",()=>{ut(a,oe=>{fs(oe.element,"display")})}),n.on("NodeChange",N),n.on("remove",()=>{Z.unbind(),c.unbind(g,"resize",O),c.unbind(g,"scroll",z),g=null})},FX=(n,s,a)=>{Lv(n)&&tm(a.mainUi.mothership.element,a.popupUi.mothership),Yb(s,a.dialogUi.mothership)};var MX=Object.freeze({__proto__:null,render:(n,s,a,c,g)=>{const{mainUi:y,uiMotherships:w}=s,k=Mn(0),O=y.outerContainer;a7(n);const N=yn.fromDom(g.targetNode),z=ou(ei(N));tm(N,y.mothership),FX(n,z,s),n.on("PostRender",()=>{Qr.setSidebar(O,a.sidebar,zB(n)),Qr.setViews(O,a.views)}),n.on("SkinLoaded",()=>{FF(n,s,a,c),k.set(n.getWin().innerWidth),Qr.setMenubar(O,e7(n,a)),RX(n,s)});const Z=Qr.getSocket(O).getOrDie("Could not find expected socket element");if(PX){Nr(Z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Fe=Xl(()=>{n.dispatch("ScrollContent")},20),Le=cr(Z.element,"scroll",Fe.throttle);n.on("remove",Le.unbind)}l$(n,s),n.addCommand("ToggleSidebar",(Fe,Le)=>{Qr.toggleSidebar(O,Le),Jq(n)}),n.addQueryValueHandler("ToggleSidebar",()=>Qr.whichSidebar(O)??""),n.addCommand("ToggleView",(Fe,Le)=>{if(Qr.toggleView(O,Le)){const Ee=O.element;y.mothership.broadcastOn([Op()],{target:Ee}),ut(w,Xe=>{Xe.broadcastOn([Op()],{target:Ee})}),le(Qr.whichView(O))&&(n.focus(),n.nodeChanged(),Qr.refreshToolbar(O)),_$(n)}}),n.addQueryValueHandler("ToggleView",()=>Qr.whichView(O)??"");const oe=gy(n),fe=()=>{Qr.refreshToolbar(s.mainUi.outerContainer)};(oe===am.sliding||oe===am.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Fe=n.getWin().innerWidth;Fe!==k.get()&&(fe(),k.set(Fe))});const ye={setEnabled:Fe=>{Zx(s,Fe?"setEnabled":"setDisabled")},isEnabled:()=>!so.isDisabled(O)};return{iframeContainer:Z.element.dom,editorContainer:O.element.dom,api:ye}}});const NX=n=>/^[0-9\.]+(|px)$/i.test(""+n)?F.some(parseInt(""+n,10)):F.none(),$3=n=>ot(n)?n+"px":n,L3=(n,s,a)=>{const c=s.filter(y=>n<y),g=a.filter(y=>n>y);return c.or(g).getOr(n)},BX=(n,s)=>{if(typeof s=="number")return F.from(s);const a=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(a){const c=a[2],g=Number.parseFloat(a[1]);if(Number.isNaN(g)||g<0)return F.none();if(c==="em")return F.from(g*Number.parseFloat(window.getComputedStyle(n.dom).fontSize));if(c==="pt")return F.from(g*(72/96));if(c==="px")return F.from(g)}return F.none()},IX=n=>{const s=BX(yn.fromDom(n.targetElm),kD(n)),a=DD(n),c=PD(n);return s.map(g=>L3(g,a,c))},$X=n=>IX(n).getOr(kD(n)),vE=n=>{const s=_D(n),a=OD(n),c=hk(n);return NX(s).map(g=>L3(g,a,c))},LX=n=>vE(n).getOr(_D(n)),{ToolbarLocation:rC,ToolbarMode:bE}=dj,M7=40,HX=(n,s,a,c,g)=>{const{mainUi:y,uiMotherships:w}=a,k=Aw.DOM,O=Pw(n),N=Rw(n),z=hk(n).or(vE(n)),Z=c.shared.header,oe=Z.isPositionedAtTop,fe=150,ye=gy(n),Fe=ye===bE.sliding||ye===bE.floating,Le=Mn(!1),Ee=()=>Le.get()&&!n.removed,Xe=io=>Fe?io.fold(G(0),Xt=>Xt.components().length>1?Ea(Xt.components()[1].element):0):0,st=io=>{switch(FD(n)){case rC.auto:const Xt=Qr.getToolbar(y.outerContainer),Sn=Xe(Xt),Mo=Ea(io.element)-Sn,ls=fi(s);if(ls.y>Mo)return"top";{const ss=b1(s),jr=Math.max(ss.dom.scrollHeight,Ea(ss));return ls.bottom<jr-Mo||ml().bottom<ls.bottom-Mo?"bottom":"top"}case rC.bottom:return"bottom";case rC.top:default:return"top"}},xt=io=>{g.on(Xt=>{Ia.setModes(Xt,[io]),Z.setDockingMode(io);const Sn=oe()?Tg.TopToBottom:Tg.BottomToTop;Ao(Xt.element,E2,Sn)})},Rt=()=>{g.on(io=>{const Xt=z.getOrThunk(()=>Lf().width-Ol(s).left-10);To(io.element,"max-width",Xt+"px")})},Rn=(io,Xt)=>{g.on(Sn=>{const Mo=Qr.getToolbar(y.outerContainer),ls=Xe(Mo),uo=fi(s),ss=nn(n,y.outerContainer.element),jr=()=>ss.fold(()=>uo.x,yc=>{const um=fi(yc);return ee(yc,ac())?uo.x:uo.x-um.x}),hr=()=>ss.fold(()=>oe()?Math.max(uo.y-Ea(Sn.element)+ls,0):uo.bottom,yc=>{const um=fi(yc),Gc=yc.dom.scrollTop??0,Xv=ee(yc,ac())?Math.max(uo.y-Ea(Sn.element)+ls,0):uo.y-um.y+Gc-Ea(Sn.element)+ls;return oe()?Xv:uo.bottom}),bu=jr(),$a=sa(io,Math.ceil(y.outerContainer.element.dom.getBoundingClientRect().width)).filter(yc=>yc>fe).map(yc=>{const um=Xt.getOr(pa()),Gc=window.innerWidth-(bu-um.left),ep=Math.max(Math.min(yc,Gc),fe);return Gc<yc&&To(y.outerContainer.element,"width",ep+"px"),{width:ep+"px"}}).getOr({width:"max-content"}),cf={position:"absolute",left:Math.round(bu)+"px",top:hr()+"px"};Nr(y.outerContainer.element,{...cf,...$a})})},nn=(io,Xt)=>Lv(io)?Uf(Xt):F.none(),mn=()=>{ut(w,io=>{io.broadcastOn([sl()],{})})},un=()=>!O&&(ki(y.outerContainer.element).left+Gu(y.outerContainer.element)>=window.innerWidth-M7||Er(y.outerContainer.element,"width").isSome())?(To(y.outerContainer.element,"position","absolute"),To(y.outerContainer.element,"left","0px"),fs(y.outerContainer.element,"width"),!0):!1,yo=io=>{if(!Ee())return;O||Rt();const Xt=pa(),Sn=O?!1:un();if(Fe&&Qr.refreshToolbar(y.outerContainer),!O){const Mo=pa(),ls=sa(Xt.left!==Mo.left,Xt);Rn(Sn,ls),ls.each(uo=>{fl(uo.left,Mo.top)})}N&&g.on(io),mn()},ao=()=>O||!N||!Ee()?!1:g.get().exists(io=>{const Xt=Z.getDockingMode(),Sn=st(io);return Sn!==Xt?(xt(Sn),!0):!1});return{isVisible:Ee,isPositionedAtTop:oe,show:()=>{Le.set(!0),To(y.outerContainer.element,"display","flex"),k.addClass(n.getBody(),"mce-edit-focus"),ut(w,io=>{fs(io.element,"display")}),ao(),Lv(n)?yo(io=>Ia.isDocked(io)?Ia.reset(io):Ia.refresh(io)):yo(Ia.refresh)},hide:()=>{Le.set(!1),To(y.outerContainer.element,"display","none"),k.removeClass(n.getBody(),"mce-edit-focus"),ut(w,io=>{To(io.element,"display","none")})},update:yo,updateMode:()=>{ao()&&yo(Ia.reset)},repositionPopups:mn}},N7=(n,s)=>{const a=fi(n);return{pos:s?a.y:a.bottom,bounds:a}},zX=(n,s,a,c)=>{const g=Mn(N7(s,a.isPositionedAtTop())),y=N=>{const{pos:z,bounds:Z}=N7(s,a.isPositionedAtTop()),{pos:oe,bounds:fe}=g.get(),ye=Z.height!==fe.height||Z.width!==fe.width;g.set({pos:z,bounds:Z}),ye&&uR(n,N),a.isVisible()&&(oe!==z?a.update(Ia.reset):ye&&(a.updateMode(),a.repositionPopups()))};c||(n.on("activate",a.show),n.on("deactivate",a.hide)),n.on("SkinLoaded ResizeWindow",()=>a.update(Ia.reset)),n.on("NodeChange keydown",N=>{requestAnimationFrame(()=>y(N))});let w=0;const k=bi(()=>a.update(Ia.refresh),33);n.on("ScrollWindow",()=>{const N=pa().left;N!==w&&(w=N,k.throttle()),a.updateMode()}),Lv(n)&&n.on("ElementScroll",N=>{a.update(Ia.refresh)});const O=Gr();O.set(Eu(yn.fromDom(n.getBody()),"load",N=>y(N.raw))),n.on("remove",()=>{O.clear()})};var UX=Object.freeze({__proto__:null,render:(n,s,a,c,g)=>{const{mainUi:y}=s,w=Do(),k=yn.fromDom(g.targetNode),O=HX(n,k,s,c,w),N=DB(n);jY(n);const z=()=>{if(w.isSet()){O.show();return}w.set(Qr.getHeader(y.outerContainer).getOrDie());const oe=LD(n);Lv(n)?(tm(k,y.mothership),tm(k,s.popupUi.mothership)):Yb(oe,y.mothership),Yb(oe,s.dialogUi.mothership);const fe=()=>{FF(n,s,a,c),Qr.setMenubar(y.outerContainer,e7(n,a)),O.show(),zX(n,k,O,N),n.nodeChanged()};N?n.once("SkinLoaded",fe):fe()};n.on("show",z),n.on("hide",O.hide),N||(n.on("focus",z),n.on("blur",O.hide)),n.on("init",()=>{(n.hasFocus()||N)&&z()}),l$(n,s);const Z={show:z,hide:O.hide,setEnabled:oe=>{Zx(s,oe?"setEnabled":"setDisabled")},isEnabled:()=>!so.isDisabled(y.outerContainer)};return{editorContainer:y.outerContainer.element.dom,api:Z}}});const H3=()=>{const n=Do(),s=Do(),a=Do();return{dialogUi:n,popupUi:s,mainUi:a,getUiMotherships:()=>{const y=n.get().map(k=>k.mothership),w=s.get().map(k=>k.mothership);return y.fold(()=>w.toArray(),k=>w.fold(()=>[k],O=>ee(k.element,O.element)?[k]:[k,O]))},lazyGetInOuterOrDie:(y,w)=>()=>a.get().bind(k=>w(k.outerContainer)).getOrDie(`Could not find ${y} element in OuterContainer`)}},B7="contexttoolbar-show",NF="contexttoolbar-hide",z3=(n,s,a)=>({setInputEnabled:c=>{!c&&a&&Bi(a),so.set(n,!c)},isInputEnabled:()=>!so.isDisabled(n),hide:()=>{Ds(n,I1())},back:()=>{Ds(n,F3)},getValue:()=>s.get().getOrThunk(()=>Vn.getValue(n)),setValue:c=>{n.getSystem().isConnected()?Vn.setValue(n,c):s.set(c)}}),yE=(n,s,a)=>{const g=kc(n.element).bind(y=>n.getSystem().getByDom(y).toOptional());return z3(g.getOr(n),s,a)},I7=(n,s,a)=>zt(HR,(c,g)=>{const y=n.get(c),w=z3(y,a,c.element);s.onAction(w,g.event.buttonApi)}),$7=(n,s,a,c)=>{const{primary:g,...y}=s.original,w=Xa(Jh({...y,type:"button",onAction:J}));return mE(w,a,[I7(n,s,c)])},VX=(n,s,a,c)=>{const{primary:g,...y}=s.original,w=Xa(NP({...y,type:"togglebutton",onAction:J}));return l7(w,a,[I7(n,s,c)])},WX=n=>n.type==="contextformtogglebutton",jX=(n,s,a,c)=>WX(s)?VX(n,s,a,c):$7(n,s,a,c),L7=(n,s,a,c)=>{const g=He(s,k=>gr(jX(n,k,a,c)));return{asSpecs:()=>He(g,k=>k.asSpec()),findPrimary:k=>es(s,(O,N)=>O.primary?F.from(g[N]).bind(z=>z.getOpt(k)).filter(Ce(so.isDisabled)):F.none())}},ZX=(n,s,a,c)=>{const{width:g,height:y}=n.initValue();let w=Kw;const k=pe("ratio-event"),O=nn=>z3(nn,c),N=nn=>im(nn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+nn]},s.icons),z=()=>!1,Z=n.label.getOr("Constrain proportions"),oe=s.translate(Z),fe=Ui.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":oe,"data-mce-name":Z}},components:[N("lock"),N("unlock")],buttonBehaviours:bn([so.config({disabled:z}),la.config({}),ha.config(s.tooltips.getConfig({tooltipText:oe}))])}),ye=nn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:nn}),Fe=nn=>au(nn.element,"div.tox-focusable-wrapper").fold(F.none,un=>(Bi(un),F.some(!0))),Le=nn=>Rs.parts.field({factory:Xh,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:nn?g:y,inputBehaviours:bn([so.config({disabled:z}),la.config({}),Wo("size-input-toolbar-events",[zt(Fu(),(mn,un)=>{So(mn,k,{isField1:nn})})]),ho.config({mode:"special",onEnter:a,onEscape:Fe})]),selectOnFocus:!1}),Ee=nn=>({dom:{tag:"label",classes:["tox-label"]},components:[Ca(s.translate(nn))]}),Xe=nn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[nn],behaviours:bn([la.config({}),Go.config({}),ho.config({mode:"special",onEnter:mn=>ur(mn.element,"input").fold(F.none,yo=>(Bi(yo),F.some(!0)))})])}),st=Xe(Ui.parts.field1(ye([Rs.parts.label(Ee("Width:")),Le(!0)]))),xt=Xe(Ui.parts.field2(ye([Rs.parts.label(Ee("Height:")),Le(!1)]))),Rt=Mn(J),Rn=[Kg({onBeforeSetup:nn=>ur(nn.element,"input").each(Bi),onSetup:n.onSetup,getApi:O},Rt),Hk({getApi:O},Rt,c)];return Ui.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[st,ye([fe]),xt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(nn,mn,un)=>{h3(Vn.getValue(nn)).each(yo=>{w(yo).each(ao=>{Vn.setValue(mn,L8(ao))})})},onInput:nn=>Ds(nn,s8),coupledFieldBehaviours:bn([Go.config({}),ho.config({mode:"flow",focusInside:en.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),so.config({disabled:z,onDisabled:nn=>{Ui.getField1(nn).bind(Rs.getField).each(so.disable),Ui.getField2(nn).bind(Rs.getField).each(so.disable),Ui.getLock(nn).each(so.disable)},onEnabled:nn=>{Ui.getField1(nn).bind(Rs.getField).each(so.enable),Ui.getField2(nn).bind(Rs.getField).each(so.enable),Ui.getLock(nn).each(so.enable)}}),Vi(()=>s.checkUiComponentContext("mode:design")),Wo("size-input-toolbar-events2",[zt(k,(nn,mn)=>{const un=mn.event.isField1,yo=un?Ui.getField1(nn):Ui.getField2(nn),ao=un?Ui.getField2(nn):Ui.getField1(nn),ks=yo.map(Vn.getValue).getOr(""),wo=ao.map(Vn.getValue).getOr("");w=z8(ks,wo)}),zt(s8,nn=>n.onInput(O(nn))),...Rn])])})},aC=(n,s,a)=>Rs.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),s],fieldBehaviours:bn([so.config({disabled:()=>a.checkUiComponentContext("mode:design").shouldDisable,onDisabled:c=>{tX(c),Rs.getField(c).each(so.disable)},onEnabled:c=>{Rs.getField(c).each(so.enable)}})])}),qX=(n,s,a,c)=>{const g=Mn(J),y=O=>yE(O,c),w=n.label.map(O=>Rs.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ca(s.translate(O))]})),k=Rs.parts.field({factory:Xh,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:O=>ci(O).getOr(n.min()),toInputValue:O=>String(O),inputBehaviours:bn([so.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Vi(()=>s.checkUiComponentContext("mode:design")),ho.config({mode:"special",onEnter:a,onLeft:(O,N)=>(N.cut(),F.none()),onRight:(O,N)=>(N.cut(),F.none())}),Wo("slider-events",[Kg({onSetup:n.onSetup,getApi:y,onBeforeSetup:ho.focusIn},g),Hk({getApi:y},g,c),zt(Hi(),O=>{n.onInput(y(O))})])])});return aC(w,k,s)},GX=(n,s,a,c)=>{const g=Mn(J),y=z=>yE(z,c),w=n.label.map(z=>Rs.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ca(s.translate(z))]})),O={...n.placeholder.map(z=>({placeholder:s.translate(z)})).getOr({})},N=Rs.parts.field({factory:Xh,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:O,data:n.initValue(),selectOnFocus:!0,inputBehaviours:bn([so.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Vi(()=>s.checkUiComponentContext("mode:design")),ho.config({mode:"special",onEnter:a,onLeft:(z,Z)=>(Z.cut(),F.none()),onRight:(z,Z)=>(Z.cut(),F.none())}),Wo("input-events",[Kg({onSetup:n.onSetup,getApi:z=>au(z.element,".tox-toolbar").bind(oe=>ur(oe,"button:enabled")).fold(()=>yE(z,c),oe=>yE(z,c,oe)),onBeforeSetup:ho.focusIn},g),Hk({getApi:y},g,c),zt(Hi(),z=>{n.onInput(y(z))})])])});return aC(w,N,s)},BF=(n,s,a)=>{const c=Do(),y=gr(n(a,N=>k.findPrimary(N).orThunk(()=>O.findPrimary(N)).map(z=>(mv(z),!0)),c)),w=Wn(s.commands,N=>N.align==="start"),k=L7(y,w.pass,a,c),O=L7(y,w.fail,a,c);return Yt([{title:F.none(),label:F.none(),items:k.asSpecs()},{title:F.none(),label:F.none(),items:[y.asSpec()]},{title:F.none(),label:F.none(),items:O.asSpecs()}],N=>N.items.length>0)},IF=(n,s)=>{switch(n.type){case"contextform":return BF(ct(GX,n),n,s);case"contextsliderform":return BF(ct(qX,n),n,s);case"contextsizeinputform":return BF(ct(ZX,n),n,s)}},H7={renderContextForm:(n,s,a)=>_3({type:n,uid:pe("context-toolbar"),initGroups:IF(s,a),onEscape:F.none,cyclicKeying:!0,providers:a}),buildInitGroups:IF},z7=(n,s,a)=>s.bottom-n.y>=a&&n.bottom-s.y>=a,KX=n=>{const s=n.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=yd(yn.fromDom(n.startContainer),n.startOffset).element;return(jd(a)?kc(a):F.some(a)).filter(tc).map(g=>g.dom.getBoundingClientRect()).getOr(s)}else return s},$F=n=>{const s=n.selection.getRng(),a=KX(s);if(n.inline){const c=pa();return Pi(c.left+a.left,c.top+a.top,a.width,a.height)}else{const c=Xd(yn.fromDom(n.getBody()));return Pi(c.x+a.left,c.y+a.top,a.width,a.height)}},YX=(n,s)=>s.filter(a=>As(a)&&Pe(a)).map(Xd).getOrThunk(()=>$F(n)),XX=(n,s,a)=>{const c=Math.max(n.x+a,s.x),g=Math.min(n.right-a,s.right);return{x:c,width:g-c}},wE=(n,s,a,c,g,y)=>{const w=yn.fromDom(n.getContainer()),k=ur(w,".tox-editor-header").getOr(w),O=fi(k),N=O.y>=s.bottom,z=c&&!N;if(n.inline&&z)return{y:Math.max(O.bottom+y,a.y),bottom:a.bottom};if(n.inline&&!z)return{y:a.y,bottom:Math.min(O.y-y,a.bottom)};const Z=g==="line"?fi(w):s;return z?{y:Math.max(O.bottom+y,a.y),bottom:Math.min(Z.bottom-y,a.bottom)}:{y:Math.max(Z.y+y,a.y),bottom:Math.min(O.y-y,a.bottom)}},LF=(n,s,a,c=0)=>{const g=Lf(window),y=fi(yn.fromDom(n.getContentAreaContainer())),w=Ow(n)||Dw(n)||$v(n),{x:k,width:O}=XX(y,g,c);if(n.inline&&!w)return Pi(k,g.y,O,g.height);{const N=s.header.isPositionedAtTop(),{y:z,bottom:Z}=wE(n,y,g,N,a,c);return Pi(k,z,O,Z-z)}},U3=12,U7={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},HF={maxHeightFunction:G1(),maxWidthFunction:Fb()},zF=(n,s)=>{const a=n.selection.getRng(),c=yd(yn.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&ee(c.element,s)},V7=(n,s,a)=>{const c=Er(n,"position");To(n,"position",s);const g=a(n);return c.each(y=>To(n,"position",y)),g},UF=n=>n==="node",QX=(n,s,a,c,g)=>{const y=$F(n),w=c.lastElement().exists(k=>ee(a,k));if(zF(n,a))return w?Bu:Uc;if(w)return V7(s,c.getMode(),()=>z7(y,fi(s),-20)&&!c.isReposition()?Bm:Bu);{const k=c.getMode()==="fixed"?g.y+pa().top:g.y,O=Ea(s)+U3;return k+O<=y.y?Uc:uv}},iC=(n,s,a,c)=>{const g=O=>(N,z,Z,oe,fe)=>{const ye=QX(n,oe,O,a,fe),Fe={...N,y:fe.y,height:fe.height};return{...ye(Fe,z,Z,oe,fe),alwaysFit:!0}},y=O=>UF(c)?[g(O)]:[];return s?{onLtr:O=>[ol,vl,nl,pc,jl,Ba].concat(y(O)),onRtl:O=>[ol,nl,vl,jl,pc,Ba].concat(y(O))}:{onLtr:O=>[Ba,ol,pc,vl,jl,nl].concat(y(O)),onRtl:O=>[Ba,ol,jl,nl,pc,vl].concat(y(O))}},V3=(n,s,a,c)=>s==="line"?{bubble:Nd(U3,0,U7),layouts:{onLtr:()=>[iv],onRtl:()=>[LC]},overrides:HF}:{bubble:Nd(0,U3,U7,1/U3),layouts:iC(n,a,c,s),overrides:HF},lC=(n,s)=>{const a=Yt(s,y=>y.predicate(n.dom)),{pass:c,fail:g}=Wn(a,y=>y.type==="contexttoolbar");return{contextToolbars:c,contextForms:g}},VF=n=>{if(n.length<=1)return n;{const s=y=>Mt(n,w=>w.position===y),a=y=>Yt(n,w=>w.position===y),c=s("selection"),g=s("node");if(c||g)if(g&&c){const y=a("node"),w=He(a("selection"),k=>({...k,position:"node"}));return y.concat(w)}else return a(c?"selection":"node");else return a("line")}},WF=n=>{if(n.length<=1)return n;{const s=c=>Re(n,g=>g.position===c);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(c=>c.position).fold(()=>[],c=>Yt(n,g=>g.position===c))}},W7=(n,s,a)=>{const c=lC(n,s);if(c.contextForms.length>0)return F.some({elem:n,toolbars:[c.contextForms[0]]});{const g=lC(n,a);if(g.contextForms.length>0)return F.some({elem:n,toolbars:[g.contextForms[0]]});if(c.contextToolbars.length>0||g.contextToolbars.length>0){const y=VF(c.contextToolbars.concat(g.contextToolbars));return F.some({elem:n,toolbars:y})}else return F.none()}},W3=(n,s,a)=>n(s)?F.none():gg(s,c=>{if(tc(c)){const{contextToolbars:g,contextForms:y}=lC(c,a.inNodeScope),w=y.length>0?y:WF(g);return w.length>0?F.some({elem:c,toolbars:w}):F.none()}else return F.none()},n),j7=(n,s)=>{const a=yn.fromDom(s.getBody()),c=w=>ee(w,a),g=w=>!c(w)&&!_e(a,w),y=yn.fromDom(s.selection.getNode());return g(y)?F.none():W7(y,n.inNodeScope,n.inEditorScope).orThunk(()=>W3(c,y,n))},Z7=(n,s)=>{const a={},c=[],g=[],y={},w={},k=(z,Z)=>{const oe=Xa(rq(Z));a[z]=oe,oe.launch.map(fe=>{y["form:"+z]={...Z.launch,type:fe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(oe)}}}),oe.scope==="editor"?g.push(oe):c.push(oe),w[z]=oe},O=(z,Z)=>{iq(Z).each(oe=>{oe.launch.isSome()&&(y["toolbar:"+z]={...Z.launch,type:"button",onAction:()=>{s(oe)}}),Z.scope==="editor"?g.push(oe):c.push(oe),w[z]=oe})},N=vo(n);return ut(N,z=>{const Z=n[z];Z.type==="contextform"||Z.type==="contextsliderform"||Z.type==="contextsizeinputform"?k(z,Z):Z.type==="contexttoolbar"&&O(z,Z)}),{forms:a,inNodeScope:c,inEditorScope:g,lookupTable:w,formNavigators:y}},CE="tox-pop--transition",JX=n=>n===B3.ENTER||n===B3.SPACEBAR,q7=(n,s,a,c)=>{const g=c.backstage,y=g.shared,w=Va().deviceType.isTouch,k=Do(),O=Do(),N=Do(),z=TF({sink:a,onEscape:()=>(n.focus(),dR(n),F.some(!0)),onHide:()=>{dR(n)},onBack:()=>{fR(n)},focusElement:wo=>{n.getBody().contains(wo.dom)?n.focus():Bi(wo)}}),Z=C(z.sketch),oe=()=>{const wo=N.get().getOr("node"),Qo=UF(wo)?1:0;return LF(n,y,wo,Qo)},fe=()=>!n.removed&&!(w()&&g.isContextMenuOpen()),ye=wo=>ro($s(wo,k.get(),ee),!0),Fe=()=>{if(fe()){const wo=oe(),Qo=ro(N.get(),"node")?YX(n,k.get()):$F(n);return wo.height<=0||!z7(Qo,wo,.01)}else return!0},Le=()=>{k.clear(),O.clear(),N.clear(),Ja.hide(Z)},Ee=()=>{if(Ja.isOpen(Z)){const wo=Z.element;fs(wo,"display"),Fe()?To(wo,"display","none"):(O.set(0),Ja.reposition(Z))}},Xe=wo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[wo],behaviours:bn([ho.config({mode:"acyclic"}),Wo("pop-dialog-wrap-events",[ga(Qo=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>ho.focusIn(Qo))}),Qf(Qo=>{n.shortcuts.remove("ctrl+F9")})])])}),st=wo=>{const Qo=nn([wo]);So(Z,u7,{forwardContents:Xe(Qo)})},xt=il(()=>Z7(s,st)),Rt=(wo,Qo)=>I3(n,{buttons:wo,toolbar:Qo.items,allowToolbarGroups:!1},c.backstage,F.some(["form:","toolbar:"])),Rn=(wo,Qo)=>H7.buildInitGroups(wo,Qo),nn=wo=>{const{buttons:Qo}=n.ui.registry.getAll(),io=xt(),Xt={...Qo,...io.formNavigators},Sn=gy(n)===am.scrolling?am.scrolling:am.default,Mo=qe(He(wo,ls=>ls.type==="contexttoolbar"?Rt(Xt,IP(ls)):Rn(ls,y.providers)));return _3({type:Sn,uid:pe("context-toolbar"),initGroups:Mo,onEscape:F.none,cyclicKeying:!0,providers:y.providers})},mn=(wo,Qo)=>{const io=wo==="node"?y.anchors.node(Qo):y.anchors.cursor(),Xt=V3(n,wo,w(),{lastElement:k.get,isReposition:()=>ro(O.get(),0),getMode:()=>Lu.getMode(a)});return tn(io,Xt)},un=(wo,Qo)=>{if(ks.cancel(),!fe())return;const io=nn(wo),Xt=wo[0].position,Sn=mn(Xt,Qo);N.set(Xt),O.set(1);const Mo=Z.element;fs(Mo,"display"),ye(Qo)||(na(Mo,CE),Lu.reset(a,Z)),Ja.showWithinBounds(Z,Xe(io),{anchor:Sn,transition:{classes:[CE],mode:"placement"}},()=>F.some(oe())),Qo.fold(k.clear,k.set),Fe()&&To(Mo,"display","none")},yo=()=>{To(Z.element,"transition","none"),Ee(),fs(Z.element,"transition")};let ao=!1;const ks=bi(()=>{if(!(!n.hasFocus()||n.removed||ao))if(Za(Z.element,CE))ks.throttle();else{const wo=xt();j7(wo,n).fold(Le,Qo=>{un(Qo.toolbars,F.some(Qo.elem))})}},17);n.on("init",()=>{n.on("remove",Le),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ee),n.on("click focus SetContent",ks.throttle),n.on("keyup",wo=>{(!JX(wo.keyCode)||!z.inSubtoolbar())&&ks.throttle()}),n.on(NF,Le),n.on(B7,wo=>{const Qo=xt();sn(Qo.lookupTable,wo.toolbarKey).each(io=>{un([io],sa(wo.target!==n,wo.target)),c7(Z)})}),n.on("focusout",wo=>{pk.setEditorTimeout(n,()=>{Ra(a.element).isNone()&&Ra(Z.element).isNone()&&!n.hasFocus()&&Le()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&Le()}),n.on("DisabledStateChange",wo=>{wo.state&&Le()}),n.on("ExecCommand",({command:wo})=>{wo.toLowerCase()==="toggleview"&&Le()}),n.on("AfterProgressState",wo=>{wo.state?Le():n.hasFocus()&&ks.throttle()}),n.on("dragstart",()=>{ao=!0}),n.on("dragend drop",()=>{ao=!1}),n.on("NodeChange",wo=>{z.inSubtoolbar()?yo():Ra(Z.element).fold(ks.throttle,J)})})},eQ=n=>{ut([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{n.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:$d(n,a.cmd),onSetup:Xx(n,a.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:bc(n),onAction:$d(n,"JustifyNone")})},G7=(n,s)=>{const a=()=>{const c=s.getOptions(n),g=s.getCurrent(n).map(s.hash),y=Do();return He(c,w=>({type:"togglemenuitem",text:s.display(w),onSetup:k=>{const O=z=>{z&&(y.on(Z=>Z.setActive(!1)),y.set(k)),k.setActive(z)};O(ro(g,s.hash(w)));const N=s.watcher(n,w,O);return()=>{y.clear(),N()}},onAction:()=>s.setCurrent(n,w)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:c=>c(a()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},j3=n=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:jB,hash:s=>wa(s,["fixed","relative","empty"]).getOr(s),display:Ze,watcher:(s,a,c)=>s.formatter.formatChanged("lineheight",c,!1,{value:a}).unbind,getCurrent:s=>F.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:bc(n),onMenuSetup:bc(n)}),K7=n=>F.from(TB(n)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:G(a),hash:c=>Me(c.customCode)?c.code:`${c.code}/${c.customCode}`,display:c=>c.title,watcher:(c,g,y)=>c.formatter.formatChanged("lang",y,!1,{value:g.code,customValue:g.customCode??null}).unbind,getCurrent:c=>{const g=yn.fromDom(c.selection.getNode());return ku(g,y=>F.some(y).filter(tc).bind(w=>Ei(w,"lang").map(O=>{const N=Ei(w,"data-mce-lang").getOrUndefined();return{code:O,customCode:N,title:""}})))},setCurrent:(c,g)=>c.execCommand("Lang",!1,g),onToolbarSetup:c=>{const g=Gr();return c.setActive(n.formatter.match("lang",{},void 0,!0)),g.set(n.formatter.formatChanged("lang",c.setActive,!0)),Py(g.clear,bc(n)(c))},onMenuSetup:bc(n)})),tQ=n=>{G7(n,j3(n)),K7(n).each(s=>G7(n,s))},nQ=(n,s)=>{aX(n,s),dX(n,s),sC(n,s),lX(n,s),O7(n,s)},oQ=n=>{n.ui.registry.addContext("editable",()=>n.selection.isEditable()),n.ui.registry.addContext("mode",s=>n.mode.get()===s),n.ui.registry.addContext("any",lt),n.ui.registry.addContext("formatting",s=>n.formatter.canApply(s)),n.ui.registry.addContext("insert",s=>n.schema.isValidChild(n.selection.getNode().tagName,s))},sQ=n=>Zv(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),rQ=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:sQ(n),onAction:$d(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:bc(n,()=>n.queryCommandState("indent")),onAction:$d(n,"indent")})},Y7=n=>{rQ(n)},jF=(n,s)=>a=>{a.setActive(s.get());const c=g=>{s.set(g.state),a.setActive(g.state)};return n.on("PastePlainTextToggle",c),Py(()=>n.off("PastePlainTextToggle",c),bc(n)(a))},X7=n=>{const s=Mn(HB(n)),a=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:jF(n,s)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:jF(n,s)})},Z3=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},aQ=n=>{o1.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Xx(n,s.name),onAction:Z3(n,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const a="h"+s,c=`Access+${s}`;n.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:Xx(n,a),onAction:Z3(n,a),shortcut:c})}},Q7=n=>{o1.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:$d(n,s.action),shortcut:s.shortcut,context:s.context})}),o1.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:bc(n),onAction:$d(n,s.action)})})},J7=n=>{o1.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:$d(n,s.action),onSetup:Xx(n,s.name)})})},iQ=n=>{aQ(n),Q7(n),J7(n)},Ine=n=>{o1.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:$d(n,s.action),context:s.context})}),o1.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{n.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:bc(n),onAction:$d(n,s.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:bc(n),onAction:Z3(n,"code")})},lQ=n=>{iQ(n),Ine(n)},q3=(n,s)=>Zv(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),cQ=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:q3(n,"hasUndo"),onAction:$d(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:q3(n,"hasRedo"),onAction:$d(n,"redo")})},uQ=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:q3(n,"hasUndo"),onAction:$d(n,"undo"),shortcut:"Meta+Z"}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:q3(n,"hasRedo"),onAction:$d(n,"redo"),shortcut:"Meta+Y"})},dQ=n=>{cQ(n),uQ(n)},fQ=n=>Zv(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),mQ=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:fQ(n),onAction:$d(n,"mceToggleVisualAid"),context:"any"})},pQ=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:$d(n,"mceToggleVisualAid"),context:"any"})},gQ=n=>{pQ(n),mQ(n)},hQ=(n,s)=>{eQ(n),lQ(n),nQ(n,s),dQ(n),V$(n),gQ(n),Y7(n),tQ(n),X7(n),oQ(n)},vQ=n=>H(n)?n.split(/[ ,]/):n,e9=n=>s=>s.options.get(n),bQ=n=>{const s=n.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:H(a)||it(a,H)?{value:vQ(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},ZF=e9("contextmenu_never_use_native"),yQ=e9("contextmenu_avoid_overlap"),wQ=n=>t9(n).length===0,t9=n=>{const s=n.ui.registry.getAll().contextMenus,a=n.options.get("contextmenu");return n.options.isSet("contextmenu")?a:Yt(a,c=>Ho(s,c))},SE=(n,s)=>({type:"makeshift",x:n,y:s}),CQ=(n,s,a)=>SE(n.x+s,n.y+a),qF=n=>n.type==="longpress"||n.type.indexOf("touch")===0,GF=n=>{if(qF(n)){const s=n.touches[0];return SE(s.pageX,s.pageY)}else return SE(n.pageX,n.pageY)},SQ=n=>{if(qF(n)){const s=n.touches[0];return SE(s.clientX,s.clientY)}else return SE(n.clientX,n.clientY)},n9=(n,s)=>{const a=Aw.DOM.getPos(n);return CQ(s,a.x,a.y)},xQ=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?GF(s):n9(n.getContentAreaContainer(),SQ(s)):o9(n),o9=n=>({type:"selection",root:yn.fromDom(n.selection.getNode())}),EQ=n=>({type:"node",node:F.some(yn.fromDom(n.selection.getNode())),root:yn.fromDom(n.getBody())}),s9=(n,s,a)=>{switch(a){case"node":return EQ(n);case"point":return xQ(n,s);case"selection":return o9(n)}},AQ=(n,s,a,c,g,y)=>{const w=a(),k=s9(n,s,y);S0(w,qp.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:F.none()}).map(O=>{s.preventDefault(),Ja.showMenuAt(g,{anchor:k},{menu:{markers:Qh("normal")},data:O})})},KF={onLtr:()=>[ol,vl,nl,pc,jl,Ba,Uc,uv,Nu,x2,q1,Pb],onRtl:()=>[ol,nl,vl,jl,pc,Ba,Uc,uv,q1,Pb,Nu,x2]},TQ=12,kQ={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},YF=(n,s)=>{const a=n.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const c=s.touches[0],g=a.getRng();return wf(n.getWin(),Dl.domRange(g)).exists(w=>w.left<=c.clientX&&w.right>=c.clientX&&w.top<=c.clientY&&w.bottom>=c.clientY)}},r9=n=>{const s=n.selection.getRng(),a=()=>{pk.setEditorTimeout(n,()=>{n.selection.setRng(s)},10),y()};n.once("touchend",a);const c=w=>{w.preventDefault(),w.stopImmediatePropagation()};n.on("mousedown",c,!0);const g=()=>y();n.once("longpresscancel",g);const y=()=>{n.off("touchend",a),n.off("longpresscancel",g),n.off("mousedown",c)}},a9=(n,s,a)=>{const c=s9(n,s,a);return{bubble:Nd(0,a==="point"?TQ:0,kQ),layouts:KF,overrides:{maxWidthFunction:Fb(),maxHeightFunction:G1()},...c}},_Q=(n,s,a,c,g,y,w)=>{const k=a9(n,s,y);S0(a,qp.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!0,search:F.none()}).map(O=>{s.preventDefault();const N=w?Vc.HighlightMenuAndItem:Vc.HighlightNone;Ja.showMenuWithinBounds(g,{anchor:k},{menu:{markers:Qh("normal"),highlightOnOpen:N},data:O,type:"horizontal"},()=>F.some(LF(n,c.shared,y==="node"?"node":"selection"))),n.dispatch(NF)})},OQ=(n,s,a,c,g,y)=>{const w=Va(),k=w.os.isiOS(),O=w.os.isMacOS(),N=w.os.isAndroid(),z=w.deviceType.isTouch(),Z=()=>!(N||k||O&&z),oe=()=>{const fe=a();_Q(n,s,fe,c,g,y,Z())};if((O||k)&&y!=="node"){const fe=()=>{r9(n),oe()};YF(n,s)?fe():(n.once("selectionchange",fe),n.once("touchend",()=>n.off("selectionchange",fe)))}else oe()},i9=n=>H(n)?n==="|":n.type==="separator",XF={type:"separator"},l9=n=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(H(n))return n;switch(n.type){case"separator":return XF;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const c=n.getSubmenuItems();return H(c)?c:He(c,l9)}};default:const a=n;return{type:"menuitem",...s(a),onAction:dt(a.onAction)}}},G3=(n,s)=>{if(s.length===0)return n;const c=Fn(n).filter(g=>!i9(g)).fold(()=>[],g=>[XF]);return n.concat(c).concat(s).concat([XF])},DQ=(n,s,a)=>{const c=Cn(s,(g,y)=>sn(n,y.toLowerCase()).map(w=>{const k=w.update(a);if(H(k)&&Yl(An(k)))return G3(g,k.split(" "));if(ae(k)&&k.length>0){const O=He(k,l9);return G3(g,O)}else return g}).getOrThunk(()=>g.concat([y])),[]);return c.length>0&&i9(c[c.length-1])&&c.pop(),c},c9=(n,s)=>s.ctrlKey&&!ZF(n),PQ=n=>n.type==="longpress"||Ho(n,"touches"),u9=(n,s)=>!PQ(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),K3=(n,s)=>u9(n,s)?n.selection.getStart(!0):s.target,RQ=(n,s)=>{const a=yQ(n),c=u9(n,s)?"selection":"point";if(Yl(a)){const g=K3(n,s);return Tu(yn.fromDom(g),a)?"node":c}else return c},d9=(n,s,a)=>{const g=Va().deviceType.isTouch,y=C(Ja.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:bn([Wo("dismissContextMenu",[zt(Om(),(O,N)=>{ir.close(O),n.focus()})])])})),w=()=>Ja.hide(y),k=O=>{if(ZF(n)&&O.preventDefault(),c9(n,O)||wQ(n))return;const N=RQ(n,O),z=()=>{const oe=K3(n,O),fe=n.ui.registry.getAll(),ye=t9(n);return DQ(fe.contextMenus,ye,oe)};(g()?OQ:AQ)(n,O,z,a,y,N)};n.on("init",()=>{const O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(g()?"":" ResizeWindow");n.on(O,w),n.on("longpress contextmenu",k)})},xE=40,Y3=xE/2,f9=(n,s,a,c,g,y)=>n.fold(()=>i0.snap({sensor:Bp(a-Y3,c-Y3),range:mr(g,y),output:Bp(F.some(a),F.some(c)),extra:{td:s}}),w=>{const k=a-Y3,O=c-Y3,N=xE,z=xE,Z=w.element.dom.getBoundingClientRect();return i0.snap({sensor:Bp(k,O),range:mr(N,z),output:Bp(F.some(a-Z.width/2),F.some(c-Z.height/2)),extra:{td:s}})}),m9=(n,s,a)=>{const c=(g,y)=>g.exists(w=>ee(w,y));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(g,y)=>{const w=y.td;c(s.get(),w)||(s.set(w),a(w))},mustSnap:!0}},p9=n=>gr(Rl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:bn([i0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),$g.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),FQ=(n,s)=>{const a=Mn([]),c=Mn([]),g=Mn(!1),y=Do(),w=Do(),k=nn=>{const mn=Xd(nn);return f9(fe.getOpt(s),nn,mn.x,mn.y,mn.width,mn.height)},O=()=>He(a.get(),nn=>k(nn)),N=nn=>{const mn=Xd(nn);return f9(ye.getOpt(s),nn,mn.right,mn.bottom,mn.width,mn.height)},z=()=>He(c.get(),nn=>N(nn)),Z=m9(O,y,nn=>{w.get().each(mn=>{n.dispatch("TableSelectorChange",{start:nn,finish:mn})})}),oe=m9(z,w,nn=>{y.get().each(mn=>{n.dispatch("TableSelectorChange",{start:mn,finish:nn})})}),fe=p9(Z),ye=p9(oe),Fe=C(fe.asSpec()),Le=C(ye.asSpec()),Ee=(nn,mn,un,yo)=>{const ao=mn.dom.getBoundingClientRect();fs(nn.element,"display");const ks=cg(yn.fromDom(n.getBody())).dom.innerHeight,wo=un(ao),Qo=yo(ao,ks);(wo||Qo)&&To(nn.element,"display","none")},Xe=(nn,mn,un,yo)=>{const ao=un(mn);i0.snapTo(nn,ao),Ee(nn,mn,Qo=>Qo[yo]<0,(Qo,io)=>Qo[yo]>io)},st=nn=>Xe(Fe,nn,k,"top"),xt=()=>y.get().each(st),Rt=nn=>Xe(Le,nn,N,"bottom"),Rn=()=>w.get().each(Rt);if(Va().deviceType.isTouch()){const nn=mn=>He(mn,yn.fromDom);n.on("TableSelectionChange",mn=>{g.get()||(Dg(s,Fe),Dg(s,Le),g.set(!0));const un=yn.fromDom(mn.start),yo=yn.fromDom(mn.finish);y.set(un),w.set(yo),F.from(mn.otherCells).each(ao=>{a.set(nn(ao.upOrLeftCells)),c.set(nn(ao.downOrRightCells)),st(un),Rt(yo)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{xt(),Rn()}),n.on("TableSelectionClear",()=>{g.get()&&(Rg(Fe),Rg(Le),g.set(!1)),y.clear(),w.clear()})}};var g9=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const MQ=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",NQ=(n,s,a)=>{const c=s.delimiter??"",g=(O,N,z)=>Rl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":z}},components:[Ca(O)],action:Z=>{n.focus(),n.selection.select(N),n.nodeChanged()},buttonBehaviours:bn([ha.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",N.nodeName.toLowerCase()]),onShow:(Z,oe)=>{_u(Z.element,oe.element)},onHide:Z=>{z0(Z.element)}})}),Gg.button(a.isDisabled),Vi(()=>a.checkUiComponentContext("any"))])}),y=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ca(` ${c} `)]}),w=O=>Cn(O,(N,z,Z)=>{const oe=g(z.name,z.element,Z);return Z===0?N.concat([oe]):N.concat([y(),oe])},[]),k=O=>{const N=[];let z=O.length;for(;z-- >0;){const Z=O[z];if(Z.nodeType===1&&!MQ(Z)){const oe=Gq(n,Z);if(oe.isDefaultPrevented()||N.push({name:oe.name,element:Z}),oe.isPropagationStopped())break}}return N};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:bn([ho.config({mode:"flow",selector:"div[role=button]"}),so.config({disabled:a.isDisabled}),Vi(()=>a.checkUiComponentContext("any")),la.config({}),Xo.config({}),Wo("elementPathEvents",[ga((O,N)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ho.focusIn(O)),n.on("NodeChange",z=>{const Z=k(z.parents),oe=Z.length>0?w(Z):[];Xo.set(O,oe)})})])]),components:[]}};var a1;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(a1||(a1={}));const h9=n=>{const s=yn.fromDom(n.getContainer()),a=Ea(s),c=ja(s);return{height:a,width:c}},BQ=(n,s,a,c)=>{const g=L3(c.height+s.top,DD(n),PD(n));return a===a1.Both?{height:g,width:L3(c.width+s.left,OD(n),hk(n))}:{height:g}},v9=(n,s,a)=>{const c=yn.fromDom(n.getContainer()),g=h9(n),y=BQ(n,s,a,g);return Bo(y,(w,k)=>{ot(w)&&To(c,k,$3(w))}),cR(n),y},IQ=n=>{const s=LB(n);return s===!1?a1.None:s==="both"?a1.Both:a1.Vertical},$Q=(n,s)=>s===a1.Both?zu.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",n.height,n.width]):zu.translate(["Editor's height: {0} pixels",n.height]),QF=(n,s,a)=>{Ao(n.element,"aria-valuetext",$Q(s,a))},X3=(n,s,a,c,g)=>{const w=mr(c*20,g*20),k=v9(n,w,a);return QF(s,k,a),F.some(!0)},b9=(n,s)=>{const a=IQ(n);if(a===a1.None)return F.none();const c=a===a1.Both?zu.translate("Press the arrow keys to resize the editor."):zu.translate("Press the Up and Down arrow keys to resize the editor."),g=a===a1.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return F.some(im("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",g],attributes:{"aria-label":s.translate(c),"data-mce-name":"resize-handle",role:"separator"},behaviours:[i0.config({mode:"mouse",repositionTarget:!1,onDrag:(y,w,k)=>{const O=v9(n,k,a);QF(y,O,a)},blockerClass:"tox-blocker"}),ho.config({mode:"special",onLeft:y=>X3(n,y,a,-1,0),onRight:y=>X3(n,y,a,1,0),onUp:y=>X3(n,y,a,0,-1),onDown:y=>X3(n,y,a,0,1)}),la.config({}),Go.config({}),ha.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),Wo("set-aria-valuetext",[ga(y=>{const w=()=>{QF(y,h9(n),a)};n._skinLoaded?w():n.once("SkinLoaded",w)})])],eventOrder:{[Ef()]:["add-focusable","set-aria-valuetext"]}},s.icons))},LQ=(n,s)=>{const a=(c,g,y)=>Xo.set(c,[Ca(s.translate(["{0} "+y,g[y]]))]);return Rl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:bn([Gg.button(s.isDisabled),Vi(()=>s.checkUiComponentContext("any")),la.config({}),Xo.config({}),Vn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Wo("wordcount-events",[Ih(c=>{const g=Vn.getValue(c),y=g.mode==="words"?"characters":"words";Vn.setValue(c,{mode:y,count:g.count}),a(c,g.count,y)}),ga(c=>{n.on("wordCountUpdate",g=>{const{mode:y}=Vn.getValue(c);Vn.setValue(c,{mode:y,count:g.wordCount}),a(c,g.wordCount,y)})})])]),eventOrder:{[gl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},y9=(n,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",g9.trim()])},behaviours:bn([Go.config({})])}]}),c=()=>{const k=KP("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ca(zu.translate(["Press {0} for help",k]))]}},g=()=>{const k=[];return n.hasPlugin("wordcount")&&k.push(LQ(n,s)),ID(n)&&k.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}},y=()=>{const k=[],O=VB(n),N=$B(n),z=ID(n)||n.hasPlugin("wordcount"),Z=()=>{const oe="tox-statusbar__text-container--flex-start",fe="tox-statusbar__text-container--flex-end",ye="tox-statusbar__text-container--space-around";if(O){const Fe="tox-statusbar__text-container-3-cols";return!z&&!N?[Fe,ye]:z&&!N?[Fe,fe]:[Fe,oe]}return[z&&!N?fe:oe]};return N&&k.push(NQ(n,{},s)),O&&k.push(c()),z&&k.push(g()),k.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Z()]},components:k}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const k=y(),O=b9(n,s);return k.concat(O.toArray())})()}},w9=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),HQ=(n,s)=>{const a=n.inline,c=a?UX:MX,g=Rw(n)?cY:oY,y=H3(),w=Do(),k=Do(),O=Do(),oe=Va().deviceType.isTouch()?["tox-platform-touch"]:[],fe=wk(n),ye=gy(n),Fe=gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Le=gr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ee=()=>y.mainUi.get().map(uo=>uo.outerContainer).bind(Qr.getHeader),Xe=()=>Kn.fromOption(y.dialogUi.get().map(uo=>uo.sink),"UI has not been rendered"),st=()=>Kn.fromOption(y.popupUi.get().map(uo=>uo.sink),"(popup) UI has not been rendered"),xt=y.lazyGetInOuterOrDie("anchor bar",Fe.getOpt),Rt=y.lazyGetInOuterOrDie("bottom anchor bar",Le.getOpt),Rn=y.lazyGetInOuterOrDie("toolbar",Qr.getToolbar),nn=y.lazyGetInOuterOrDie("throbber",Qr.getThrobber),mn=eY({popup:st,dialog:Xe},n,xt,Rt),un=()=>{const uo={attributes:{[E2]:fe?Tg.BottomToTop:Tg.TopToBottom}},ss=Qr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:mn.popup,onEscape:()=>{n.focus()}}),jr=Qr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:mn.popup.shared.getSink,providers:mn.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:i1=>{Kq(n,i1)},type:ye,lazyToolbar:Rn,lazyHeader:()=>Ee().getOrDie("Could not find header element"),...uo}),hr=Qr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:mn.popup.shared.providers,onEscape:()=>{n.focus()},type:ye}),bu=$v(n),$a=Dw(n),cf=Ow(n),yc=UB(n),um=yo(yc),Gc=bu||$a||cf,ep=()=>bu?[hr]:$a?[jr]:[],Xv=[um,ss];return Qr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Gc?[]:["tox-editor-header--empty"]),...uo},components:qe([cf?Xv:[],ep(),Pw(n)?[]:[Fe.asSpec()]]),sticky:Rw(n),editor:n,sharedBackstage:mn.popup.shared})},yo=uo=>Qr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:uo}),ao=()=>{const uo=Qr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ss=Qr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[uo,ss]}},ks=()=>{const uo=LD(n),ss=ee(ac(),uo)&&Ur(uo,"display")==="grid",jr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(oe),attributes:{...zu.isRtl()?{dir:"rtl"}:{}}},behaviours:bn([Lu.config({useFixed:()=>g.isDocked(Ee)})])},hr={dom:{styles:{width:document.body.clientWidth+"px"}},events:Oa([zt(ai(),cf=>{To(cf.element,"width",document.body.clientWidth+"px")})])},bu=C(tn(jr,ss?hr:{})),$a=OO(bu);return k.set($a),{sink:bu,mothership:$a}},wo=()=>{const uo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(oe),attributes:{...zu.isRtl()?{dir:"rtl"}:{}}},behaviours:bn([Lu.config({useFixed:()=>g.isDocked(Ee),getBounds:()=>s.getPopupSinkBounds()})])},ss=C(uo),jr=OO(ss);return O.set(jr),{sink:ss,mothership:jr}},Qo=()=>{const uo=un(),ss=ao(),jr=Qr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:mn.popup}),hr=Qr.parts.viewWrapper({backstage:mn.popup}),bu=IB(n)&&!a?F.some(y9(n,mn.popup.shared.providers)):F.none(),$a=qe([fe?[]:[uo],a?[]:[ss],fe?[uo]:[]]),cf=Qr.parts.editorContainer({components:qe([$a,a?[]:[Le.asSpec()]])}),yc=HD(n),um={role:"application",...zu.isRtl()?{dir:"rtl"}:{},...yc?{"aria-hidden":"true"}:{}},Gc=C(Qr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(fe?["tox-tinymce--toolbar-bottom"]:[]).concat(oe),styles:{visibility:"hidden",...yc?{opacity:"0",border:"0"}:{}},attributes:um},components:[cf,...a?[]:[hr,...bu.toArray()],jr],behaviours:bn([Vi(()=>mn.popup.shared.providers.checkUiComponentContext("any")),so.config({disableClass:"tox-tinymce--disabled"}),ho.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ep=OO(Gc);return w.set(ep),{mothership:ep,outerContainer:Gc}},io=uo=>{const ss=$3($X(n)),jr=$3(LX(n));return n.inline||(ma("div","width",jr)&&To(uo.element,"width",jr),ma("div","height",ss)?To(uo.element,"height",ss):To(uo.element,"height","400px")),ss},Xt=uo=>{n.addShortcut("alt+F9","focus menubar",()=>{Qr.focusMenubar(uo)}),n.addShortcut("alt+F10","focus toolbar",()=>{Qr.focusToolbar(uo)}),n.addCommand("ToggleToolbarDrawer",(ss,jr,hr)=>{jr?.skipFocus?(tY("skipFocus"),Qr.toggleToolbarDrawerWithoutFocusing(uo)):hr?.skip_focus?Qr.toggleToolbarDrawerWithoutFocusing(uo):Qr.toggleToolbarDrawer(uo)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Qr.isToolbarDrawerToggled(uo)),n.on("blur",()=>{gy(n)===am.floating&&Qr.isToolbarDrawerToggled(uo)&&Qr.toggleToolbarDrawerWithoutFocusing(uo)})},Sn=uo=>{const{mainUi:ss,popupUi:jr,uiMotherships:hr}=uo;ds(_B(n),(l1,AE)=>{n.ui.registry.addGroupToolbarButton(AE,l1)});const{buttons:bu,menuItems:$a,contextToolbars:cf,sidebars:yc,views:um}=n.ui.registry.getAll(),Gc=kx(n),ep={menuItems:$a,menus:qB(n),menubar:RB(n),toolbar:Gc.getOrThunk(()=>bk(n)),allowToolbarGroups:ye===am.floating,buttons:bu,sidebar:yc,views:um};Xt(ss.outerContainer),dF(n,ss.mothership,hr),g.setup(n,mn.popup.shared,Ee),hQ(n,mn.popup),d9(n,mn.popup.shared.getSink,mn.popup),fY(n),vY(n,nn,mn.popup.shared),q7(n,cf,jr.sink,{backstage:mn.popup}),FQ(n,jr.sink);const Xv=n.getElement(),i1=io(ss.outerContainer),cC={targetNode:Xv,height:i1};return c.render(n,uo,ep,mn.popup,cC)},Mo=uo=>(O.set(uo.mothership),uo),ls=()=>{const uo=Qo(),ss=ks(),jr=Lv(n)?wo():Mo(ss);y.dialogUi.set(ss),y.popupUi.set(jr),y.mainUi.set(uo);const hr={popupUi:jr,dialogUi:ss,mainUi:uo,uiMotherships:y.getUiMotherships()};return Sn(hr)};return{popups:{backstage:mn.popup,getMothership:()=>w9("popups",O)},dialogs:{backstage:mn.dialog,getMothership:()=>w9("dialogs",k)},renderUI:ls}},C9=n=>{const s=[],a={};return Bo(n,(c,g)=>{c.fold(()=>{s.push(g)},y=>{a[g]=y})}),s.length>0?Kn.error(s):Kn.value(a)},Iy=(n,s,a,c)=>{const g=gr(Mv.sketch(y=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:He(n.items,w=>rL(y,w,s,a,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[g.asSpec()]}],behaviours:bn([ho.config({mode:"acyclic",useTabstopAt:Ce(eE)}),Kp.memento(g),NG(g,{postprocess:y=>C9(y).fold(w=>(console.error(w),{}),Ze)}),Wo("dialog-body-panel",[zt(Fu(),(y,w)=>{y.getSystem().broadcastOn([Gv],{newFocus:F.some(w.event.target)})})])])}},S9=(n,s,a)=>He(n,(c,g)=>{Xo.set(a,n[g].view());const y=s.dom.getBoundingClientRect();return Xo.set(a,[]),y.height}),zQ=n=>vn(kt(n,(s,a)=>s>a?-1:s<a?1:0)),UQ=(n,s,a)=>{const c=b1(n).dom,g=au(n,".tox-dialog-wrap").getOr(n),y=Ur(g,"position")==="fixed";let w;y?w=Math.max(c.clientHeight,window.innerHeight):w=Math.max(c.offsetHeight,c.scrollHeight);const k=Ea(s),N=s.dom.offsetLeft>=a.dom.offsetLeft+ja(a)?Math.max(Ea(a),k):k,z=parseInt(Ur(n,"margin-top"),10)||0,Z=parseInt(Ur(n,"margin-bottom"),10)||0,fe=Ea(n)+z+Z-N;return w-fe},VQ=(n,s)=>{vn(n).each(a=>py.showTab(s,a.value))},x9=(n,s)=>{To(n,"height",s+"px"),To(n,"flex-basis",s+"px")},Q3=(n,s,a)=>{au(n,'[role="dialog"]').each(c=>{ur(c,'[role="tablist"]').each(g=>{a.get().map(y=>(To(s,"height","0"),To(s,"flex-basis","0"),Math.min(y,UQ(c,s,g)))).each(y=>{x9(s,y)})})})},J3=n=>ur(n,'[role="tabpanel"]'),WQ=n=>{const s=Do();return{extraEvents:[ga(g=>{const y=g.element;J3(y).each(w=>{To(w,"visibility","hidden"),g.getSystem().getByDom(w).toOptional().each(k=>{const O=S9(n,w,k);zQ(O).fold(s.clear,s.set)}),Q3(y,w,s),fs(w,"visibility"),VQ(n,g),requestAnimationFrame(()=>{Q3(y,w,s)})})}),zt(ai(),g=>{const y=g.element;J3(y).each(w=>{Q3(y,w,s)})}),zt(FR,(g,y)=>{const w=g.element;J3(w).each(k=>{const O=Si(ei(k));To(k,"visibility","hidden");const N=Er(k,"height").map(oe=>parseInt(oe,10));fs(k,"height"),fs(k,"flex-basis");const z=k.dom.getBoundingClientRect().height;N.forall(oe=>z>oe)?(s.set(z),Q3(w,k,s)):N.each(oe=>{x9(k,oe)}),fs(k,"visibility"),O.each(Bi)})})],selectFirst:!1}},E9="send-data-to-section",A9="send-data-to-view",jQ=(n,s,a,c)=>{const g=Mn({}),y=z=>{const Z=Vn.getValue(z),oe=C9(Z).getOr({}),fe=g.get(),ye=tn(fe,oe);g.set(ye)},w=z=>{const Z=g.get();Vn.setValue(z,Z)},k=Mn(null),O=He(n.tabs,z=>({value:z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ca(a.shared.providers.translate(z.title))],view:()=>[Mv.sketch(Z=>({dom:{tag:"div",classes:["tox-form"]},components:He(z.items,oe=>rL(Z,oe,s,a,c)),formBehaviours:bn([ho.config({mode:"acyclic",useTabstopAt:Ce(eE)}),Wo("TabView.form.events",[ga(w),Qf(y)]),Hu.config({channels:jf([{key:E9,value:{onReceive:y}},{key:A9,value:{onReceive:w}}])})])}))]})),N=WQ(O);return py.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(z,Z,oe)=>{const fe=Vn.getValue(Z);So(z,r8,{name:fe,oldName:k.get()}),k.set(fe)},tabs:O,components:[py.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[vB.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:bn([la.config({})])}),py.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:N.selectFirst,tabSectionBehaviours:bn([Wo("tabpanel",N.extraEvents),ho.config({mode:"acyclic"}),Ut.config({find:z=>vn(py.getViewItems(z))}),My(F.none(),z=>(z.getSystem().broadcastOn([E9],{}),g.get()),(z,Z)=>{g.set(Z),z.getSystem().broadcastOn([A9],{})})])})},T9=(n,s,a,c,g,y)=>{const w=N=>{const z=N.body;return z.type==="tabpanel"?[jQ(z,N.initialData,c,y)]:[Iy(z,N.initialData,c,y)]},k=(N,z)=>F.some({isTabPanel:()=>z.body.type==="tabpanel"}),O={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(N=>({id:N})).getOr({}),...g?O:{}}},components:[],behaviours:bn([Kp.childAt(0),af.config({channel:`${A8}-${s}`,updateState:k,renderComponents:w,initialData:n})])}},ZQ=(n,s,a,c,g,y)=>T9(n,s,F.some(a),c,g,y),qQ=(n,s,a,c)=>{const g=T9(n,s,F.none(),a,!1,c);return Fl.parts.body(g)},k9=n=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[x8(F.none(),{dom:{tag:"iframe",attributes:{src:n.url}},behaviours:bn([la.config({}),Go.config({})])})]}],behaviours:bn([ho.config({mode:"acyclic",useTabstopAt:Ce(eE)})])};return Fl.parts.body(s)},GQ=Tw.deviceType.isTouch(),_9=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),O9=(n,s)=>Fl.parts.close(Rl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:bn([la.config({})])})),D9=()=>Fl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),P9=(n,s)=>Fl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Lg(`<p>${Fx(s.translate(n))}</p>`)}]}]}),e4=n=>Fl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),R9=(n,s)=>[Bg.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Bg.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],JF=n=>{const s="tox-dialog",a=s+"-wrap",c=a+"__backdrop",g=s+"__disable-scroll";return Fl.sketch({lazySink:n.lazySink,onEscape:y=>(n.onEscape(y),F.some(!0)),useTabstopAt:y=>!eE(y),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:Lg(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:GQ?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:a,modalBehaviours:bn([Go.config({}),Wo("dialog-events",n.dialogEvents.concat([hv(Fu(),(y,w)=>{ln.isBlocked(y)?J():ho.focusIn(y)}),zt(L1(),(y,w)=>{y.getSystem().broadcastOn([Gv],{newFocus:w.event.newFocus})})])),Wo("scroll-lock",[ga(()=>{wr(ac(),g)}),Qf(()=>{na(ac(),g)})]),...n.extraBehaviours]),eventOrder:{[gl()]:["dialog-events"],[Ef()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[rd()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},F9=n=>Rl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:bn([la.config({}),ha.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[im("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{Ds(s,C0)}}),M9=(n,s,a,c)=>{const g=y=>[Ca(c.translate(y.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(y=>({id:y})).getOr({})}},components:[],behaviours:bn([af.config({channel:`${IR}-${s}`,initialData:n,renderComponents:g})])}},N9=()=>({dom:Lg('<div class="tox-dialog__draghandle"></div>')}),KQ=(n,s,a,c)=>Bg.sketch({dom:Lg('<div class="tox-dialog__header"></div>'),components:[M9(n,s,F.some(a),c),N9(),F9(c)],containerBehaviours:bn([i0.config({mode:"mouse",blockerClass:"blocker",getTarget:g=>Oi(g,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(g,y)=>{g.getSystem().broadcastOn([sl()],{target:y})}})])}),YQ=(n,s,a)=>{const c=Fl.parts.title(M9(n,s,F.none(),a)),g=Fl.parts.draghandle(N9()),y=Fl.parts.close(F9(a)),w=[c].concat(n.draggable?[g]:[]).concat([y]);return Bg.sketch({dom:Lg('<div class="tox-dialog__header"></div>'),components:w})},B9=(n,s,a)=>YQ({title:a.shared.providers.translate(n),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),e5=(n,s,a,c)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${c.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:Lg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),t5=(n,s,a)=>({onClose:()=>a.closeWindow(),onBlock:c=>{const g=ur(n().element,".tox-dialog__header").map(y=>Ea(y));Fl.setBusy(n(),(y,w)=>e5(c.message,w,s,g))},onUnblock:()=>{Fl.setIdle(n())}}),I9="tox-dialog--fullscreen",$y="tox-dialog--width-lg",n5="tox-dialog--width-md",t4=n=>{switch(n){case"large":return F.some($y);case"medium":return F.some(n5);default:return F.none()}},n4=(n,s)=>{const a=yn.fromDom(s.element.dom);Za(a,I9)||(Xi(a,[$y,n5]),t4(n).each(c=>wr(a,c)))},$9=(n,s)=>{const a=yn.fromDom(n.element.dom),c=yf(a),g=Re(c,y=>y===$y||y===n5).or(t4(s));_d(a,[I9,...g.toArray()])},L9=(n,s,a)=>C(JF({...n,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[r3({}),...n.extraBehaviours],onEscape:c=>{Ds(c,C0)},dialogEvents:s,eventOrder:{[Zf()]:[af.name(),Hu.name()],[Ef()]:["scroll-lock",af.name(),"messages","dialog-events","alloy.base.behaviour"],[rd()]:["alloy.base.behaviour","dialog-events","messages",af.name(),"scroll-lock"]}})),o5=(n,s={})=>{const a=c=>{const g=He(c.items,y=>{const w=sn(s,y.name).getOr(Mn(!1));return{...y,storage:w}});return{...c,items:g}};return He(n,c=>c.type==="menu"?a(c):c)},H9=n=>Cn(n,(s,a)=>a.type==="menu"?Cn(a.items,(g,y)=>(g[y.name]=y.storage,g),s):s,{}),z9=(n,s)=>[gv(Fu(),E8),n(Fy,(a,c,g,y)=>{Mr(y.element)&&Si(ei(y.element)).each(fa),s.onClose(),c.onClose()}),n(C0,(a,c,g,y)=>{c.onCancel(a),Ds(y,Fy)}),zt(o3,(a,c)=>s.onUnblock()),zt(RR,(a,c)=>s.onBlock(c.event))],XQ=(n,s)=>{const a=(g,y)=>zt(g,(w,k)=>{c(w,(O,N)=>{y(n(),O,k.event,w)})}),c=(g,y)=>{af.getState(g).get().each(w=>{y(w,g)})};return[...z9(a,s),a(Gp,(g,y,w)=>{y.onAction(g,{name:w.name})})]},U9=(n,s,a)=>{const c=(y,w)=>zt(y,(k,O)=>{g(k,(N,z)=>{w(n(),N,O.event,k)})}),g=(y,w)=>{af.getState(y).get().each(k=>{w(k.internalDialog,y)})};return[...z9(c,s),c(Jx,(y,w)=>w.onSubmit(y)),c(Hd,(y,w,k)=>{w.onChange(y,{name:k.name})}),c(Gp,(y,w,k,O)=>{const N=()=>O.getSystem().isConnected()?ho.focusIn(O):void 0,z=fe=>Ai(fe,"disabled")||Ei(fe,"aria-disabled").exists(ye=>ye==="true"),Z=ei(O.element),oe=Si(Z);w.onAction(y,{name:k.name,value:k.value}),Si(Z).fold(N,fe=>{z(fe)||oe.exists(ye=>_e(fe,ye)&&z(ye))?N():a().toOptional().filter(ye=>!_e(ye.element,fe)).each(N)})}),c(r8,(y,w,k)=>{w.onTabChange(y,{newTabName:k.name,oldTabName:k.oldName})}),Qf(y=>{const w=n();Vn.setValue(y,w.getData())})]},QQ=(n,s)=>sE(n,n.type,s),JQ=(n,s,a)=>Re(s,c=>c.name===a).bind(c=>c.memento.getOpt(n)),eJ=(n,s)=>{const a=s.map(k=>k.footerButtons).getOr([]),c=Wn(a,k=>k.align==="start"),g=(k,O)=>Bg.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${k}`]},components:He(O,N=>N.memento.asSpec())}),y=g("start",c.pass),w=g("end",c.fail);return[y,w]},V9=(n,s,a)=>{const c=(g,y)=>{const w=He(y.buttons,O=>{const N=gr(QQ(O,a));return{name:O.name,align:O.align,memento:N}}),k=O=>JQ(g,w,O);return F.some({lookupByName:k,footerButtons:w})};return{dom:Lg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:bn([af.config({channel:`${T8}-${s}`,initialData:n,updateState:c,renderComponents:eJ})])}},tJ=(n,s,a)=>V9(n,s,a),W9=(n,s,a)=>Fl.parts.footer(V9(n,s,a)),o4=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const c=Ut.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return Mv.getField(c,s).orThunk(()=>n.getFooter().bind(w=>af.getState(w).get()).bind(w=>w.lookupByName(s)))}else return F.none()},nJ=(n,s)=>{const a=n.getRoot();return af.getState(a).get().map(c=>Xa(ia("data",c.dataValidator,s))).getOr(s)},j9=(n,s,a)=>{const c=ye=>{const Fe=n.getRoot();Fe.getSystem().isConnected()&&ye(Fe)},fe={getData:()=>{const ye=n.getRoot(),Fe=ye.getSystem().isConnected()?n.getFormWrapper():ye,Le=Vn.getValue(Fe),Ee=ds(a,Xe=>Xe.get());return{...Le,...Ee}},setData:ye=>{c(Fe=>{const Le=fe.getData(),Ee=tn(Le,ye),Xe=nJ(n,Ee),st=n.getFormWrapper();Vn.setValue(st,Xe),Bo(a,(xt,Rt)=>{Ho(Ee,Rt)&&xt.set(Ee[Rt])})})},setEnabled:(ye,Fe)=>{o4(n,ye).each(Fe?so.enable:so.disable)},focus:ye=>{o4(n,ye).each(Go.focus)},block:ye=>{if(!H(ye))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(Fe=>{So(Fe,RR,{message:ye})})},unblock:()=>{c(ye=>{Ds(ye,o3)})},showTab:ye=>{c(Fe=>{const Le=n.getBody();af.getState(Le).get().exists(Xe=>Xe.isTabPanel())&&Ut.getCurrent(Le).each(Xe=>{py.showTab(Xe,ye)})})},redial:ye=>{c(Fe=>{const Le=n.getId(),Ee=s(ye),Xe=o5(Ee.internalDialog.buttons,a);Fe.getSystem().broadcastOn([`${u3}-${Le}`],Ee),Fe.getSystem().broadcastOn([`${IR}-${Le}`],Ee.internalDialog),Fe.getSystem().broadcastOn([`${A8}-${Le}`],Ee.internalDialog),Fe.getSystem().broadcastOn([`${T8}-${Le}`],{...Ee.internalDialog,buttons:Xe}),fe.setData(Ee.initialData)})},close:()=>{c(ye=>{Ds(ye,Fy)})},toggleFullscreen:n.toggleFullscreen};return fe},oJ=(n,s,a)=>{const c=pe("dialog"),g=n.internalDialog,y=B9(g.title,c,a),w=Mn(g.size),k=st=>o4(Ee,st),O=t4(w.get()).toArray(),N=(st,xt)=>(w.set(xt.internalDialog.size),n4(xt.internalDialog.size,st),F.some(xt)),z=qQ({body:g.body,initialData:g.initialData},c,a,k),Z=o5(g.buttons),oe=H9(Z),fe=sa(Z.length!==0,W9({buttons:Z},c,a)),ye=U9(()=>Xe,t5(()=>Le,a.shared.providers,s),a.shared.getSink),Fe={id:c,header:y,body:z,footer:fe,extraClasses:O,extraBehaviours:[af.config({channel:`${u3}-${c}`,updateState:N,initialData:n})],extraStyles:{}},Le=L9(Fe,ye,a),Ee=(()=>{const st=()=>{const Rt=Fl.getBody(Le);return Ut.getCurrent(Rt).getOr(Rt)},xt=()=>{$9(Le,w.get())};return{getId:G(c),getRoot:G(Le),getBody:()=>Fl.getBody(Le),getFooter:()=>Fl.getFooter(Le),getFormWrapper:st,toggleFullscreen:xt}})(),Xe=j9(Ee,s.redial,oe);return{dialog:Le,instanceApi:Xe}},EE=(n,s,a,c=!1,g)=>{const y=pe("dialog"),w=pe("dialog-label"),k=pe("dialog-content"),O=n.internalDialog,N=un=>o4(nn,un),z=Mn(O.size),Z=t4(z.get()).toArray(),oe=(un,yo)=>(z.set(yo.internalDialog.size),n4(yo.internalDialog.size,un),g(),F.some(yo)),fe=gr(KQ({title:O.title,draggable:!0},y,w,a.shared.providers)),ye=gr(ZQ({body:O.body,initialData:O.initialData},y,k,a,c,N)),Fe=o5(O.buttons),Le=H9(Fe),Ee=sa(Fe.length!==0,gr(tJ({buttons:Fe},y,a))),Xe=U9(()=>mn,{onBlock:un=>{ln.block(Rt,(yo,ao)=>{const ks=fe.getOpt(Rt).map(wo=>Ea(wo.element));return e5(un.message,ao,a.shared.providers,ks)})},onUnblock:()=>{ln.unblock(Rt)},onClose:()=>s.closeWindow()},a.shared.getSink),st="tox-dialog-inline",xt=Va().os,Rt=C({dom:{tag:"div",classes:["tox-dialog",st,...Z],attributes:{role:"dialog",...xt.isMacOS()?{"aria-label":O.title}:{"aria-labelledby":w}}},eventOrder:{[Zf()]:[af.name(),Hu.name()],[gl()]:["execute-on-form"],[Ef()]:["reflecting","execute-on-form"]},behaviours:bn([ho.config({mode:"cyclic",onEscape:un=>(Ds(un,Fy),F.some(!0)),useTabstopAt:un=>!eE(un)&&(ec(un)!=="button"||xi(un,"disabled")!=="disabled"),firstTabstop:1}),af.config({channel:`${u3}-${y}`,updateState:oe,initialData:n}),Go.config({}),Wo("execute-on-form",Xe.concat([hv(Fu(),(un,yo)=>{ho.focusIn(un)}),zt(L1(),(un,yo)=>{un.getSystem().broadcastOn([Gv],{newFocus:yo.event.newFocus})})])),ln.config({getRoot:()=>F.some(Rt)}),Xo.config({}),r3({})]),components:[fe.asSpec(),ye.asSpec(),...Ee.map(un=>un.asSpec()).toArray()]}),Rn=()=>{$9(Rt,z.get())},nn={getId:G(y),getRoot:G(Rt),getFooter:()=>Ee.map(un=>un.get(Rt)),getBody:()=>ye.get(Rt),getFormWrapper:()=>{const un=ye.get(Rt);return Ut.getCurrent(un).getOr(un)},toggleFullscreen:Rn},mn=j9(nn,s.redial,Le);return{dialog:Rt,instanceApi:mn}};var s5=tinymce.util.Tools.resolve("tinymce.util.URI");const sJ=n=>{const s=w=>{n.getSystem().isConnected()&&w(n)};return{block:w=>{if(!H(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(k=>{So(k,RR,{message:w})})},unblock:()=>{s(w=>{Ds(w,o3)})},close:()=>{s(w=>{Ds(w,Fy)})},sendMessage:w=>{s(k=>{k.getSystem().broadcastOn([Uo],w)})}}},rJ=["insertContent","setContent","execCommand","close","block","unblock"],Z9=n=>K(n)&&rJ.indexOf(n.mceAction)!==-1,aJ=n=>!Z9(n)&&K(n)&&Ho(n,"mceAction"),iJ=(n,s,a)=>{switch(a.mceAction){case"insertContent":n.insertContent(a.content);break;case"setContent":n.setContent(a.content);break;case"execCommand":const c=me(a.ui)?a.ui:!1;n.execCommand(a.cmd,c,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},q9=(n,s,a,c)=>{const g=pe("dialog"),y=B9(n.title,g,c),w=k9(n),k=n.buttons.bind(st=>st.length===0?F.none():F.some(W9({buttons:st},g,c))),O=XQ(()=>Xe,t5(()=>Ee,c.shared.providers,s)),N={...n.height.fold(()=>({}),st=>({height:st+"px","max-height":st+"px"})),...n.width.fold(()=>({}),st=>({width:st+"px","max-width":st+"px"}))},z=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],Z=new s5(n.url,{base_uri:new s5(window.location.href)}),oe=`${Z.protocol}://${Z.host}${Z.port?":"+Z.port:""}`,fe=Gr(),ye=(st,xt)=>F.some(xt),Fe=[af.config({channel:`${u3}-${g}`,updateState:ye,initialData:n}),Wo("messages",[ga(()=>{const st=cr(yn.fromDom(window),"message",xt=>{if(Z.isSameOrigin(new s5(xt.raw.origin))){const Rt=xt.raw.data;Z9(Rt)?iJ(a,Xe,Rt):aJ(Rt)&&n.onMessage(Xe,Rt)}});fe.set(st)}),Qf(fe.clear)]),Hu.config({channels:{[Uo]:{onReceive:(st,xt)=>{ur(st.element,"iframe").each(Rt=>{const Rn=Rt.dom.contentWindow;Se(Rn)&&Rn.postMessage(xt,oe)})}}}})],Ee=L9({id:g,header:y,body:w,footer:k,extraClasses:z,extraBehaviours:Fe,extraStyles:N},O,c),Xe=sJ(Ee);return{dialog:Ee,instanceApi:Xe}},lJ=n=>{const s=n.shared;return{open:(c,g)=>{const y=()=>{Fl.hide(N),g()},w=gr(sE({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"cancel",n)),k=D9(),O=O9(y,s.providers),N=C(JF({lazySink:()=>s.getSink(),header:_9(k,O),body:P9(c,s.providers),footer:F.some(e4(R9([],[w.asSpec()]))),onEscape:y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zt(C0,y)],eventOrder:{}}));Fl.show(N);const z=w.get(N);Go.focus(z)}}},cJ=n=>{const s=n.shared;return{open:(c,g)=>{const y=oe=>{Fl.hide(z),g(oe)},w=gr(sE({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"submit",n)),k=sE({context:"any",name:"no",text:"No",primary:!1,buttonType:F.some("secondary"),align:"end",enabled:!0,icon:F.none()},"cancel",n),O=D9(),N=O9(()=>y(!1),s.providers),z=C(JF({lazySink:()=>s.getSink(),header:_9(O,N),body:P9(c,s.providers),footer:F.some(e4(R9([],[k,w.asSpec()]))),onEscape:()=>y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zt(C0,()=>y(!1)),zt(Jx,()=>y(!0))],eventOrder:{}}));Fl.show(z);const Z=w.get(z);Go.focus(Z)}}},G9=(n,s)=>Xa(ia("data",s,n)),K9=n=>Tu(n,".tox-alert-dialog")||Tu(n,".tox-confirm-dialog"),uJ=(n,s,a,c)=>s&&a?[]:[Ia.config({contextual:{lazyContext:()=>F.some(fi(yn.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:c},modes:["top"],lazyViewport:g=>f0(n,g.element).map(w=>({bounds:hy(w),optScrollEnv:F.some({currentScrollTop:w.element.dom.scrollTop,scrollElmTop:ki(w.element).top})})).getOrThunk(()=>({bounds:ml(),optScrollEnv:F.none()}))})],r5=n=>{const s=n.editor,a=Rw(s),c=lJ(n.backstages.dialog),g=cJ(n.backstages.dialog),y=(ye,Fe,Le)=>{if(!Me(Fe)){if(Fe.inline==="toolbar")return N(ye,n.backstages.popup.shared.anchors.inlineDialog(),Le,Fe);if(Fe.inline==="bottom")return z(ye,n.backstages.popup.shared.anchors.inlineBottomDialog(),Le,Fe);if(Fe.inline==="cursor")return N(ye,n.backstages.popup.shared.anchors.cursor(),Le,Fe)}return O(ye,Le)},w=(ye,Fe)=>k(ye,Fe),k=(ye,Fe)=>{const Le=Ee=>{const Xe=q9(Ee,{closeWindow:()=>{Fl.hide(Xe.dialog),Fe(Xe.instanceApi)}},s,n.backstages.dialog);return Fl.show(Xe.dialog),Xe.instanceApi};return ky.openUrl(Le,ye)},O=(ye,Fe)=>{const Le=(Ee,Xe,st)=>{const xt=Xe,Rn=oJ({dataValidator:st,initialData:xt,internalDialog:Ee},{redial:ky.redial,closeWindow:()=>{Fl.hide(Rn.dialog),Fe(Rn.instanceApi)}},n.backstages.dialog);return Fl.show(Rn.dialog),Rn.instanceApi.setData(xt),Rn.instanceApi};return ky.open(Le,ye)},N=(ye,Fe,Le,Ee)=>{const Xe=(st,xt,Rt)=>{const Rn=G9(xt,Rt),nn=Do(),mn=n.backstages.popup.shared.header.isPositionedAtTop(),un={dataValidator:Rt,initialData:Rn,internalDialog:st},yo=()=>nn.on(Xt=>{Ja.reposition(Xt),(!a||!mn)&&Ia.refresh(Xt)}),ao=EE(un,{redial:ky.redial,closeWindow:()=>{nn.on(Ja.hide),s.off("ResizeEditor",yo),s.off("ScrollWindow",ks),nn.clear(),Le(ao.instanceApi)}},n.backstages.popup,Ee.ariaAttrs,yo),ks=()=>ao.dialog.getSystem().broadcastOn([sl()],{target:ao.dialog.element}),wo=()=>ao.dialog.getSystem().broadcastOn([Op()],{target:ao.dialog.element}),Qo=C(Ja.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{},...mn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:bn([Wo("window-manager-inline-events",[zt(Om(),(Xt,Sn)=>{Ds(ao.dialog,C0)})]),...uJ(s,a,mn,wo)]),isExtraPart:(Xt,Sn)=>K9(Sn)}));nn.set(Qo);const io=()=>{const Xt=s.inline?ac():yn.fromDom(s.getContainer()),Sn=fi(Xt);return F.some(Sn)};return Ja.showWithinBounds(Qo,T(ao.dialog),{anchor:Fe},io),(!a||!mn)&&(Ia.refresh(Qo),s.on("ResizeEditor",yo)),s.on("ScrollWindow",ks),ao.instanceApi.setData(Rn),ho.focusIn(ao.dialog),ao.instanceApi};return ky.open(Xe,ye)},z=(ye,Fe,Le,Ee)=>{const Xe=(st,xt,Rt)=>{const Rn=G9(xt,Rt),nn=Do(),mn=n.backstages.popup.shared.header.isPositionedAtTop(),un={dataValidator:Rt,initialData:Rn,internalDialog:st},yo=()=>nn.on(Qo=>{Ja.reposition(Qo),Ia.refresh(Qo)}),ao=EE(un,{redial:ky.redial,closeWindow:()=>{nn.on(Ja.hide),s.off("ResizeEditor ScrollWindow ElementScroll",yo),nn.clear(),Le(ao.instanceApi)}},n.backstages.popup,Ee.ariaAttrs,yo),ks=C(Ja.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{},...mn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:bn([Wo("window-manager-inline-events",[zt(Om(),(Qo,io)=>{Ds(ao.dialog,C0)})]),Ia.config({contextual:{lazyContext:()=>F.some(fi(yn.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Qo=>f0(s,Qo.element).map(Xt=>({bounds:hy(Xt),optScrollEnv:F.some({currentScrollTop:Xt.element.dom.scrollTop,scrollElmTop:ki(Xt.element).top})})).getOrThunk(()=>({bounds:ml(),optScrollEnv:F.none()}))})]),isExtraPart:(Qo,io)=>K9(io)}));nn.set(ks);const wo=()=>n.backstages.popup.shared.getSink().toOptional().bind(Qo=>{const io=f0(s,Qo.element),Xt=15,Sn=io.map(uo=>hy(uo)).getOr(ml()),Mo=fi(yn.fromDom(s.getContentAreaContainer())),ls=zf(Mo,Sn);return F.some(Pi(ls.x,ls.y,ls.width,ls.height-Xt))});return Ja.showWithinBounds(ks,T(ao.dialog),{anchor:Fe},wo),Ia.refresh(ks),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",yo),ao.instanceApi.setData(Rn),ho.focusIn(ao.dialog),ao.instanceApi};return ky.open(Xe,ye)};return{open:y,openUrl:w,alert:(ye,Fe)=>{c.open(ye,Fe)},close:ye=>{ye.close()},confirm:(ye,Fe)=>{g.open(ye,Fe)}}},Y9=n=>{SB(n),R$(n),bQ(n)};var dJ=()=>{CB.add("silver",n=>{Y9(n);let s=()=>ml();const{dialogs:a,popups:c,renderUI:g}=HQ(n,{getPopupSinkBounds:()=>s()}),y=()=>{const z=g();return f0(n,c.getMothership().element).each(oe=>{s=()=>hy(oe)}),z};_G.register(n,c.backstage.shared);const w=r5({editor:n,backstages:{popup:c.backstage,dialog:a.backstage}}),k=Do(),O=()=>Nj(n,{backstage:c.backstage},c.getMothership(),k),N=()=>ur(yn.fromDom(n.getContainer()),".tox-promotion").map(z=>z.dom).getOrNull();return{renderUI:y,getWindowManagerImpl:G(w),getNotificationManagerImpl:O,getPromotionElement:N}})};dJ()})()),$re}var Hre;function iye(){return Hre||(Hre=1,aye()),Ire}iye();var zre={},Ure={},Vre;function lye(){return Vre||(Vre=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',"upload-from-device":'<svg width="24" height="25"><path d="M11 19a1 1 0 1 0 2 0v-3.2l1.5 1a1 1 0 1 0 1-1.7L12 12.8l-3.5 2.3a1 1 0 0 0 1 1.7l1.5-1V19Z"/><path d="M9.6 4c.3 0 .6.2.8.5l1.3 2h6.7c.7 0 1.4.2 1.8.7.5.5.8 1.2.8 1.9v8.3c0 .7-.3 1.3-.8 1.8a2.6 2.6 0 0 1-1.8.8H16v-2h2.4a.6.6 0 0 0 .4-.2.6.6 0 0 0 .2-.4V9a.6.6 0 0 0-.2-.5.6.6 0 0 0-.4-.1h-7.2a1 1 0 0 1-.8-.5L9 6H5.6a.6.6 0 0 0-.4.2.6.6 0 0 0-.2.4v10.8c0 .1 0 .3.2.4a.6.6 0 0 0 .4.2H8v2H5.6a2.6 2.6 0 0 1-1.8-.8 2.7 2.7 0 0 1-.8-1.8V6.6c0-.7.3-1.3.8-1.8A2.6 2.6 0 0 1 5.6 4h4Z"/></svg>',"upload-from-link":'<svg height="25" width="24"><path d="M11.5 11.8a1 1 0 0 1 1.9-.5 5 5 0 0 1-1.3 4.8l-2.4 2.3A4 4 0 1 1 4 13L5 12a1 1 0 0 1 1.4 1.4l-.7.8A2 2 0 1 0 8.3 17l2.4-2.4a3 3 0 0 0 .8-2.8z"/><path d="M10.1 11.8a1 1 0 0 1-2 .5 5 5 0 0 1 1.4-4.8L12 5.1a4 4 0 0 1 5.5 5.6l-.7.8a1 1 0 0 1-1.5-1.4l.8-.8a2 2 0 1 0-2.7-2.7l-2.4 2.3a3 3 0 0 0-.8 3zm5.7 7.2a1 1 0 1 0 2 0v-3l1.4 1.1a1 1 0 0 0 1.2-1.5l-3.6-2.9-3.6 2.9a1 1 0 0 0 1.2 1.5l1.4-1z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),Ure}var Wre;function cye(){return Wre||(Wre=1,lye()),zre}cye();var jre={},Zre={},qre;function uye(){return qre||(qre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(se,$e,Mt)=>{const Qe=$e==="UL"?"InsertUnorderedList":"InsertOrderedList";se.execCommand(Qe,!1,Mt===!1?null:{"list-style-type":Mt})},b=se=>{se.addCommand("ApplyUnorderedListStyle",($e,Mt)=>{m(se,"UL",Mt["list-style-type"])}),se.addCommand("ApplyOrderedListStyle",($e,Mt)=>{m(se,"OL",Mt["list-style-type"])})},E=se=>$e=>$e.options.get(se),D=se=>{const $e=se.options.register;$e("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),$e("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},$=E("advlist_number_styles"),I=E("advlist_bullet_styles"),H=se=>se==null,K=se=>!H(se);class X{tag;value;static singletonNone=new X(!1);constructor($e,Mt){this.tag=$e,this.value=Mt}static some($e){return new X(!0,$e)}static none(){return X.singletonNone}fold($e,Mt){return this.tag?Mt(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?X.some($e(this.value)):X.none()}bind($e){return this.tag?$e(this.value):X.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:X.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e??"Called getOrDie on None")}static from($e){return K($e)?X.some($e):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ae=Array.prototype.indexOf,le=(se,$e)=>ae.call(se,$e),me=(se,$e)=>le(se,$e)>-1,Me=(se,$e,Mt)=>{for(let Qe=0,Ct=se.length;Qe<Ct;Qe++){const He=se[Qe];if($e(He,Qe))return X.some(He);if(Mt(He,Qe))break}return X.none()},de=Object.keys,Se=(se,$e)=>{const Mt=de(se);for(let Qe=0,Ct=Mt.length;Qe<Ct;Qe++){const He=Mt[Qe],ut=se[He];$e(ut,He)}},re=(se,$e)=>ot(se,(Mt,Qe)=>({k:Qe,v:$e(Mt,Qe)})),ot=(se,$e)=>{const Mt={};return Se(se,(Qe,Ct)=>{const He=$e(Qe,Ct);Mt[He.k]=He.v}),Mt};var it=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=se=>/\btox\-/.test(se.className),dt=(se,$e)=>se.dom.isChildOf($e,se.getBody()),Wt=se=>$e=>K($e)&&se.test($e.nodeName),Ae=Wt(/^(OL|UL|DL)$/),G=Wt(/^(TH|TD)$/),Ze=(se,$e,Mt)=>Me($e,Qe=>Ae(Qe)&&!J(Qe),G).exists(Qe=>Qe.nodeName===Mt&&dt(se,Qe)),Ft=se=>{const $e=se.dom.getParent(se.selection.getNode(),"ol,ul"),Mt=se.dom.getStyle($e,"listStyleType");return X.from(Mt)},ct=(se,$e)=>$e!==null&&!se.dom.isEditable($e),Ce=(se,$e)=>{const Mt=se.dom.getParent($e,"ol,ul,dl");return ct(se,Mt)||!se.selection.isEditable()},ce=(se,$e)=>{const Mt=se.selection.getNode();return $e({parents:se.dom.getParents(Mt),element:Mt}),se.on("NodeChange",$e),()=>se.off("NodeChange",$e)},Pt=se=>se.replace(/\-/g," ").replace(/\b\w/g,$e=>$e.toUpperCase()),je=se=>H(se)||se==="default"?"":se,lt=(se,$e)=>Mt=>{const Qe=(He,ut)=>{const W=He.selection.getStart(!0);Mt.setActive(Ze(He,ut,$e)),Mt.setEnabled(!Ce(He,W))};return ce(se,He=>Qe(se,He.parents))},F=(se,$e,Mt,Qe,Ct,He)=>{const ut={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},W=re(ut,Wn=>me(He,Wn));se.ui.registry.addSplitButton($e,{tooltip:Mt,chevronTooltip:Mt,icon:Ct==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Ct==="OL"?3:4,fetch:Wn=>{const Yt=it.map(He,jn=>{const Cn=Ct==="OL"?"num":"bull",No=jn==="decimal"?"default":jn,Re=je(jn),Ve=Pt(jn);return{type:"choiceitem",value:Re,icon:"list-"+Cn+"-"+No,text:Ve}});Wn(Yt)},onAction:()=>se.execCommand(Qe),onItemAction:(Wn,Yt)=>{m(se,Ct,Yt)},select:Wn=>Ft(se).exists(jn=>Wn===jn||ut[jn]===Wn&&!W[Wn]),onSetup:lt(se,Ct)})},dn=(se,$e,Mt,Qe,Ct,He)=>{se.ui.registry.addToggleButton($e,{active:!1,tooltip:Mt,icon:Ct==="OL"?"ordered-list":"unordered-list",onSetup:lt(se,Ct),onAction:()=>se.queryCommandState(Qe)||He===""?se.execCommand(Qe):m(se,Ct,He)})},Te=(se,$e,Mt,Qe,Ct,He)=>{He.length>1?F(se,$e,Mt,Qe,Ct,He):dn(se,$e,Mt,Qe,Ct,je(He[0]))},rn=se=>{Te(se,"numlist","Numbered list","InsertOrderedList","OL",$(se)),Te(se,"bullist","Bullet list","InsertUnorderedList","UL",I(se))};var yt=()=>{l.add("advlist",se=>{se.hasPlugin("lists")?(D(se),rn(se),b(se)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};yt()})()),Zre}var Gre;function dye(){return Gre||(Gre=1,uye()),jre}dye();var Kre={},Yre={},Xre;function fye(){return Xre||(Xre=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(Qe,Ct,He)=>He(Qe,Ct.prototype)?!0:Qe.constructor?.name===Ct.name,b=Qe=>{const Ct=typeof Qe;return Qe===null?"null":Ct==="object"&&Array.isArray(Qe)?"array":Ct==="object"&&m(Qe,String,(He,ut)=>ut.isPrototypeOf(He))?"string":Ct},E=Qe=>Ct=>b(Ct)===Qe,D=Qe=>Ct=>Qe===Ct,$=E("string"),I=D(void 0),H=Qe=>Qe==null,K=Qe=>!H(Qe),X=Qe=>Ct=>!Qe(Ct),ae=Object.hasOwnProperty,le=(Qe,Ct)=>ae.call(Qe,Ct),me=(Qe,Ct,He)=>Qe.length>=Ct.length&&Qe.substr(He,He+Ct.length)===Ct,Me=(Qe,Ct,He=0,ut)=>{const W=Qe.indexOf(Ct,He);return W!==-1?I(ut)?!0:W+Ct.length<=ut:!1},de=(Qe,Ct)=>me(Qe,Ct,0),Se="\uFEFF",re=Qe=>Qe===Se,ot=Qe=>Qe.replace(/\uFEFF/g,""),it=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,J=Qe=>Ct=>Ct.options.get(Qe),dt=Qe=>{const Ct=Qe.options.register;Ct("autolink_pattern",{processor:"regexp",default:new RegExp("^"+it().source+"$","i")}),Ct("link_default_target",{processor:"string"}),Ct("link_default_protocol",{processor:"string",default:"https"})},Wt=J("autolink_pattern"),Ae=J("link_default_target"),G=J("link_default_protocol"),Ze=J("allow_unsafe_link_target");var Ft=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const ct=Qe=>Qe.nodeType===3,Ce=Qe=>Qe.nodeType===1,ce=Qe=>/^[(\[{ \u00a0]$/.test(Qe),Pt=Qe=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Qe),je=Qe=>/[?!,.;:]/.test(Qe),lt=(Qe,Ct,He)=>{for(let ut=Ct-1;ut>=0;ut--){const W=Qe.charAt(ut);if(!re(W)&&He(W))return ut}return-1},F=(Qe,Ct)=>{let He=Qe,ut=Ct;for(;Ce(He)&&He.childNodes[ut];)He=He.childNodes[ut],ut=ct(He)?He.data.length:He.childNodes.length;return{container:He,offset:ut}},dn=(Qe,Ct)=>{const He=Qe.schema.getVoidElements(),ut=Wt(Qe),{dom:W,selection:Wn}=Qe;if(W.getParent(Wn.getNode(),"a[href]")!==null||Qe.mode.isReadOnly())return null;const Yt=Wn.getRng(),jn=Ft(W,En=>W.isBlock(En)||le(He,En.nodeName.toLowerCase())||W.getContentEditable(En)==="false"||W.getParent(En,"a[href]")!==null),{container:Cn,offset:No}=F(Yt.endContainer,Yt.endOffset),Re=W.getParent(Cn,W.isBlock)??W.getRoot(),Ve=jn.backwards(Cn,No+Ct,(En,wt)=>{const kt=En.data,an=lt(kt,wt,X(ce));return an===-1||je(kt[an])?an:an+1},Re);if(!Ve)return null;let qe=Ve.container;const De=jn.backwards(Ve.container,Ve.offset,(En,wt)=>{qe=En;const kt=lt(En.data,wt,ce);return kt===-1?kt:kt+1},Re),Ye=W.createRng();De?Ye.setStart(De.container,De.offset):Ye.setStart(qe,0),Ye.setEnd(Ve.container,Ve.offset);const at=ot(Ye.toString()).match(ut);if(at){let En=at[0];return de(En,"www.")?En=G(Qe)+"://"+En:Me(En,"@")&&!Pt(En)&&(En="mailto:"+En),{rng:Ye,url:En}}else return null},Te=(Qe,Ct)=>{const{dom:He,selection:ut}=Qe,{rng:W,url:Wn}=Ct,Yt=ut.getBookmark();ut.setRng(W);const jn="createlink",Cn={command:jn,ui:!1,value:Wn};if(!Qe.dispatch("BeforeExecCommand",Cn).isDefaultPrevented()){Qe.getDoc().execCommand(jn,!1,Wn),Qe.dispatch("ExecCommand",Cn);const Re=Ae(Qe);if($(Re)){const Ve=ut.getNode();He.setAttrib(Ve,"target",Re),Re==="_blank"&&!Ze(Qe)&&He.setAttrib(Ve,"rel","noopener")}}ut.moveToBookmark(Yt),Qe.nodeChanged()},rn=Qe=>{const Ct=dn(Qe,-1);K(Ct)&&Te(Qe,Ct)},yt=rn,se=Qe=>{const Ct=dn(Qe,0);K(Ct)&&Te(Qe,Ct)},$e=Qe=>{Qe.on("keydown",Ct=>{Ct.keyCode===13&&!Ct.isDefaultPrevented()&&se(Qe)}),Qe.on("keyup",Ct=>{Ct.keyCode===32?rn(Qe):(Ct.keyCode===48&&Ct.shiftKey||Ct.keyCode===221)&&yt(Qe)})};var Mt=()=>{l.add("autolink",Qe=>{dt(Qe),$e(Qe)})};Mt()})()),Yre}var Qre;function mye(){return Qre||(Qre=1,fye()),Kre}mye();var Jre={},eae={},tae;function pye(){return tae||(tae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=Ye=>({backspaceDelete:Tt=>{Ye.execCommand("mceListBackspaceDelete",!1,Tt)}}),b=Ye=>Ye==null,E=Ye=>!b(Ye),D=Ye=>()=>Ye,$=(Ye,Tt)=>Ye===Tt,I=D(!1);class H{tag;value;static singletonNone=new H(!1);constructor(Tt,at){this.tag=Tt,this.value=at}static some(Tt){return new H(!0,Tt)}static none(){return H.singletonNone}fold(Tt,at){return this.tag?at(this.value):Tt()}isSome(){return this.tag}isNone(){return!this.tag}map(Tt){return this.tag?H.some(Tt(this.value)):H.none()}bind(Tt){return this.tag?Tt(this.value):H.none()}exists(Tt){return this.tag&&Tt(this.value)}forall(Tt){return!this.tag||Tt(this.value)}filter(Tt){return!this.tag||Tt(this.value)?this:H.none()}getOr(Tt){return this.tag?this.value:Tt}or(Tt){return this.tag?this:Tt}getOrThunk(Tt){return this.tag?this.value:Tt()}orThunk(Tt){return this.tag?this:Tt()}getOrDie(Tt){if(this.tag)return this.value;throw new Error(Tt??"Called getOrDie on None")}static from(Tt){return E(Tt)?H.some(Tt):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Tt){this.tag&&Tt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const K=Array.prototype.slice,X=(Ye,Tt)=>{for(let at=0,En=Ye.length;at<En;at++){const wt=Ye[at];if(Tt(wt,at))return!0}return!1},ae=(Ye,Tt)=>{const at=Ye.length,En=new Array(at);for(let wt=0;wt<at;wt++){const kt=Ye[wt];En[wt]=Tt(kt,wt)}return En},le=(Ye,Tt)=>{for(let at=0,En=Ye.length;at<En;at++){const wt=Ye[at];Tt(wt,at)}},me=(Ye,Tt,at)=>(le(Ye,(En,wt)=>{at=Tt(at,En,wt)}),at),Me=(Ye,Tt,at)=>{for(let En=0,wt=Ye.length;En<wt;En++){const kt=Ye[En];if(Tt(kt,En))return H.some(kt);if(at(kt,En))break}return H.none()},de=(Ye,Tt)=>Me(Ye,Tt,I),Se=Ye=>{const Tt=K.call(Ye,0);return Tt.reverse(),Tt},re=(Ye,Tt,at=$)=>Ye.exists(En=>at(En,Tt)),it=(Ye=>Tt=>Tt.replace(Ye,""))(/^\s+|\s+$/g),J=Ye=>Ye.length>0,dt=Ye=>!J(Ye),Wt=Ye=>{const Tt=Se(it(Ye).split("")),at=ae(Tt,(En,wt)=>{const kt=En.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,wt)*kt});return me(at,(En,wt)=>En+wt,0)},Ae=Ye=>{if(Ye--,Ye<0)return"";{const Tt=Ye%26,at=Math.floor(Ye/26),En=Ae(at),wt=String.fromCharCode(65+Tt);return En+wt}},G=Ye=>/^[A-Z]+$/.test(Ye),Ze=Ye=>/^[a-z]+$/.test(Ye),Ft=Ye=>/^[0-9]+$/.test(Ye),ct=Ye=>Ft(Ye)?2:G(Ye)?0:Ze(Ye)?1:dt(Ye)?3:4,Ce=Ye=>{switch(ct(Ye)){case 2:return H.some({listStyleType:H.none(),start:Ye});case 0:return H.some({listStyleType:H.some("upper-alpha"),start:Wt(Ye).toString()});case 1:return H.some({listStyleType:H.some("lower-alpha"),start:Wt(Ye).toString()});case 3:return H.some({listStyleType:H.none(),start:""});case 4:return H.none()}},ce=Ye=>{const Tt=parseInt(Ye.start,10);return re(Ye.listStyleType,"upper-alpha")?Ae(Tt):re(Ye.listStyleType,"lower-alpha")?Ae(Tt).toLowerCase():Ye.start},je=(Ye=>Tt=>Tt.options.get(Ye))("forced_root_block"),lt=Ye=>/\btox\-/.test(Ye.className),F=Ye=>Tt=>E(Tt)&&Ye.test(Tt.nodeName),dn=Ye=>Tt=>E(Tt)&&Tt.nodeName.toLowerCase()===Ye,Te=F(/^(OL|UL|DL)$/),rn=F(/^(TH|TD)$/),yt=F(/^(LI|DT|DD)$/),se=(Ye,Tt)=>Me(Ye,Te,rn).exists(at=>at.nodeName===Tt&&!lt(at)),$e=(Ye,Tt)=>{const at=Ye.selection.getNode();return Tt({parents:Ye.dom.getParents(at),element:at}),Ye.on("NodeChange",Tt),()=>Ye.off("NodeChange",Tt)},Mt=(Ye,Tt)=>Tt!==null&&!Ye.dom.isEditable(Tt),Qe=(Ye,Tt)=>{const at=Ye.dom.getParent(Tt,"ol,ul,dl");return Mt(Ye,at)||!Ye.selection.isEditable()},Ct=dn("ol"),He=["OL","UL","DL"],ut=He.join(","),W=(Ye,Tt)=>{const at=Tt||Ye.selection.getStart(!0);return Ye.dom.getParent(at,ut,Wn(Ye,at))},Wn=(Ye,Tt)=>{const at=Ye.dom.getParents(Tt,Ye.dom.isBlock),En=kt=>kt.nodeName.toLowerCase()!==je(Ye);return de(at,kt=>En(kt)&&Yt(Ye.schema,kt)).getOr(Ye.getBody())},Yt=(Ye,Tt)=>!Te(Tt)&&!yt(Tt)&&X(He,at=>Ye.isValidChild(Tt.nodeName,at)),jn=Ye=>{const Tt=W(Ye);!Ct(Tt)||Qe(Ye,Tt)||Ye.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ce({start:Ye.dom.getAttrib(Tt,"start","1"),listStyleType:H.from(Ye.dom.getStyle(Tt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:at=>{const En=at.getData();Ce(En.start).each(wt=>{Ye.execCommand("mceListUpdate",!1,{attrs:{start:wt.start==="1"?"":wt.start},styles:{"list-style-type":wt.listStyleType.getOr("")}})}),at.close()}})},Cn=Ye=>{Ye.addCommand("mceListProps",()=>{jn(Ye)})},No=(Ye,Tt)=>at=>{const En=wt=>{at.setActive(se(wt.parents,Tt)),at.setEnabled(!Qe(Ye,wt.element)&&Ye.selection.isEditable())};return at.setEnabled(Ye.selection.isEditable()),$e(Ye,En)},Re=Ye=>{const Tt=at=>()=>Ye.execCommand(at);Ye.hasPlugin("advlist")||(Ye.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Tt("InsertOrderedList"),onSetup:No(Ye,"OL")}),Ye.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Tt("InsertUnorderedList"),onSetup:No(Ye,"UL")}))},Ve=(Ye,Tt)=>at=>$e(Ye,wt=>at.setEnabled(se(wt.parents,Tt)&&!Qe(Ye,wt.element))),qe=Ye=>{const Tt={text:"List properties...",icon:"ordered-list",onAction:()=>Ye.execCommand("mceListProps"),onSetup:Ve(Ye,"OL")};Ye.ui.registry.addMenuItem("listprops",Tt),Ye.ui.registry.addContextMenu("lists",{update:at=>{const En=W(Ye,at);return Ct(En)?["listprops"]:[]}})};var De=()=>{l.add("lists",Ye=>(Cn(Ye),Re(Ye),qe(Ye),m(Ye)))};De()})()),eae}var nae;function gye(){return nae||(nae=1,pye()),Jre}gye();var oae={},sae={},rae;function hye(){return rae||(rae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(ee,_e,Je)=>Je(ee,_e.prototype)?!0:ee.constructor?.name===_e.name,b=ee=>{const _e=typeof ee;return ee===null?"null":_e==="object"&&Array.isArray(ee)?"array":_e==="object"&&m(ee,String,(Je,Et)=>Et.isPrototypeOf(Je))?"string":_e},E=ee=>_e=>b(_e)===ee,D=ee=>_e=>typeof _e===ee,$=ee=>_e=>ee===_e,I=E("string"),H=E("object"),K=E("array"),X=$(null),ae=D("boolean"),le=ee=>ee==null,me=ee=>!le(ee),Me=D("function"),de=(ee,_e)=>{if(K(ee)){for(let Je=0,Et=ee.length;Je<Et;++Je)if(!_e(ee[Je]))return!1;return!0}return!1},Se=()=>{},re=ee=>()=>ee,ot=ee=>ee,it=(ee,_e)=>ee===_e;class J{tag;value;static singletonNone=new J(!1);constructor(_e,Je){this.tag=_e,this.value=Je}static some(_e){return new J(!0,_e)}static none(){return J.singletonNone}fold(_e,Je){return this.tag?Je(this.value):_e()}isSome(){return this.tag}isNone(){return!this.tag}map(_e){return this.tag?J.some(_e(this.value)):J.none()}bind(_e){return this.tag?_e(this.value):J.none()}exists(_e){return this.tag&&_e(this.value)}forall(_e){return!this.tag||_e(this.value)}filter(_e){return!this.tag||_e(this.value)?this:J.none()}getOr(_e){return this.tag?this.value:_e}or(_e){return this.tag?this:_e}getOrThunk(_e){return this.tag?this.value:_e()}orThunk(_e){return this.tag?this:_e()}getOrDie(_e){if(this.tag)return this.value;throw new Error(_e??"Called getOrDie on None")}static from(_e){return me(_e)?J.some(_e):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_e){this.tag&&_e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const dt=Array.prototype.indexOf,Wt=Array.prototype.push,Ae=(ee,_e)=>dt.call(ee,_e),G=(ee,_e)=>Ae(ee,_e)>-1,Ze=(ee,_e)=>{const Je=ee.length,Et=new Array(Je);for(let wn=0;wn<Je;wn++){const Xn=ee[wn];Et[wn]=_e(Xn,wn)}return Et},Ft=(ee,_e)=>{for(let Je=0,Et=ee.length;Je<Et;Je++){const wn=ee[Je];_e(wn,Je)}},ct=(ee,_e,Je)=>(Ft(ee,(Et,wn)=>{Je=_e(Je,Et,wn)}),Je),Ce=ee=>{const _e=[];for(let Je=0,Et=ee.length;Je<Et;++Je){if(!K(ee[Je]))throw new Error("Arr.flatten item "+Je+" was not an array, input: "+ee);Wt.apply(_e,ee[Je])}return _e},ce=(ee,_e)=>Ce(Ze(ee,_e)),Pt=(ee,_e)=>_e>=0&&_e<ee.length?J.some(ee[_e]):J.none(),je=ee=>Pt(ee,0),lt=(ee,_e)=>{for(let Je=0;Je<ee.length;Je++){const Et=_e(ee[Je],Je);if(Et.isSome())return Et}return J.none()},F=Object.keys,dn=Object.hasOwnProperty,Te=(ee,_e)=>{const Je=F(ee);for(let Et=0,wn=Je.length;Et<wn;Et++){const Xn=Je[Et],Vo=ee[Xn];_e(Vo,Xn)}},rn=ee=>(_e,Je)=>{ee[Je]=_e},yt=(ee,_e,Je,Et)=>{Te(ee,(wn,Xn)=>{(_e(wn,Xn)?Je:Et)(wn,Xn)})},se=(ee,_e)=>{const Je={};return yt(ee,_e,rn(Je),Se),Je},$e=(ee,_e)=>dn.call(ee,_e),Mt=(ee,_e)=>$e(ee,_e)&&ee[_e]!==void 0&&ee[_e]!==null,Qe=ee=>{let _e=ee;return{get:()=>_e,set:wn=>{_e=wn}}},Ct=(ee,_e,Je=it)=>ee.exists(Et=>Je(Et,_e)),He=ee=>{const _e=[],Je=Et=>{_e.push(Et)};for(let Et=0;Et<ee.length;Et++)ee[Et].each(Je);return _e},ut=(ee,_e)=>ee?J.some(_e):J.none(),W=ee=>{const _e=Qe(J.none()),Je=()=>_e.get().each(ee);return{clear:()=>{Je(),_e.set(J.none())},isSet:()=>_e.get().isSome(),get:()=>_e.get(),set:Qs=>{Je(),_e.set(J.some(Qs))}}},Wn=()=>{const ee=W(Se);return{...ee,on:Je=>ee.get().each(Je)}},Yt=(ee,_e)=>ee.substring(_e),jn=(ee,_e,Je)=>_e===""||ee.length>=_e.length&&ee.substr(Je,Je+_e.length)===_e,Cn=(ee,_e)=>No(ee,_e)?Yt(ee,_e.length):ee,No=(ee,_e)=>jn(ee,_e,0),Re=ee=>_e=>_e.options.get(ee),Ve=ee=>{const _e=ee.options.register;_e("link_assume_external_targets",{processor:Je=>{const Et=I(Je)||ae(Je);return Et?Je===!0?{value:1,valid:Et}:Je==="http"||Je==="https"?{value:Je,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),_e("link_context_toolbar",{processor:"boolean",default:!1}),_e("link_list",{processor:Je=>I(Je)||Me(Je)||de(Je,H)}),_e("link_default_target",{processor:"string"}),_e("link_default_protocol",{processor:"string",default:"https"}),_e("link_target_list",{processor:Je=>ae(Je)||de(Je,H),default:!0}),_e("link_rel_list",{processor:"object[]",default:[]}),_e("link_class_list",{processor:"object[]",default:[]}),_e("link_title",{processor:"boolean",default:!0}),_e("allow_unsafe_link_target",{processor:"boolean",default:!1}),_e("link_quicklink",{processor:"boolean",default:!1}),_e("link_attributes_postprocess",{processor:"function"}),_e("files_upload_handler",{processor:"function"}),_e("link_uploadtab",{processor:"boolean",default:!0})},qe=Re("link_assume_external_targets"),De=Re("link_context_toolbar"),Ye=Re("link_list"),Tt=Re("link_default_target"),at=Re("link_default_protocol"),En=Re("link_target_list"),wt=Re("link_rel_list"),kt=Re("link_class_list"),an=Re("link_title"),vn=Re("allow_unsafe_link_target"),Fn=Re("link_quicklink"),mo=Re("link_attributes_postprocess"),es=Re("files_upload_handler"),vo=Re("link_uploadtab"),ts=Re("documents_file_types"),Bo=ee=>me(ee.options.get("files_upload_handler")),ds=ee=>me(ee.options.get("documents_file_types"));var Ys=tinymce.util.Tools.resolve("tinymce.util.URI"),Xs=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),lr=tinymce.util.Tools.resolve("tinymce.util.Tools");const bt=ee=>me(ee)&&ee.nodeName.toLowerCase()==="a",Bt=ee=>bt(ee)&&!!xs(ee),po=(ee,_e)=>{if(ee.collapsed)return[];{const Je=ee.cloneContents(),Et=Je.firstChild,wn=new Xs(Et,Je),Xn=[];let Vo=Et;do _e(Vo)&&Xn.push(Vo);while(Vo=wn.next());return Xn}},rs=ee=>/^\w+:/i.test(ee),xs=ee=>ee.getAttribute("data-mce-href")??ee.getAttribute("href")??"",sn=(ee,_e)=>{const Je=["noopener"],Et=ee?ee.split(/\s+/):[],wn=Bs=>lr.trim(Bs.sort().join(" ")),Xn=Bs=>(Bs=Vo(Bs),Bs.length>0?Bs.concat(Je):Je),Vo=Bs=>Bs.filter(Ki=>lr.inArray(Je,Ki)===-1),Qs=_e?Xn(Et):Vo(Et);return Qs.length>0?wn(Qs):""},Ho=ee=>ee.replace(/\uFEFF/g,""),Io=(ee,_e)=>(_e=_e||Mn(ee.selection.getRng())[0]||ee.selection.getNode(),Co(_e)?J.from(ee.dom.select("a[href]",_e)[0]):J.from(ee.dom.getParent(_e,"a[href]"))),_r=(ee,_e)=>Io(ee,_e).isSome(),Hr=(ee,_e)=>{const Je=_e.fold(()=>ee.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return Ho(Je)},Mn=ee=>po(ee,Bt),qt=ee=>lr.grep(ee,Bt),jt=ee=>qt(ee).length>0,to=ee=>Mn(ee).length>0,qn=ee=>{const _e=ee.schema.getTextInlineElements(),Je=Xn=>Xn.nodeType===1&&!bt(Xn)&&!$e(_e,Xn.nodeName.toLowerCase());if(Io(ee).exists(Xn=>Xn.hasAttribute("data-mce-block")))return!1;const wn=ee.selection.getRng();return wn.collapsed?!0:po(wn,Je).length===0},Co=ee=>me(ee)&&ee.nodeName==="FIGURE"&&/\bimage\b/i.test(ee.className),_o=ee=>new Promise((_e,Je)=>{const Et=new FileReader;Et.onload=()=>{_e(Et.result)},Et.onerror=()=>{Je(new Error(Et.error?.message??"Failed to convert blob to a data url"))},Et.readAsDataURL(ee)}),Jn=ee=>ct(["title","rel","class","target"],(Je,Et)=>(ee[Et].each(wn=>{Je[Et]=wn.length>0?wn:null}),Je),{href:ee.href}),as=(ee,_e)=>(_e==="http"||_e==="https")&&!rs(ee)?_e+"://"+ee:ee,qr=(ee,_e)=>{const Je={..._e};if(wt(ee).length===0&&!vn(ee)){const Et=sn(Je.rel,Je.target==="_blank");Je.rel=Et||null}return J.from(Je.target).isNone()&&En(ee)===!1&&(Je.target=Tt(ee)),Je.href=as(Je.href,qe(ee)),Je},Ha=(ee,_e,Je,Et)=>{Je.each(Xn=>{$e(_e,"innerText")?_e.innerText=Xn:_e.textContent=Xn}),ee.dom.setAttribs(_e,Et);const wn=ee.dom.createRng();wn.setStartAfter(_e),wn.setEndAfter(_e),ee.selection.setRng(wn)},xa=(ee,_e,Je,Et)=>{const wn=ee.dom;Co(_e)?Po(wn,_e,Et):Je.fold(()=>{ee.execCommand("mceInsertLink",!1,Et);const Xn=ee.selection.getEnd(),Vo=wn.createRng();Vo.setStartAfter(Xn),Vo.setEndAfter(Xn),ee.selection.setRng(Vo)},Xn=>{ee.insertContent(wn.createHTML("a",Et,wn.encode(Xn)))})},Kn=(ee,_e,Je)=>{const Et=ee.selection.getNode(),wn=Io(ee,Et),Xn=qr(ee,Jn(Je)),Vo=mo(ee);me(Vo)&&Vo(Xn),ee.undoManager.transact(()=>{Je.href===_e.href&&_e.attach(),wn.fold(()=>{xa(ee,Et,Je.text,Xn)},Qs=>{ee.focus(),Ha(ee,Qs,Je.text,Xn)})})},ua=ee=>{const _e=ee.dom,Je=ee.selection,Et=Je.getBookmark(),wn=Je.getRng().cloneRange(),Xn=_e.getParent(wn.startContainer,"a[href]",ee.getBody()),Vo=_e.getParent(wn.endContainer,"a[href]",ee.getBody());Xn&&wn.setStartBefore(Xn),Vo&&wn.setEndAfter(Vo),Je.setRng(wn),ee.execCommand("unlink"),Je.moveToBookmark(Et)},ta=ee=>{ee.undoManager.transact(()=>{const _e=ee.selection.getNode();Co(_e)?hn(ee,_e):ua(ee),ee.focus()})},hi=ee=>{const{class:_e,href:Je,rel:Et,target:wn,text:Xn,title:Vo}=ee;return se({class:_e.getOrNull(),href:Je,rel:Et.getOrNull(),target:wn.getOrNull(),text:Xn.getOrNull(),title:Vo.getOrNull()},(Qs,Bs)=>X(Qs)===!1)},Be=(ee,_e)=>{const Je=ee.options.get,Et={allow_html_data_urls:Je("allow_html_data_urls"),allow_script_urls:Je("allow_script_urls"),allow_svg_data_urls:Je("allow_svg_data_urls")},wn=_e.href;return{..._e,href:Ys.isDomSafe(wn,"a",Et)?wn:""}},ze=(ee,_e,Je)=>{const Et=Be(ee,Je);ee.hasPlugin("rtc",!0)?ee.execCommand("createlink",!1,hi(Et)):Kn(ee,_e,Et)},et=ee=>{ee.hasPlugin("rtc",!0)?ee.execCommand("unlink"):ta(ee)},hn=(ee,_e)=>{const Je=ee.dom.select("img",_e)[0];if(Je){const Et=ee.dom.getParents(Je,"a[href]",_e)[0];Et&&(Et.parentNode?.insertBefore(Je,Et),ee.dom.remove(Et))}},Po=(ee,_e,Je)=>{const Et=ee.select("img",_e)[0];if(Et){const wn=ee.create("a",Je);Et.parentNode?.insertBefore(wn,Et),wn.appendChild(Et)}},go=ee=>I(ee.value)?ee.value:"",is=ee=>I(ee.text)?ee.text:I(ee.title)?ee.title:"",Ms=(ee,_e)=>{const Je=[];return lr.each(ee,Et=>{const wn=is(Et);if(Et.menu!==void 0){const Xn=Ms(Et.menu,_e);Je.push({text:wn,items:Xn})}else{const Xn=_e(Et);Je.push({text:wn,value:Xn})}}),Je},$o=(ee=go)=>_e=>J.from(_e).map(Je=>Ms(Je,ee)),Ue={sanitize:ee=>$o(go)(ee),sanitizeWith:$o,createUi:(ee,_e)=>Je=>({name:ee,type:"listbox",label:_e,items:Je}),getValue:go},Gt=ee=>Mt(ee,"items"),On=(ee,_e)=>lt(_e,Je=>Gt(Je)?On(ee,Je.items):ut(Je.value===ee,Je)),tn=(ee,_e,Je,Et)=>{const wn=Et[_e],Xn=ee.length>0;return wn!==void 0?On(wn,Je).map(Vo=>({url:{value:Vo.value,meta:{text:Xn?ee:Vo.text,attach:Se}},text:Xn?ee:Vo.text})):J.none()},Oo=(ee,_e)=>_e==="link"?ee.link:_e==="anchor"?ee.anchor:J.none(),Dn={init:(ee,_e)=>{const Je={text:ee.text,title:ee.title},Et=Bs=>ut(Je.title.length<=0,J.from(Bs.meta?.title).getOr("")),wn=Bs=>ut(Je.text.length<=0,J.from(Bs.meta?.text).getOr(Bs.value)),Xn=Bs=>{const Ki=wn(Bs.url),ra=Et(Bs.url);return Ki.isSome()||ra.isSome()?J.some({...Ki.map(vd=>({text:vd})).getOr({}),...ra.map(vd=>({title:vd})).getOr({})}):J.none()},Vo=(Bs,Ki)=>{const ra=Oo(_e,Ki).getOr([]);return tn(Je.text,Ki,ra,Bs)};return{onChange:(Bs,Ki)=>{const ra=Ki.name;return ra==="url"?Xn(Bs()):G(["anchor","link"],ra)?Vo(Bs(),ra):((ra==="text"||ra==="title")&&(Je[ra]=Bs()[ra]),J.none())}}},getDelta:tn};var Jo=tinymce.util.Tools.resolve("tinymce.util.Delay");const ms=(ee,_e,Je)=>{const Et=ee.selection.getRng();Jo.setEditorTimeout(ee,()=>{ee.windowManager.confirm(_e,wn=>{ee.selection.setRng(Et),Je(wn)})})},$s=ee=>{const _e=ee.href;return _e.indexOf("@")>0&&_e.indexOf("/")===-1&&_e.indexOf("mailto:")===-1?J.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+_e})}):J.none()},nr=(ee,_e)=>Je=>{const Et=Je.href;return ee===1&&!rs(Et)||ee===0&&/^\s*www(\.|\d\.)/i.test(Et)?J.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${_e}:// prefix?`,preprocess:Xn=>({...Xn,href:_e+"://"+Et})}):J.none()},sa={preprocess:(ee,_e)=>lt([$s,nr(qe(ee),at(ee))],Je=>Je(_e)).fold(()=>Promise.resolve(_e),Je=>new Promise(Et=>{ms(ee,Je.message,wn=>{Et(wn?Je.preprocess(_e):_e)})}))},br={getAnchors:ee=>{const _e=ee.dom.select("a:not([href])"),Je=ce(_e,Et=>{const wn=Et.name||Et.id;return wn?[{text:wn,value:"#"+wn}]:[]});return Je.length>0?J.some([{text:"None",value:""}].concat(Je)):J.none()}},Sr={getClasses:ee=>{const _e=kt(ee);return _e.length>0?Ue.sanitize(_e):J.none()}},Mi=ee=>{try{return J.some(JSON.parse(ee))}catch{return J.none()}},Gr={getLinks:ee=>{const _e=Et=>ee.convertURL(Et.value||Et.url||"","href"),Je=Ye(ee);return new Promise(Et=>{I(Je)?fetch(Je).then(wn=>wn.ok?wn.text().then(Mi):Promise.reject()).then(Et,()=>Et(J.none())):Me(Je)?Je(wn=>Et(J.some(wn))):Et(J.from(Je))}).then(Et=>Et.bind(Ue.sanitizeWith(_e)).map(wn=>wn.length>0?[{text:"None",value:""}].concat(wn):wn))}},Ya={getRels:(ee,_e)=>{const Je=wt(ee);if(Je.length>0){const Et=Ct(_e,"_blank"),wn=vn(ee)===!1,Xn=Qs=>sn(Ue.getValue(Qs),Et);return(wn?Ue.sanitizeWith(Xn):Ue.sanitize)(Je)}return J.none()}},Ni=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Pr={getTargets:ee=>{const _e=En(ee);return K(_e)?Ue.sanitize(_e).orThunk(()=>J.some(Ni)):_e===!1?J.none():J.some(Ni)}},yu=(ee,_e,Je)=>{const Et=ee.getAttrib(_e,Je);return Et!==null&&Et.length>0?J.some(Et):J.none()},Fr=(ee,_e)=>{const Je=ee.dom,wn=qn(ee)?J.some(Hr(ee.selection,_e)):J.none(),Xn=_e.bind(ra=>J.from(Je.getAttrib(ra,"href"))),Vo=_e.bind(ra=>J.from(Je.getAttrib(ra,"target"))),Qs=_e.bind(ra=>yu(Je,ra,"rel")),Bs=_e.bind(ra=>yu(Je,ra,"class")),Ki=_e.bind(ra=>yu(Je,ra,"title"));return{url:Xn,text:wn,title:Ki,target:Vo,rel:Qs,linkClass:Bs}},Il={collect:(ee,_e)=>Gr.getLinks(ee).then(Je=>{const Et=Bo(ee)&&ds(ee)&&vo(ee),wn=Fr(ee,_e);return{anchor:wn,catalogs:{targets:Pr.getTargets(ee),rels:Ya.getRels(ee,wn.target),classes:Sr.getClasses(ee),anchor:br.getAnchors(ee),link:Je},hasUploadPanel:Et,optNode:_e,flags:{titleEnabled:an(ee)}}})},An={makeTab:ee=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput",buttonLabel:"Browse for a file",dropAreaLabel:"Drop a file here",allowedFileTypes:ee.map(Je=>Je.mimeType).join(","),allowedFileExtensions:Ce(ee.map(Je=>Je.extensions))}]})},Yl=(ee,_e)=>Je=>{const Et=Je.getData();if(!Et.url.value){et(ee),Je.close();return}const wn=Qs=>J.from(Et[Qs]).filter(Bs=>!Ct(_e.anchor[Qs],Bs)),Xn={href:Et.url.value,text:wn("text"),target:wn("target"),rel:wn("rel"),class:wn("linkClass"),title:wn("title")},Vo={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:Se};sa.preprocess(ee,Xn).then(Qs=>{ze(ee,Vo,Qs)}),Je.close()},vi=ee=>(_e,Je)=>es(ee)(_e,Je),ci=ee=>J.from(ee.split(",")[1]).getOr(""),xr=(ee,_e)=>{const Je=_e.getData();_e.block("Uploading file"),je(Je.fileinput).fold(()=>{_e.unblock()},Et=>{const wn=URL.createObjectURL(Et),Xn=({url:Qs,fileName:Bs})=>{_e.setData({text:Bs,title:Bs,url:{value:Qs,meta:{}}}),_e.showTab("general"),_e.focus("url")},Vo=()=>{_e.unblock(),URL.revokeObjectURL(wn)};_o(Et).then(Qs=>{const Bs=ee.getExistingBlobInfo(ci(Qs),Et.type),Ki=Bs&&Bs.filename()===Et.name?Bs:ee.createBlobCache(Et,wn,Qs);return ee.addToBlobCache(Ki),ee.uploadFile(Ki,ot)}).then(Qs=>{Xn(Qs),Vo()}).catch(Qs=>{Vo(),ee.alertErr(Qs,()=>{_e.focus("fileinput")})})})},Xl=ee=>(_e,Je,Et)=>ee.editorUpload.blobCache.create({blob:_e,blobUri:Je,name:_e.name?.replace(/\.[^\.]+$/,""),filename:_e.name,base64:Et.split(",")[1]}),bi=ee=>_e=>{ee.editorUpload.blobCache.add(_e)},il=ee=>(_e,Je)=>ee.editorUpload.blobCache.getByData(_e,Je),Ql=ee=>(_e,Je)=>{ee.windowManager.alert(_e,Je)},gm=ee=>{const _e=Io(ee);return Il.collect(ee,_e)},Jc=(ee,_e)=>{const Je=ee.anchor,Et=Je.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Je.text.getOr(""),title:Je.title.getOr(""),anchor:Et,link:Et,rel:Je.rel.getOr(""),target:Je.target.or(_e).getOr(""),linkClass:Je.linkClass.getOr(""),fileinput:[]}},pd=(ee,_e,Je,Et,wn,Xn)=>{const Vo=Ce([ee,_e,Je,He([Et.anchor.map(Ue.createUi("anchor","Anchors")),Et.rels.map(Ue.createUi("rel","Rel")),Et.targets.map(Ue.createUi("target","Open link in...")),Et.link.map(Ue.createUi("link","Link list")),Et.classes.map(Ue.createUi("linkClass","Class"))])]);return wn?{type:"tabpanel",tabs:Ce([[{title:"General",name:"general",items:Vo}],[An.makeTab(Xn)]])}:{type:"panel",items:Vo}},gd=(ee,_e,Je)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],wn=ee.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Xn=ee.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Vo=J.from(Tt(Je)),Qs=Jc(ee,Vo),Bs=ee.catalogs,Ki=Dn.init(Qs,Bs),ra=pd(Et,wn,Xn,Bs,ee.hasUploadPanel,ts(Je)),vd={addToBlobCache:bi(Je),createBlobCache:Xl(Je),alertErr:Ql(Je),uploadFile:vi(Je),getExistingBlobInfo:il(Je)};return{title:"Insert/Edit Link",size:"normal",body:ra,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Qs,onChange:(Bf,{name:mf})=>{mf==="fileinput"?xr(vd,Bf):Ki.onChange(Bf.getData,{name:mf}).each(Ac=>{Bf.setData(Ac)})},onSubmit:_e}},eu=ee=>{gm(ee).then(Je=>{const Et=Yl(ee,Je);return gd(Je,Et,ee)}).then(Je=>{ee.windowManager.open(Je)})},tu=ee=>{ee.addCommand("mceLink",(_e,Je)=>{Je?.dialog===!0||!Fn(ee)?eu(ee):ee.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},yn=ee=>{ee.addShortcut("Meta+K","",()=>{ee.execCommand("mceLink")})};var Vu=tinymce.util.Tools.resolve("tinymce.util.VK");const wu=(ee,_e)=>{document.body.appendChild(ee),ee.dispatchEvent(_e),document.body.removeChild(ee)},Zi=ee=>{const _e=document.createElement("a");_e.target="_blank",_e.href=ee,_e.rel="noreferrer noopener";const Je=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Je),wu(_e,Je)},yi=ee=>ee.altKey===!0&&ee.shiftKey===!1&&ee.ctrlKey===!1&&ee.metaKey===!1,Cu=(ee,_e)=>{if(_e){const Je=xs(_e);if(/^#/.test(Je)){const Et=ee.dom.select(`${Je},[name="${Cn(Je,"#")}"]`);Et.length&&ee.selection.scrollIntoView(Et[0],!0)}else Zi(_e.href)}},qi=ee=>{const _e=ee.selection.getRng(),Je=_e.startContainer;return Bt(Je)&&_e.startContainer===_e.endContainer&&ee.dom.select("img",Je).length===1},nu=(ee,_e)=>{const Je=qt(ee.dom.getParents(_e));return ut(Je.length===1,Je[0])},Ec=ee=>{const _e=Mn(ee.selection.getRng());return ut(_e.length>0,_e[0]).or(nu(ee,ee.selection.getNode()))},$l=ee=>ee.selection.isCollapsed()||qi(ee)?nu(ee,ee.selection.getStart()):Ec(ee),rr=ee=>{const _e=Wn(),Je=()=>_e.get().or($l(ee)),Et=()=>Je().each(wn=>Cu(ee,wn));return ee.on("contextmenu",wn=>{nu(ee,wn.target).each(_e.set)}),ee.on("SelectionChange",()=>{_e.isSet()||$l(ee).each(_e.set)}),ee.on("click",wn=>{_e.clear();const Xn=qt(ee.dom.getParents(wn.target));Xn.length===1&&Vu.metaKeyPressed(wn)&&(wn.preventDefault(),Cu(ee,Xn[0]))}),ee.on("keydown",wn=>{_e.clear(),!wn.isDefaultPrevented()&&wn.keyCode===13&&yi(wn)&&Je().each(Xn=>{wn.preventDefault(),Cu(ee,Xn)})}),{gotoSelectedLink:Et}},hd=ee=>()=>{ee.execCommand("mceLink",!1,{dialog:!0})},Q=(ee,_e)=>(ee.on("NodeChange",_e),()=>ee.off("NodeChange",_e)),be=ee=>_e=>{const Je=()=>{_e.setActive(!ee.mode.isReadOnly()&&_r(ee,ee.selection.getNode())),_e.setEnabled(ee.selection.isEditable())};return Je(),Q(ee,Je)},Ie=ee=>_e=>{const Je=()=>{_e.setEnabled(ee.selection.isEditable())};return Je(),Q(ee,Je)},Nt=ee=>_e=>{const Je=Xn=>jt(Xn)||to(ee.selection.getRng()),Et=ee.dom.getParents(ee.selection.getStart()),wn=Xn=>{_e.setEnabled(Je(Xn)&&ee.selection.isEditable())};return wn(Et),Q(ee,Xn=>wn(Xn.parents))},Qn=(ee,_e)=>{ee.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:hd(ee),onSetup:be(ee)}),ee.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:_e.gotoSelectedLink,onSetup:Nt(ee)}),ee.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>et(ee),onSetup:Nt(ee)})},Cs=(ee,_e)=>{ee.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:_e.gotoSelectedLink,onSetup:Nt(ee)}),ee.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:hd(ee),onSetup:Ie(ee)}),ee.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>et(ee),onSetup:Nt(ee)})},ar=ee=>{const _e="link unlink openlink",Je="link";ee.ui.registry.addContextMenu("link",{update:Et=>ee.dom.isEditable(Et)?jt(ee.dom.getParents(Et,"a"))?_e:Je:""})},yr=(ee,_e)=>{const Je=Xn=>{Xn.selection.collapse(!1)},Et=Xn=>{const Vo=ee.selection.getNode();return Xn.setEnabled(_r(ee,Vo)&&ee.selection.isEditable()),Se},wn=Xn=>{const Vo=Io(ee),Qs=qn(ee);if(Vo.isNone()&&Qs){const Bs=Hr(ee.selection,Vo);return ut(Bs.length===0,Xn)}else return J.none()};ee.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:be(ee)},label:"Link",predicate:Xn=>De(ee)&&_r(ee,Xn),initValue:()=>Io(ee).fold(re(""),xs),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Xn=>{const Vo=ee.selection.getNode();return Xn.setActive(_r(ee,Vo)),be(ee)(Xn)},onAction:Xn=>{const Vo=Xn.getValue(),Qs=wn(Vo);ze(ee,{href:Vo,attach:Se},{href:Vo,text:Qs,title:J.none(),rel:J.none(),target:J.from(Tt(ee)),class:J.none()}),Je(ee),Xn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Et,onAction:Xn=>{et(ee),Xn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Et,onAction:Xn=>{_e.gotoSelectedLink(),Xn.hide()}}]})},za=ee=>{const _e=rr(ee);Qn(ee,_e),Cs(ee,_e),ar(ee),yr(ee,_e)};var Gi=()=>{l.add("link",ee=>{Ve(ee),tu(ee),za(ee),yn(ee)})};Gi()})()),sae}var aae;function vye(){return aae||(aae=1,hye()),oae}vye();var iae={},lae={},cae;function bye(){return cae||(cae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=Object.getPrototypeOf,b=(Q,be,Ie)=>Ie(Q,be.prototype)?!0:Q.constructor?.name===be.name,E=Q=>{const be=typeof Q;return Q===null?"null":be==="object"&&Array.isArray(Q)?"array":be==="object"&&b(Q,String,(Ie,Nt)=>Nt.isPrototypeOf(Ie))?"string":be},D=Q=>be=>E(be)===Q,$=Q=>be=>typeof be===Q,I=Q=>be=>Q===be,H=(Q,be)=>X(Q)&&b(Q,be,(Ie,Nt)=>m(Ie)===Nt),K=D("string"),X=D("object"),ae=Q=>H(Q,Object),le=D("array"),me=I(null),Me=$("boolean"),de=Q=>Q==null,Se=Q=>!de(Q),re=$("function"),ot=$("number"),it=(Q,be)=>{if(le(Q)){for(let Ie=0,Nt=Q.length;Ie<Nt;++Ie)if(!be(Q[Ie]))return!1;return!0}return!1},J=()=>{};class dt{tag;value;static singletonNone=new dt(!1);constructor(be,Ie){this.tag=be,this.value=Ie}static some(be){return new dt(!0,be)}static none(){return dt.singletonNone}fold(be,Ie){return this.tag?Ie(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?dt.some(be(this.value)):dt.none()}bind(be){return this.tag?be(this.value):dt.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:dt.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return Se(be)?dt.some(be):dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Wt=Array.prototype.push,Ae=Q=>{const be=[];for(let Ie=0,Nt=Q.length;Ie<Nt;++Ie){if(!le(Q[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+Q);Wt.apply(be,Q[Ie])}return be},G=(Q,be)=>be>=0&&be<Q.length?dt.some(Q[be]):dt.none(),Ze=Q=>G(Q,0),Ft=(Q,be)=>{for(let Ie=0;Ie<Q.length;Ie++){const Nt=be(Q[Ie],Ie);if(Nt.isSome())return Nt}return dt.none()},ct=Object.keys,Ce=Object.hasOwnProperty,ce=(Q,be)=>{const Ie=ct(Q);for(let Nt=0,Qn=Ie.length;Nt<Qn;Nt++){const Cs=Ie[Nt],ar=Q[Cs];be(ar,Cs)}},Pt=Q=>(be,Ie)=>{Q[Ie]=be},je=(Q,be,Ie,Nt)=>{ce(Q,(Qn,Cs)=>{(be(Qn,Cs)?Ie:Nt)(Qn,Cs)})},lt=(Q,be)=>{const Ie={};return je(Q,be,Pt(Ie),J),Ie},F=(Q,be)=>Ce.call(Q,be),dn=(Q,be)=>F(Q,be)&&Q[be]!==void 0&&Q[be]!==null,yt=(Q=>(...be)=>{if(be.length===0)throw new Error("Can't merge zero objects");const Ie={};for(let Nt=0;Nt<be.length;Nt++){const Qn=be[Nt];for(const Cs in Qn)F(Qn,Cs)&&(Ie[Cs]=Q(Ie[Cs],Qn[Cs]))}return Ie})((Q,be)=>ae(Q)&&ae(be)?yt(Q,be):be),se=Q=>Q.length>0,$e=(Q,be)=>{const Nt=(be||document).createElement("div");if(Nt.innerHTML=Q,!Nt.hasChildNodes()||Nt.childNodes.length>1){const Qn="HTML does not have a single root node";throw console.error(Qn,Q),new Error(Qn)}return Ct(Nt.childNodes[0])},Mt=(Q,be)=>{const Nt=(be||document).createElement(Q);return Ct(Nt)},Qe=(Q,be)=>{const Nt=(be||document).createTextNode(Q);return Ct(Nt)},Ct=Q=>{if(Q==null)throw new Error("Node cannot be null or undefined");return{dom:Q}},ut={fromHtml:$e,fromTag:Mt,fromText:Qe,fromDom:Ct,fromPoint:(Q,be,Ie)=>dt.from(Q.dom.elementFromPoint(be,Ie)).map(Ct)},W=(Q,be,Ie)=>{if(K(Ie)||Me(Ie)||ot(Ie))Q.setAttribute(be,Ie+"");else throw console.error("Invalid call to Attribute.set. Key ",be,":: Value ",Ie,":: Element ",Q),new Error("Attribute value was not simple")},Wn=(Q,be,Ie)=>{W(Q.dom,be,Ie)},Yt=(Q,be)=>{Q.dom.removeAttribute(be)};var jn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Cn=tinymce.util.Tools.resolve("tinymce.util.URI");const No=Q=>be=>be.options.get(Q),Re=Q=>{const be=Q.options.register;be("image_dimensions",{processor:"boolean",default:!0}),be("image_advtab",{processor:"boolean",default:!1}),be("image_uploadtab",{processor:"boolean",default:!0}),be("image_prepend_url",{processor:"string",default:""}),be("image_class_list",{processor:"object[]"}),be("image_description",{processor:"boolean",default:!0}),be("image_title",{processor:"boolean",default:!1}),be("image_caption",{processor:"boolean",default:!1}),be("image_list",{processor:Ie=>{const Nt=Ie===!1||K(Ie)||it(Ie,X)||re(Ie);return Nt?{value:Ie,valid:Nt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ve=No("image_dimensions"),qe=No("image_advtab"),De=No("image_uploadtab"),Ye=No("image_prepend_url"),Tt=No("image_class_list"),at=No("image_description"),En=No("image_title"),wt=No("image_caption"),kt=No("image_list"),an=No("a11y_advanced_options"),vn=No("automatic_uploads"),Fn=Q=>se(Q.options.get("images_upload_url")),mo=Q=>Se(Q.options.get("images_upload_handler")),es=(Q,be)=>Math.max(parseInt(Q,10),parseInt(be,10)),vo=Q=>new Promise(be=>{const Ie=document.createElement("img"),Nt=Cs=>{Ie.parentNode&&Ie.parentNode.removeChild(Ie),be(Cs)};Ie.addEventListener("load",()=>{const Cs=es(Ie.width,Ie.clientWidth),ar=es(Ie.height,Ie.clientHeight),yr={width:Cs,height:ar};Nt(Promise.resolve(yr))}),Ie.addEventListener("error",()=>{Nt(Promise.reject(`Failed to get image dimensions for: ${Q}`))});const Qn=Ie.style;Qn.visibility="hidden",Qn.position="fixed",Qn.bottom=Qn.left="0px",Qn.width=Qn.height="auto",document.body.appendChild(Ie),Ie.src=Q}),ts=Q=>(Q&&(Q=Q.replace(/px$/,"")),Q),Bo=Q=>(Q.length>0&&/^[0-9]+$/.test(Q)&&(Q+="px"),Q),ds=Q=>{if(Q.margin){const be=String(Q.margin).split(" ");switch(be.length){case 1:Q["margin-top"]=Q["margin-top"]||be[0],Q["margin-right"]=Q["margin-right"]||be[0],Q["margin-bottom"]=Q["margin-bottom"]||be[0],Q["margin-left"]=Q["margin-left"]||be[0];break;case 2:Q["margin-top"]=Q["margin-top"]||be[0],Q["margin-right"]=Q["margin-right"]||be[1],Q["margin-bottom"]=Q["margin-bottom"]||be[0],Q["margin-left"]=Q["margin-left"]||be[1];break;case 3:Q["margin-top"]=Q["margin-top"]||be[0],Q["margin-right"]=Q["margin-right"]||be[1],Q["margin-bottom"]=Q["margin-bottom"]||be[2],Q["margin-left"]=Q["margin-left"]||be[1];break;case 4:Q["margin-top"]=Q["margin-top"]||be[0],Q["margin-right"]=Q["margin-right"]||be[1],Q["margin-bottom"]=Q["margin-bottom"]||be[2],Q["margin-left"]=Q["margin-left"]||be[3]}delete Q.margin}return Q},Ys=(Q,be)=>{const Ie=kt(Q);K(Ie)?fetch(Ie).then(Nt=>{Nt.ok&&Nt.json().then(be)}):re(Ie)?Ie(be):be(Ie)},Xs=(Q,be,Ie)=>{const Nt=()=>{Ie.onload=Ie.onerror=null,Q.selection&&(Q.selection.select(Ie),Q.nodeChanged())};Ie.onload=()=>{!be.width&&!be.height&&Ve(Q)&&Q.dom.setAttribs(Ie,{width:String(Ie.clientWidth),height:String(Ie.clientHeight)}),Nt()},Ie.onerror=Nt},lr=Q=>new Promise((be,Ie)=>{const Nt=new FileReader;Nt.onload=()=>{be(Nt.result)},Nt.onerror=()=>{Ie(Nt.error?.message)},Nt.readAsDataURL(Q)}),bt=Q=>Q.nodeName==="IMG"&&(Q.hasAttribute("data-mce-object")||Q.hasAttribute("data-mce-placeholder")),Bt=(Q,be)=>{const Ie=Q.options.get;return Cn.isDomSafe(be,"img",{allow_html_data_urls:Ie("allow_html_data_urls"),allow_script_urls:Ie("allow_script_urls"),allow_svg_data_urls:Ie("allow_svg_data_urls")})},po=jn.DOM,rs=Q=>Q.style.marginLeft&&Q.style.marginRight&&Q.style.marginLeft===Q.style.marginRight?ts(Q.style.marginLeft):"",xs=Q=>Q.style.marginTop&&Q.style.marginBottom&&Q.style.marginTop===Q.style.marginBottom?ts(Q.style.marginTop):"",sn=Q=>Q.style.borderWidth?ts(Q.style.borderWidth):"",Ho=(Q,be)=>Q.hasAttribute(be)?Q.getAttribute(be)??"":"",Io=Q=>Q.parentNode!==null&&Q.parentNode.nodeName==="FIGURE",_r=(Q,be,Ie)=>{Ie===""||Ie===null?Q.removeAttribute(be):Q.setAttribute(be,Ie)},Hr=Q=>{const be=po.create("figure",{class:"image"});po.insertAfter(be,Q),be.appendChild(Q),be.appendChild(po.create("figcaption",{contentEditable:"true"},"Caption")),be.contentEditable="false"},Mn=Q=>{const be=Q.parentNode;Se(be)&&(po.insertAfter(Q,be),po.remove(be))},qt=Q=>{Io(Q)?Mn(Q):Hr(Q)},jt=(Q,be)=>{const Ie=Q.getAttribute("style"),Nt=be(Ie!==null?Ie:"");Nt.length>0?(Q.setAttribute("style",Nt),Q.setAttribute("data-mce-style",Nt)):Q.removeAttribute("style")},to=(Q,be)=>(Ie,Nt,Qn)=>{const Cs=Ie.style;Cs[Nt]?(Cs[Nt]=Bo(Qn),jt(Ie,be)):_r(Ie,Nt,Qn)},qn=(Q,be)=>Q.style[be]?ts(Q.style[be]):Ho(Q,be),Co=(Q,be)=>{const Ie=Bo(be);Q.style.marginLeft=Ie,Q.style.marginRight=Ie},_o=(Q,be)=>{const Ie=Bo(be);Q.style.marginTop=Ie,Q.style.marginBottom=Ie},Jn=(Q,be)=>{const Ie=Bo(be);Q.style.borderWidth=Ie},as=(Q,be)=>{Q.style.borderStyle=be},qr=Q=>Q.style.borderStyle??"",Ha=Q=>Se(Q)&&Q.nodeName==="FIGURE",xa=Q=>Q.nodeName==="IMG",Kn=Q=>{const be=po.getAttrib(Q,"alt"),Ie=po.getAttrib(Q,"role");return Q.hasAttribute("alt")&&be.length===0||Ie==="presentation"||Ie==="none"},ua=Q=>Kn(Q)?"":Ho(Q,"alt"),ta=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),hi=(Q,be)=>{const Ie=document.createElement("img");return _r(Ie,"style",be.style),(rs(Ie)||be.hspace!=="")&&Co(Ie,be.hspace),(xs(Ie)||be.vspace!=="")&&_o(Ie,be.vspace),(sn(Ie)||be.border!=="")&&Jn(Ie,be.border),(qr(Ie)||be.borderStyle!=="")&&as(Ie,be.borderStyle),Q(Ie.getAttribute("style")??"")},Be=(Q,be)=>{const Ie=document.createElement("img");if(is(Q,{...be,caption:!1},Ie),hn(Ie,be.alt,be.isDecorative),be.caption){const Nt=po.create("figure",{class:"image"});return Nt.appendChild(Ie),Nt.appendChild(po.create("figcaption",{contentEditable:"true"},"Caption")),Nt.contentEditable="false",Nt}else return Ie},ze=(Q,be)=>({src:Ho(be,"src"),alt:ua(be),title:Ho(be,"title"),width:qn(be,"width"),height:qn(be,"height"),class:Ho(be,"class"),style:Q(Ho(be,"style")),caption:Io(be),hspace:rs(be),vspace:xs(be),border:sn(be),borderStyle:qr(be),isDecorative:Kn(be)}),et=(Q,be,Ie,Nt,Qn)=>{Ie[Nt]!==be[Nt]&&Qn(Q,Nt,String(Ie[Nt]))},hn=(Q,be,Ie)=>{if(Ie){po.setAttrib(Q,"role","presentation");const Nt=ut.fromDom(Q);Wn(Nt,"alt","")}else{if(me(be)){const Nt=ut.fromDom(Q);Yt(Nt,"alt")}else{const Nt=ut.fromDom(Q);Wn(Nt,"alt",be)}po.getAttrib(Q,"role")==="presentation"&&po.setAttrib(Q,"role","")}},Po=(Q,be,Ie)=>{(Ie.alt!==be.alt||Ie.isDecorative!==be.isDecorative)&&hn(Q,Ie.alt,Ie.isDecorative)},go=(Q,be)=>(Ie,Nt,Qn)=>{Q(Ie,Qn),jt(Ie,be)},is=(Q,be,Ie)=>{const Nt=ze(Q,Ie);et(Ie,Nt,be,"caption",(Qn,Cs,ar)=>qt(Qn)),et(Ie,Nt,be,"src",_r),et(Ie,Nt,be,"title",_r),et(Ie,Nt,be,"width",to("width",Q)),et(Ie,Nt,be,"height",to("height",Q)),et(Ie,Nt,be,"class",_r),et(Ie,Nt,be,"style",go((Qn,Cs)=>_r(Qn,"style",Cs),Q)),et(Ie,Nt,be,"hspace",go(Co,Q)),et(Ie,Nt,be,"vspace",go(_o,Q)),et(Ie,Nt,be,"border",go(Jn,Q)),et(Ie,Nt,be,"borderStyle",go(as,Q)),Po(Ie,Nt,be)},Ms=(Q,be)=>{const Ie=Q.dom.styles.parse(be),Nt=ds(Ie),Qn=Q.dom.styles.parse(Q.dom.styles.serialize(Nt));return Q.dom.styles.serialize(Qn)},$o=Q=>{const be=Q.selection.getNode(),Ie=Q.dom.getParent(be,"figure.image");return Ie?Q.dom.select("img",Ie)[0]:be&&(be.nodeName!=="IMG"||bt(be))?null:be},hs=(Q,be)=>{const Ie=Q.dom,Nt=lt(Q.schema.getTextBlockElements(),(Cs,ar)=>!Q.schema.isValidChild(ar,"figure")),Qn=Ie.getParent(be.parentNode,Cs=>dn(Nt,Cs.nodeName),Q.getBody());return Qn?Ie.split(Qn,be)??be:be},pe=Q=>{const be=$o(Q);return be?ze(Ie=>Ms(Q,Ie),be):ta()},Ue=(Q,be)=>{const Ie=Be(Qn=>Ms(Q,Qn),be);Q.dom.setAttrib(Ie,"data-mce-id","__mcenew"),Q.focus(),Q.insertContent(Ie.outerHTML);const Nt=Q.dom.select('*[data-mce-id="__mcenew"]')[0];if(Q.dom.setAttrib(Nt,"data-mce-id",null),Ha(Nt)){const Qn=hs(Q,Nt);Q.selection.select(Qn)}else Q.selection.select(Nt)},Gt=(Q,be)=>{Q.dom.setAttrib(be,"src",be.getAttribute("src"))},On=(Q,be)=>{if(be){const Ie=Q.dom.is(be.parentNode,"figure.image")?be.parentNode:be;Q.dom.remove(Ie),Q.focus(),Q.nodeChanged(),Q.dom.isEmpty(Q.getBody())&&(Q.setContent(""),Q.selection.setCursorLocation())}},tn=(Q,be)=>{const Ie=$o(Q);if(Ie)if(is(Nt=>Ms(Q,Nt),be,Ie),Gt(Q,Ie),Ha(Ie.parentNode)){Q.dom.setStyle(Ie,"float","");const Nt=Ie.parentNode;hs(Q,Nt),Q.selection.select(Ie.parentNode)}else Q.selection.select(Ie),Xs(Q,be,Ie)},Oo=(Q,be)=>{const Ie=be.src;return{...be,src:Bt(Q,Ie)?Ie:""}},ro=(Q,be)=>{const Ie=$o(Q);if(Ie){const Qn={...ze(ar=>Ms(Q,ar),Ie),...be},Cs=Oo(Q,Qn);Qn.src?tn(Q,Cs):On(Q,Ie)}else be.src&&Ue(Q,{...ta(),...be})};var Dn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Jo=tinymce.util.Tools.resolve("tinymce.util.Tools");const ms=Q=>K(Q.value)?Q.value:"",$s=Q=>K(Q.text)?Q.text:K(Q.title)?Q.title:"",nr=(Q,be)=>{const Ie=[];return Jo.each(Q,Nt=>{const Qn=$s(Nt);if(Nt.menu!==void 0){const Cs=nr(Nt.menu,be);Ie.push({text:Qn,items:Cs})}else{const Cs=be(Nt);Ie.push({text:Qn,value:Cs})}}),Ie},ji=(Q=ms)=>be=>be?dt.from(be).map(Ie=>nr(Ie,Q)):dt.none(),sa=Q=>ji(ms)(Q),Uu=Q=>F(Q,"items"),br=(Q,be)=>Ft(Q,Ie=>Uu(Ie)?br(Ie.items,be):Ie.value===be?dt.some(Ie):dt.none()),Sr={sanitizer:ji,sanitize:sa,findEntry:(Q,be)=>Q.bind(Ie=>br(Ie,be))},Sc={makeTab:Q=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Gr=Q=>{const be=Sr.sanitizer(Vo=>Q.convertURL(Vo.value||Vo.url||"","src")),Ie=new Promise(Vo=>{Ys(Q,Qs=>{Vo(be(Qs).map(Bs=>Ae([[{text:"None",value:""}],Bs])))})}),Nt=Sr.sanitize(Tt(Q)),Qn=qe(Q),Cs=De(Q),ar=Fn(Q),yr=mo(Q),za=pe(Q),Gi=at(Q),ee=En(Q),_e=Ve(Q),Je=wt(Q),Et=an(Q),wn=vn(Q),Xn=dt.some(Ye(Q)).filter(Vo=>K(Vo)&&Vo.length>0);return Ie.then(Vo=>({image:za,imageList:Vo,classList:Nt,hasAdvTab:Qn,hasUploadTab:Cs,hasUploadUrl:ar,hasUploadHandler:yr,hasDescription:Gi,hasImageTitle:ee,hasDimensions:_e,hasImageCaption:Je,prependURL:Xn,hasAccessibilityOptions:Et,automaticUploads:wn}))},Do=Q=>{const be={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Ie=Q.imageList.map(ee=>({name:"images",type:"listbox",label:"Image list",items:ee})),Nt={name:"alt",type:"input",label:"Alternative description",enabled:!(Q.hasAccessibilityOptions&&Q.image.isDecorative)},Qn={name:"title",type:"input",label:"Image title"},Cs={name:"dimensions",type:"sizeinput"},ar={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},yr=Q.classList.map(ee=>({name:"classes",type:"listbox",label:"Class",items:ee})),za={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Gi=ee=>ee?{type:"grid",columns:2}:{type:"panel"};return Ae([[be],Ie.toArray(),Q.hasAccessibilityOptions&&Q.hasDescription?[ar]:[],Q.hasDescription?[Nt]:[],Q.hasImageTitle?[Qn]:[],Q.hasDimensions?[Cs]:[],[{...Gi(Q.classList.isSome()&&Q.hasImageCaption),items:Ae([yr.toArray(),Q.hasImageCaption?[za]:[]])}]])},Ni={makeTab:Q=>({title:"General",name:"general",items:Do(Q)}),makeItems:Do},Pr={makeTab:Q=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},yu=Q=>({prevImage:Sr.findEntry(Q.imageList,Q.image.src),prevAlt:Q.image.alt,open:!0}),Fr=Q=>({src:{value:Q.src,meta:{}},images:Q.src,alt:Q.alt,title:Q.title,dimensions:{width:Q.width,height:Q.height},classes:Q.class,caption:Q.caption,style:Q.style,vspace:Q.vspace,border:Q.border,hspace:Q.hspace,borderstyle:Q.borderStyle,fileinput:[],isDecorative:Q.isDecorative}),xc=(Q,be)=>({src:Q.src.value,alt:(Q.alt===null||Q.alt.length===0)&&be?null:Q.alt,title:Q.title,width:Q.dimensions.width,height:Q.dimensions.height,class:Q.classes,style:Q.style,caption:Q.caption,hspace:Q.hspace,vspace:Q.vspace,border:Q.border,borderStyle:Q.borderstyle,isDecorative:Q.isDecorative}),Il=(Q,be)=>/^(?:[a-zA-Z]+:)?\/\//.test(be)?dt.none():Q.prependURL.bind(Ie=>be.substring(0,Ie.length)!==Ie?dt.some(Ie+be):dt.none()),ff=(Q,be)=>{const Ie=be.getData();Il(Q,Ie.src.value).each(Nt=>{be.setData({src:{value:Nt,meta:Ie.src.meta}})})},An=(Q,be,Ie)=>{Q.hasDescription&&K(Ie.alt)&&(be.alt=Ie.alt),Q.hasAccessibilityOptions&&(be.isDecorative=Ie.isDecorative||be.isDecorative||!1),Q.hasImageTitle&&K(Ie.title)&&(be.title=Ie.title),Q.hasDimensions&&(K(Ie.width)&&(be.dimensions.width=Ie.width),K(Ie.height)&&(be.dimensions.height=Ie.height)),K(Ie.class)&&Sr.findEntry(Q.classList,Ie.class).each(Nt=>{be.classes=Nt.value}),Q.hasImageCaption&&Me(Ie.caption)&&(be.caption=Ie.caption),Q.hasAdvTab&&(K(Ie.style)&&(be.style=Ie.style),K(Ie.vspace)&&(be.vspace=Ie.vspace),K(Ie.border)&&(be.border=Ie.border),K(Ie.hspace)&&(be.hspace=Ie.hspace),K(Ie.borderstyle)&&(be.borderstyle=Ie.borderstyle))},Yl=(Q,be)=>{const Ie=be.getData(),Nt=Ie.src.meta;if(Nt!==void 0){const Qn=yt({},Ie);An(Q,Qn,Nt),be.setData(Qn)}},vi=(Q,be,Ie,Nt)=>{const Qn=Nt.getData(),Cs=Qn.src.value,ar=Qn.src.meta||{};!ar.width&&!ar.height&&be.hasDimensions&&(se(Cs)?Q.imageSize(Cs).then(yr=>{Ie.open&&Nt.setData({dimensions:yr})}).catch(yr=>console.error(yr)):Nt.setData({dimensions:{width:"",height:""}}))},ci=(Q,be,Ie)=>{const Nt=Ie.getData(),Qn=Sr.findEntry(Q.imageList,Nt.src.value);be.prevImage=Qn,Ie.setData({images:Qn.map(Cs=>Cs.value).getOr("")})},xr=(Q,be,Ie,Nt)=>{ff(be,Nt),Yl(be,Nt),vi(Q,be,Ie,Nt),ci(be,Ie,Nt)},Xl=(Q,be,Ie,Nt)=>{const Qn=Nt.getData(),Cs=Sr.findEntry(be.imageList,Qn.images);Cs.each(ar=>{Qn.alt===""||Ie.prevImage.map(za=>za.text===Qn.alt).getOr(!1)?ar.value===""?Nt.setData({src:ar,alt:Ie.prevAlt}):Nt.setData({src:ar,alt:ar.text}):Nt.setData({src:ar})}),Ie.prevImage=Cs,xr(Q,be,Ie,Nt)},bi=(Q,be,Ie,Nt)=>{const Qn=Nt.getData();Nt.block("Uploading image"),Ze(Qn.fileinput).fold(()=>{Nt.unblock()},Cs=>{const ar=URL.createObjectURL(Cs),yr=()=>{Nt.unblock(),URL.revokeObjectURL(ar)},za=Gi=>{Nt.setData({src:{value:Gi,meta:{}}}),Nt.showTab("general"),xr(Q,be,Ie,Nt),Nt.focus("src")};lr(Cs).then(Gi=>{const ee=Q.createBlobCache(Cs,ar,Gi);be.automaticUploads?Q.uploadImage(ee).then(_e=>{za(_e.url),yr()}).catch(_e=>{yr(),Q.alertErr(_e,()=>{Nt.focus("fileinput")})}):(Q.addToBlobCache(ee),za(ee.blobUri()),Nt.unblock())})})},il=(Q,be,Ie)=>(Nt,Qn)=>{Qn.name==="src"?xr(Q,be,Ie,Nt):Qn.name==="images"?Xl(Q,be,Ie,Nt):Qn.name==="alt"?Ie.prevAlt=Nt.getData().alt:Qn.name==="fileinput"?bi(Q,be,Ie,Nt):Qn.name==="isDecorative"&&Nt.setEnabled("alt",!Nt.getData().isDecorative)},Ql=Q=>()=>{Q.open=!1},gm=Q=>Q.hasAdvTab||Q.hasUploadUrl||Q.hasUploadHandler?{type:"tabpanel",tabs:Ae([[Ni.makeTab(Q)],Q.hasAdvTab?[Sc.makeTab(Q)]:[],Q.hasUploadTab&&(Q.hasUploadUrl||Q.hasUploadHandler)?[Pr.makeTab(Q)]:[]])}:{type:"panel",items:Ni.makeItems(Q)},Jc=(Q,be,Ie)=>Nt=>{const Qn=yt(Fr(be.image),Nt.getData()),Cs={...Qn,style:hi(Ie.normalizeCss,xc(Qn,!1))};Q.execCommand("mceUpdateImage",!1,xc(Cs,be.hasAccessibilityOptions)),Q.editorUpload.uploadImagesAuto(),Nt.close()},pd=Q=>be=>Bt(Q,be)?vo(Q.documentBaseURI.toAbsolute(be)).then(Ie=>({width:String(Ie.width),height:String(Ie.height)})):Promise.resolve({width:"",height:""}),gd=Q=>(be,Ie,Nt)=>Q.editorUpload.blobCache.create({blob:be,blobUri:Ie,name:be.name?.replace(/\.[^\.]+$/,""),filename:be.name,base64:Nt.split(",")[1]}),eu=Q=>be=>{Q.editorUpload.blobCache.add(be)},tu=Q=>(be,Ie)=>{Q.windowManager.alert(be,Ie)},yn=Q=>be=>Ms(Q,be),Vu=Q=>be=>Q.dom.parseStyle(be),wu=Q=>(be,Ie)=>Q.dom.serializeStyle(be,Ie),Zi=Q=>be=>Dn(Q).upload([be],!1).then(Ie=>Ie.length===0?Promise.reject("Failed to upload image"):Ie[0].status===!1?Promise.reject(Ie[0].error?.message):Ie[0]),yi=Q=>{const be={imageSize:pd(Q),addToBlobCache:eu(Q),createBlobCache:gd(Q),alertErr:tu(Q),normalizeCss:yn(Q),parseStyle:Vu(Q),serializeStyle:wu(Q),uploadImage:Zi(Q)};return{open:()=>{Gr(Q).then(Nt=>{const Qn=yu(Nt);return{title:"Insert/Edit Image",size:"normal",body:gm(Nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Fr(Nt.image),onSubmit:Jc(Q,Nt,be),onChange:il(be,Nt,Qn),onClose:Ql(Qn)}}).then(Q.windowManager.open)}}},Cu=Q=>{Q.addCommand("mceImage",yi(Q).open),Q.addCommand("mceUpdateImage",(be,Ie)=>{Q.undoManager.transact(()=>ro(Q,Ie))})},qi=Q=>{const be=Q.attr("class");return Se(be)&&/\bimage\b/.test(be)},nu=Q=>be=>{let Ie=be.length;const Nt=Qn=>{Qn.attr("contenteditable",Q?"true":null)};for(;Ie--;){const Qn=be[Ie];qi(Qn)&&(Qn.attr("contenteditable",Q?"false":null),Jo.each(Qn.getAll("figcaption"),Nt))}},Ec=Q=>{Q.on("PreInit",()=>{Q.parser.addNodeFilter("figure",nu(!0)),Q.serializer.addNodeFilter("figure",nu(!1))})},$l=Q=>be=>{const Ie=()=>{be.setEnabled(Q.selection.isEditable())};return Q.on("NodeChange",Ie),Ie(),()=>{Q.off("NodeChange",Ie)}},rr=Q=>{Q.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:yi(Q).open,onSetup:be=>{be.setActive(Se($o(Q)));const Ie=Q.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",be.setActive).unbind,Nt=$l(Q)(be);return()=>{Ie(),Nt()}}}),Q.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:yi(Q).open,onSetup:$l(Q)}),Q.ui.registry.addContextMenu("image",{update:be=>Q.selection.isEditable()&&(Ha(be)||xa(be)&&!bt(be))?["image"]:[]})};var hd=()=>{l.add("image",Q=>{Re(Q),Ec(Q),rr(Q),Cu(Q)})};hd()})()),lae}var uae;function yye(){return uae||(uae=1,bye()),iae}yye();var dae={},fae={},mae;function wye(){return mae||(mae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(Re,Ve)=>Re.dispatch("insertCustomChar",{chr:Ve}),b=(Re,Ve)=>{const qe=m(Re,Ve).chr;Re.execCommand("mceInsertContent",!1,qe)},E=(Re,Ve,qe)=>qe(Re,Ve.prototype)?!0:Re.constructor?.name===Ve.name,D=Re=>{const Ve=typeof Re;return Re===null?"null":Ve==="object"&&Array.isArray(Re)?"array":Ve==="object"&&E(Re,String,(qe,De)=>De.isPrototypeOf(qe))?"string":Ve},$=Re=>Ve=>D(Ve)===Re,I=Re=>Ve=>typeof Ve===Re,H=Re=>Ve=>Re===Ve,K=$("array"),X=H(null),ae=H(void 0),le=Re=>Re==null,me=Re=>!le(Re),Me=I("function"),Se=(Re=>()=>Re)(!1);class re{tag;value;static singletonNone=new re(!1);constructor(Ve,qe){this.tag=Ve,this.value=qe}static some(Ve){return new re(!0,Ve)}static none(){return re.singletonNone}fold(Ve,qe){return this.tag?qe(this.value):Ve()}isSome(){return this.tag}isNone(){return!this.tag}map(Ve){return this.tag?re.some(Ve(this.value)):re.none()}bind(Ve){return this.tag?Ve(this.value):re.none()}exists(Ve){return this.tag&&Ve(this.value)}forall(Ve){return!this.tag||Ve(this.value)}filter(Ve){return!this.tag||Ve(this.value)?this:re.none()}getOr(Ve){return this.tag?this.value:Ve}or(Ve){return this.tag?this:Ve}getOrThunk(Ve){return this.tag?this.value:Ve()}orThunk(Ve){return this.tag?this:Ve()}getOrDie(Ve){if(this.tag)return this.value;throw new Error(Ve??"Called getOrDie on None")}static from(Ve){return me(Ve)?re.some(Ve):re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ve){this.tag&&Ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ot=Array.prototype.push,it=(Re,Ve)=>{const qe=Re.length,De=new Array(qe);for(let Ye=0;Ye<qe;Ye++){const Tt=Re[Ye];De[Ye]=Ve(Tt,Ye)}return De},J=(Re,Ve)=>{for(let qe=0,De=Re.length;qe<De;qe++){const Ye=Re[qe];Ve(Ye,qe)}},dt=(Re,Ve,qe)=>{for(let De=0,Ye=Re.length;De<Ye;De++){const Tt=Re[De];if(Ve(Tt,De))return re.some(Tt);if(qe(Tt,De))break}return re.none()},Wt=(Re,Ve)=>dt(Re,Ve,Se),Ae=Re=>{const Ve=[];for(let qe=0,De=Re.length;qe<De;++qe){if(!K(Re[qe]))throw new Error("Arr.flatten item "+qe+" was not an array, input: "+Re);ot.apply(Ve,Re[qe])}return Ve},G=(Re,Ve)=>Ae(it(Re,Ve)),Ze=Re=>{let Ve=Re;return{get:()=>Ve,set:Ye=>{Ve=Ye}}},Ft=(Re,Ve,qe=0,De)=>{const Ye=Re.indexOf(Ve,qe);return Ye!==-1?ae(De)?!0:Ye+Ve.length<=De:!1},ct=String.fromCodePoint,Ce=(Re,Ve)=>{let qe=null;const De=()=>{X(qe)||(clearTimeout(qe),qe=null)};return{cancel:De,throttle:(...Tt)=>{De(),qe=setTimeout(()=>{qe=null,Re.apply(null,Tt)},Ve)}}};var ce=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pt=Re=>Ve=>Ve.options.get(Re),je=Re=>{const Ve=Re.options.register,qe=De=>Me(De)||K(De);Ve("charmap",{processor:qe}),Ve("charmap_append",{processor:qe})},lt=Pt("charmap"),F=Pt("charmap_append"),dn=ce.isArray,Te="User Defined",rn=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],yt=Re=>ce.grep(Re,Ve=>dn(Ve)&&Ve.length===2),se=Re=>dn(Re)?yt(Re):typeof Re=="function"?Re():[],$e=(Re,Ve)=>{const qe=lt(Re);qe&&(Ve=[{name:Te,characters:se(qe)}]);const De=F(Re);if(De){const Ye=ce.grep(Ve,Tt=>Tt.name===Te);return Ye.length?(Ye[0].characters=[...Ye[0].characters,...se(De)],Ve):Ve.concat({name:Te,characters:se(De)})}return Ve},Mt=Re=>{const Ve=$e(Re,rn());return Ve.length>1?[{name:"All",characters:G(Ve,qe=>qe.characters)}].concat(Ve):Ve},Qe=Re=>({getCharMap:()=>Mt(Re),insertChar:De=>{b(Re,De)}}),Ct=(Re,Ve,qe)=>Ft(ct(Re).toLowerCase(),qe)?!0:Ft(Ve.toLowerCase(),qe)||Ft(Ve.toLowerCase().replace(/\s+/g,""),qe),He=(Re,Ve)=>{const qe=[],De=Ve.toLowerCase();return J(Re.characters,Ye=>{Ct(Ye[0],Ye[1],De)&&qe.push(Ye)}),it(qe,Ye=>({text:Ye[1],value:ct(Ye[0]),icon:ct(Ye[0])}))},ut="pattern",W=(Re,Ve)=>{const qe=()=>[{label:"Search",type:"input",name:ut},{type:"collection",name:"results"}],De=()=>it(Ve,es=>({title:es.name,name:es.name,items:qe()})),Ye=()=>({type:"panel",items:qe()}),Tt=()=>({type:"tabpanel",tabs:De()}),at=Ve.length===1?Ze(Te):Ze("All"),En=(es,vo)=>{Wt(Ve,ts=>ts.name===at.get()).each(ts=>{const Bo=He(ts,vo);es.setData({results:Bo})})},kt=Ce(es=>{const vo=es.getData().pattern;En(es,vo)},40),an=Ve.length===1?Ye():Tt(),vn={pattern:"",results:He(Ve[0],"")},Fn={title:"Special Character",size:"normal",body:an,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:vn,onAction:(es,vo)=>{vo.name==="results"&&(b(Re,vo.value),es.close())},onTabChange:(es,vo)=>{at.set(vo.newTabName),kt.throttle(es)},onChange:(es,vo)=>{vo.name===ut&&kt.throttle(es)}};Re.windowManager.open(Fn).focus(ut)},Wn=(Re,Ve)=>{Re.addCommand("mceShowCharmap",()=>{W(Re,Ve)})},Yt=(Re,Ve)=>{Re.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(qe,De)=>new Promise((Ye,Tt)=>{Ye(He(Ve,qe))}),onAction:(qe,De,Ye)=>{Re.selection.setRng(De),Re.insertContent(Ye),qe.hide()}})},jn=Re=>Ve=>{const qe=()=>{Ve.setEnabled(Re.selection.isEditable())};return Re.on("NodeChange",qe),qe(),()=>{Re.off("NodeChange",qe)}},Cn=Re=>{const Ve=()=>Re.execCommand("mceShowCharmap");Re.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ve,onSetup:jn(Re)}),Re.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ve,onSetup:jn(Re)})};var No=()=>{l.add("charmap",Re=>{je(Re);const Ve=Mt(Re);return Wn(Re,Ve),Cn(Re),Yt(Re,Ve[0]),Qe(Re)})};No()})()),fae}var pae;function Cye(){return pae||(pae=1,wye()),dae}Cye();var gae={},hae={},vae;function Sye(){return vae||(vae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=qt=>jt=>typeof jt===qt,E=(qt=>jt=>qt===jt)(void 0),D=qt=>qt==null,$=qt=>!D(qt),I=m("function"),H=qt=>()=>qt,K=qt=>qt,X=H(!1);class ae{tag;value;static singletonNone=new ae(!1);constructor(jt,to){this.tag=jt,this.value=to}static some(jt){return new ae(!0,jt)}static none(){return ae.singletonNone}fold(jt,to){return this.tag?to(this.value):jt()}isSome(){return this.tag}isNone(){return!this.tag}map(jt){return this.tag?ae.some(jt(this.value)):ae.none()}bind(jt){return this.tag?jt(this.value):ae.none()}exists(jt){return this.tag&&jt(this.value)}forall(jt){return!this.tag||jt(this.value)}filter(jt){return!this.tag||jt(this.value)?this:ae.none()}getOr(jt){return this.tag?this.value:jt}or(jt){return this.tag?this:jt}getOrThunk(jt){return this.tag?this.value:jt()}orThunk(jt){return this.tag?this:jt()}getOrDie(jt){if(this.tag)return this.value;throw new Error(jt??"Called getOrDie on None")}static from(jt){return $(jt)?ae.some(jt):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(jt){this.tag&&jt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const le=Array.prototype.indexOf,me=(qt,jt)=>le.call(qt,jt),Me=(qt,jt)=>me(qt,jt)>-1,de=(qt,jt)=>{for(let to=0,qn=qt.length;to<qn;to++){const Co=qt[to];if(jt(Co,to))return!0}return!1},Se=(qt,jt)=>{const to=qt.length,qn=new Array(to);for(let Co=0;Co<to;Co++){const _o=qt[Co];qn[Co]=jt(_o,Co)}return qn},re=(qt,jt,to)=>{for(let qn=0,Co=qt.length;qn<Co;qn++){const _o=qt[qn];if(jt(_o,qn))return ae.some(_o);if(to(_o,qn))break}return ae.none()},ot=(qt,jt)=>re(qt,jt,X),it=(qt,jt)=>{for(let to=0;to<qt.length;to++){const qn=jt(qt[to],to);if(qn.isSome())return qn}return ae.none()},J=(qt,jt)=>{const to=[],qn=I(jt)?Co=>de(to,_o=>jt(_o,Co)):Co=>Me(to,Co);for(let Co=0,_o=qt.length;Co<_o;Co++){const Jn=qt[Co];qn(Jn)||to.push(Jn)}return to},dt=Object.keys,Wt=(qt,jt)=>{const to=dt(qt);for(let qn=0,Co=to.length;qn<Co;qn++){const _o=to[qn],Jn=qt[_o];jt(Jn,_o)}},Ae=(qt,jt)=>{const to=[];return Wt(qt,(qn,Co)=>{to.push(jt(qn,Co))}),to},G=qt=>Ae(qt,K),Ze=(qt,jt,to=0,qn)=>{const Co=qt.indexOf(jt,to);return Co!==-1?E(qn)?!0:Co+jt.length<=qn:!1},Ft=qt=>{let jt=!1,to;return(...qn)=>(jt||(jt=!0,to=qt.apply(null,qn)),to)},ct=(qt,jt,to,qn)=>{const Co=qt.isiOS()&&/ipad/i.test(to)===!0,_o=qt.isiOS()&&!Co,Jn=qt.isiOS()||qt.isAndroid(),as=Jn||qn("(pointer:coarse)"),qr=Co||!_o&&Jn&&qn("(min-device-width:768px)"),Ha=_o||Jn&&!qr,xa=jt.isSafari()&&qt.isiOS()&&/safari/i.test(to)===!1,Kn=!Ha&&!qr&&!xa;return{isiPad:H(Co),isiPhone:H(_o),isTablet:H(qr),isPhone:H(Ha),isTouch:H(as),isAndroid:qt.isAndroid,isiOS:qt.isiOS,isWebView:H(xa),isDesktop:H(Kn)}},Ce=(qt,jt)=>{for(let to=0;to<qt.length;to++){const qn=qt[to];if(qn.test(jt))return qn}},ce=(qt,jt)=>{const to=Ce(qt,jt);if(!to)return{major:0,minor:0};const qn=Co=>Number(jt.replace(to,"$"+Co));return lt(qn(1),qn(2))},Pt=(qt,jt)=>{const to=String(jt).toLowerCase();return qt.length===0?je():ce(qt,to)},je=()=>lt(0,0),lt=(qt,jt)=>({major:qt,minor:jt}),F={nu:lt,detect:Pt,unknown:je},dn=(qt,jt)=>it(jt.brands,to=>{const qn=to.brand.toLowerCase();return ot(qt,Co=>qn===Co.brand?.toLowerCase()).map(Co=>({current:Co.name,version:F.nu(parseInt(to.version,10),0)}))}),Te=(qt,jt)=>{const to=String(jt).toLowerCase();return ot(qt,qn=>qn.search(to))},rn=(qt,jt)=>Te(qt,jt).map(to=>{const qn=F.detect(to.versionRegexes,jt);return{current:to.name,version:qn}}),yt=(qt,jt)=>Te(qt,jt).map(to=>{const qn=F.detect(to.versionRegexes,jt);return{current:to.name,version:qn}}),se=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$e=qt=>jt=>Ze(jt,qt),Mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:qt=>Ze(qt,"edge/")&&Ze(qt,"chrome")&&Ze(qt,"safari")&&Ze(qt,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,se],search:qt=>Ze(qt,"chrome")&&!Ze(qt,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:qt=>Ze(qt,"msie")||Ze(qt,"trident")},{name:"Opera",versionRegexes:[se,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$e("firefox")},{name:"Safari",versionRegexes:[se,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:qt=>(Ze(qt,"safari")||Ze(qt,"mobile/"))&&Ze(qt,"applewebkit")}],Qe=[{name:"Windows",search:$e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:qt=>Ze(qt,"iphone")||Ze(qt,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$e("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$e("linux"),versionRegexes:[]},{name:"Solaris",search:$e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$e("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$e("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ct={browsers:H(Mt),oses:H(Qe)},He="Edge",ut="Chromium",W="IE",Wn="Opera",Yt="Firefox",jn="Safari",Cn=()=>No({current:void 0,version:F.unknown()}),No=qt=>{const jt=qt.current,to=qt.version,qn=Co=>()=>jt===Co;return{current:jt,version:to,isEdge:qn(He),isChromium:qn(ut),isIE:qn(W),isOpera:qn(Wn),isFirefox:qn(Yt),isSafari:qn(jn)}},Re={unknown:Cn,nu:No},Ve="Windows",qe="iOS",De="Android",Ye="Linux",Tt="macOS",at="Solaris",En="FreeBSD",wt="ChromeOS",kt=()=>an({current:void 0,version:F.unknown()}),an=qt=>{const jt=qt.current,to=qt.version,qn=Co=>()=>jt===Co;return{current:jt,version:to,isWindows:qn(Ve),isiOS:qn(qe),isAndroid:qn(De),isMacOS:qn(Tt),isLinux:qn(Ye),isSolaris:qn(at),isFreeBSD:qn(En),isChromeOS:qn(wt)}},vn={unknown:kt,nu:an},mo={detect:(qt,jt,to)=>{const qn=Ct.browsers(),Co=Ct.oses(),_o=jt.bind(qr=>dn(qn,qr)).orThunk(()=>rn(qn,qt)).fold(Re.unknown,Re.nu),Jn=yt(Co,qt).fold(vn.unknown,vn.nu),as=ct(Jn,_o,qt,to);return{browser:_o,os:Jn,deviceType:as}}},es=qt=>window.matchMedia(qt).matches;let vo=Ft(()=>mo.detect(window.navigator.userAgent,ae.from(window.navigator.userAgentData),es));const ts=()=>vo(),Bo=()=>ts().os.isMacOS(),ds=()=>ts().os.isiOS(),Ys=()=>{const qt=Bo()||ds();return`<script>(${(to=>{document.addEventListener("click",qn=>{for(let Co=qn.target;Co;Co=Co.parentNode)if(Co.nodeName==="A"){const Jn=Co.getAttribute("href");if(Jn&&Jn.startsWith("#")){qn.preventDefault();const qr=document.getElementById(Jn.substring(1));qr&&qr.scrollIntoView({behavior:"smooth"});return}(to?qn.metaKey:qn.ctrlKey&&!qn.altKey)||qn.preventDefault()}},!1)}).toString()})(${qt})<\/script>`};var Xs=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),lr=tinymce.util.Tools.resolve("tinymce.util.Tools");const bt=qt=>jt=>jt.options.get(qt),Bt=bt("content_style"),po=bt("content_css_cors"),rs=bt("body_class"),xs=bt("body_id"),sn=qt=>{const jt=J(G(qt.schema.getComponentUrls()));return Se(jt,to=>{const qn=Ae(Xs.ScriptLoader.getScriptAttributes(to),(Co,_o)=>` ${qt.dom.encode(_o)}="${qt.dom.encode(Co)}"`);return`<script src="${qt.dom.encode(to)}"${qn.join("")}><\/script>`}).join("")},Ho=qt=>{let jt="";const to=qt.dom.encode,qn=Bt(qt)??"";jt+=`<base href="${to(qt.documentBaseURI.getURI())}">`;const Co=po(qt)?' crossorigin="anonymous"':"";lr.each(qt.contentCSS,xa=>{jt+='<link type="text/css" rel="stylesheet" href="'+to(qt.documentBaseURI.toAbsolute(xa))+'"'+Co+">"}),qn&&(jt+='<style type="text/css">'+qn+"</style>"),jt+=sn(qt);const _o=xs(qt),Jn=rs(qt),as=qt.getBody().dir,qr=as?' dir="'+to(as)+'"':"";return"<!DOCTYPE html><html><head>"+jt+'</head><body id="'+to(_o)+'" class="mce-content-body '+to(Jn)+'"'+qr+">"+qt.getContent()+Ys()+"</body></html>"},Io=qt=>{const jt=Ho(qt);qt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:jt}}).focus("close")},_r=qt=>{qt.addCommand("mcePreview",()=>{Io(qt)})},Hr=qt=>{const jt=()=>qt.execCommand("mcePreview");qt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:jt,context:"any"}),qt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:jt,context:"any"})};var Mn=()=>{l.add("preview",qt=>{_r(qt),Hr(qt)})};Mn()})()),hae}var bae;function xye(){return bae||(bae=1,Sye()),gae}xye();var yae={},wae={},Cae;function Eye(){return Cae||(Cae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),b=tinymce.util.Tools.resolve("tinymce.util.Tools");const E=je=>lt=>lt.options.get(je),D=je=>{const lt=je.options.register;lt("allow_html_in_named_anchor",{processor:"boolean",default:!1})},$=E("allow_html_in_named_anchor"),I="a:not([href])",H=je=>!je,K=je=>je.getAttribute("id")||je.getAttribute("name")||"",X=je=>je.nodeName.toLowerCase()==="a",ae=je=>X(je)&&!je.getAttribute("href")&&K(je)!=="",le=je=>ae(je)&&!je.firstChild,me=je=>{const lt=je.dom;m(lt).walk(je.selection.getRng(),F=>{b.each(F,dn=>{le(dn)&&lt.remove(dn,!1)})})},Me=je=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(je),de=je=>je.dom.getParent(je.selection.getStart(),I),Se=je=>{const lt=de(je);return lt?K(lt):""},re=(je,lt)=>{je.undoManager.transact(()=>{$(je)||je.selection.collapse(!0),je.selection.isCollapsed()?je.insertContent(je.dom.createHTML("a",{id:lt})):(me(je),je.formatter.remove("namedAnchor",void 0,void 0,!0),je.formatter.apply("namedAnchor",{value:lt}),je.addVisual())})},ot=(je,lt,F)=>{F.removeAttribute("name"),F.id=lt,je.addVisual(),je.undoManager.add()},it=(je,lt)=>{const F=de(je);F?ot(je,lt,F):re(je,lt),je.focus()},J=(je,lt)=>Me(lt)?(it(je,lt),!0):(je.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),dt=je=>{const lt=Se(je);je.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:lt},onSubmit:F=>{J(je,F.getData().id)&&F.close()}})},Wt=je=>{je.addCommand("mceAnchor",()=>{dt(je)})},Ae=je=>H(je.attr("href"))&&!H(je.attr("id")||je.attr("name")),G=je=>Ae(je)&&!je.firstChild,Ze=je=>lt=>{for(let F=0;F<lt.length;F++){const dn=lt[F];G(dn)&&dn.attr("contenteditable",je)}},Ft=je=>{je.on("PreInit",()=>{je.parser.addNodeFilter("a",Ze("false")),je.serializer.addNodeFilter("a",Ze(null))})},ct=je=>{je.formatter.register("namedAnchor",{inline:"a",selector:I,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(lt,F,dn)=>ae(lt)})},Ce=je=>lt=>{const F=()=>{lt.setEnabled(je.selection.isEditable())};return je.on("NodeChange",F),F(),()=>{je.off("NodeChange",F)}},ce=je=>{const lt=()=>je.execCommand("mceAnchor");je.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:lt,onSetup:F=>{const dn=je.selection.selectorChangedWithUnbind("a:not([href])",F.setActive).unbind,Te=Ce(je)(F);return()=>{dn(),Te()}}}),je.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:lt,onSetup:Ce(je)})};var Pt=()=>{l.add("anchor",je=>{D(je),Ft(je),Wt(je),ce(je),je.on("PreInit",()=>{ct(je)})})};Pt()})()),wae}var Sae;function Aye(){return Sae||(Sae=1,Eye()),yae}Aye();var xae={},Eae={},Aae;function Tye(){return Aae||(Aae=1,(function(){const l=(pe,Ue,Gt)=>Gt(pe,Ue.prototype)?!0:pe.constructor?.name===Ue.name,m=pe=>{const Ue=typeof pe;return pe===null?"null":Ue==="object"&&Array.isArray(pe)?"array":Ue==="object"&&l(pe,String,(Gt,On)=>On.isPrototypeOf(Gt))?"string":Ue},b=pe=>Ue=>m(Ue)===pe,E=pe=>Ue=>typeof Ue===pe,D=b("string"),$=b("array"),I=E("boolean"),H=pe=>pe==null,K=pe=>!H(pe),X=E("number"),ae=()=>{},le=pe=>()=>pe,me=le(!0);class Me{tag;value;static singletonNone=new Me(!1);constructor(Ue,Gt){this.tag=Ue,this.value=Gt}static some(Ue){return new Me(!0,Ue)}static none(){return Me.singletonNone}fold(Ue,Gt){return this.tag?Gt(this.value):Ue()}isSome(){return this.tag}isNone(){return!this.tag}map(Ue){return this.tag?Me.some(Ue(this.value)):Me.none()}bind(Ue){return this.tag?Ue(this.value):Me.none()}exists(Ue){return this.tag&&Ue(this.value)}forall(Ue){return!this.tag||Ue(this.value)}filter(Ue){return!this.tag||Ue(this.value)?this:Me.none()}getOr(Ue){return this.tag?this.value:Ue}or(Ue){return this.tag?this:Ue}getOrThunk(Ue){return this.tag?this.value:Ue()}orThunk(Ue){return this.tag?this:Ue()}getOrDie(Ue){if(this.tag)return this.value;throw new Error(Ue??"Called getOrDie on None")}static from(Ue){return K(Ue)?Me.some(Ue):Me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ue){this.tag&&Ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const de=Array.prototype.slice,Se=Array.prototype.push,re=(pe,Ue)=>{const Gt=pe.length,On=new Array(Gt);for(let tn=0;tn<Gt;tn++){const Oo=pe[tn];On[tn]=Ue(Oo,tn)}return On},ot=(pe,Ue)=>{for(let Gt=0,On=pe.length;Gt<On;Gt++){const tn=pe[Gt];Ue(tn,Gt)}},it=(pe,Ue)=>{for(let Gt=pe.length-1;Gt>=0;Gt--){const On=pe[Gt];Ue(On,Gt)}},J=(pe,Ue)=>{if(pe.length===0)return[];{let Gt=Ue(pe[0]);const On=[];let tn=[];for(let Oo=0,ro=pe.length;Oo<ro;Oo++){const Dn=pe[Oo],Jo=Ue(Dn);Jo!==Gt&&(On.push(tn),tn=[]),Gt=Jo,tn.push(Dn)}return tn.length!==0&&On.push(tn),On}},dt=(pe,Ue,Gt)=>(ot(pe,(On,tn)=>{Gt=Ue(Gt,On,tn)}),Gt),Wt=pe=>{const Ue=[];for(let Gt=0,On=pe.length;Gt<On;++Gt){if(!$(pe[Gt]))throw new Error("Arr.flatten item "+Gt+" was not an array, input: "+pe);Se.apply(Ue,pe[Gt])}return Ue},Ae=(pe,Ue)=>Wt(re(pe,Ue)),G=(pe,Ue)=>{const Gt=de.call(pe,0);return Gt.sort(Ue),Gt},Ze=Object.hasOwnProperty,Ft=(pe,Ue)=>Ze.call(pe,Ue),ct=pe=>{let Ue=pe;return{get:()=>Ue,set:tn=>{Ue=tn}}},Ce=pe=>{const Ue=ct(Me.none()),Gt=()=>Ue.get().each(pe);return{clear:()=>{Gt(),Ue.set(Me.none())},isSet:()=>Ue.get().isSome(),get:()=>Ue.get(),set:Dn=>{Gt(),Ue.set(Me.some(Dn))}}},ce=()=>{const pe=Ce(ae);return{...pe,on:Gt=>pe.get().each(Gt)}};var Pt=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=le("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");var dn=tinymce.util.Tools.resolve("tinymce.Env"),Te=tinymce.util.Tools.resolve("tinymce.util.Tools");const rn=(pe,Ue)=>{const On=(Ue||document).createElement("div");if(On.innerHTML=pe,!On.hasChildNodes()||On.childNodes.length>1){const tn="HTML does not have a single root node";throw console.error(tn,pe),new Error(tn)}return $e(On.childNodes[0])},yt=(pe,Ue)=>{const On=(Ue||document).createElement(pe);return $e(On)},se=(pe,Ue)=>{const On=(Ue||document).createTextNode(pe);return $e(On)},$e=pe=>{if(pe==null)throw new Error("Node cannot be null or undefined");return{dom:pe}},Qe={fromHtml:rn,fromTag:yt,fromText:se,fromDom:$e,fromPoint:(pe,Ue,Gt)=>Me.from(pe.dom.elementFromPoint(Ue,Gt)).map($e)},Ct=9,He=11,ut=1,W=3,Wn=pe=>pe.nodeType!==ut&&pe.nodeType!==Ct&&pe.nodeType!==He||pe.childElementCount===0,Yt=(pe,Ue)=>{const Gt=Ue===void 0?document:Ue.dom;return Wn(Gt)?[]:re(Gt.querySelectorAll(pe),Qe.fromDom)},jn=(pe,Ue,Gt)=>(pe.compareDocumentPosition(Ue)&Gt)!==0,Cn=(pe,Ue)=>jn(pe,Ue,Node.DOCUMENT_POSITION_PRECEDING),No=pe=>pe.dom.nodeType,Ve=(pe=>Ue=>No(Ue)===pe)(W),qe=pe=>Me.from(pe.dom.parentNode).map(Qe.fromDom),De=pe=>re(pe.dom.childNodes,Qe.fromDom),Ye=(pe,Ue)=>({element:pe,offset:Ue}),Tt=(pe,Ue)=>{const Gt=De(pe);return Gt.length>0&&Ue<Gt.length?Ye(Gt[Ue],0):Ye(pe,Ue)},at=(pe,Ue)=>{qe(pe).each(On=>{On.dom.insertBefore(Ue.dom,pe.dom)})},En=(pe,Ue)=>{pe.dom.appendChild(Ue.dom)},wt=(pe,Ue)=>{at(pe,Ue),En(Ue,pe)},kt=(pe,Ue,Gt)=>{if(D(Gt)||I(Gt)||X(Gt))pe.setAttribute(Ue,Gt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ue,":: Value ",Gt,":: Element ",pe),new Error("Attribute value was not simple")},an=(pe,Ue,Gt)=>{kt(pe.dom,Ue,Gt)},Fn=((pe,Ue)=>{const Gt=Oo=>{if(!pe(Oo))throw new Error("Can only get "+Ue+" value of a "+Ue+" node");return On(Oo).getOr("")},On=Oo=>pe(Oo)?Me.from(Oo.dom.nodeValue):Me.none();return{get:Gt,getOption:On,set:(Oo,ro)=>{if(!pe(Oo))throw new Error("Can only set raw "+Ue+" value of a "+Ue+" node");Oo.dom.nodeValue=ro}}})(Ve,"text"),mo=pe=>Fn.get(pe),es=(pe,Ue)=>Yt(Ue,pe);var vo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ts=(pe,Ue)=>pe.isBlock(Ue)||Ft(pe.schema.getVoidElements(),Ue.nodeName),Bo=(pe,Ue)=>!pe.isEditable(Ue),ds=(pe,Ue)=>pe.getContentEditable(Ue)==="true"&&Ue.parentNode&&!pe.isEditable(Ue.parentNode),Ys=(pe,Ue)=>!pe.isBlock(Ue)&&Ft(pe.schema.getWhitespaceElements(),Ue.nodeName),Xs=(pe,Ue)=>ts(pe,Ue)||Bo(pe,Ue)||Ys(pe,Ue)||ds(pe,Ue),lr=pe=>pe.nodeType===3,bt=()=>({sOffset:0,fOffset:0,elements:[]}),Bt=(pe,Ue)=>Tt(Qe.fromDom(pe),Ue),po=(pe,Ue,Gt,On,tn,Oo=!0)=>{let ro=Oo?Ue(!1):Gt;for(;ro;){const Dn=Bo(pe,ro);if(Dn||Ys(pe,ro)){if(Dn?On.cef(ro):On.boundary(ro))break;ro=Ue(!0);continue}else if(ts(pe,ro)){if(On.boundary(ro))break}else lr(ro)&&On.text(ro);if(ro===tn)break;ro=Ue(!1)}},rs=(pe,Ue,Gt,On,tn)=>{if(Xs(pe,Gt))return;const Oo=pe.getParent(On,pe.isBlock)??pe.getRoot(),ro=new vo(Gt,Oo),Dn=tn?ro.next.bind(ro):ro.prev.bind(ro);po(pe,Dn,Gt,{boundary:me,cef:me,text:Jo=>{tn?Ue.fOffset+=Jo.length:Ue.sOffset+=Jo.length,Ue.elements.push(Qe.fromDom(Jo))}})},xs=(pe,Ue,Gt,On,tn,Oo=!0)=>{const ro=new vo(Gt,Ue),Dn=[];let Jo=bt();rs(pe,Jo,Gt,Ue,!1);const ms=()=>(Jo.elements.length>0&&(Dn.push(Jo),Jo=bt()),!1);return po(pe,ro.next.bind(ro),Gt,{boundary:ms,cef:$s=>(ms(),tn&&Dn.push(...tn.cef($s)),!1),text:$s=>{Jo.elements.push(Qe.fromDom($s)),tn&&tn.text($s,Jo)}},On,Oo),On&&rs(pe,Jo,On,Ue,!0),ms(),Dn},sn=(pe,Ue)=>{const Gt=Bt(Ue.startContainer,Ue.startOffset),On=Gt.element.dom,tn=Bt(Ue.endContainer,Ue.endOffset),Oo=tn.element.dom;return xs(pe,Ue.commonAncestorContainer,On,Oo,{text:(ro,Dn)=>{ro===Oo?Dn.fOffset+=ro.length-tn.offset:ro===On&&(Dn.sOffset+=Gt.offset)},cef:ro=>{const Dn=Ae(es(Qe.fromDom(ro),"*[contenteditable=true]"),Jo=>{const ms=Jo.dom;return xs(pe,ms,ms)});return G(Dn,(Jo,ms)=>Cn(Jo.elements[0].dom,ms.elements[0].dom)?1:-1)}},!1)},Ho=(pe,Ue)=>Ue.collapsed?[]:sn(pe,Ue),Io=(pe,Ue)=>{const Gt=pe.createRng();return Gt.selectNode(Ue),Ho(pe,Gt)},_r=(pe,Ue)=>Ae(Ue,Gt=>Io(pe,Gt)),Hr=(pe,Ue,Gt=0,On=pe.length)=>{const tn=Ue.regex;tn.lastIndex=Gt;const Oo=[];let ro;for(;ro=tn.exec(pe);){const Dn=ro[Ue.matchIndex],Jo=ro.index+ro[0].indexOf(Dn),ms=Jo+Dn.length;if(ms>On)break;Oo.push({start:Jo,finish:ms}),tn.lastIndex=ms}return Oo},Mn=(pe,Ue)=>{const Gt=dt(pe,(On,tn)=>{const Oo=mo(tn),ro=On.last,Dn=ro+Oo.length,Jo=Ae(Ue,(ms,$s)=>ms.start<Dn&&ms.finish>ro?[{element:tn,start:Math.max(ro,ms.start)-ro,finish:Math.min(Dn,ms.finish)-ro,matchId:$s}]:[]);return{results:On.results.concat(Jo),last:Dn}},{results:[],last:0}).results;return J(Gt,On=>On.matchId)},qt=(pe,Ue)=>Ae(Ue,Gt=>{const On=Gt.elements,tn=re(On,mo).join(""),Oo=Hr(tn,pe,Gt.sOffset,tn.length-Gt.fOffset);return Mn(On,Oo)}),jt=(pe,Ue)=>{it(pe,(Gt,On)=>{it(Gt,tn=>{const Oo=Qe.fromDom(Ue.cloneNode(!1));an(Oo,"data-mce-index",On);const ro=tn.element.dom;if(ro.length===tn.finish&&tn.start===0)wt(tn.element,Oo);else{ro.length!==tn.finish&&ro.splitText(tn.finish);const Dn=ro.splitText(tn.start);wt(Qe.fromDom(Dn),Oo)}})})},to=(pe,Ue,Gt,On)=>{const tn=Io(pe,Gt),Oo=qt(Ue,tn);return jt(Oo,On),Oo.length},qn=(pe,Ue,Gt,On)=>{const tn=Gt.getBookmark(),Oo=pe.select("td[data-mce-selected],th[data-mce-selected]"),ro=Oo.length>0?_r(pe,Oo):Ho(pe,Gt.getRng()),Dn=qt(Ue,ro);return jt(Dn,On),Gt.moveToBookmark(tn),Dn.length},Co=pe=>pe.getAttribute("data-mce-index"),_o=(pe,Ue,Gt,On)=>{const tn=pe.dom.create("span",{"data-mce-bogus":1});tn.className="mce-match-marker";const Oo=pe.getBody();return ze(pe,Ue,!1),On?qn(pe.dom,Gt,pe.selection,tn):to(pe.dom,Gt,Oo,tn)},Jn=pe=>{const Ue=pe.parentNode;pe.firstChild&&Ue.insertBefore(pe.firstChild,pe),pe.parentNode?.removeChild(pe)},as=(pe,Ue)=>{const Gt=[],On=Te.toArray(pe.getBody().getElementsByTagName("span"));if(On.length)for(let tn=0;tn<On.length;tn++){const Oo=Co(On[tn]);Oo===null||!Oo.length||Oo===Ue.toString()&&Gt.push(On[tn])}return Gt},qr=(pe,Ue,Gt)=>{const On=Ue.get();let tn=On.index;const Oo=pe.dom;Gt?tn+1===On.count?tn=0:tn++:tn-1===-1?tn=On.count-1:tn--,Oo.removeClass(as(pe,On.index),"mce-match-marker-selected");const ro=as(pe,tn);return ro.length?(Oo.addClass(as(pe,tn),"mce-match-marker-selected"),pe.selection.scrollIntoView(ro[0]),tn):-1},Ha=(pe,Ue)=>{const Gt=Ue.parentNode;pe.remove(Ue),Gt&&pe.isEmpty(Gt)&&pe.remove(Gt)},xa=(pe,Ue)=>{const On="("+pe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Ue?`(?:^|\\s|${F()})`+On+`(?=$|\\s|${F()})`:On},Kn=(pe,Ue,Gt,On,tn,Oo)=>{const ro=pe.selection,Dn=xa(Gt,tn),Jo=ro.isForward(),ms={regex:new RegExp(Dn,On?"g":"gi"),matchIndex:1},$s=_o(pe,Ue,ms,Oo);if(dn.browser.isSafari()&&ro.setRng(ro.getRng(),Jo),$s){const nr=qr(pe,Ue,!0);Ue.set({index:nr,count:$s,text:Gt,matchCase:On,wholeWord:tn,inSelection:Oo})}return $s},ua=(pe,Ue)=>{const Gt=qr(pe,Ue,!0);Ue.set({...Ue.get(),index:Gt})},ta=(pe,Ue)=>{const Gt=qr(pe,Ue,!1);Ue.set({...Ue.get(),index:Gt})},hi=pe=>{const Ue=Co(pe);return Ue!==null&&Ue.length>0},Be=(pe,Ue,Gt,On,tn)=>{const Oo=Ue.get(),ro=Oo.index;let Dn,Jo=ro;On=On!==!1;const ms=pe.getBody(),$s=Te.grep(Te.toArray(ms.getElementsByTagName("span")),hi);for(let nr=0;nr<$s.length;nr++){const ji=Co($s[nr]);let sa=Dn=parseInt(ji,10);if(tn||sa===Oo.index){for(Gt.length?($s[nr].innerText=Gt,Jn($s[nr])):Ha(pe.dom,$s[nr]);$s[++nr];)if(sa=parseInt(Co($s[nr]),10),sa===Dn)Ha(pe.dom,$s[nr]);else{nr--;break}On&&Jo--}else Dn>ro&&$s[nr].setAttribute("data-mce-index",String(Dn-1))}return Ue.set({...Oo,count:tn?0:Oo.count-1,index:Jo}),On?ua(pe,Ue):ta(pe,Ue),!tn&&Ue.get().count>0},ze=(pe,Ue,Gt)=>{let On,tn;const Oo=Ue.get(),ro=Te.toArray(pe.getBody().getElementsByTagName("span"));for(let Dn=0;Dn<ro.length;Dn++){const Jo=Co(ro[Dn]);Jo!==null&&Jo.length&&(Jo===Oo.index.toString()&&(On||(On=ro[Dn].firstChild),tn=ro[Dn].firstChild),Jn(ro[Dn]))}if(Ue.set({...Oo,index:-1,count:0,text:""}),On&&tn){const Dn=pe.dom.createRng();return Dn.setStart(On,0),Dn.setEnd(tn,tn.data.length),Gt!==!1&&pe.selection.setRng(Dn),Dn}else return},et=(pe,Ue)=>Ue.get().count>1,hn=(pe,Ue)=>Ue.get().count>1,Po=(pe,Ue)=>({done:Dn=>ze(pe,Ue,Dn),find:(Dn,Jo,ms,$s=!1)=>Kn(pe,Ue,Dn,Jo,ms,$s),next:()=>ua(pe,Ue),prev:()=>ta(pe,Ue),replace:(Dn,Jo,ms)=>Be(pe,Ue,Dn,Jo,ms)}),go=(pe,Ue)=>{const Gt=ce();pe.undoManager.add();const On=Te.trim(pe.selection.getContent({format:"text"})),tn=br=>{br.setEnabled("next",et(pe,Ue)),br.setEnabled("prev",hn(pe,Ue))},Oo=br=>{const Ls=br.getData(),Sr=Ue.get();Ue.set({...Sr,matchCase:Ls.matchcase,wholeWord:Ls.wholewords,inSelection:Ls.inselection})},ro=(br,Ls)=>{ot(["replace","replaceall","prev","next"],Sc=>br.setEnabled(Sc,!Ls))},Dn=(br,Ls)=>{Ls.redial(Uu(br,Ls.getData()))},Jo=(br,Ls)=>{dn.browser.isSafari()&&dn.deviceType.isTouch()&&(Ls==="find"||Ls==="replace"||Ls==="replaceall")&&br.focus(Ls)},ms=br=>{ze(pe,Ue,!1),ro(br,!0),tn(br)},$s=br=>{const Ls=br.getData(),Sr=Ue.get();if(!Ls.findtext.length){ms(br);return}if(Sr.text===Ls.findtext&&Sr.matchCase===Ls.matchcase&&Sr.wholeWord===Ls.wholewords)ua(pe,Ue);else{const Mi=Kn(pe,Ue,Ls.findtext,Ls.matchcase,Ls.wholewords,Ls.inselection);Mi<=0&&Dn(!0,br),ro(br,Mi===0)}tn(br)},nr=Ue.get(),ji={findtext:On,replacetext:"",wholewords:nr.wholeWord,matchcase:nr.matchCase,inselection:nr.inSelection},sa=br=>{const Ls=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return br&&Ls.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Ls},Uu=(br,Ls)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:sa(br)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Ls,onChange:(Sr,Mi)=>{br&&Dn(!1,Sr),Mi.name==="findtext"&&Ue.get().count>0&&ms(Sr)},onAction:(Sr,Mi)=>{const Sc=Sr.getData();switch(Mi.name){case"find":$s(Sr);break;case"replace":Be(pe,Ue,Sc.replacetext)?tn(Sr):ms(Sr);break;case"replaceall":Be(pe,Ue,Sc.replacetext,!0,!0),ms(Sr);break;case"prev":ta(pe,Ue),tn(Sr);break;case"next":ua(pe,Ue),tn(Sr);break;case"matchcase":case"wholewords":case"inselection":Dn(!1,Sr),Oo(Sr),ms(Sr);break}Jo(Sr,Mi.name)},onSubmit:Sr=>{$s(Sr),Jo(Sr,"find")},onClose:()=>{pe.focus(),ze(pe,Ue),pe.undoManager.add()}});Gt.set(pe.windowManager.open(Uu(!1,ji),{inline:"toolbar"}))},is=(pe,Ue)=>{pe.addCommand("SearchReplace",()=>{go(pe,Ue)})},Ms=(pe,Ue)=>()=>{go(pe,Ue)},$o=(pe,Ue)=>{pe.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Ms(pe,Ue),icon:"search"}),pe.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Ms(pe,Ue),icon:"search",shortcut:"Meta+F"}),pe.shortcuts.add("Meta+F","",Ms(pe,Ue))};var hs=()=>{Pt.add("searchreplace",pe=>{const Ue=ct({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return is(pe,Ue),$o(pe,Ue),Po(pe,Ue)})};hs()})()),Eae}var Tae;function kye(){return Tae||(Tae=1,Tye()),xae}kye();var kae={},_ae={},Oae;function _ye(){return Oae||(Oae=1,(function(){const l=me=>{let Me=me;return{get:()=>Me,set:re=>{Me=re}}};var m=tinymce.util.Tools.resolve("tinymce.PluginManager");const b=(me,Me)=>{me.dispatch("VisualBlocks",{state:Me})},E=(me,Me,de)=>{me.dom.toggleClass(me.getBody(),"mce-visualblocks"),de.set(!de.get()),b(me,de.get())},D=(me,Me,de)=>{me.addCommand("mceVisualBlocks",()=>{E(me,Me,de)})},$=me=>Me=>Me.options.get(me),I=me=>{const Me=me.options.register;Me("visualblocks_default_state",{processor:"boolean",default:!1})},H=$("visualblocks_default_state"),K=(me,Me,de)=>{me.on("PreviewFormats AfterPreviewFormats",Se=>{de.get()&&me.dom.toggleClass(me.getBody(),"mce-visualblocks",Se.type==="afterpreviewformats")}),me.on("init",()=>{H(me)&&E(me,Me,de)})},X=(me,Me)=>de=>{de.setActive(Me.get());const Se=re=>de.setActive(re.state);return me.on("VisualBlocks",Se),()=>me.off("VisualBlocks",Se)},ae=(me,Me)=>{const de=()=>me.execCommand("mceVisualBlocks");me.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:de,onSetup:X(me,Me),context:"any"}),me.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:de,onSetup:X(me,Me),context:"any"})};var le=()=>{m.add("visualblocks",(me,Me)=>{I(me);const de=l(!1);D(me,Me,de),ae(me,de),K(me,Me,de)})};le()})()),_ae}var Dae;function Oye(){return Dae||(Dae=1,_ye()),kae}Oye();var Pae={},Rae={},Fae;function Dye(){return Fae||(Fae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(H,K)=>{H.focus(),H.undoManager.transact(()=>{H.setContent(K)}),H.selection.setCursorLocation(),H.nodeChanged()},b=H=>H.getContent({source_view:!0}),E=H=>{const K=b(H);H.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:K},onSubmit:X=>{m(H,X.getData().code),X.close()}})},D=H=>{H.addCommand("mceCodeEditor",()=>{E(H)})},$=H=>{const K=()=>H.execCommand("mceCodeEditor");H.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:K}),H.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:K})};var I=()=>{l.add("code",H=>(D(H),$(H),{}))};I()})()),Rae}var Mae;function Pye(){return Mae||(Mae=1,Dye()),Pae}Pye();var Nae={},Bae={},Iae;function Rye(){return Iae||(Iae=1,(function(){const l=(ve,Ne,pt)=>pt(ve,Ne.prototype)?!0:ve.constructor?.name===Ne.name,m=ve=>{const Ne=typeof ve;return ve===null?"null":Ne==="object"&&Array.isArray(ve)?"array":Ne==="object"&&l(ve,String,(pt,Qt)=>Qt.isPrototypeOf(pt))?"string":Ne},b=ve=>Ne=>m(Ne)===ve,E=ve=>Ne=>typeof Ne===ve,D=ve=>Ne=>ve===Ne,$=b("string"),I=b("object"),H=b("array"),K=D(null),X=E("boolean"),ae=D(void 0),le=ve=>ve==null,me=ve=>!le(ve),Me=E("function"),de=E("number"),Se=()=>{},re=(ve,Ne)=>(...pt)=>ve(Ne.apply(null,pt)),ot=(ve,Ne)=>pt=>ve(Ne(pt)),it=ve=>()=>ve;function J(ve,...Ne){return(...pt)=>{const Qt=Ne.concat(pt);return ve.apply(null,Qt)}}const dt=it(!1),Wt=it(!0);class Ae{tag;value;static singletonNone=new Ae(!1);constructor(Ne,pt){this.tag=Ne,this.value=pt}static some(Ne){return new Ae(!0,Ne)}static none(){return Ae.singletonNone}fold(Ne,pt){return this.tag?pt(this.value):Ne()}isSome(){return this.tag}isNone(){return!this.tag}map(Ne){return this.tag?Ae.some(Ne(this.value)):Ae.none()}bind(Ne){return this.tag?Ne(this.value):Ae.none()}exists(Ne){return this.tag&&Ne(this.value)}forall(Ne){return!this.tag||Ne(this.value)}filter(Ne){return!this.tag||Ne(this.value)?this:Ae.none()}getOr(Ne){return this.tag?this.value:Ne}or(Ne){return this.tag?this:Ne}getOrThunk(Ne){return this.tag?this.value:Ne()}orThunk(Ne){return this.tag?this:Ne()}getOrDie(Ne){if(this.tag)return this.value;throw new Error(Ne??"Called getOrDie on None")}static from(Ne){return me(Ne)?Ae.some(Ne):Ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ne){this.tag&&Ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const G=Array.prototype.push,Ze=(ve,Ne)=>{const pt=ve.length,Qt=new Array(pt);for(let xo=0;xo<pt;xo++){const Es=ve[xo];Qt[xo]=Ne(Es,xo)}return Qt},Ft=(ve,Ne)=>{for(let pt=0,Qt=ve.length;pt<Qt;pt++){const xo=ve[pt];Ne(xo,pt)}},ct=(ve,Ne)=>{const pt=[];for(let Qt=0,xo=ve.length;Qt<xo;Qt++){const Es=ve[Qt];Ne(Es,Qt)&&pt.push(Es)}return pt},Ce=(ve,Ne,pt)=>{for(let Qt=0,xo=ve.length;Qt<xo;Qt++){const Es=ve[Qt];if(Ne(Es,Qt))return Ae.some(Es);if(pt(Es,Qt))break}return Ae.none()},ce=(ve,Ne)=>Ce(ve,Ne,dt),Pt=ve=>{const Ne=[];for(let pt=0,Qt=ve.length;pt<Qt;++pt){if(!H(ve[pt]))throw new Error("Arr.flatten item "+pt+" was not an array, input: "+ve);G.apply(Ne,ve[pt])}return Ne},je=(ve,Ne)=>Pt(Ze(ve,Ne)),lt=(ve,Ne)=>Ne>=0&&Ne<ve.length?Ae.some(ve[Ne]):Ae.none(),F=ve=>lt(ve,0),dn=(ve,Ne)=>{for(let pt=0;pt<ve.length;pt++){const Qt=Ne(ve[pt],pt);if(Qt.isSome())return Qt}return Ae.none()},Te=Object.keys,rn=(ve,Ne)=>{const pt=Te(ve);for(let Qt=0,xo=pt.length;Qt<xo;Qt++){const Es=pt[Qt],Pa=ve[Es];Ne(Pa,Es)}},yt=ve=>{let Ne=ve;return{get:()=>Ne,set:xo=>{Ne=xo}}},se=typeof window<"u"?window:Function("return this;")(),$e=(ve,Ne,pt)=>ve.isSome()&&Ne.isSome()?Ae.some(pt(ve.getOrDie(),Ne.getOrDie())):Ae.none(),Mt=(ve,Ne)=>{let pt=Ne??se;for(let Qt=0;Qt<ve.length&&pt!==void 0&&pt!==null;++Qt)pt=pt[ve[Qt]];return pt},Qe=(ve,Ne)=>{const pt=ve.split(".");return Mt(pt,Ne)},Ct=ve=>{const Ne=yt(Ae.none()),pt=()=>Ne.get().each(ve);return{clear:()=>{pt(),Ne.set(Ae.none())},isSet:()=>Ne.get().isSome(),get:()=>Ne.get(),set:Ll=>{pt(),Ne.set(Ae.some(Ll))}}},He=()=>Ct(ve=>ve.unbind()),ut=()=>{const ve=Ct(Se);return{...ve,on:pt=>ve.get().each(pt)}},W=(ve,Ne,pt=0,Qt)=>{const xo=ve.indexOf(Ne,pt);return xo!==-1?ae(Qt)?!0:xo+Ne.length<=Qt:!1},Wn=(ve,Ne)=>{let pt=null;return{cancel:()=>{K(pt)||(clearTimeout(pt),pt=null)},throttle:(...Es)=>{K(pt)&&(pt=setTimeout(()=>{pt=null,ve.apply(null,Es)},Ne))}}},Yt=ve=>{let Ne=!1,pt;return(...Qt)=>(Ne||(Ne=!0,pt=ve.apply(null,Qt)),pt)};var jn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Cn=ve=>({isFullscreen:()=>ve.get()!==null}),No=(ve,Ne)=>{const Qt=(Ne||document).createElement("div");if(Qt.innerHTML=ve,!Qt.hasChildNodes()||Qt.childNodes.length>1){const xo="HTML does not have a single root node";throw console.error(xo,ve),new Error(xo)}return qe(Qt.childNodes[0])},Re=(ve,Ne)=>{const Qt=(Ne||document).createElement(ve);return qe(Qt)},Ve=(ve,Ne)=>{const Qt=(Ne||document).createTextNode(ve);return qe(Qt)},qe=ve=>{if(ve==null)throw new Error("Node cannot be null or undefined");return{dom:ve}},Ye={fromHtml:No,fromTag:Re,fromText:Ve,fromDom:qe,fromPoint:(ve,Ne,pt)=>Ae.from(ve.dom.elementFromPoint(Ne,pt)).map(qe)},Tt=9,at=11,En=1,wt=3,kt=(ve,Ne)=>{const pt=ve.dom;if(pt.nodeType!==En)return!1;{const Qt=pt;if(Qt.matches!==void 0)return Qt.matches(Ne);if(Qt.msMatchesSelector!==void 0)return Qt.msMatchesSelector(Ne);if(Qt.webkitMatchesSelector!==void 0)return Qt.webkitMatchesSelector(Ne);if(Qt.mozMatchesSelector!==void 0)return Qt.mozMatchesSelector(Ne);throw new Error("Browser lacks native selectors")}},an=ve=>ve.nodeType!==En&&ve.nodeType!==Tt&&ve.nodeType!==at||ve.childElementCount===0,vn=(ve,Ne)=>{const pt=document;return an(pt)?[]:Ze(pt.querySelectorAll(ve),Ye.fromDom)},Fn=(ve,Ne)=>ve.dom===Ne.dom,mo=(ve,Ne,pt,Qt)=>{const xo=ve.isiOS()&&/ipad/i.test(pt)===!0,Es=ve.isiOS()&&!xo,Pa=ve.isiOS()||ve.isAndroid(),Ll=Pa||Qt("(pointer:coarse)"),wi=xo||!Es&&Pa&&Qt("(min-device-width:768px)"),Hl=Es||Pa&&!wi,Wd=Ne.isSafari()&&ve.isiOS()&&/safari/i.test(pt)===!1,zl=!Hl&&!wi&&!Wd;return{isiPad:it(xo),isiPhone:it(Es),isTablet:it(wi),isPhone:it(Hl),isTouch:it(Ll),isAndroid:ve.isAndroid,isiOS:ve.isiOS,isWebView:it(Wd),isDesktop:it(zl)}},es=(ve,Ne)=>{for(let pt=0;pt<ve.length;pt++){const Qt=ve[pt];if(Qt.test(Ne))return Qt}},vo=(ve,Ne)=>{const pt=es(ve,Ne);if(!pt)return{major:0,minor:0};const Qt=xo=>Number(Ne.replace(pt,"$"+xo));return ds(Qt(1),Qt(2))},ts=(ve,Ne)=>{const pt=String(Ne).toLowerCase();return ve.length===0?Bo():vo(ve,pt)},Bo=()=>ds(0,0),ds=(ve,Ne)=>({major:ve,minor:Ne}),Ys={nu:ds,detect:ts,unknown:Bo},Xs=(ve,Ne)=>dn(Ne.brands,pt=>{const Qt=pt.brand.toLowerCase();return ce(ve,xo=>Qt===xo.brand?.toLowerCase()).map(xo=>({current:xo.name,version:Ys.nu(parseInt(pt.version,10),0)}))}),lr=(ve,Ne)=>{const pt=String(Ne).toLowerCase();return ce(ve,Qt=>Qt.search(pt))},bt=(ve,Ne)=>lr(ve,Ne).map(pt=>{const Qt=Ys.detect(pt.versionRegexes,Ne);return{current:pt.name,version:Qt}}),Bt=(ve,Ne)=>lr(ve,Ne).map(pt=>{const Qt=Ys.detect(pt.versionRegexes,Ne);return{current:pt.name,version:Qt}}),po=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rs=ve=>Ne=>W(Ne,ve),xs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ve=>W(ve,"edge/")&&W(ve,"chrome")&&W(ve,"safari")&&W(ve,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,po],search:ve=>W(ve,"chrome")&&!W(ve,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ve=>W(ve,"msie")||W(ve,"trident")},{name:"Opera",versionRegexes:[po,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rs("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rs("firefox")},{name:"Safari",versionRegexes:[po,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ve=>(W(ve,"safari")||W(ve,"mobile/"))&&W(ve,"applewebkit")}],sn=[{name:"Windows",search:rs("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ve=>W(ve,"iphone")||W(ve,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rs("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rs("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rs("linux"),versionRegexes:[]},{name:"Solaris",search:rs("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rs("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rs("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ho={browsers:it(xs),oses:it(sn)},Io="Edge",_r="Chromium",Hr="IE",Mn="Opera",qt="Firefox",jt="Safari",to=()=>qn({current:void 0,version:Ys.unknown()}),qn=ve=>{const Ne=ve.current,pt=ve.version,Qt=xo=>()=>Ne===xo;return{current:Ne,version:pt,isEdge:Qt(Io),isChromium:Qt(_r),isIE:Qt(Hr),isOpera:Qt(Mn),isFirefox:Qt(qt),isSafari:Qt(jt)}},Co={unknown:to,nu:qn},_o="Windows",Jn="iOS",as="Android",qr="Linux",Ha="macOS",xa="Solaris",Kn="FreeBSD",ua="ChromeOS",ta=()=>hi({current:void 0,version:Ys.unknown()}),hi=ve=>{const Ne=ve.current,pt=ve.version,Qt=xo=>()=>Ne===xo;return{current:Ne,version:pt,isWindows:Qt(_o),isiOS:Qt(Jn),isAndroid:Qt(as),isMacOS:Qt(Ha),isLinux:Qt(qr),isSolaris:Qt(xa),isFreeBSD:Qt(Kn),isChromeOS:Qt(ua)}},Be={unknown:ta,nu:hi},et={detect:(ve,Ne,pt)=>{const Qt=Ho.browsers(),xo=Ho.oses(),Es=Ne.bind(wi=>Xs(Qt,wi)).orThunk(()=>bt(Qt,ve)).fold(Co.unknown,Co.nu),Pa=Bt(xo,ve).fold(Be.unknown,Be.nu),Ll=mo(Pa,Es,ve,pt);return{browser:Es,os:Pa,deviceType:Ll}}},hn=ve=>window.matchMedia(ve).matches;let Po=Yt(()=>et.detect(window.navigator.userAgent,Ae.from(window.navigator.userAgentData),hn));const go=()=>Po(),is=(ve,Ne)=>Qe(ve,Ne),Ms=(ve,Ne)=>{const pt=is(ve,Ne);if(pt==null)throw new Error(ve+" not available on this browser");return pt},$o=Object.getPrototypeOf,hs=ve=>Ms("HTMLElement",ve),pe=ve=>{const Ne=Qe("ownerDocument.defaultView",ve);return I(ve)&&(hs(Ne).prototype.isPrototypeOf(ve)||/^HTML\w*Element$/.test($o(ve).constructor.name))},Ue=ve=>ve.dom.nodeType,Gt=ve=>Ne=>Ue(Ne)===ve,On=ve=>tn(ve)&&pe(ve.dom),tn=Gt(En),Oo=Gt(wt),ro=Gt(at),Dn=ve=>Ye.fromDom(ve.dom.ownerDocument),Jo=ve=>Ae.from(ve.dom.parentNode).map(Ye.fromDom),ms=(ve,Ne)=>{const pt=Me(Ne)?Ne:dt;let Qt=ve.dom;const xo=[];for(;Qt.parentNode!==null&&Qt.parentNode!==void 0;){const Es=Qt.parentNode,Pa=Ye.fromDom(Es);if(xo.push(Pa),pt(Pa)===!0)break;Qt=Es}return xo},$s=ve=>{const Ne=pt=>ct(pt,Qt=>!Fn(ve,Qt));return Jo(ve).map(ji).map(Ne).getOr([])},nr=ve=>Ae.from(ve.dom.nextSibling).map(Ye.fromDom),ji=ve=>Ze(ve.dom.childNodes,Ye.fromDom),sa=ve=>ro(ve)&&me(ve.dom.host),Uu=ve=>Ye.fromDom(ve.dom.getRootNode()),br=ve=>{const Ne=Uu(ve);return sa(Ne)?Ae.some(Ne):Ae.none()},Ls=ve=>Ye.fromDom(ve.dom.host),Sr=ve=>{if(me(ve.target)){const Ne=Ye.fromDom(ve.target);if(tn(Ne)&&Mi(Ne)&&ve.composed&&ve.composedPath){const pt=ve.composedPath();if(pt)return F(pt)}}return Ae.from(ve.target)},Mi=ve=>me(ve.dom.shadowRoot),Sc=(ve,Ne,pt,Qt,xo,Es,Pa)=>({target:ve,x:Ne,y:pt,stop:Qt,prevent:xo,kill:Es,raw:Pa}),Gr=ve=>{const Ne=Ye.fromDom(Sr(ve).getOr(ve.target)),pt=()=>ve.stopPropagation(),Qt=()=>ve.preventDefault(),xo=re(Qt,pt);return Sc(Ne,ve.clientX,ve.clientY,pt,Qt,xo,ve)},Do=(ve,Ne)=>pt=>{ve(pt)&&Ne(Gr(pt))},Ya=(ve,Ne,pt,Qt,xo)=>{const Es=Do(pt,Qt);return ve.dom.addEventListener(Ne,Es,xo),{unbind:J(Kr,ve,Ne,Es,xo)}},Ni=(ve,Ne,pt,Qt)=>Ya(ve,Ne,pt,Qt,!1),Kr=(ve,Ne,pt,Qt)=>{ve.dom.removeEventListener(Ne,pt,Qt)},Pr=Wt,yu=(ve,Ne,pt)=>Ni(ve,Ne,Pr,pt),Fr=(ve,Ne,pt)=>{if($(pt)||X(pt)||de(pt))ve.setAttribute(Ne,pt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ne,":: Value ",pt,":: Element ",ve),new Error("Attribute value was not simple")},xc=(ve,Ne,pt)=>{Fr(ve.dom,Ne,pt)},Il=(ve,Ne)=>{const pt=ve.dom.getAttribute(Ne);return pt===null?void 0:pt},ff=(ve,Ne)=>{ve.dom.removeAttribute(Ne)},An=ve=>ve.style!==void 0&&Me(ve.style.getPropertyValue),Yl=ve=>{const Ne=Oo(ve)?ve.dom.parentNode:ve.dom;if(Ne==null||Ne.ownerDocument===null)return!1;const pt=Ne.ownerDocument;return br(Ye.fromDom(Ne)).fold(()=>pt.body.contains(Ne),ot(Yl,Ls))},vi=ve=>{const Ne=ve.dom.body;if(Ne==null)throw new Error("Body is not available yet");return Ye.fromDom(Ne)},ci=(ve,Ne,pt)=>{if(!$(pt))throw console.error("Invalid call to CSS.set. Property ",Ne,":: Value ",pt,":: Element ",ve),new Error("CSS value must be a string: "+pt);An(ve)&&ve.style.setProperty(Ne,pt)},xr=(ve,Ne,pt)=>{const Qt=ve.dom;ci(Qt,Ne,pt)},Xl=(ve,Ne)=>{const pt=ve.dom;rn(Ne,(Qt,xo)=>{ci(pt,xo,Qt)})},bi=(ve,Ne)=>{const pt=ve.dom,xo=window.getComputedStyle(pt).getPropertyValue(Ne);return xo===""&&!Yl(ve)?il(pt,Ne):xo},il=(ve,Ne)=>An(ve)?ve.style.getPropertyValue(Ne):"",Ql=(ve,Ne)=>({left:ve,top:Ne,translate:(Qt,xo)=>Ql(ve+Qt,Ne+xo)}),gm=Ql,Jc=ve=>{const Ne=ve!==void 0?ve.dom:document,pt=Ne.body.scrollLeft||Ne.documentElement.scrollLeft,Qt=Ne.body.scrollTop||Ne.documentElement.scrollTop;return gm(pt,Qt)},pd=ve=>ve.dom.classList!==void 0,gd=(ve,Ne)=>pd(ve)&&ve.dom.classList.contains(Ne),eu=(ve,Ne,pt)=>ct(ms(ve,pt),Ne),tu=(ve,Ne)=>ct($s(ve),Ne),yn=ve=>vn(ve),Vu=(ve,Ne,pt)=>eu(ve,Qt=>kt(Qt,Ne),pt),wu=(ve,Ne)=>tu(ve,pt=>kt(pt,Ne)),Zi=ve=>{const Ne=ve===void 0?window:ve;return go().browser.isFirefox()?Ae.none():Ae.from(Ne.visualViewport)},yi=(ve,Ne,pt,Qt)=>({x:ve,y:Ne,width:pt,height:Qt,right:ve+pt,bottom:Ne+Qt}),Cu=ve=>{const Ne=ve===void 0?window:ve,pt=Ne.document,Qt=Jc(Ye.fromDom(pt));return Zi(Ne).fold(()=>{const xo=Ne.document.documentElement,Es=xo.clientWidth,Pa=xo.clientHeight;return yi(Qt.left,Qt.top,Es,Pa)},xo=>yi(Math.max(xo.pageLeft,Qt.left),Math.max(xo.pageTop,Qt.top),xo.width,xo.height))},qi=(ve,Ne,pt)=>Zi(pt).map(Qt=>{const xo=Es=>Ne(Gr(Es));return Qt.addEventListener(ve,xo),{unbind:()=>Qt.removeEventListener(ve,xo)}}).getOrThunk(()=>({unbind:Se}));var nu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ec=tinymce.util.Tools.resolve("tinymce.Env");const $l=(ve,Ne)=>{ve.dispatch("FullscreenStateChanged",{state:Ne}),ve.dispatch("ResizeEditor")},rr=ve=>Ne=>Ne.options.get(ve),hd=ve=>{const Ne=ve.options.register;Ne("fullscreen_native",{processor:"boolean",default:!1})},Q=rr("fullscreen_native"),be=ve=>{const Ne=Ye.fromDom(ve.getElement());return br(Ne).map(Ls).getOrThunk(()=>vi(Dn(Ne)))},Ie=ve=>ve.fullscreenElement!==void 0?ve.fullscreenElement:ve.msFullscreenElement!==void 0?ve.msFullscreenElement:ve.webkitFullscreenElement!==void 0?ve.webkitFullscreenElement:null,Nt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",Qn=ve=>{const Ne=ve.dom;Ne.requestFullscreen?Ne.requestFullscreen():Ne.msRequestFullscreen?Ne.msRequestFullscreen():Ne.webkitRequestFullScreen&&Ne.webkitRequestFullScreen()},Cs=ve=>{const Ne=ve.dom;Ne.exitFullscreen?Ne.exitFullscreen():Ne.msExitFullscreen?Ne.msExitFullscreen():Ne.webkitCancelFullScreen&&Ne.webkitCancelFullScreen()},ar=ve=>ve.dom===Ie(Dn(ve).dom),yr="data-ephox-mobile-fullscreen-style",za="display:none!important;",Gi="position:absolute!important;",ee="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",_e="background-color:rgb(255,255,255)!important;",Je=Ec.os.isAndroid(),Et=ve=>{const Ne=bi(ve,"background-color");return Ne!==void 0&&Ne!==""?"background-color:"+Ne+"!important":_e},wn=(ve,Ne,pt)=>{const Qt=Hl=>wu(Hl,"*:not(.tox-silver-sink)"),xo=Hl=>Wd=>{const zl=Il(Wd,"style"),hm=zl===void 0?"no-styles":zl.trim();hm!==Hl&&(xc(Wd,yr,hm),Xl(Wd,ve.parseStyle(Hl)))},Es=Vu(Ne,"*"),Pa=je(Es,Qt),Ll=Et(pt);Ft(Pa,xo(za)),Ft(Es,xo(Gi+ee+Ll)),xo((Je===!0?"":Gi)+ee+Ll)(Ne)},Xn=ve=>{const Ne=yn("["+yr+"]");Ft(Ne,pt=>{const Qt=Il(pt,yr);Qt&&Qt!=="no-styles"?Xl(pt,ve.parseStyle(Qt)):ff(pt,"style"),ff(pt,yr)})},Vo=nu.DOM,Qs=()=>Cu(window),Bs=ve=>window.scrollTo(ve.x,ve.y),Ki=Zi().fold(()=>({bind:Se,unbind:Se}),ve=>{const Ne=ut(),pt=He(),Qt=He(),xo=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},Es=()=>{window.requestAnimationFrame(()=>{Ne.on(Hl=>Xl(Hl,{top:ve.offsetTop+"px",left:ve.offsetLeft+"px",height:ve.height+"px",width:ve.width+"px"}))})},Pa=Wn(()=>{xo(),Es()},50);return{bind:Hl=>{Ne.set(Hl),Pa.throttle(),pt.set(qi("resize",Pa.throttle)),Qt.set(qi("scroll",Pa.throttle))},unbind:()=>{Ne.on(()=>{pt.clear(),Qt.clear()}),Ne.clear()}}}),ra=(ve,Ne)=>{const pt=document.body,Qt=document.documentElement,xo=ve.getContainer(),Es=Ye.fromDom(xo),Pa=nr(Es).filter(kl=>On(kl)&&gd(kl,"tox-silver-sink")),Ll=be(ve),wi=Ne.get(),Hl=Ye.fromDom(ve.getBody()),Wd=Ec.deviceType.isTouch(),zl=xo.style,Ul=ve.iframeElement?.style,Jl=kl=>{kl(pt,"tox-fullscreen"),kl(Qt,"tox-fullscreen"),kl(xo,"tox-fullscreen"),br(Es).map(ps=>Ls(ps).dom).each(ps=>{kl(ps,"tox-fullscreen"),kl(ps,"tox-shadowhost")})},bd=()=>{Wd&&Xn(ve.dom),Jl(Vo.removeClass),Ki.unbind(),Ae.from(Ne.get()).each(kl=>kl.fullscreenChangeHandler.unbind())};if(wi)wi.fullscreenChangeHandler.unbind(),Q(ve)&&ar(Ll)&&Cs(Dn(Ll)),Ul.width=wi.iframeWidth,Ul.height=wi.iframeHeight,zl.width=wi.containerWidth,zl.height=wi.containerHeight,zl.top=wi.containerTop,zl.left=wi.containerLeft,$e(Pa,wi.sinkCssPosition,(kl,ps)=>{xr(kl,"position",ps)}),bd(),Bs(wi.scrollPos),Ne.set(null),$l(ve,!1),ve.off("remove",bd);else{const kl=yu(Dn(Ll),Nt(),sp=>{Q(ve)&&!ar(Ll)&&Ne.get()!==null&&ra(ve,Ne)}),ps={scrollPos:Qs(),containerWidth:zl.width,containerHeight:zl.height,containerTop:zl.top,containerLeft:zl.left,iframeWidth:Ul.width,iframeHeight:Ul.height,fullscreenChangeHandler:kl,sinkCssPosition:Pa.map(sp=>bi(sp,"position"))};Wd&&wn(ve.dom,Es,Hl),Ul.width=Ul.height="100%",zl.width=zl.height="",Jl(Vo.addClass),Pa.each(sp=>{xr(sp,"position","fixed")}),Ki.bind(Es),ve.on("remove",bd),Ne.set(ps),Q(ve)&&Qn(Ll),$l(ve,!0)}},vd=(ve,Ne)=>{ve.addCommand("mceFullScreen",()=>{ra(ve,Ne)})};var Bf=tinymce.util.Tools.resolve("tinymce.util.VK");const mf=(ve,Ne)=>{ve.on("init",()=>{ve.on("keydown",pt=>{pt.keyCode===Bf.TAB&&!(pt.metaKey||pt.ctrlKey)&&Ne.get()&&pt.preventDefault()})})},Ac=(ve,Ne)=>pt=>{pt.setActive(Ne.get()!==null);const Qt=xo=>pt.setActive(xo.state);return ve.on("FullscreenStateChanged",Qt),()=>ve.off("FullscreenStateChanged",Qt)},th=(ve,Ne)=>{const pt=()=>ve.execCommand("mceFullScreen");ve.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:pt,onSetup:Ac(ve,Ne),context:"any"}),ve.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:pt,onSetup:Ac(ve,Ne),shortcut:"Meta+Shift+F",context:"any"})};var ag=()=>{jn.add("fullscreen",ve=>{const Ne=yt(null);return ve.inline||(hd(ve),vd(ve,Ne),th(ve,Ne),mf(ve,Ne),ve.addShortcut("Meta+Shift+F","","mceFullScreen")),Cn(Ne)})};ag()})()),Bae}var $ae;function Fye(){return $ae||($ae=1,Rye()),Nae}Fye();var Lae={},Hae={},zae;function Mye(){return zae||(zae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=Ae=>G=>G.options.get(Ae),b=Ae=>{const G=Ae.options.register;G("insertdatetime_dateformat",{processor:"string",default:Ae.translate("%Y-%m-%d")}),G("insertdatetime_timeformat",{processor:"string",default:Ae.translate("%H:%M:%S")}),G("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),G("insertdatetime_element",{processor:"boolean",default:!1})},E=m("insertdatetime_dateformat"),D=m("insertdatetime_timeformat"),$=m("insertdatetime_formats"),I=m("insertdatetime_element"),H=Ae=>{const G=$(Ae);return G.length>0?G[0]:D(Ae)},K="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),X="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ae="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),le="January February March April May June July August September October November December".split(" "),me=(Ae,G)=>{if(Ae=""+Ae,Ae.length<G)for(let Ze=0;Ze<G-Ae.length;Ze++)Ae="0"+Ae;return Ae},Me=(Ae,G,Ze=new Date)=>(G=G.replace("%D","%m/%d/%Y"),G=G.replace("%r","%I:%M:%S %p"),G=G.replace("%Y",""+Ze.getFullYear()),G=G.replace("%y",""+Ze.getYear()),G=G.replace("%m",me(Ze.getMonth()+1,2)),G=G.replace("%d",me(Ze.getDate(),2)),G=G.replace("%H",""+me(Ze.getHours(),2)),G=G.replace("%M",""+me(Ze.getMinutes(),2)),G=G.replace("%S",""+me(Ze.getSeconds(),2)),G=G.replace("%I",""+((Ze.getHours()+11)%12+1)),G=G.replace("%p",Ze.getHours()<12?"AM":"PM"),G=G.replace("%B",""+Ae.translate(le[Ze.getMonth()])),G=G.replace("%b",""+Ae.translate(ae[Ze.getMonth()])),G=G.replace("%A",""+Ae.translate(X[Ze.getDay()])),G=G.replace("%a",""+Ae.translate(K[Ze.getDay()])),G=G.replace("%%","%"),G),de=(Ae,G,Ze,Ft)=>{const ct=Ae.dom.create("time",{datetime:Ze},Ft);Ae.dom.replace(ct,G),Ae.selection.select(ct,!0),Ae.selection.collapse(!1)},Se=(Ae,G)=>{if(I(Ae)&&Ae.selection.isEditable()){const Ze=Me(Ae,G);let Ft;/%[HMSIp]/.test(G)?Ft=Me(Ae,"%Y-%m-%dT%H:%M"):Ft=Me(Ae,"%Y-%m-%d");const ct=Ae.dom.getParent(Ae.selection.getStart(),"time");ct?de(Ae,ct,Ft,Ze):Ae.insertContent('<time datetime="'+Ft+'">'+Ze+"</time>")}else Ae.insertContent(Me(Ae,G))},re=Ae=>{Ae.addCommand("mceInsertDate",(G,Ze)=>{Se(Ae,Ze??E(Ae))}),Ae.addCommand("mceInsertTime",(G,Ze)=>{Se(Ae,Ze??D(Ae))})},ot=Ae=>{let G=Ae;return{get:()=>G,set:ct=>{G=ct}}};var it=tinymce.util.Tools.resolve("tinymce.util.Tools");const J=Ae=>G=>{const Ze=()=>{G.setEnabled(Ae.selection.isEditable())};return Ae.on("NodeChange",Ze),Ze(),()=>{Ae.off("NodeChange",Ze)}},dt=Ae=>{const G=$(Ae),Ze=ot(H(Ae)),Ft=Ce=>Ae.execCommand("mceInsertDate",!1,Ce);Ae.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",chevronTooltip:"Insert date/time menu",select:Ce=>Ce===Ze.get(),fetch:Ce=>{Ce(it.map(G,ce=>({type:"choiceitem",text:Me(Ae,ce),value:ce})))},onAction:Ce=>{Ft(Ze.get())},onItemAction:(Ce,ce)=>{Ze.set(ce),Ft(ce)},onSetup:J(Ae)});const ct=Ce=>()=>{Ze.set(Ce),Ft(Ce)};Ae.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>it.map(G,Ce=>({type:"menuitem",text:Me(Ae,Ce),onAction:ct(Ce)})),onSetup:J(Ae)})};var Wt=()=>{l.add("insertdatetime",Ae=>{b(Ae),re(Ae),dt(Ae)})};Wt()})()),Hae}var Uae;function Nye(){return Uae||(Uae=1,Mye()),Lae}Nye();var Vae={},Wae={},jae;function Bye(){return jae||(jae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(Be,ze,et)=>et(Be,ze.prototype)?!0:Be.constructor?.name===ze.name,b=Be=>{const ze=typeof Be;return Be===null?"null":ze==="object"&&Array.isArray(Be)?"array":ze==="object"&&m(Be,String,(et,hn)=>hn.isPrototypeOf(et))?"string":ze},E=Be=>ze=>b(ze)===Be,D=E("string"),$=E("object"),I=E("array"),H=Be=>Be==null,K=Be=>!H(Be);class X{tag;value;static singletonNone=new X(!1);constructor(ze,et){this.tag=ze,this.value=et}static some(ze){return new X(!0,ze)}static none(){return X.singletonNone}fold(ze,et){return this.tag?et(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?X.some(ze(this.value)):X.none()}bind(ze){return this.tag?ze(this.value):X.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:X.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze??"Called getOrDie on None")}static from(ze){return K(ze)?X.some(ze):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ae=Array.prototype.push,le=(Be,ze)=>{for(let et=0,hn=Be.length;et<hn;et++){const Po=Be[et];ze(Po,et)}},me=Be=>{const ze=[];for(let et=0,hn=Be.length;et<hn;++et){if(!I(Be[et]))throw new Error("Arr.flatten item "+et+" was not an array, input: "+Be);ae.apply(ze,Be[et])}return ze},Me=Object.keys,de=Object.hasOwnProperty,Se=(Be,ze)=>{const et=Me(Be);for(let hn=0,Po=et.length;hn<Po;hn++){const go=et[hn],is=Be[go];ze(is,go)}},re=(Be,ze)=>ot(Be,ze)?X.from(Be[ze]):X.none(),ot=(Be,ze)=>de.call(Be,ze),it=Be=>{let ze=Be;return{get:()=>ze,set:Po=>{ze=Po}}},J=(Be,ze,et)=>Be.length>=ze.length&&Be.substr(et,et+ze.length)===ze,dt=(Be,ze)=>J(Be,ze,0),Wt=Be=>ze=>ze.options.get(Be),Ae=Be=>{const ze=Be.options.register;ze("audio_template_callback",{processor:"function"}),ze("video_template_callback",{processor:"function"}),ze("iframe_template_callback",{processor:"function"}),ze("media_live_embeds",{processor:"boolean",default:!0}),ze("media_filter_html",{processor:"boolean",default:!0}),ze("media_url_resolver",{processor:"function"}),ze("media_alt_source",{processor:"boolean",default:!0}),ze("media_poster",{processor:"boolean",default:!0}),ze("media_dimensions",{processor:"boolean",default:!0})},G=Wt("audio_template_callback"),Ze=Wt("video_template_callback"),Ft=Wt("iframe_template_callback"),ct=Wt("media_live_embeds"),Ce=Wt("media_filter_html"),ce=Wt("media_url_resolver"),Pt=Wt("media_alt_source"),je=Wt("media_poster"),lt=Wt("media_dimensions");var F=tinymce.util.Tools.resolve("tinymce.util.Tools"),dn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Te=tinymce.util.Tools.resolve("tinymce.html.DomParser");const rn=dn.DOM,yt=Be=>Be.replace(/px$/,""),se=Be=>{const ze=Be.attr("style"),et=ze?rn.parseStyle(ze):{};return{type:"ephox-embed-iri",source:Be.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:re(et,"max-width").map(yt).getOr(""),height:re(et,"max-height").map(yt).getOr("")}},$e=(Be,ze)=>{let et={};const Po=Te({validate:!1,forced_root_block:!1},ze).parse(Be);for(let go=Po;go;go=go.walk())if(go.type===1){const is=go.name;if(go.attr("data-ephox-embed-iri")){et=se(go);break}else!et.source&&is==="param"&&(et.source=go.attr("movie")),(is==="iframe"||is==="object"||is==="embed"||is==="video"||is==="audio")&&(et.type||(et.type=is),et=F.extend(go.attributes.map,et)),is==="source"&&(et.source?et.altsource||(et.altsource=go.attr("src")):et.source=go.attr("src")),is==="img"&&!et.poster&&(et.poster=go.attr("src"))}return et.source=et.source||et.src||"",et.altsource=et.altsource||"",et.poster=et.poster||"",et},Mt=Be=>{const ze={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},et=Be.toLowerCase().split(".").pop()??"";return re(ze,et).getOr("")};var Qe=tinymce.util.Tools.resolve("tinymce.html.Node"),Ct=tinymce.util.Tools.resolve("tinymce.html.Serializer");const He=(Be,ze={})=>Te({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...ze},Be),ut=dn.DOM,W=Be=>/^[0-9.]+$/.test(Be)?Be+"px":Be,Wn=(Be,ze)=>{const et=ze.attr("style"),hn=et?ut.parseStyle(et):{};K(Be.width)&&(hn["max-width"]=W(Be.width)),K(Be.height)&&(hn["max-height"]=W(Be.height)),ze.attr("style",ut.serializeStyle(hn))},Yt=["source","altsource"],jn=(Be,ze,et,hn)=>{let Po=0,go=0;const is=He(hn);is.addNodeFilter("source",$o=>Po=$o.length);const Ms=is.parse(Be);for(let $o=Ms;$o;$o=$o.walk())if($o.type===1){const hs=$o.name;if($o.attr("data-ephox-embed-iri")){Wn(ze,$o);break}else{switch(hs){case"video":case"object":case"embed":case"img":case"iframe":ze.height!==void 0&&ze.width!==void 0&&($o.attr("width",ze.width),$o.attr("height",ze.height));break}if(et)switch(hs){case"video":$o.attr("poster",ze.poster),$o.attr("src",null);for(let Ue=Po;Ue<2;Ue++)if(ze[Yt[Ue]]){const Gt=new Qe("source",1);Gt.attr("src",ze[Yt[Ue]]),Gt.attr("type",ze[Yt[Ue]+"mime"]||null),$o.append(Gt)}break;case"iframe":$o.attr("src",ze.source);break;case"object":const pe=$o.getAll("img").length>0;if(ze.poster&&!pe){$o.attr("src",ze.poster);const Ue=new Qe("img",1);Ue.attr("src",ze.poster),Ue.attr("width",ze.width),Ue.attr("height",ze.height),$o.append(Ue)}break;case"source":if(go<2&&($o.attr("src",ze[Yt[go]]),$o.attr("type",ze[Yt[go]+"mime"]||null),!ze[Yt[go]])){$o.remove();continue}go++;break;case"img":ze.poster||$o.remove();break}}}return Ct({},hn).serialize(Ms)},Cn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],No=Be=>{const ze=Be.match(/^(https?:\/\/|www\.)(.+)$/i);return ze&&ze.length>1?ze[1]==="www."?"https://":ze[1]:"https://"},Re=(Be,ze)=>{const et=No(ze),hn=Be.regex.exec(ze);let Po=et+Be.url;if(K(hn))for(let go=0;go<hn.length;go++)Po=Po.replace("$"+go,()=>hn[go]?hn[go]:"");return Po.replace(/\?$/,"")},Ve=Be=>{const ze=Cn.filter(et=>et.regex.test(Be));return ze.length>0?F.extend({},ze[0],{url:Re(ze[0],Be)}):null},qe=(Be,ze)=>{if(ze)return ze(Be);{const et=Be.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Be.source+'" width="'+Be.width+'" height="'+Be.height+'"'+et+"></iframe>"}},De=Be=>{let ze='<object data="'+Be.source+'" width="'+Be.width+'" height="'+Be.height+'" type="application/x-shockwave-flash">';return Be.poster&&(ze+='<img src="'+Be.poster+'" width="'+Be.width+'" height="'+Be.height+'" />'),ze+="</object>",ze},Ye=(Be,ze)=>ze?ze(Be):'<audio controls="controls" src="'+Be.source+'">'+(Be.altsource?`
<source src="`+Be.altsource+'"'+(Be.altsourcemime?' type="'+Be.altsourcemime+'"':"")+` />
`:"")+"</audio>",Tt=(Be,ze)=>ze?ze(Be):'<video width="'+Be.width+'" height="'+Be.height+'"'+(Be.poster?' poster="'+Be.poster+'"':"")+` controls="controls">
<source src="`+Be.source+'"'+(Be.sourcemime?' type="'+Be.sourcemime+'"':"")+` />
`+(Be.altsource?'<source src="'+Be.altsource+'"'+(Be.altsourcemime?' type="'+Be.altsourcemime+'"':"")+` />
`:"")+"</video>",at=(Be,ze)=>{const et=F.extend({},ze);if(!et.source&&(F.extend(et,$e(et.embed??"",Be.schema)),!et.source))return"";et.altsource||(et.altsource=""),et.poster||(et.poster=""),et.source=Be.convertURL(et.source,"source"),et.altsource=Be.convertURL(et.altsource,"source"),et.sourcemime=Mt(et.source),et.altsourcemime=Mt(et.altsource),et.poster=Be.convertURL(et.poster,"poster");const hn=Ve(et.source);if(hn&&(et.source=hn.url,et.type=hn.type,et.allowfullscreen=hn.allowFullscreen,et.width=et.width||String(hn.w),et.height=et.height||String(hn.h)),et.embed)return jn(et.embed,et,!0,Be.schema);{const Po=G(Be),go=Ze(Be),is=Ft(Be);return et.width=et.width||"300",et.height=et.height||"150",F.each(et,(Ms,$o)=>{et[$o]=Be.dom.encode(""+Ms)}),et.type==="iframe"?qe(et,is):et.sourcemime==="application/x-shockwave-flash"?De(et):et.sourcemime.indexOf("audio")!==-1?Ye(et,Po):Tt(et,go)}},En=Be=>Be.hasAttribute("data-mce-object")||Be.hasAttribute("data-ephox-embed-iri"),wt=Be=>{Be.on("mousedown",ze=>{const et=Be.dom.getParent(ze.target,".mce-preview-object");et&&Be.dom.getAttrib(et,"data-mce-selected")==="2"&&ze.stopImmediatePropagation()}),Be.on("click keyup touchend",()=>{const ze=Be.selection.getNode();ze&&Be.dom.hasClass(ze,"mce-preview-object")&&Be.dom.getAttrib(ze,"data-mce-selected")&&ze.setAttribute("data-mce-selected","2")}),Be.on("ObjectResized",ze=>{const et=ze.target;if(et.getAttribute("data-mce-object")){let hn=et.getAttribute("data-mce-html");hn&&(hn=unescape(hn),et.setAttribute("data-mce-html",escape(jn(hn,{width:String(ze.width),height:String(ze.height)},!1,Be.schema))))}})},kt={},an=(Be,ze,et)=>new Promise((hn,Po)=>{const go=is=>(is.html&&(kt[Be.source]=is),hn({url:Be.source,html:is.html?is.html:ze(Be)}));kt[Be.source]?go(kt[Be.source]):et({url:Be.source}).then(go).catch(Po)}),vn=(Be,ze)=>Promise.resolve({html:ze(Be),url:Be.source}),Fn=Be=>ze=>at(Be,ze),mo=(Be,ze)=>{const et=ce(Be);return et?an(ze,Fn(Be),et):vn(ze,Fn(Be))},es=Be=>ot(kt,Be),vo=(Be,ze)=>re(ze,Be).bind(et=>re(et,"meta")),ts=(Be,ze,et)=>hn=>{const Po=()=>re(Be,hn),go=()=>re(ze,hn),is=hs=>re(hs,"value").bind(pe=>pe.length>0?X.some(pe):X.none()),Ms=()=>Po().bind(hs=>$(hs)?is(hs).orThunk(go):go().orThunk(()=>X.from(hs))),$o=()=>go().orThunk(()=>Po().bind(hs=>$(hs)?is(hs):X.from(hs)));return{[hn]:(hn===et?Ms():$o()).getOr("")}},Bo=(Be,ze)=>{const et={};return re(Be,"dimensions").each(hn=>{le(["width","height"],Po=>{re(ze,Po).orThunk(()=>re(hn,Po)).each(go=>et[Po]=go)})}),et},ds=(Be,ze)=>{const et=ze&&ze!=="dimensions"?vo(ze,Be).getOr({}):{},hn=ts(Be,et,ze);return{...hn("source"),...hn("altsource"),...hn("poster"),...hn("embed"),...Bo(Be,et)}},Ys=Be=>{const ze={...Be,source:{value:re(Be,"source").getOr("")},altsource:{value:re(Be,"altsource").getOr("")},poster:{value:re(Be,"poster").getOr("")}};return le(["width","height"],et=>{re(Be,et).each(hn=>{const Po=ze.dimensions||{};Po[et]=hn,ze.dimensions=Po})}),ze},Xs=Be=>ze=>{const et=ze&&ze.msg?"Media embed handler error: "+ze.msg:"Media embed handler threw unknown error.";Be.notificationManager.open({type:"error",text:et})},lr=Be=>{const ze=Be.selection.getNode(),et=En(ze)?Be.serializer.serialize(ze,{selection:!0}):"",hn=$e(et,Be.schema),go=(()=>{if(rs(hn.source,hn.type)){const is=Be.dom.getRect(ze);return{width:is.w.toString().replace(/px$/,""),height:is.h.toString().replace(/px$/,"")}}else return{}})();return{embed:et,...hn,...go}},bt=(Be,ze)=>et=>{if(D(et.url)&&et.url.trim().length>0){const hn=et.html,go={...$e(hn,ze.schema),source:et.url,embed:hn};Be.setData(Ys(go))}},Bt=(Be,ze)=>{const et=Be.dom.select("*[data-mce-object]");for(let hn=0;hn<ze.length;hn++)for(let Po=et.length-1;Po>=0;Po--)ze[hn]===et[Po]&&et.splice(Po,1);Be.selection.select(et[0])},po=(Be,ze)=>{const et=Be.dom.select("*[data-mce-object]");Be.insertContent(ze),Bt(Be,et),Be.nodeChanged()},rs=(Be,ze)=>K(ze)&&ze==="ephox-embed-iri"&&K(Ve(Be)),xs=(Be,ze)=>((hn,Po)=>hn.width!==Po.width||hn.height!==Po.height)(Be,ze)&&rs(ze.source,Be.type),sn=(Be,ze,et)=>{ze.embed=xs(Be,ze)&&lt(et)?at(et,{...ze,embed:""}):jn(ze.embed??"",ze,!1,et.schema),ze.embed&&(Be.source===ze.source||es(ze.source))?po(et,ze.embed):mo(et,ze).then(hn=>{po(et,hn.html)}).catch(Xs(et))},Ho=Be=>{const ze=lr(Be),et=it(ze),hn=Ys(ze),Po=(Dn,Jo)=>{const ms=ds(Jo.getData(),"source");Dn.source!==ms.source&&(bt(ro,Be)({url:ms.source,html:""}),mo(Be,ms).then(bt(ro,Be)).catch(Xs(Be)))},go=Dn=>{const Jo=ds(Dn.getData()),ms=$e(Jo.embed??"",Be.schema);Dn.setData(Ys(ms))},is=(Dn,Jo,ms)=>{const $s=ds(Dn.getData(),Jo),nr=xs(ms,$s)&&lt(Be)?{...$s,embed:""}:$s,ji=at(Be,nr);Dn.setData(Ys({...nr,embed:ji}))},Ms=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],$o=lt(Be)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],hs={title:"General",name:"general",items:me([Ms,$o])},Ue={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Gt=[];Pt(Be)&&Gt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),je(Be)&&Gt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const On={title:"Advanced",name:"advanced",items:Gt},tn=[hs,Ue];Gt.length>0&&tn.push(On);const Oo={type:"tabpanel",tabs:tn},ro=Be.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Oo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Dn=>{const Jo=ds(Dn.getData());sn(et.get(),Jo,Be),Dn.close()},onChange:(Dn,Jo)=>{switch(Jo.name){case"source":Po(et.get(),Dn);break;case"embed":go(Dn);break;case"dimensions":case"altsource":case"poster":is(Dn,Jo.name,et.get());break}et.set(ds(Dn.getData()))},initialData:hn})},Io=Be=>({showDialog:()=>{Ho(Be)}}),_r=Be=>{const ze=()=>{Ho(Be)};Be.addCommand("mceMedia",ze)};var Hr=tinymce.util.Tools.resolve("tinymce.Env");const Mn=Be=>{const ze=Be.name;return ze==="iframe"||ze==="video"||ze==="audio"},qt=(Be,ze,et,hn=null)=>{const Po=Be.attr(et);return K(Po)?Po:ot(ze,et)?null:hn},jt=(Be,ze,et)=>{const hn=ze.name==="img"||Be.name==="video",Po=hn?"300":null,go=Be.name==="audio"?"30":"150",is=hn?go:null;ze.attr({width:qt(Be,et,"width",Po),height:qt(Be,et,"height",is)})},to=(Be,ze,et,hn)=>{const Po=He(Be.schema).parse(hn,{context:ze});for(;Po.firstChild;)et.append(Po.firstChild)},qn=(Be,ze)=>{const et=ze.name,hn=new Qe("img",1);return _o(Be,ze,hn),jt(ze,hn,{}),hn.attr({style:ze.attr("style"),src:Hr.transparentSrc,"data-mce-object":et,class:"mce-object mce-object-"+et}),hn},Co=(Be,ze)=>{const et=ze.name,hn=new Qe("span",1);hn.attr({contentEditable:"false",style:ze.attr("style"),"data-mce-object":et,class:"mce-preview-object mce-object-"+et}),_o(Be,ze,hn);const Po=Be.dom.parseStyle(ze.attr("style")??""),go=new Qe(et,1);if(jt(ze,go,Po),go.attr({src:ze.attr("src"),style:ze.attr("style"),class:ze.attr("class")}),et==="iframe")go.attr({allowfullscreen:ze.attr("allowfullscreen"),frameborder:"0",sandbox:ze.attr("sandbox"),referrerpolicy:ze.attr("referrerpolicy")});else{le(["controls","crossorigin","currentTime","loop","muted","poster","preload"],hs=>{go.attr(hs,ze.attr(hs))});const $o=hn.attr("data-mce-html");K($o)&&to(Be,et,go,unescape($o))}const is=new Qe("span",1);return is.attr("class","mce-shim"),hn.append(go),hn.append(is),hn},_o=(Be,ze,et)=>{const hn=ze.attributes??[];let Po=hn.length;for(;Po--;){const $o=hn[Po].name;let hs=hn[Po].value;$o!=="width"&&$o!=="height"&&$o!=="style"&&!dt($o,"data-mce-")&&(($o==="data"||$o==="src")&&(hs=Be.convertURL(hs,$o)),et.attr("data-mce-p-"+$o,hs))}const go=Ct({inner:!0},Be.schema),is=new Qe("div",1);le(ze.children(),$o=>is.append($o));const Ms=go.serialize(is);Ms&&(et.attr("data-mce-html",escape(Ms)),et.empty())},Jn=Be=>{const ze=Be.attr("class");return D(ze)&&/\btiny-pageembed\b/.test(ze)},as=Be=>{let ze=Be;for(;ze=ze.parent;)if(ze.attr("data-ephox-embed-iri")||Jn(ze))return!0;return!1},qr=Be=>ze=>{let et=ze.length,hn;for(;et--;)hn=ze[et],hn.parent&&(hn.parent.attr("data-mce-object")||(Mn(hn)&&ct(Be)?as(hn)||hn.replace(Co(Be,hn)):as(hn)||hn.replace(qn(Be,hn))))},Ha=(Be,ze,et)=>{const hn=Be.options.get,Po=hn("xss_sanitization"),go=Ce(Be);return He(Be.schema,{sanitize:Po,validate:go}).parse(et,{context:ze})},xa=Be=>{Be.on("PreInit",()=>{const{schema:ze,serializer:et,parser:hn}=Be,Po=ze.getBoolAttrs();le("webkitallowfullscreen mozallowfullscreen".split(" "),go=>{Po[go]={}}),Se({embed:["wmode"]},(go,is)=>{const Ms=ze.getElementRule(is);Ms&&le(go,$o=>{Ms.attributes[$o]={},Ms.attributesOrder.push($o)})}),hn.addNodeFilter("iframe,video,audio,object,embed",qr(Be)),et.addAttributeFilter("data-mce-object",(go,is)=>{let Ms=go.length;for(;Ms--;){const $o=go[Ms];if(!$o.parent)continue;const hs=$o.attr(is),pe=new Qe(hs,1);if(hs!=="audio"){const tn=$o.attr("class");tn&&tn.indexOf("mce-preview-object")!==-1&&$o.firstChild?pe.attr({width:$o.firstChild.attr("width"),height:$o.firstChild.attr("height")}):pe.attr({width:$o.attr("width"),height:$o.attr("height")})}pe.attr({style:$o.attr("style")});const Ue=$o.attributes??[];let Gt=Ue.length;for(;Gt--;){const tn=Ue[Gt].name;tn.indexOf("data-mce-p-")===0&&pe.attr(tn.substr(11),Ue[Gt].value)}const On=$o.attr("data-mce-html");if(On){const tn=Ha(Be,hs,unescape(On));le(tn.children(),Oo=>pe.append(Oo))}$o.replace(pe)}})}),Be.on("SetContent",()=>{const ze=Be.dom;le(ze.select("span.mce-preview-object"),et=>{ze.select("span.mce-shim",et).length===0&&ze.add(et,"span",{class:"mce-shim"})})})},Kn=Be=>{Be.on("ResolveName",ze=>{let et;ze.target.nodeType===1&&(et=ze.target.getAttribute("data-mce-object"))&&(ze.name=et)})},ua=Be=>ze=>{const et=()=>{ze.setEnabled(Be.selection.isEditable())};return Be.on("NodeChange",et),et(),()=>{Be.off("NodeChange",et)}},ta=Be=>{const ze=()=>Be.execCommand("mceMedia");Be.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:ze,onSetup:et=>{const hn=Be.selection;et.setActive(En(hn.getNode()));const Po=hn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",et.setActive).unbind,go=ua(Be)(et);return()=>{Po(),go()}}}),Be.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:ze,onSetup:ua(Be)})};var hi=()=>{l.add("media",Be=>(Ae(Be),_r(Be),ta(Be),Kn(Be),xa(Be),wt(Be),Io(Be)))};hi()})()),Wae}var Zae;function Iye(){return Zae||(Zae=1,Bye()),Vae}Iye();var qae={},Gae={},Kae;function $ye(){return Kae||(Kae=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const m=(R,B,ne)=>ne(R,B.prototype)?!0:R.constructor?.name===B.name,b=R=>{const B=typeof R;return R===null?"null":B==="object"&&Array.isArray(R)?"array":B==="object"&&m(R,String,(ne,we)=>we.isPrototypeOf(ne))?"string":B},E=R=>B=>b(B)===R,D=R=>B=>typeof B===R,$=R=>B=>R===B,I=E("string"),H=E("array"),K=D("boolean"),X=$(void 0),ae=R=>R==null,le=R=>!ae(R),me=D("function"),Me=D("number"),de=()=>{},Se=(R,B)=>ne=>R(B(ne)),re=R=>()=>R,ot=R=>R,it=(R,B)=>R===B;function J(R,...B){return(...ne)=>{const we=B.concat(ne);return R.apply(null,we)}}const dt=R=>{R()},Wt=re(!1),Ae=re(!0);class G{tag;value;static singletonNone=new G(!1);constructor(B,ne){this.tag=B,this.value=ne}static some(B){return new G(!0,B)}static none(){return G.singletonNone}fold(B,ne){return this.tag?ne(this.value):B()}isSome(){return this.tag}isNone(){return!this.tag}map(B){return this.tag?G.some(B(this.value)):G.none()}bind(B){return this.tag?B(this.value):G.none()}exists(B){return this.tag&&B(this.value)}forall(B){return!this.tag||B(this.value)}filter(B){return!this.tag||B(this.value)?this:G.none()}getOr(B){return this.tag?this.value:B}or(B){return this.tag?this:B}getOrThunk(B){return this.tag?this.value:B()}orThunk(B){return this.tag?this:B()}getOrDie(B){if(this.tag)return this.value;throw new Error(B??"Called getOrDie on None")}static from(B){return le(B)?G.some(B):G.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(B){this.tag&&B(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Ze=Array.prototype.indexOf,Ft=Array.prototype.push,ct=(R,B)=>Ze.call(R,B),Ce=(R,B)=>ct(R,B)>-1,ce=(R,B)=>{for(let ne=0,we=R.length;ne<we;ne++){const Ke=R[ne];if(B(Ke,ne))return!0}return!1},Pt=(R,B)=>{const ne=[];for(let we=0;we<R;we++)ne.push(B(we));return ne},je=(R,B)=>{const ne=R.length,we=new Array(ne);for(let Ke=0;Ke<ne;Ke++){const Ot=R[Ke];we[Ke]=B(Ot,Ke)}return we},lt=(R,B)=>{for(let ne=0,we=R.length;ne<we;ne++){const Ke=R[ne];B(Ke,ne)}},F=(R,B)=>{for(let ne=R.length-1;ne>=0;ne--){const we=R[ne];B(we,ne)}},dn=(R,B)=>{const ne=[],we=[];for(let Ke=0,Ot=R.length;Ke<Ot;Ke++){const xn=R[Ke];(B(xn,Ke)?ne:we).push(xn)}return{pass:ne,fail:we}},Te=(R,B)=>{const ne=[];for(let we=0,Ke=R.length;we<Ke;we++){const Ot=R[we];B(Ot,we)&&ne.push(Ot)}return ne},rn=(R,B,ne)=>(F(R,(we,Ke)=>{ne=B(ne,we,Ke)}),ne),yt=(R,B,ne)=>(lt(R,(we,Ke)=>{ne=B(ne,we,Ke)}),ne),se=(R,B,ne)=>{for(let we=0,Ke=R.length;we<Ke;we++){const Ot=R[we];if(B(Ot,we))return G.some(Ot);if(ne(Ot,we))break}return G.none()},$e=(R,B)=>se(R,B,Wt),Mt=R=>{const B=[];for(let ne=0,we=R.length;ne<we;++ne){if(!H(R[ne]))throw new Error("Arr.flatten item "+ne+" was not an array, input: "+R);Ft.apply(B,R[ne])}return B},Qe=(R,B)=>Mt(je(R,B)),Ct=(R,B)=>{for(let ne=0,we=R.length;ne<we;++ne){const Ke=R[ne];if(B(Ke,ne)!==!0)return!1}return!0},He=(R,B)=>{const ne={};for(let we=0,Ke=R.length;we<Ke;we++){const Ot=R[we];ne[String(Ot)]=B(Ot,we)}return ne},ut=(R,B)=>B>=0&&B<R.length?G.some(R[B]):G.none(),W=R=>ut(R,0),Wn=R=>ut(R,R.length-1),Yt=(R,B)=>{for(let ne=0;ne<R.length;ne++){const we=B(R[ne],ne);if(we.isSome())return we}return G.none()},jn=Object.keys,Cn=Object.hasOwnProperty,No=(R,B)=>{const ne=jn(R);for(let we=0,Ke=ne.length;we<Ke;we++){const Ot=ne[we],xn=R[Ot];B(xn,Ot)}},Re=R=>(B,ne)=>{R[ne]=B},Ve=(R,B,ne,we)=>{No(R,(Ke,Ot)=>{(B(Ke,Ot)?ne:we)(Ke,Ot)})},qe=(R,B)=>{const ne={};return Ve(R,B,Re(ne),de),ne},De=(R,B)=>{const ne=[];return No(R,(we,Ke)=>{ne.push(B(we,Ke))}),ne},Ye=R=>De(R,ot),Tt=R=>jn(R).length,at=(R,B)=>En(R,B)?G.from(R[B]):G.none(),En=(R,B)=>Cn.call(R,B),wt=(R,B)=>En(R,B)&&R[B]!==void 0&&R[B]!==null,kt=R=>{for(const B in R)if(Cn.call(R,B))return!1;return!0},an=R=>{let B=R;return{get:()=>B,set:Ke=>{B=Ke}}},vn=(R,B,ne=it)=>R.exists(we=>ne(we,B)),Fn=R=>{const B=[],ne=we=>{B.push(we)};for(let we=0;we<R.length;we++)R[we].each(ne);return B},mo=(R,B,ne)=>R.isSome()&&B.isSome()?G.some(ne(R.getOrDie(),B.getOrDie())):G.none(),es=R=>R.bind(ot),vo=(R,B)=>R?G.some(B):G.none(),ts=R=>{const B=an(G.none()),ne=()=>B.get().each(R);return{clear:()=>{ne(),B.set(G.none())},isSet:()=>B.get().isSome(),get:()=>B.get(),set:no=>{ne(),B.set(G.some(no))}}},Bo=()=>ts(R=>R.unbind()),ds=(R,B)=>R.substring(B),Ys=(R,B,ne)=>B===""||R.length>=B.length&&R.substr(ne,ne+B.length)===B,Xs=(R,B)=>lr(R,B)?ds(R,B.length):R,lr=(R,B)=>Ys(R,B,0),Bt=(R=>B=>B.replace(R,""))(/^\s+|\s+$/g),po=R=>R.length>0,rs=R=>!po(R),xs=(R,B=10)=>{const ne=parseInt(R,B);return isNaN(ne)?G.none():G.some(ne)},sn=R=>{const B=parseFloat(R);return isNaN(B)?G.none():G.some(B)},Ho=R=>{let B=!1,ne;return(...we)=>(B||(B=!0,ne=R.apply(null,we)),ne)},Io=(R,B)=>{const we=(B||document).createElement("div");if(we.innerHTML=R,!we.hasChildNodes()||we.childNodes.length>1){const Ke="HTML does not have a single root node";throw console.error(Ke,R),new Error(Ke)}return Mn(we.childNodes[0])},_r=(R,B)=>{const we=(B||document).createElement(R);return Mn(we)},Hr=(R,B)=>{const we=(B||document).createTextNode(R);return Mn(we)},Mn=R=>{if(R==null)throw new Error("Node cannot be null or undefined");return{dom:R}},jt={fromHtml:Io,fromTag:_r,fromText:Hr,fromDom:Mn,fromPoint:(R,B,ne)=>G.from(R.dom.elementFromPoint(B,ne)).map(Mn)},to=8,qn=9,Co=11,_o=1,Jn=3,as=(R,B)=>{const ne=R.dom;if(ne.nodeType!==_o)return!1;{const we=ne;if(we.matches!==void 0)return we.matches(B);if(we.msMatchesSelector!==void 0)return we.msMatchesSelector(B);if(we.webkitMatchesSelector!==void 0)return we.webkitMatchesSelector(B);if(we.mozMatchesSelector!==void 0)return we.mozMatchesSelector(B);throw new Error("Browser lacks native selectors")}},qr=R=>R.nodeType!==_o&&R.nodeType!==qn&&R.nodeType!==Co||R.childElementCount===0,Ha=(R,B)=>{const ne=B===void 0?document:B.dom;return qr(ne)?[]:je(ne.querySelectorAll(R),jt.fromDom)},xa=(R,B)=>{const ne=B===void 0?document:B.dom;return qr(ne)?G.none():G.from(ne.querySelector(R)).map(jt.fromDom)},Kn=(R,B)=>R.dom===B.dom,ua=as,ta=R=>R.dom.nodeName.toLowerCase(),hi=R=>R.dom.nodeType,Be=R=>B=>hi(B)===R,ze=R=>hi(R)===to||ta(R)==="#comment",et=Be(_o),hn=Be(Jn),Po=Be(qn),go=Be(Co),is=R=>B=>et(B)&&ta(B)===R,Ms=R=>jt.fromDom(R.dom.ownerDocument),$o=R=>Po(R)?R:Ms(R),hs=R=>G.from(R.dom.parentNode).map(jt.fromDom),pe=(R,B)=>{const ne=me(B)?B:Wt;let we=R.dom;const Ke=[];for(;we.parentNode!==null&&we.parentNode!==void 0;){const Ot=we.parentNode,xn=jt.fromDom(Ot);if(Ke.push(xn),ne(xn)===!0)break;we=Ot}return Ke},Ue=R=>G.from(R.dom.previousSibling).map(jt.fromDom),Gt=R=>G.from(R.dom.nextSibling).map(jt.fromDom),On=R=>je(R.dom.childNodes,jt.fromDom),tn=(R,B)=>{const ne=R.dom.childNodes;return G.from(ne[B]).map(jt.fromDom)},Oo=R=>tn(R,0),ro=R=>go(R)&&le(R.dom.host),Dn=R=>jt.fromDom(R.dom.getRootNode()),Jo=R=>{const B=Dn(R);return ro(B)?G.some(B):G.none()},ms=R=>jt.fromDom(R.dom.host),$s=(R,B)=>{hs(R).each(we=>{we.dom.insertBefore(B.dom,R.dom)})},nr=(R,B)=>{Gt(R).fold(()=>{hs(R).each(Ke=>{sa(Ke,B)})},we=>{$s(we,B)})},ji=(R,B)=>{Oo(R).fold(()=>{sa(R,B)},we=>{R.dom.insertBefore(B.dom,we.dom)})},sa=(R,B)=>{R.dom.appendChild(B.dom)},Uu=(R,B)=>{$s(R,B),sa(B,R)},br=(R,B)=>{lt(B,(ne,we)=>{const Ke=we===0?R:B[we-1];nr(Ke,ne)})},Ls=(R,B)=>{lt(B,ne=>{sa(R,ne)})},Sr=(R,B,ne)=>{if(I(ne)||K(ne)||Me(ne))R.setAttribute(B,ne+"");else throw console.error("Invalid call to Attribute.set. Key ",B,":: Value ",ne,":: Element ",R),new Error("Attribute value was not simple")},Mi=(R,B,ne)=>{Sr(R.dom,B,ne)},Sc=(R,B)=>{const ne=R.dom;No(B,(we,Ke)=>{Sr(ne,Ke,we)})},Gr=(R,B)=>{const ne=R.dom.getAttribute(B);return ne===null?void 0:ne},Do=(R,B)=>G.from(Gr(R,B)),Ya=(R,B)=>{R.dom.removeAttribute(B)},Ni=R=>yt(R.dom.attributes,(B,ne)=>(B[ne.name]=ne.value,B),{}),Kr=R=>{const B=R.dom;B.parentNode!==null&&B.parentNode.removeChild(B)},Pr=R=>{const B=On(R);B.length>0&&br(R,B),Kr(R)},yu=R=>je(R,jt.fromDom),Fr=R=>R.style!==void 0&&me(R.style.getPropertyValue),xc=R=>{const B=hn(R)?R.dom.parentNode:R.dom;if(B==null||B.ownerDocument===null)return!1;const ne=B.ownerDocument;return Jo(jt.fromDom(B)).fold(()=>ne.body.contains(B),Se(xc,ms))},Il=(R,B,ne)=>{if(!I(ne))throw console.error("Invalid call to CSS.set. Property ",B,":: Value ",ne,":: Element ",R),new Error("CSS value must be a string: "+ne);Fr(R)&&R.style.setProperty(B,ne)},ff=(R,B)=>{Fr(R)&&R.style.removeProperty(B)},An=(R,B,ne)=>{const we=R.dom;Il(we,B,ne)},Yl=(R,B)=>{const ne=R.dom,Ke=window.getComputedStyle(ne).getPropertyValue(B);return Ke===""&&!xc(R)?vi(ne,B):Ke},vi=(R,B)=>Fr(R)?R.style.getPropertyValue(B):"",ci=(R,B)=>{const ne=R.dom,we=vi(ne,B);return G.from(we).filter(Ke=>Ke.length>0)},xr=(R,B)=>{const ne=R.dom;ff(ne,B),vn(Do(R,"style").map(Bt),"")&&Ya(R,"style")},Xl=(R,B)=>sn(R).getOr(B),bi=(R,B,ne)=>Xl(Yl(R,B),ne),il=(R,B,ne,we)=>{const Ke=bi(R,`padding-${ne}`,0),Ot=bi(R,`padding-${we}`,0),xn=bi(R,`border-${ne}-width`,0),no=bi(R,`border-${we}-width`,0);return B-Ke-Ot-xn-no},Ql=(R,B)=>{const ne=R.dom,we=ne.getBoundingClientRect().width||ne.offsetWidth;return il(R,we,"left","right")},Jc=R=>Ql(R),gd=((R,B)=>{const ne=Ot=>{if(!R(Ot))throw new Error("Can only get "+B+" value of a "+B+" node");return we(Ot).getOr("")},we=Ot=>R(Ot)?G.from(Ot.dom.nodeValue):G.none();return{get:ne,getOption:we,set:(Ot,xn)=>{if(!R(Ot))throw new Error("Can only set raw "+B+" value of a "+B+" node");Ot.dom.nodeValue=xn}}})(hn,"text"),eu=R=>gd.get(R),tu=(R,B)=>gd.set(R,B);var yn=(R,B,ne,we,Ke)=>R(ne,we)?G.some(ne):me(Ke)&&Ke(ne)?G.none():B(ne,we,Ke);const Vu=(R,B,ne)=>{let we=R.dom;const Ke=me(ne)?ne:Wt;for(;we.parentNode;){we=we.parentNode;const Ot=jt.fromDom(we);if(B(Ot))return G.some(Ot);if(Ke(Ot))break}return G.none()},wu=(R,B,ne)=>yn((Ke,Ot)=>Ot(Ke),Vu,R,B,ne),Zi=(R,B)=>{const ne=Ke=>B(jt.fromDom(Ke));return $e(R.dom.childNodes,ne).map(jt.fromDom)},yi=(R,B,ne)=>Vu(R,we=>as(we,B),ne),Cu=(R,B)=>Zi(R,ne=>as(ne,B)),qi=(R,B)=>xa(B,R),nu=(R,B,ne)=>yn((Ke,Ot)=>as(Ke,Ot),yi,R,B,ne),Ec=R=>nu(R,"[contenteditable]"),$l=(R,B=!1)=>xc(R)?R.dom.isContentEditable:Ec(R).fold(re(B),ne=>rr(ne)==="true"),rr=R=>R.dom.contentEditable,hd=(R,B)=>Te(On(R),B),Q=(R,B)=>{let ne=[];return lt(On(R),we=>{B(we)&&(ne=ne.concat([we])),ne=ne.concat(Q(we,B))}),ne},be=(R,B)=>hd(R,ne=>as(ne,B)),Ie=(R,B)=>Ha(B,R),Nt=(R,B)=>Cu(R,B).isSome(),Qn=R=>R.nodeName.toLowerCase(),Cs=R=>jt.fromDom(R.getBody()),ar=R=>B=>Kn(B,Cs(R)),yr=R=>R?R.replace(/px$/,""):"",za=R=>/^\d+(\.\d+)?$/.test(R)?R+"px":R,Gi=R=>jt.fromDom(R.selection.getStart()),ee=R=>jt.fromDom(R.selection.getEnd()),_e=R=>wu(R,is("table")).forall($l),Je=["tfoot","thead","tbody","colgroup"],Et=R=>Ce(Je,R),wn=(R,B)=>({rows:R,columns:B}),Xn=(R,B,ne)=>({element:R,rowspan:B,colspan:ne}),Vo=(R,B,ne,we,Ke,Ot)=>({element:R,rowspan:B,colspan:ne,row:we,column:Ke,isLocked:Ot}),Qs=(R,B,ne)=>({element:R,cells:B,section:ne}),Bs=(R,B,ne,we)=>({startRow:R,startCol:B,finishRow:ne,finishCol:we}),Ki=(R,B,ne)=>({element:R,colspan:B,column:ne}),ra=(R,B)=>({element:R,columns:B}),vd=(R,B,ne=0)=>Do(R,B).map(we=>parseInt(we,10)).getOr(ne),Bf=(R,B)=>mf(R,B,Ae),mf=(R,B,ne)=>Qe(On(R),we=>as(we,B)?ne(we)?[we]:[]:mf(we,B,ne)),Ac=(R,B,ne=Wt)=>{if(ne(B))return G.none();if(Ce(R,ta(B)))return G.some(B);const we=Ke=>as(Ke,"table")||ne(Ke);return yi(B,R.join(","),we)},th=(R,B)=>Ac(["td","th"],R,B),ag=R=>Bf(R,"th,td"),ve=R=>as(R,"colgroup")?be(R,"col"):Qe(Qt(R),B=>be(B,"col")),Ne=(R,B)=>nu(R,"table",B),pt=R=>Bf(R,"tr"),Qt=R=>Ne(R).fold(re([]),B=>be(B,"colgroup")),xo=is("th"),Es=(R,B)=>R&&B?"sectionCells":R?"section":"cells",Pa=R=>{const B=R.section==="thead",ne=vn(Ll(R.cells),"th");return R.section==="tfoot"?{type:"footer"}:B||ne?{type:"header",subType:Es(B,ne)}:{type:"body"}},Ll=R=>{const B=Te(R,ne=>xo(ne.element));return B.length===0?G.some("td"):B.length===R.length?G.some("th"):G.none()},wi=R=>{const B=je(R,Ke=>Pa(Ke).type),ne=Ce(B,"header"),we=Ce(B,"footer");if(!ne&&!we)return G.some("body");{const Ke=Ce(B,"body");return ne&&!Ke&&!we?G.some("header"):!ne&&!Ke&&we?G.some("footer"):G.none()}},Hl=(R,B)=>je(R,ne=>{if(ta(ne)==="colgroup"){const we=je(ve(ne),Ke=>{const Ot=vd(Ke,"span",1);return Xn(Ke,1,Ot)});return Qs(ne,we,"colgroup")}else{const we=je(ag(ne),Ke=>{const Ot=vd(Ke,"rowspan",1),xn=vd(Ke,"colspan",1);return Xn(Ke,Ot,xn)});return Qs(ne,we,B(ne))}}),Wd=R=>hs(R).map(B=>{const ne=ta(B);return Et(ne)?ne:"tbody"}).getOr("tbody"),zl=R=>{const B=pt(R),we=[...Qt(R),...B];return Hl(we,Wd)},hm="data-snooker-locked-cols",Ul=R=>Do(R,hm).bind(B=>G.from(B.match(/\d+/g))).map(B=>He(B,Ae)),Jl=(R,B)=>R+","+B,bd=(R,B,ne)=>G.from(R.access[Jl(B,ne)]),kl=(R,B,ne)=>{const we=ps(R,Ke=>ne(B,Ke.element));return we.length>0?G.some(we[0]):G.none()},ps=(R,B)=>{const ne=Qe(R.all,we=>we.cells);return Te(ne,B)},sp=R=>{const B={};let ne=0;return lt(R.cells,we=>{const Ke=we.colspan;Pt(Ke,Ot=>{const xn=ne+Ot;B[xn]=Ki(we.element,Ke,xn)}),ne+=Ke}),B},ig=R=>{const B={},ne=[],Ke=W(R).map(lc=>lc.element).bind(Ne).bind(Ul).getOr({});let Ot=0,xn=0,no=0;const{pass:Ko,fail:vs}=dn(R,lc=>lc.section==="colgroup");lt(vs,lc=>{const lu=[];lt(lc.cells,Dd=>{let Dl=0;for(;B[Jl(no,Dl)]!==void 0;)Dl++;const si=wt(Ke,Dl.toString()),di=Vo(Dd.element,Dd.rowspan,Dd.colspan,no,Dl,si);for(let $i=0;$i<Dd.colspan;$i++)for(let $f=0;$f<Dd.rowspan;$f++){const wf=no+$f,Yd=Dl+$i,fh=Jl(wf,Yd);B[fh]=di,xn=Math.max(xn,Yd+1)}lu.push(di)}),Ot++,ne.push(Qs(lc.element,lu,lc.section)),no++});const{columns:Ss,colgroups:Yr}=Wn(Ko).map(lc=>{const lu=sp(lc);return{colgroups:[ra(lc.element,Ye(lu))],columns:lu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:wn(Ot,xn),access:B,all:ne,columns:Ss,colgroups:Yr}},Va={fromTable:R=>{const B=zl(R);return ig(B)},generate:ig,getAt:bd,findItem:kl,filterItems:ps,justCells:R=>Qe(R.all,B=>B.cells),justColumns:R=>Ye(R.columns),hasColumns:R=>jn(R.columns).length>0,getColumnAt:(R,B)=>G.from(R.columns[B])},bm=(R,B)=>Yt(R.all,ne=>$e(ne.cells,we=>Kn(B,we.element))),db=(R,B,ne)=>{const we=je(B.selection,Ot=>th(Ot).bind(xn=>bm(R,xn)).filter(ne)),Ke=Fn(we);return vo(Ke.length>0,Ke)},pn=(R,B)=>B.mergable,Tc=(R,B)=>B.unmergable,pf=(R,B)=>db(R,B,Ae),ec=(R,B)=>bm(R,B).exists(ne=>!ne.isLocked),rp=(R,B)=>Ct(B,ne=>ec(R,ne)),ap=(R,B)=>pn(R,B).filter(ne=>rp(R,ne.cells)),Pe=(R,B)=>Tc(R,B).filter(ne=>rp(R,ne));var tc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],jd=()=>{const R=vs=>jt.fromDom(vs.dom.cloneNode(!1)),B=vs=>$o(vs).dom,ne=vs=>et(vs)?ta(vs)==="body"?!0:Ce(tc,ta(vs)):!1,we=vs=>et(vs)?Ce(["br","img","hr","input"],ta(vs)):!1,Ke=vs=>et(vs)&&Gr(vs,"contenteditable")==="false",Ot=(vs,Ss)=>vs.dom.compareDocumentPosition(Ss.dom),xn=(vs,Ss)=>{const Yr=Ni(vs);Sc(Ss,Yr)},no=vs=>{const Ss=ta(vs);return Ce(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ss)},Ko=vs=>et(vs)?Do(vs,"lang"):G.none();return{up:re({selector:yi,closest:nu,predicate:Vu,all:pe}),down:re({selector:Ie,predicate:Q}),styles:re({get:Yl,getRaw:ci,set:An,remove:xr}),attrs:re({get:Gr,set:Mi,remove:Ya,copyTo:xn}),insert:re({before:$s,after:nr,afterAll:br,append:sa,appendAll:Ls,prepend:ji,wrap:Uu}),remove:re({unwrap:Pr,remove:Kr}),create:re({nu:jt.fromTag,clone:R,text:jt.fromText}),query:re({comparePosition:Ot,prevSibling:Ue,nextSibling:Gt}),property:re({children:On,name:ta,parent:hs,document:B,isText:hn,isComment:ze,isElement:et,isSpecial:no,getLanguage:Ko,getText:eu,setText:tu,isBoundary:ne,isEmptyTag:we,isNonEditable:Ke}),eq:Kn,is:ua}};const lg=(R,B,ne,we)=>{const Ke=ne[0],Ot=ne.slice(1);return we(R,B,Ke,Ot)},ym=(R,B,ne)=>ne.length>0?lg(R,B,ne,bl):G.none(),bl=(R,B,ne,we)=>{const Ke=B(R,ne);return rn(we,(Ot,xn)=>{const no=B(R,xn);return nc(R,Ot,no)},Ke)},nc=(R,B,ne)=>B.bind(we=>ne.filter(J(R.eq,we))),v1=ym,b1=jd(),cg=(R,B)=>v1(b1,(ne,we)=>R(we),B),y1=(R,B)=>{const ne=Va.fromTable(R);return pf(ne,B).bind(Ke=>{const Ot=Ke[Ke.length-1],xn=Ke[0].row,no=Ot.row+Ot.rowspan,Ko=ne.all.slice(xn,no);return wi(Ko)}).getOr("")},ll=(R,B)=>B.column>=R.startCol&&B.column+B.colspan-1<=R.finishCol&&B.row>=R.startRow&&B.row+B.rowspan-1<=R.finishRow,gf=(R,B)=>{let ne=!0;const we=J(ll,B);for(let Ke=B.startRow;Ke<=B.finishRow;Ke++)for(let Ot=B.startCol;Ot<=B.finishCol;Ot++)ne=ne&&Va.getAt(R,Ke,Ot).exists(we);return ne?G.some(B):G.none()},oh=(R,B)=>Bs(Math.min(R.row,B.row),Math.min(R.column,B.column),Math.max(R.row+R.rowspan-1,B.row+B.rowspan-1),Math.max(R.column+R.colspan-1,B.column+B.colspan-1)),_c=(R,B,ne)=>{const we=Va.findItem(R,B,Kn),Ke=Va.findItem(R,ne,Kn);return we.bind(Ot=>Ke.map(xn=>oh(Ot,xn)))},sh=(R,B,ne)=>_c(R,B,ne).bind(we=>gf(R,we)),Wu=(R,B,ne)=>{const we=Zd(R);return sh(we,B,ne)},Zd=Va.fromTable;var _s=tinymce.util.Tools.resolve("tinymce.util.Tools");const oc=(R,B,ne)=>{const we=R.select("td,th",B);let Ke;for(let Ot=0;Ot<we.length;Ot++){const xn=R.getStyle(we[Ot],ne);if(X(Ke)&&(Ke=xn),Ke!==xn)return""}return Ke},yd=(R,B,ne)=>{_s.each("left center right".split(" "),we=>{we!==ne&&R.formatter.remove("align"+we,{},B)}),ne&&R.formatter.apply("align"+ne,{},B)},rh=(R,B,ne)=>{_s.each("top middle bottom".split(" "),we=>{we!==ne&&R.formatter.remove("valign"+we,{},B)}),ne&&R.formatter.apply("valign"+ne,{},B)},cs=(R,B,ne)=>{R.dispatch("TableModified",{...ne,table:B})};var wd=tinymce.util.Tools.resolve("tinymce.Env");const ei="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ou=Pt(5,R=>{const B=`${R+1}px`;return{title:B,value:B}}),sc=je(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],R=>({title:R,value:R.toLowerCase()})),da="100%",or=R=>{const B=R.dom,ne=B.getParent(R.selection.getStart(),B.isBlock)??R.getBody();return Jc(jt.fromDom(ne))+"px"},ah=(R,B)=>ih(R)||!ul(R)?B:Zu(R)?{...B,width:or(R)}:{...B,width:da},I0=(R,B)=>ih(R)||ul(R)?B:Zu(R)?{...B,width:or(R)}:{...B,width:da},ti=R=>B=>B.options.get(R),Su=R=>{const B=R.options.register;B("table_border_widths",{processor:"object[]",default:ou}),B("table_border_styles",{processor:"object[]",default:sc}),B("table_cell_advtab",{processor:"boolean",default:!0}),B("table_row_advtab",{processor:"boolean",default:!0}),B("table_advtab",{processor:"boolean",default:!0}),B("table_appearance_options",{processor:"boolean",default:!0}),B("table_grid",{processor:"boolean",default:!wd.deviceType.isTouch()}),B("table_cell_class_list",{processor:"object[]",default:[]}),B("table_row_class_list",{processor:"object[]",default:[]}),B("table_class_list",{processor:"object[]",default:[]}),B("table_toolbar",{processor:"string",default:ei}),B("table_background_color_map",{processor:"object[]",default:[]}),B("table_border_color_map",{processor:"object[]",default:[]})},xu=ti("table_sizing_mode"),ni=ti("table_border_widths"),ju=ti("table_border_styles"),Ci=ti("table_cell_advtab"),rc=ti("table_row_advtab"),cl=ti("table_advtab"),cr=ti("table_appearance_options"),Eu=ti("table_grid"),ul=ti("table_style_by_css"),dl=ti("table_cell_class_list"),Bi=ti("table_row_class_list"),fa=ti("table_class_list"),Mr=ti("table_toolbar"),Si=ti("table_background_color_map"),Ra=ti("table_border_color_map"),Zu=R=>xu(R)==="fixed",ih=R=>xu(R)==="responsive",ip=R=>{const B=R.options,ne=B.get("table_default_styles");return B.isSet("table_default_styles")?ne:ah(R,ne)},oi=R=>{const B=R.options,ne=B.get("table_default_attributes");return B.isSet("table_default_attributes")?ne:I0(R,ne)},lp=R=>yi(R,"table"),wm=(R,B)=>{const ne=Ie(R,B);return ne.length>0?G.some(ne):G.none()},If=(R,B,ne)=>qi(R,B).bind(we=>qi(R,ne).bind(Ke=>cg(lp,[we,Ke]).map(Ot=>({first:we,last:Ke,table:Ot})))),Ao=(R,B)=>wm(R,B),w1=(R,B,ne)=>If(R,B,ne).bind(we=>{const Ke=Ko=>Kn(R,Ko),Ot="thead,tfoot,tbody,table",xn=yi(we.first,Ot,Ke),no=yi(we.last,Ot,Ke);return xn.bind(Ko=>no.bind(vs=>Kn(Ko,vs)?Wu(we.table,we.first,we.last):G.none()))}),xi=ot,Ei=R=>{const B=(we,Ke)=>Do(we,Ke).exists(Ot=>parseInt(Ot,10)>1),ne=we=>B(we,"rowspan")||B(we,"colspan");return R.length>0&&Ct(R,ne)?G.some(R):G.none()},Ai=(R,B,ne)=>B.length<=1?G.none():w1(R,ne.firstSelectedSelector,ne.lastSelectedSelector).map(we=>({bounds:we,cells:B})),zr="data-mce-selected",qd="data-mce-first-selected",cp="td["+qd+"],th["+qd+"]",Oc="data-mce-last-selected",Cd="td["+Oc+"],th["+Oc+"]",up={selected:zr,firstSelectedSelector:cp,lastSelectedSelector:Cd},lh=R=>Ne(R).bind(B=>Ao(B,up.firstSelectedSelector)).fold(re(R),B=>B[0]),ug=R=>(B,ne)=>{const we=ta(B),Ke=we==="col"||we==="colgroup"?lh(B):B;return nu(Ke,R,ne)},qu=ug("th,td,caption"),yl=ug("th,td"),ch=R=>yu(R.model.table.getSelectedCells()),ui=(R,B)=>{const ne=yl(R),we=ne.bind(Ke=>Ne(Ke)).map(Ke=>pt(Ke));return mo(ne,we,(Ke,Ot)=>Te(Ot,xn=>ce(yu(xn.dom.cells),no=>Gr(no,B)==="1"||Kn(no,Ke)))).getOr([])},Ii=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],su=R=>({value:dg(R)}),As=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ac=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$0=R=>As.test(R)||ac.test(R),dg=R=>Xs(R,"#").toUpperCase(),wl=R=>$0(R)?G.some({value:dg(R)}):G.none(),To=R=>{const B=R.toString(16);return(B.length===1?"0"+B:B).toUpperCase()},Nr=R=>{const B=To(R.red)+To(R.green)+To(R.blue);return su(B)},Ti=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ur=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,_l=(R,B,ne,we)=>({red:R,green:B,blue:ne,alpha:we}),Er=(R,B,ne,we)=>{const Ke=parseInt(R,10),Ot=parseInt(B,10),xn=parseInt(ne,10),no=parseFloat(we);return _l(Ke,Ot,xn,no)},Hs=R=>{const B=Ti.exec(R);if(B!==null)return G.some(Er(B[1],B[2],B[3],"1"));const ne=Ur.exec(R);return ne!==null?G.some(Er(ne[1],ne[2],ne[3],ne[4])):G.none()},ma=R=>wl(R).orThunk(()=>Hs(R).map(Nr)).getOrThunk(()=>{const B=document.createElement("canvas");B.height=1,B.width=1;const ne=B.getContext("2d");ne.clearRect(0,0,B.width,B.height),ne.fillStyle="#FFFFFF",ne.fillStyle=R,ne.fillRect(0,0,1,1);const we=ne.getImageData(0,0,1,1).data,Ke=we[0],Ot=we[1],xn=we[2],no=we[3];return Nr(_l(Ke,Ot,xn,no))}),fs=R=>Hs(R).map(Nr).map(B=>"#"+B.value).getOr(R),Wa=(R,B,ne)=>we=>{const Ke=Bo(),Ot=rs(ne),xn=()=>{const no=ch(R),Ko=vs=>R.formatter.match(B,{value:ne},vs.dom,Ot);Ot?(we.setActive(!ce(no,Ko)),Ke.set(R.formatter.formatChanged(B,vs=>we.setActive(!vs),!0))):(we.setActive(Ct(no,Ko)),Ke.set(R.formatter.formatChanged(B,we.setActive,!1,{value:ne})))};return R.initialized?xn():R.on("init",xn),Ke.clear},Is=R=>wt(R,"menu"),Yi=R=>je(R,B=>{const ne=B.text||B.title||"";return Is(B)?{text:ne,items:Yi(B.menu)}:{text:ne,value:B.value}}),Ea=R=>R.length?G.some(Yi([{text:"Select...",value:"mce-no-match"},...R])):G.none(),Rr=(R,B,ne,we)=>je(B,Ke=>{const Ot=Ke.text||Ke.title;return Is(Ke)?{type:"nestedmenuitem",text:Ot,getSubmenuItems:()=>Rr(R,Ke.menu,ne,we)}:{text:Ot,type:"togglemenuitem",onAction:()=>we(Ke.value),onSetup:Wa(R,ne,Ke.value)}}),Au=(R,B)=>ne=>{R.execCommand("mceTableApplyCellStyle",!1,{[B]:ne})},Cm=R=>Qe(R,B=>Is(B)?[{...B,menu:Cm(B.menu)}]:po(B.value)?[B]:[]),Gd=(R,B,ne,we)=>Ke=>Ke(Rr(R,B,ne,we)),Sd=(R,B,ne)=>{const we=je(B,Ke=>({text:Ke.title,value:"#"+ma(Ke.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:we.length>0?we:void 0,allowCustomColors:!1},onAction:Ke=>{const Ot=Ke.value==="remove"?"":Ke.value;R.execCommand("mceTableApplyCellStyle",!1,{[ne]:Ot})}}]},hf=R=>()=>{const ne=R.queryCommandValue("mceTableRowType")==="header"?"body":"header";R.execCommand("mceTableRowType",!1,{type:ne})},ja=R=>()=>{const ne=R.queryCommandValue("mceTableColType")==="th"?"td":"th";R.execCommand("mceTableColType",!1,{type:ne})},Gu=R=>Ea(dl(R)).map(B=>({name:"class",type:"listbox",label:"Class",items:B})),C1=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Ii}],vf=R=>C1.concat(Gu(R).toArray()),mr=(R,B)=>{const we=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Yi(ju(R)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:B==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(we):we}},xd={normal:(R,B)=>{const ne=R.dom;return{setAttrib:(xn,no)=>{ne.setAttrib(B,xn,no)},setStyle:(xn,no)=>{ne.setStyle(B,xn,no)},setFormat:(xn,no)=>{no===""?R.formatter.remove(xn,{value:null},B,!0):R.formatter.apply(xn,{value:no},B)}}}},ki=R=>lr(R,"rgb")?fs(R):R,Ol=R=>{const B=jt.fromDom(R);return{borderwidth:ci(B,"border-width").getOr(""),borderstyle:ci(B,"border-style").getOr(""),bordercolor:ci(B,"border-color").map(ki).getOr(""),backgroundcolor:ci(B,"background-color").map(ki).getOr("")}},pa=R=>{const B=R[0],ne=R.slice(1);return lt(ne,we=>{lt(jn(B),Ke=>{No(we,(Ot,xn)=>{const no=B[Ke];no!==""&&Ke===xn&&no!==Ot&&(B[Ke]=Ke==="class"?"mce-no-match":"")})})}),B},fl=(R,B,ne,we)=>$e(R,Ke=>!X(ne.formatter.matchNode(we,B+Ke))).getOr(""),Br=J(fl,["left","center","right"],"align"),Ku=J(fl,["top","middle","bottom"],"valign"),Yu=(R,B)=>{const ne=ip(R),we=oi(R),Ke=()=>({borderstyle:at(ne,"border-style").getOr(""),bordercolor:ki(at(ne,"border-color").getOr("")),backgroundcolor:ki(at(ne,"background-color").getOr(""))}),Ot={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},xn=()=>{const Ss=ne["border-width"];return ul(R)&&Ss?{border:Ss}:at(we,"border").fold(()=>({}),Yr=>({border:Yr}))},no=B?Ke():{},Ko=()=>{const Ss=at(ne,"border-spacing").or(at(we,"cellspacing")).fold(()=>({}),qa=>({cellspacing:qa})),Yr=at(ne,"border-padding").or(at(we,"cellpadding")).fold(()=>({}),qa=>({cellpadding:qa}));return{...Ss,...Yr}};return{...Ot,...ne,...we,...no,...xn(),...Ko()}},Ed=R=>Ne(jt.fromDom(R)).map(B=>{const ne={selection:yu(R.cells)};return y1(B,ne)}).getOr(""),dp=(R,B,ne)=>{const we=(no,Ko)=>{const vs=ci(jt.fromDom(Ko),"border-width");return ul(R)&&vs.isSome()?vs.getOr(""):no.getAttrib(Ko,"border")||oc(R.dom,Ko,"border-width")||oc(R.dom,Ko,"border")||""},Ke=R.dom,Ot=ul(R)?Ke.getStyle(B,"border-spacing")||Ke.getAttrib(B,"cellspacing"):Ke.getAttrib(B,"cellspacing")||Ke.getStyle(B,"border-spacing"),xn=ul(R)?oc(Ke,B,"padding")||Ke.getAttrib(B,"cellpadding"):Ke.getAttrib(B,"cellpadding")||oc(Ke,B,"padding");return{width:Ke.getStyle(B,"width")||Ke.getAttrib(B,"width"),height:Ke.getStyle(B,"height")||Ke.getAttrib(B,"height"),cellspacing:Ot??"",cellpadding:xn??"",border:we(Ke,B),caption:!!Ke.select("caption",B)[0],class:Ke.getAttrib(B,"class",""),align:Br(R,B),...ne?Ol(B):{}}},Xu=(R,B,ne)=>{const we=R.dom;return{height:we.getStyle(B,"height")||we.getAttrib(B,"height"),class:we.getAttrib(B,"class",""),type:Ed(B),align:Br(R,B),...ne?Ol(B):{}}},S1=(R,B,ne,we)=>{const Ke=R.dom,Ot=we.getOr(B);return{width:((no,Ko)=>Ke.getStyle(no,Ko)||Ke.getAttrib(no,Ko))(Ot,"width"),scope:Ke.getAttrib(B,"scope"),celltype:Qn(B),class:Ke.getAttrib(B,"class",""),halign:Br(R,B),valign:Ku(R,B),...ne?Ol(B):{}}},fg=(R,B)=>{const ne=Va.fromTable(R),we=Va.justCells(ne),Ke=Te(we,Ot=>ce(B,xn=>Kn(Ot.element,xn)));return je(Ke,Ot=>({element:Ot.element.dom,column:Va.getColumnAt(ne,Ot.column).map(xn=>xn.element.dom)}))},_i=(R,B,ne,we)=>{we("scope")&&R.setAttrib("scope",ne.scope),we("class")&&ne.class!=="mce-no-match"&&R.setAttrib("class",ne.class),we("width")&&B.setStyle("width",za(ne.width))},ru=(R,B,ne)=>{ne("backgroundcolor")&&R.setFormat("tablecellbackgroundcolor",B.backgroundcolor),ne("bordercolor")&&R.setFormat("tablecellbordercolor",B.bordercolor),ne("borderstyle")&&R.setFormat("tablecellborderstyle",B.borderstyle),ne("borderwidth")&&R.setFormat("tablecellborderwidth",za(B.borderwidth))},Aa=(R,B,ne,we)=>{const Ke=B.length===1;lt(B,Ot=>{const xn=Ot.element,no=Ke?Ae:we,Ko=xd.normal(R,xn),vs=Ot.column.map(Ss=>xd.normal(R,Ss)).getOr(Ko);_i(Ko,vs,ne,no),Ci(R)&&ru(Ko,ne,no),we("halign")&&yd(R,xn,ne.halign),we("valign")&&rh(R,xn,ne.valign)})},Dc=(R,B)=>{R.execCommand("mceTableCellType",!1,{type:B.celltype,no_events:!0})},fp=(R,B,ne,we)=>{const Ke=qe(we,(Ot,xn)=>ne[xn]!==Ot);Tt(Ke)>0&&B.length>=1&&Ne(B[0]).each(Ot=>{const xn=fg(Ot,B),no=Tt(qe(Ke,(vs,Ss)=>Ss!=="scope"&&Ss!=="celltype"))>0,Ko=En(Ke,"celltype");(no||En(Ke,"scope"))&&Aa(R,xn,we,J(En,Ke)),Ko&&Dc(R,we),cs(R,Ot.dom,{structure:Ko,style:no})})},uh=(R,B,ne,we)=>{const Ke=we.getData();we.close(),R.undoManager.transact(()=>{fp(R,B,ne,Ke),R.focus()})},dh=(R,B)=>{const ne=Ne(B[0]).map(we=>je(fg(we,B),Ke=>S1(R,Ke.element,Ci(R),Ke.column)));return pa(ne.getOrDie())},au=R=>{const B=ch(R);if(B.length===0)return;const ne=dh(R,B),we={type:"tabpanel",tabs:[{title:"General",name:"general",items:vf(R)},mr(R,"cell")]},Ke={type:"panel",items:[{type:"grid",columns:2,items:vf(R)}]};R.windowManager.open({title:"Cell Properties",size:"normal",body:Ci(R)?we:Ke,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ne,onSubmit:J(uh,R,B,ne)})},L0=R=>Ea(Bi(R)).map(B=>({name:"class",type:"listbox",label:"Class",items:B})),Ad=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ur=R=>Ad.concat(L0(R).toArray()),Oi=(R,B,ne)=>{ne("class")&&B.class!=="mce-no-match"&&R.setAttrib("class",B.class),ne("height")&&R.setStyle("height",za(B.height))},Qu=(R,B,ne)=>{ne("backgroundcolor")&&R.setStyle("background-color",B.backgroundcolor),ne("bordercolor")&&R.setStyle("border-color",B.bordercolor),ne("borderstyle")&&R.setStyle("border-style",B.borderstyle)},x1=(R,B,ne,we)=>{const Ot=B.length===1?Ae:we;lt(B,xn=>{const no=be(jt.fromDom(xn),"td,th"),Ko=xd.normal(R,xn);Oi(Ko,ne,Ot),rc(R)&&Qu(Ko,ne,Ot),we("height")&&lt(no,vs=>{R.dom.setStyle(vs.dom,"height",null)}),we("align")&&yd(R,xn,ne.align)})},Ju=(R,B)=>{R.execCommand("mceTableRowType",!1,{type:B.type,no_events:!0})},mp=(R,B,ne,we)=>{const Ke=qe(we,(Ot,xn)=>ne[xn]!==Ot);if(Tt(Ke)>0){const Ot=En(Ke,"type"),xn=Ot?Tt(Ke)>1:!0;xn&&x1(R,B,we,J(En,Ke)),Ot&&Ju(R,we),Ne(jt.fromDom(B[0])).each(no=>cs(R,no.dom,{structure:Ot,style:xn}))}},E1=(R,B,ne,we)=>{const Ke=we.getData();we.close(),R.undoManager.transact(()=>{mp(R,B,ne,Ke),R.focus()})},Td=R=>{const B=ui(Gi(R),up.selected);if(B.length===0)return;const ne=je(B,xn=>Xu(R,xn.dom,rc(R))),we=pa(ne),Ke={type:"tabpanel",tabs:[{title:"General",name:"general",items:ur(R)},mr(R,"row")]},Ot={type:"panel",items:[{type:"grid",columns:2,items:ur(R)}]};R.windowManager.open({title:"Row Properties",size:"normal",body:rc(R)?Ke:Ot,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:we,onSubmit:J(E1,R,je(B,xn=>xn.dom),we)})},Pc=(R,B,ne)=>{const we=ne?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ke=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ot=cr(R)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],xn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],no=B.length>0?[{name:"class",type:"listbox",label:"Class",items:B}]:[];return we.concat(Ke).concat(Ot).concat(xn).concat(no)},wr=(R,B,ne,we)=>{if(B.tagName==="TD"||B.tagName==="TH")I(ne)&&le(we)?R.setStyle(B,ne,we):R.setStyles(B,ne);else if(B.children)for(let Ke=0;Ke<B.children.length;Ke++)wr(R,B.children[Ke],ne,we)},mg=(R,B,ne,we)=>{const Ke=R.dom,Ot={},xn={},no=ul(R),Ko=cl(R),vs=parseFloat(ne.border)===0;if(!X(ne.class)&&ne.class!=="mce-no-match"&&(Ot.class=ne.class),xn.height=za(ne.height),no?xn.width=za(ne.width):Ke.getAttrib(B,"width")&&(Ot.width=yr(ne.width)),no?(vs?(Ot.border=0,xn["border-width"]=""):(xn["border-width"]=za(ne.border),Ot.border=1),xn["border-spacing"]=za(ne.cellspacing)):(Ot.border=vs?0:ne.border,Ot.cellpadding=ne.cellpadding,Ot.cellspacing=ne.cellspacing),no&&B.children){const Ss={};if(vs?Ss["border-width"]="":we.border&&(Ss["border-width"]=za(ne.border)),we.cellpadding&&(Ss.padding=za(ne.cellpadding)),Ko&&we.bordercolor&&(Ss["border-color"]=ne.bordercolor),!kt(Ss))for(let Yr=0;Yr<B.children.length;Yr++)wr(Ke,B.children[Yr],Ss)}if(Ko){const Ss=ne;xn["background-color"]=Ss.backgroundcolor,xn["border-color"]=Ss.bordercolor,xn["border-style"]=Ss.borderstyle}Ke.setStyles(B,{...ip(R),...xn}),Ke.setAttribs(B,{...oi(R),...Ot})},na=(R,B,ne,we)=>{const Ke=R.dom,Ot=we.getData(),xn=qe(Ot,(no,Ko)=>ne[Ko]!==no);we.close(),R.undoManager.transact(()=>{if(!B){const no=xs(Ot.cols).getOr(1),Ko=xs(Ot.rows).getOr(1);R.execCommand("mceInsertTable",!1,{rows:Ko,columns:no}),B=yl(Gi(R),ar(R)).bind(vs=>Ne(vs,ar(R))).map(vs=>vs.dom).getOrDie()}if(Tt(xn)>0){const no={border:En(xn,"border"),bordercolor:En(xn,"bordercolor"),cellpadding:En(xn,"cellpadding")};mg(R,B,Ot,no);const Ko=Ke.select("caption",B)[0];(Ko&&!Ot.caption||!Ko&&Ot.caption)&&R.execCommand("mceTableToggleCaption"),yd(R,B,Ot.align)}if(R.focus(),R.addVisual(),Tt(xn)>0){const no=En(xn,"caption"),Ko=no?Tt(xn)>1:!0;cs(R,B,{structure:no,style:Ko})}})},kd=(R,B)=>{const ne=R.dom;let we,Ke=Yu(R,cl(R));B?(Ke.cols="1",Ke.rows="1",cl(R)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor="")):(we=ne.getParent(R.selection.getStart(),"table",R.getBody()),we?Ke=dp(R,we,cl(R)):cl(R)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor=""));const Ot=Ea(fa(R));Ot.isSome()&&Ke.class&&(Ke.class=Ke.class.replace(/\s*mce\-item\-table\s*/g,""));const xn={type:"grid",columns:2,items:Pc(R,Ot.getOr([]),B)},no=()=>({type:"panel",items:[xn]}),Ko=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[xn]},mr(R,"table")]}),vs=cl(R)?Ko():no();R.windowManager.open({title:"Table Properties",size:"normal",body:vs,onSubmit:J(na,R,we,Ke),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ke})},Za=R=>{const B=ne=>{_e(Gi(R))&&ne()};No({mceTableProps:J(kd,R,!1),mceTableRowProps:J(Td,R),mceTableCellProps:J(au,R),mceInsertTableDialog:J(kd,R,!0)},(ne,we)=>R.addCommand(we,()=>B(ne)))},ed=R=>({element:R,mergable:G.none(),unmergable:G.none(),selection:[R]}),Xi=(R,B,ne)=>({element:ne,mergable:Ai(B,R,up),unmergable:Ei(R),selection:xi(R)}),_d=R=>{const B=an(G.none()),ne=an([]);let we=G.none();const Ke=is("caption"),Ot=Ws=>we.forall(wa=>!wa[Ws]),xn=()=>qu(Gi(R),ar(R)),no=()=>qu(ee(R),ar(R)),Ko=()=>xn().bind(Ws=>es(mo(Ne(Ws),no().bind(Ne),(wa,Ir)=>Kn(wa,Ir)?Ke(Ws)?G.some(ed(Ws)):G.some(Xi(ch(R),wa,Ws)):G.none()))),vs=Ws=>Ne(Ws.element).map(Ir=>{const Ta=Va.fromTable(Ir),Lf=pf(Ta,Ws).getOr([]),Sm=yt(Lf,(pp,hg)=>(hg.isLocked&&(pp.onAny=!0,hg.column===0?pp.onFirst=!0:hg.column+hg.colspan>=Ta.grid.columns&&(pp.onLast=!0)),pp),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ap(Ta,Ws).isSome(),unmergeable:Pe(Ta,Ws).isSome(),locked:Sm}}),Ss=()=>{B.set(Ho(Ko)()),we=B.get().bind(vs),lt(ne.get(),dt)},Yr=Ws=>(Ws(),ne.set(ne.get().concat([Ws])),()=>{ne.set(Te(ne.get(),wa=>wa!==Ws))}),qa=(Ws,wa)=>Yr(()=>B.get().fold(()=>{Ws.setEnabled(!1)},Ir=>{Ws.setEnabled(!wa(Ir)&&R.selection.isEditable())})),lc=(Ws,wa,Ir)=>Yr(()=>B.get().fold(()=>{Ws.setEnabled(!1),Ws.setActive(!1)},Ta=>{Ws.setEnabled(!wa(Ta)&&R.selection.isEditable()),Ws.setActive(Ir(Ta))})),lu=Ws=>we.exists(wa=>wa.locked[Ws]),Dd=Ws=>qa(Ws,wa=>!1),Dl=Ws=>qa(Ws,wa=>Ke(wa.element)),si=Ws=>wa=>qa(wa,Ir=>Ke(Ir.element)||lu(Ws)),di=Ws=>wa=>qa(wa,Ir=>Ke(Ir.element)||Ws().isNone()),$i=(Ws,wa)=>Ir=>qa(Ir,Ta=>Ke(Ta.element)||Ws().isNone()||lu(wa)),$f=Ws=>qa(Ws,wa=>Ot("mergeable")),wf=Ws=>qa(Ws,wa=>Ot("unmergeable")),Yd=Ws=>lc(Ws,Wt,wa=>Ne(wa.element,ar(R)).exists(Ta=>Nt(Ta,"caption"))),fh=(Ws,wa)=>Ir=>lc(Ir,Ta=>Ke(Ta.element),()=>R.queryCommandValue(Ws)===wa),cc=fh("mceTableRowType","header"),k1=fh("mceTableColType","th");return R.on("NodeChange ExecCommand TableSelectorChange",Ss),{onSetupTable:Dd,onSetupCellOrRow:Dl,onSetupColumn:si,onSetupPasteable:di,onSetupPasteableColumn:$i,onSetupMergeable:$f,onSetupUnmergeable:wf,resetTargets:Ss,onSetupTableWithCaption:Yd,onSetupTableRowHeaders:cc,onSetupTableColumnHeaders:k1,targets:B.get}};var bf=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const iu="x-tinymce/dom-table-",yf=iu+"rows",A1=iu+"columns",ic=R=>{const B=bf.read()??[];return Yt(B,ne=>G.from(ne.getType(R)))},Cl=()=>ic(yf),aa=()=>ic(A1),Di=R=>B=>{const ne=()=>{B.setEnabled(R.selection.isEditable())};return R.on("NodeChange",ne),ne(),()=>{R.off("NodeChange",ne)}},pg=(R,B)=>{R.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Di(R),fetch:no=>no("inserttable | cell row column | advtablesort | tableprops deletetable")});const ne=no=>()=>R.execCommand(no),we=(no,Ko)=>{R.queryCommandSupported(Ko.command)&&R.ui.registry.addButton(no,{...Ko,onAction:me(Ko.onAction)?Ko.onAction:ne(Ko.command)})},Ke=(no,Ko)=>{R.queryCommandSupported(Ko.command)&&R.ui.registry.addToggleButton(no,{...Ko,onAction:me(Ko.onAction)?Ko.onAction:ne(Ko.command)})};we("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:B.onSetupTable}),we("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:B.onSetupTable}),we("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:B.onSetupCellOrRow}),we("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:B.onSetupMergeable}),we("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:B.onSetupUnmergeable}),we("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:B.onSetupCellOrRow}),we("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:B.onSetupCellOrRow}),we("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:B.onSetupCellOrRow}),we("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:B.onSetupCellOrRow}),we("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:B.onSetupColumn("onFirst")}),we("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:B.onSetupColumn("onLast")}),we("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:B.onSetupColumn("onAny")}),we("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:B.onSetupCellOrRow}),we("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:B.onSetupCellOrRow}),we("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:B.onSetupPasteable(Cl)}),we("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:B.onSetupPasteable(Cl)}),we("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:B.onSetupColumn("onAny")}),we("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:B.onSetupColumn("onAny")}),we("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:B.onSetupPasteableColumn(aa,"onFirst")}),we("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:B.onSetupPasteableColumn(aa,"onLast")}),we("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Di(R)});const Ot=Cm(fa(R));Ot.length!==0&&R.queryCommandSupported("mceTableToggleClass")&&R.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Gd(R,Ot,"tableclass",no=>R.execCommand("mceTableToggleClass",!1,no)),onSetup:B.onSetupTable});const xn=Cm(dl(R));xn.length!==0&&R.queryCommandSupported("mceTableCellToggleClass")&&R.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Gd(R,xn,"tablecellclass",no=>R.execCommand("mceTableCellToggleClass",!1,no)),onSetup:B.onSetupCellOrRow}),R.queryCommandSupported("mceTableApplyCellStyle")&&(R.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Gd(R,Ii,"tablecellverticalalign",Au(R,"vertical-align")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Gd(R,ni(R),"tablecellborderwidth",Au(R,"border-width")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Gd(R,ju(R),"tablecellborderstyle",Au(R,"border-style")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:no=>no(Sd(R,Si(R),"background-color")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:no=>no(Sd(R,Ra(R),"border-color")),onSetup:B.onSetupCellOrRow})),Ke("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:B.onSetupTableWithCaption}),Ke("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:hf(R),onSetup:B.onSetupTableRowHeaders}),Ke("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ja(R),onSetup:B.onSetupTableColumnHeaders})},Tu=R=>{const B=we=>R.dom.is(we,"table")&&R.getBody().contains(we)&&R.dom.isEditable(we.parentNode),ne=Mr(R);ne.length>0&&R.ui.registry.addContextToolbar("table",{predicate:B,items:ne,scope:"node",position:"node"})},Od=R=>B=>{const ne=()=>{B.setEnabled(R.selection.isEditable())};return R.on("NodeChange",ne),ne(),()=>{R.off("NodeChange",ne)}},gg=(R,B)=>{const ne=Yr=>()=>R.execCommand(Yr),we=(Yr,qa)=>R.queryCommandSupported(qa.command)?(R.ui.registry.addMenuItem(Yr,{...qa,onAction:me(qa.onAction)?qa.onAction:ne(qa.command)}),!0):!1,Ke=(Yr,qa)=>{R.queryCommandSupported(qa.command)&&R.ui.registry.addToggleMenuItem(Yr,{...qa,onAction:me(qa.onAction)?qa.onAction:ne(qa.command)})},Ot=Yr=>{R.execCommand("mceInsertTable",!1,{rows:Yr.numRows,columns:Yr.numColumns})},xn=[we("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:B.onSetupCellOrRow}),we("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:B.onSetupCellOrRow}),we("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:B.onSetupCellOrRow}),we("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:B.onSetupCellOrRow}),we("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:B.onSetupCellOrRow}),we("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:B.onSetupCellOrRow}),we("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:B.onSetupPasteable(Cl)}),we("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:B.onSetupPasteable(Cl)})],no=[we("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:B.onSetupColumn("onFirst")}),we("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:B.onSetupColumn("onLast")}),we("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:B.onSetupColumn("onAny")}),we("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:B.onSetupColumn("onAny")}),we("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:B.onSetupColumn("onAny")}),we("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:B.onSetupPasteableColumn(aa,"onFirst")}),we("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:B.onSetupPasteableColumn(aa,"onLast")})],Ko=[we("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:B.onSetupCellOrRow}),we("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:B.onSetupMergeable}),we("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:B.onSetupUnmergeable})];Eu(R)?R.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ot}],onSetup:Od(R)}):R.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:ne("mceInsertTableDialog"),onSetup:Od(R)}),R.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:ne("mceInsertTableDialog"),onSetup:Od(R)}),we("tableprops",{text:"Table properties",onSetup:B.onSetupTable,command:"mceTableProps"}),we("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:B.onSetupTable,command:"mceTableDelete"}),Ce(xn,!0)&&R.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:re("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Ce(no,!0)&&R.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:re("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Ce(Ko,!0)&&R.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:re("tablecellprops tablemergecells tablesplitcells")}),R.ui.registry.addContextMenu("table",{update:()=>(B.resetTargets(),B.targets().fold(re(""),Yr=>ta(Yr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const vs=Cm(fa(R));vs.length!==0&&R.queryCommandSupported("mceTableToggleClass")&&R.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Rr(R,vs,"tableclass",Yr=>R.execCommand("mceTableToggleClass",!1,Yr)),onSetup:B.onSetupTable});const Ss=Cm(dl(R));Ss.length!==0&&R.queryCommandSupported("mceTableCellToggleClass")&&R.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Rr(R,Ss,"tablecellclass",Yr=>R.execCommand("mceTableCellToggleClass",!1,Yr)),onSetup:B.onSetupCellOrRow}),R.queryCommandSupported("mceTableApplyCellStyle")&&(R.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Rr(R,Ii,"tablecellverticalalign",Au(R,"vertical-align")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Rr(R,ni(R),"tablecellborderwidth",Au(R,"border-width")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Rr(R,ju(R),"tablecellborderstyle",Au(R,"border-style")),onSetup:B.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Sd(R,Si(R),"background-color"),onSetup:B.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Sd(R,Ra(R),"border-color"),onSetup:B.onSetupCellOrRow})),Ke("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:B.onSetupTableWithCaption}),Ke("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:hf(R),onSetup:B.onSetupTableRowHeaders}),Ke("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ja(R),onSetup:B.onSetupTableRowHeaders})},ku=R=>{const B=_d(R);Su(R),Za(R),gg(R,B),pg(R,B),Tu(R)};var T1=()=>{l.add("table",ku)};T1()})()),Gae}var Yae;function Lye(){return Yae||(Yae=1,$ye()),qae}Lye();var Xae={},Qae={},Jae;function Hye(){return Jae||(Jae=1,(function(){const l=(wt,kt,an)=>an(wt,kt.prototype)?!0:wt.constructor?.name===kt.name,m=wt=>{const kt=typeof wt;return wt===null?"null":kt==="object"&&Array.isArray(wt)?"array":kt==="object"&&l(wt,String,(an,vn)=>vn.isPrototypeOf(an))?"string":kt},b=wt=>kt=>m(kt)===wt,E=wt=>kt=>typeof kt===wt,D=wt=>kt=>wt===kt,$=b("string"),I=D(void 0),H=wt=>wt==null,K=wt=>!H(wt),X=E("function"),le=(wt=>()=>wt)(!1);class me{tag;value;static singletonNone=new me(!1);constructor(kt,an){this.tag=kt,this.value=an}static some(kt){return new me(!0,kt)}static none(){return me.singletonNone}fold(kt,an){return this.tag?an(this.value):kt()}isSome(){return this.tag}isNone(){return!this.tag}map(kt){return this.tag?me.some(kt(this.value)):me.none()}bind(kt){return this.tag?kt(this.value):me.none()}exists(kt){return this.tag&&kt(this.value)}forall(kt){return!this.tag||kt(this.value)}filter(kt){return!this.tag||kt(this.value)?this:me.none()}getOr(kt){return this.tag?this.value:kt}or(kt){return this.tag?this:kt}getOrThunk(kt){return this.tag?this.value:kt()}orThunk(kt){return this.tag?this:kt()}getOrDie(kt){if(this.tag)return this.value;throw new Error(kt??"Called getOrDie on None")}static from(kt){return K(kt)?me.some(kt):me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(kt){this.tag&&kt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Me=Array.prototype.slice,de=Array.prototype.indexOf,Se=(wt,kt)=>de.call(wt,kt),re=(wt,kt)=>Se(wt,kt)>-1,ot=(wt,kt)=>{const an=wt.length,vn=new Array(an);for(let Fn=0;Fn<an;Fn++){const mo=wt[Fn];vn[Fn]=kt(mo,Fn)}return vn},it=(wt,kt)=>{const an=[];for(let vn=0,Fn=wt.length;vn<Fn;vn++){const mo=wt[vn];kt(mo,vn)&&an.push(mo)}return an},J=(wt,kt,an)=>{for(let vn=0,Fn=wt.length;vn<Fn;vn++){const mo=wt[vn];if(kt(mo,vn))return me.some(mo);if(an(mo,vn))break}return me.none()},dt=(wt,kt)=>J(wt,kt,le),Wt=(wt,kt)=>{const an=Me.call(wt,0);return an.sort(kt),an},Ae=Object.keys,G=Object.hasOwnProperty,Ze=(wt,kt)=>Ft(wt,kt)?me.from(wt[kt]):me.none(),Ft=(wt,kt)=>G.call(wt,kt),ct=wt=>{let kt=wt;return{get:()=>kt,set:Fn=>{kt=Fn}}},Ce=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ce=0;const Pt=wt=>{const an=new Date().getTime(),vn=Math.floor(Ce()*1e9);return ce++,wt+"_"+vn+ce+String(an)},je=wt=>{const kt=[],an=vn=>{kt.push(vn)};for(let vn=0;vn<wt.length;vn++)wt[vn].each(an);return kt};var lt=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=wt=>({addTab:an=>{const vn=an.name??Pt("tab-name"),Fn=wt.get();Fn[vn]=an,wt.set(Fn)}}),dn=(wt,kt)=>{wt.addCommand("mceHelp",kt)},Te=wt=>kt=>kt.options.get(wt),rn=wt=>{const kt=wt.options.register;kt("help_tabs",{processor:"array"})},yt=Te("help_tabs"),se=Te("forced_plugins"),$e=(wt,kt)=>{wt.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:kt,context:"any"}),wt.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:kt,context:"any"})};var Mt=tinymce.util.Tools.resolve("tinymce.Resource"),Qe=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ct=(wt,kt)=>Mt.load(`tinymce.html-i18n.help-keynav.${kt}`,`${wt}/js/i18n/keynav/${kt}.js`),He=wt=>Ct(wt,Qe.getCode()).catch(()=>Ct(wt,"en")),ut=(wt,kt)=>{wt.on("init",()=>{He(kt)})},W=async wt=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await He(wt)}]});var Wn=tinymce.util.Tools.resolve("tinymce.Env");const Yt=wt=>{const kt=Wn.os.isMacOS()||Wn.os.isiOS(),Fn=kt?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},mo=wt.split("+"),es=ot(mo,vo=>{const ts=vo.toLowerCase().trim();return Ft(Fn,ts)?Fn[ts]:vo});return kt?es.join("").replace(/\s/,""):es.join("+")},jn=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Cn=()=>{const wt=ot(jn,an=>{const vn=ot(an.shortcuts,Yt).join(" or ");return[an.action,vn]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:wt}]}},No=ot([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"uploadcare",name:"Image Optimizer Powered by Uploadcare",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"suggestededits",name:"Suggested Edits",type:"premium"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"fullpagehtml",name:"Fullpage HTML",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],wt=>({...wt,type:wt.type||"opensource",slug:wt.slug||wt.key})),Re=wt=>{const kt=()=>{const Bo=it(No,({type:Xs})=>Xs==="premium"),ds=Wt(ot(Bo,Xs=>Xs.name),(Xs,lr)=>Xs.localeCompare(lr)),Ys=ot(ds,Xs=>`<li>${Xs}</li>`).join("");return"<div><p><b>"+Qe.translate("Premium plugins:")+"</b></p><ul>"+Ys+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+Qe.translate("Learn more...")+"</a></li></ul></div>"},an=Bo=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Bo.url}" target="_blank" rel="noopener">${Bo.name}</a>`,vn=(Bo,ds)=>{const Ys=Bo.plugins[ds].getMetadata;if(X(Ys)){const Xs=Ys();return{name:Xs.name,html:an(Xs)}}else return{name:ds,html:ds}},Fn=(Bo,ds)=>dt(No,Ys=>Ys.key===ds).fold(()=>vn(Bo,ds),Ys=>{const Xs=Ys.type==="premium"?`${Ys.name}*`:Ys.name,lr=an({name:Xs,url:`https://www.tiny.cloud/docs/tinymce/${tinymce.majorVersion}/${Ys.slug}/`});return{name:Xs,html:lr}}),mo=Bo=>{const ds=Ae(Bo.plugins),Ys=se(Bo),Xs=I(Ys)?["onboarding","licensekeymanager"]:Ys.concat(["onboarding","licensekeymanager"]);return it(ds,lr=>!re(Xs,lr))},es=Bo=>{const ds=mo(Bo),Ys=Wt(ot(ds,po=>Fn(Bo,po)),(po,rs)=>po.name.localeCompare(rs.name)),Xs=ot(Ys,po=>"<li>"+po.html+"</li>"),lr=Xs.length,bt=Xs.join("");return"<p><b>"+Qe.translate(["Plugins installed ({0}):",lr])+"</b></p><ul>"+bt+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Bo=>Bo==null?"":"<div>"+es(Bo)+"</div>")(wt),kt()].join("")}]}};var Ve=tinymce.util.Tools.resolve("tinymce.EditorManager");const qe=()=>{const an='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/8/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Fn,mo)=>Fn.indexOf("@")===0?"X.X.X":Fn+"."+mo)(Ve.majorVersion,Ve.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+Qe.translate(["You are using {0}",an])+"</p>",presets:"document"}]}},De=(wt,kt)=>{const an={},vn=ot(wt,Fn=>{if($(Fn))return Ft(kt,Fn)&&(an[Fn]=kt[Fn]),Fn;{const mo=Fn.name??Pt("tab-name");return an[mo]=Fn,mo}});return{tabs:an,names:vn}},Ye=wt=>{const kt=Ae(wt),an=kt.indexOf("versions");return an!==-1&&(kt.splice(an,1),kt.push("versions")),{tabs:wt,names:kt}},Tt=async(wt,kt,an)=>{const vn=Cn(),Fn=await W(an),mo=Re(wt),es=qe(),vo={[vn.name]:vn,[Fn.name]:Fn,[mo.name]:mo,[es.name]:es,...kt.get()};return me.from(yt(wt)).fold(()=>Ye(vo),ts=>De(ts,vo))},at=(wt,kt,an)=>()=>{Tt(wt,kt,an).then(({tabs:vn,names:Fn})=>{const mo=ot(Fn,ts=>Ze(vn,ts)),vo={type:"tabpanel",tabs:je(mo)};wt.windowManager.open({title:"Help",size:"medium",body:vo,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var En=()=>{lt.add("help",(wt,kt)=>{const an=ct({}),vn=F(an);rn(wt);const Fn=at(wt,an,kt);return $e(wt,Fn),dn(wt,Fn),wt.shortcuts.add("Alt+0","Open help dialog","mceHelp"),ut(wt,kt),vn})};En()})()),Qae}var eie;function zye(){return eie||(eie=1,Hye()),Xae}zye();var tie={},nie={},oie;function Uye(){return oie||(oie=1,(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const b=(Re=>Ve=>Re===Ve)(null),E=Re=>Re,D=(Re,Ve)=>{const qe=Re.length,De=new Array(qe);for(let Ye=0;Ye<qe;Ye++){const Tt=Re[Ye];De[Ye]=Ve(Tt,Ye)}return De},$=(Re,Ve)=>{let qe=null;return{cancel:()=>{b(qe)||(clearTimeout(qe),qe=null)},throttle:(...Tt)=>{b(qe)&&(qe=setTimeout(()=>{qe=null,Re.apply(null,Tt)},Ve))}}},I=Re=>Re.replace(/\uFEFF/g,""),K={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},X={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},ae=[new RegExp(K.aletter),new RegExp(K.midnumlet),new RegExp(K.midletter),new RegExp(K.midnum),new RegExp(K.numeric),new RegExp(K.cr),new RegExp(K.lf),new RegExp(K.newline),new RegExp(K.extend),new RegExp(K.format),new RegExp(K.katakana),new RegExp(K.extendnumlet),new RegExp("@")],le="",me=new RegExp("^"+K.punctuation+"$"),Me=/^\s+$/,de=ae,Se=X.OTHER,re=Re=>{let Ve=Se;const qe=de.length;for(let De=0;De<qe;++De){const Ye=de[De];if(Ye&&Ye.test(Re)){Ve=De;break}}return Ve},ot=Re=>{const Ve={};return qe=>{if(Ve[qe])return Ve[qe];{const De=Re(qe);return Ve[qe]=De,De}}},it=Re=>{const Ve=ot(re);return D(Re,Ve)},J=(Re,Ve)=>{const qe=Re[Ve],De=Re[Ve+1];if(Ve<0||Ve>Re.length-1&&Ve!==0||qe===X.ALETTER&&De===X.ALETTER)return!1;const Ye=Re[Ve+2];if(qe===X.ALETTER&&(De===X.MIDLETTER||De===X.MIDNUMLET||De===X.AT)&&Ye===X.ALETTER)return!1;const Tt=Re[Ve-1];return(qe===X.MIDLETTER||qe===X.MIDNUMLET||De===X.AT)&&De===X.ALETTER&&Tt===X.ALETTER||(qe===X.NUMERIC||qe===X.ALETTER)&&(De===X.NUMERIC||De===X.ALETTER)||(qe===X.MIDNUM||qe===X.MIDNUMLET)&&De===X.NUMERIC&&Tt===X.NUMERIC||qe===X.NUMERIC&&(De===X.MIDNUM||De===X.MIDNUMLET)&&Ye===X.NUMERIC||(qe===X.EXTEND||qe===X.FORMAT)&&(De===X.ALETTER||De===X.NUMERIC||De===X.KATAKANA||De===X.EXTEND||De===X.FORMAT)||(De===X.EXTEND||De===X.FORMAT&&(Ye===X.ALETTER||Ye===X.NUMERIC||Ye===X.KATAKANA||Ye===X.EXTEND||Ye===X.FORMAT))&&(qe===X.ALETTER||qe===X.NUMERIC||qe===X.KATAKANA||qe===X.EXTEND||qe===X.FORMAT)||qe===X.CR&&De===X.LF?!1:qe===X.NEWLINE||qe===X.CR||qe===X.LF||De===X.NEWLINE||De===X.CR||De===X.LF?!0:!(qe===X.KATAKANA&&De===X.KATAKANA||De===X.EXTENDNUMLET&&(qe===X.ALETTER||qe===X.NUMERIC||qe===X.KATAKANA||qe===X.EXTENDNUMLET)||qe===X.EXTENDNUMLET&&(De===X.ALETTER||De===X.NUMERIC||De===X.KATAKANA)||qe===X.AT)},dt=le,Wt=Me,Ae=me,G=Re=>Re==="http"||Re==="https",Ze=(Re,Ve)=>{let qe;for(qe=Ve;qe<Re.length&&!Wt.test(Re[qe]);qe++);return qe},Ft=(Re,Ve)=>{const qe=Ze(Re,Ve+1);return Re.slice(Ve+1,qe).join(dt).substr(0,3)==="://"?qe:Ve},ct=(Re,Ve,qe,De)=>{const Ye=[],Tt=[];let at=[];for(let En=0;En<qe.length;++En)if(at.push(Re[En]),J(qe,En)){const wt=Ve[En];if((De.includeWhitespace||!Wt.test(wt))&&(De.includePunctuation||!Ae.test(wt))){const kt=En-at.length+1,an=En+1,vn=Ve.slice(kt,an).join(dt);if(G(vn)){const Fn=Ft(Ve,En),mo=Re.slice(an,Fn);Array.prototype.push.apply(at,mo),En=Fn}Ve[En+1]==="."&&/^([a-zA-Z]\.)+$/.test(vn+".")?(at.push(Re[En+1]),Tt.push({start:kt,end:an+1})):Tt.push({start:kt,end:an}),Ye.push(at)}at=[]}return{words:Ye,indices:Tt}},Ce=()=>({includeWhitespace:!1,includePunctuation:!1}),ce=(Re,Ve,qe)=>{qe={...Ce(),...qe};const De=D(Re,Ve),Ye=it(De);return ct(Re,De,Ye,qe)},je=(Re,Ve,qe)=>ce(Re,Ve,qe).words;var lt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const F=(Re,Ve)=>{const qe=Ve.getBlockElements(),De=Ve.getVoidElements(),Ye=kt=>qe[kt.nodeName]||De[kt.nodeName],Tt=[];let at="";const En=new lt(Re,Re);let wt;for(;wt=En.next();)wt.nodeType===3?at+=I(wt.data):Ye(wt)&&at.length&&(Tt.push(at),at="");return at.length&&Tt.push(at),Tt},dn=Re=>Re.replace(/\u200B/g,""),Te=Re=>Re.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,rn=(Re,Ve)=>{const qe=dn(F(Re,Ve).join(`
`));return je(qe.split(""),E).length},yt=(Re,Ve)=>{const qe=F(Re,Ve).join("");return Te(qe)},se=(Re,Ve)=>{const qe=F(Re,Ve).join("").replace(/\s/g,"");return Te(qe)},$e=(Re,Ve)=>()=>Ve(Re.getBody(),Re.schema),Mt=(Re,Ve)=>()=>Ve(Re.selection.getRng().cloneContents(),Re.schema),Qe=Re=>$e(Re,rn),Ct=Re=>({body:{getWordCount:Qe(Re),getCharacterCount:$e(Re,yt),getCharacterCountWithoutSpaces:$e(Re,se)},selection:{getWordCount:Mt(Re,rn),getCharacterCount:Mt(Re,yt),getCharacterCountWithoutSpaces:Mt(Re,se)},getCount:Qe(Re)}),He=(Re,Ve)=>{Re.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ve.body.getWordCount()),String(Ve.selection.getWordCount())],["Characters (no spaces)",String(Ve.body.getCharacterCountWithoutSpaces()),String(Ve.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ve.body.getCharacterCount()),String(Ve.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},ut=(Re,Ve)=>{Re.addCommand("mceWordCount",()=>He(Re,Ve))};var W=tinymce.util.Tools.resolve("tinymce.util.Delay");const Wn=(Re,Ve)=>{Re.dispatch("wordCountUpdate",{wordCount:{words:Ve.body.getWordCount(),characters:Ve.body.getCharacterCount(),charactersWithoutSpaces:Ve.body.getCharacterCountWithoutSpaces()}})},Yt=(Re,Ve)=>{Wn(Re,Ve)},jn=(Re,Ve,qe)=>{const De=$(()=>Yt(Re,Ve),qe);Re.on("init",()=>{Yt(Re,Ve),W.setEditorTimeout(Re,()=>{Re.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",De.throttle)},0),Re.on("remove",De.cancel)})},Cn=Re=>{const Ve=()=>Re.execCommand("mceWordCount");Re.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ve,context:"any"}),Re.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ve,context:"any"})};var No=(Re=300)=>{l.add("wordcount",Ve=>{const qe=Ct(Ve);return ut(Ve,qe),Cn(Ve),jn(Ve,qe,Re),qe})};No()})()),nie}var sie;function Vye(){return sie||(sie=1,Uye()),tie}Vye();const E2e=`@keyframes tox-rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],>audio[data-mce-selected],>video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:#ffffff80}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:#006ce71a}.mce-content-body .mce-mergetag-affix{background-color:#006ce71a;color:#006ce7}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}@media(forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}@media print{.mce-content-body .mce-placeholder,.mce-content-body [data-mce-bogus=all],.mce-content-body [data-mce-bogus],.mce-content-body .mce-visual-caret{display:none!important}.mce-content-body .mce-edit-focus,.mce-content-body :focus,.mce-content-body [data-mce-selected]{outline:0!important}}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:#000;border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);content:"";inset:-1px;mix-blend-mode:multiply;position:absolute}.mce-content-body img[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:#78ab4633;-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:#78ab4633;box-shadow:0 -2px #006ce7 inset,0 -2px #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:#006ce733;-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:#006ce733;box-shadow:0 -2px #006ce7 inset,0 -2px #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:#c003;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:#c003;box-shadow:0 -2px #006ce7 inset,0 -2px #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(>div>iframe).tox-suggestededits__annotation--added,:has(>div>iframe).tox-suggestededits__annotation--modified,:has(>div>iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid rgba(120,171,70,.2);padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid rgba(120,171,70,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid rgba(0,108,231,.2);padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid rgba(0,108,231,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid rgba(204,0,0,.2);padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid rgba(204,0,0,.2);outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(>hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:#0003}div.tox-suggestededits__annotation--added__highlight>hr{border-color:#0003}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:#ffffff80}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uc-video{display:block;position:relative;margin:16px 0}.tox-uc-video:not([data-mce-selected]):after{content:"";position:absolute;top:0;left:0;width:100%;height:100%}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, .7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, .7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}@media print{tiny-uploadcare-placeholder{display:none!important}}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`,A2e='body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}';export{v2e as E,S2e as F,l2e as H,ybe as K,c2e as L,Vte as O,Qc as a,f2e as b,a2e as c,Ge as d,u2e as e,C2e as f,w2e as g,y2e as h,b2e as i,Wye as j,x2e as k,E2e as l,A2e as m,i2e as n,h2e as o,d2e as r,x0e as u,Mbe as z};

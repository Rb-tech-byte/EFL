import{d as u,u as w,j as e,H as C}from"./vendor-BLTBOi2W.js";import{A as S}from"./AuthenticatedLayout-DNdVW90a.js";import{C as T}from"./Card-DELLdyMY.js";import{T as F}from"./Table-DcKIl-Od.js";import{B as p}from"./Badge-lAHnXrxJ.js";import{M as D}from"./Modal-BhZ5tikr.js";import{I as l}from"./InputLabel-eLaPbUJo.js";import{T as n}from"./TextInput-C-k5QKru.js";import{I as r}from"./InputError-SIa_hYom.js";import{P as x}from"./PrimaryButton-BTZcH_bs.js";import{S as I}from"./SecondaryButton-B17rFZm-.js";import"./ApplicationLogo-CUVqsJO0.js";function z({events:c}){const[h,o]=u.useState(!1),[d,m]=u.useState(null),{data:i,setData:t,post:j,put:g,delete:v,processing:f,errors:a,reset:b}=w({title:"",description:"",start_time:"",end_time:"",location:"",type:"webinar",link:"",is_public:!0}),y=()=>{m(null),b(),o(!0)},N=s=>{m(s),t({title:s.title,description:s.description||"",start_time:s.start_time?s.start_time.substring(0,16):"",end_time:s.end_time?s.end_time.substring(0,16):"",location:s.location||"",type:s.type,link:s.link||"",is_public:!!s.is_public}),o(!0)},_=s=>{s.preventDefault(),d?g(route("admin.events.update",d.id),{onSuccess:()=>o(!1)}):j(route("admin.events.store"),{onSuccess:()=>o(!1)})},k=s=>{confirm("Are you sure you want to delete this event?")&&v(route("admin.events.destroy",s))},E=[{header:"Title",accessor:"title",className:"font-semibold"},{header:"Type",accessor:"type",render:s=>e.jsx("span",{className:"capitalize",children:s.type})},{header:"Date",render:s=>new Date(s.start_time).toLocaleDateString()},{header:"Location",accessor:"location"},{header:"Visibility",render:s=>s.is_public?e.jsx(p,{variant:"green",children:"Public"}):e.jsx(p,{variant:"gray",children:"Private"})}];return e.jsxs(S,{header:"Events",children:[e.jsx(C,{title:"Events"}),e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Events Management"}),e.jsx(x,{onClick:y,children:"+ Create Event"})]}),e.jsx(T,{children:e.jsx("div",{className:"p-0",children:e.jsx(F,{columns:E,data:c.data,pagination:c,actions:s=>e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>N(s),className:"text-indigo-600 hover:text-indigo-900 font-semibold",children:"Edit"}),e.jsx("button",{onClick:()=>k(s.id),className:"text-rose-600 hover:text-rose-900 font-semibold",children:"Delete"})]})})})})]}),e.jsx(D,{show:h,onClose:()=>o(!1),children:e.jsxs("form",{onSubmit:_,className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-6",children:d?"Edit Event":"Create New Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",value:"Event Title"}),e.jsx(n,{id:"title",className:"mt-1 block w-full",value:i.title,onChange:s=>t("title",s.target.value),required:!0}),e.jsx(r,{message:a.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",value:"Description"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:3,value:i.description,onChange:s=>t("description",s.target.value),required:!0}),e.jsx(r,{message:a.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"start_time",value:"Start Time"}),e.jsx(n,{id:"start_time",type:"datetime-local",className:"mt-1 block w-full",value:i.start_time,onChange:s=>t("start_time",s.target.value),required:!0}),e.jsx(r,{message:a.start_time,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"end_time",value:"End Time (Optional)"}),e.jsx(n,{id:"end_time",type:"datetime-local",className:"mt-1 block w-full",value:i.end_time,onChange:s=>t("end_time",s.target.value)}),e.jsx(r,{message:a.end_time,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"type",value:"Event Type"}),e.jsxs("select",{id:"type",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:i.type,onChange:s=>t("type",s.target.value),required:!0,children:[e.jsx("option",{value:"webinar",children:"Webinar"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"seminar",children:"Seminar"}),e.jsx("option",{value:"info-session",children:"Info Session"}),e.jsx("option",{value:"conference",children:"Conference"})]}),e.jsx(r,{message:a.type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"is_public",value:"Visibility"}),e.jsxs("select",{id:"is_public",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:i.is_public?"1":"0",onChange:s=>t("is_public",s.target.value==="1"),required:!0,children:[e.jsx("option",{value:"1",children:"Public"}),e.jsx("option",{value:"0",children:"Private"})]}),e.jsx(r,{message:a.is_public,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"location",value:"Location / Venue"}),e.jsx(n,{id:"location",className:"mt-1 block w-full",value:i.location,onChange:s=>t("location",s.target.value),placeholder:"E.g. Zoom, Online, or Physical Address"}),e.jsx(r,{message:a.location,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"link",value:"Registration Link (Optional URL)"}),e.jsx(n,{id:"link",type:"url",className:"mt-1 block w-full",value:i.link,onChange:s=>t("link",s.target.value),placeholder:"https://..."}),e.jsx(r,{message:a.link,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(I,{onClick:()=>o(!1),children:"Cancel"}),e.jsx(x,{disabled:f,children:d?"Update Event":"Create Event"})]})]})})]})}export{z as default};

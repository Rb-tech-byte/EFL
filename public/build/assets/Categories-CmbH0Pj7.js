import{d as m,u as w,j as e,H as k}from"./vendor-BLTBOi2W.js";import{A as S}from"./AuthenticatedLayout-DNdVW90a.js";import{M as _}from"./Modal-BhZ5tikr.js";import{I as n}from"./InputLabel-eLaPbUJo.js";import{T as d}from"./TextInput-C-k5QKru.js";import{I as o}from"./InputError-SIa_hYom.js";import{P as p}from"./PrimaryButton-BTZcH_bs.js";import{S as E}from"./SecondaryButton-B17rFZm-.js";import"./ApplicationLogo-CUVqsJO0.js";function L({categories:c}){const[h,a]=m.useState(!1),[l,x]=m.useState(null),{data:t,setData:r,post:u,put:g,delete:j,processing:f,errors:i,reset:b}=w({name:"",description:"",icon:"",order:0,is_active:!0}),N=()=>{x(null),b(),a(!0)},y=s=>{x(s),r({name:s.name||"",description:s.description||"",icon:s.icon||"",order:s.order||0,is_active:!!s.is_active}),a(!0)},v=s=>{s.preventDefault(),l?g(route("admin.book-categories.update",l.id),{onSuccess:()=>a(!1)}):u(route("admin.book-categories.store"),{onSuccess:()=>a(!1)})},C=s=>{confirm("Are you sure you want to delete this category?")&&j(route("admin.book-categories.destroy",s))};return e.jsxs(S,{header:"Book Categories",children:[e.jsx(k,{title:"Book Categories"}),e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Category Management"}),e.jsx("p",{className:"text-gray-600",children:"Organize books by genre or topic."})]}),e.jsx(p,{onClick:N,children:"+ Add New Category"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 uppercase",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 uppercase text-center",children:"Books"}),e.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 uppercase text-center",children:"Order"}),e.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 uppercase text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-sm font-bold text-gray-700 uppercase text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.length>0?c.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600 text-xl",children:s.icon||"ðŸ“"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:s.description||"No description"})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium text-center",children:s.books_count}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium text-center",children:s.order}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-[10px] font-bold uppercase ${s.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.is_active?"Active":"Hidden"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>y(s),className:"text-indigo-600 hover:text-indigo-900 text-sm font-bold",children:"Edit"}),e.jsx("button",{onClick:()=>C(s.id),className:"text-rose-600 hover:text-rose-900 text-sm font-bold dropdown-ignore",children:"Delete"})]})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-20 text-center text-gray-500 font-medium italic",children:"No categories found."})})})]})})})]}),e.jsx(_,{show:h,onClose:()=>a(!1),maxWidth:"lg",children:e.jsxs("form",{onSubmit:v,className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 border-b pb-4",children:l?"âœï¸ Edit Category":"ðŸ“ Create Category"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"Category Name"}),e.jsx(d,{id:"name",className:"mt-1 block w-full",value:t.name,onChange:s=>r("name",s.target.value),required:!0}),e.jsx(o,{message:i.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",value:"Description"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-xl shadow-sm",rows:3,value:t.description,onChange:s=>r("description",s.target.value)}),e.jsx(o,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"icon",value:"Icon (Emoji or CSS Class)"}),e.jsx(d,{id:"icon",className:"mt-1 block w-full",value:t.icon,onChange:s=>r("icon",s.target.value),placeholder:"e.g. ðŸ“™, ðŸŽ§, ðŸŽ“"}),e.jsx(o,{message:i.icon,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"order",value:"Display Order"}),e.jsx(d,{id:"order",type:"number",className:"mt-1 block w-full",value:t.order,onChange:s=>r("order",parseInt(s.target.value))}),e.jsx(o,{message:i.order,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:t.is_active,onChange:s=>r("is_active",s.target.checked)}),e.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${t.is_active?"bg-green-600":"bg-gray-200"}`}),e.jsx("div",{className:`absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform ${t.is_active?"translate-x-4":""}`})]}),e.jsx("span",{className:"text-sm font-bold text-gray-700 group-hover:text-gray-900 transition-colors",children:"Visible in Store"})]}),e.jsx(o,{message:i.is_active,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-10 flex justify-end gap-3 border-t pt-6",children:[e.jsx(E,{onClick:()=>a(!1),className:"px-6",children:"Cancel"}),e.jsx(p,{disabled:f,className:"px-8 bg-indigo-600 hover:bg-indigo-700",children:l?"Update Category":"Create Category"})]})]})})]})}export{L as default};
